var screenXs = "480px";
var screenSm = "640px";
var screenMd = "1024px";
var screenLg = "1400px";
var screenXsMin = "480px";
var screenSmMin = "640px";
var screenMdMin = "1024px";
var screenLgMin = "1400px";
var screenXsMax = "639px";
var screenSmMax = "1023px";
var screenMdMax = "1399px";
/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document)
            throw new Error("jQuery requires a window with a document");
        return b(a)
    }
    : b(a)
}("undefined" != typeof window ? window : this, function(a, b) {
    var c = []
      , d = a.document
      , e = c.slice
      , f = c.concat
      , g = c.push
      , h = c.indexOf
      , i = {}
      , j = i.toString
      , k = i.hasOwnProperty
      , l = {}
      , m = "2.2.4"
      , n = function(a, b) {
        return new n.fn.init(a,b)
    }
      , o = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
      , p = /^-ms-/
      , q = /-([\da-z])/gi
      , r = function(a, b) {
        return b.toUpperCase()
    };
    n.fn = n.prototype = {
        jquery: m,
        constructor: n,
        selector: "",
        length: 0,
        toArray: function() {
            return e.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : e.call(this)
        },
        pushStack: function(a) {
            var b = n.merge(this.constructor(), a);
            return b.prevObject = this,
            b.context = this.context,
            b
        },
        each: function(a) {
            return n.each(this, a)
        },
        map: function(a) {
            return this.pushStack(n.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(e.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length
              , c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: g,
        sort: c.sort,
        splice: c.splice
    },
    n.extend = n.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g,
        g = arguments[h] || {},
        h++),
        "object" == typeof g || n.isFunction(g) || (g = {}),
        h === i && (g = this,
        h--); i > h; h++)
            if (null != (a = arguments[h]))
                for (b in a)
                    c = g[b],
                    d = a[b],
                    g !== d && (j && d && (n.isPlainObject(d) || (e = n.isArray(d))) ? (e ? (e = !1,
                    f = c && n.isArray(c) ? c : []) : f = c && n.isPlainObject(c) ? c : {},
                    g[b] = n.extend(j, f, d)) : void 0 !== d && (g[b] = d));
        return g
    }
    ,
    n.extend({
        expando: "jQuery" + (m + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === n.type(a)
        },
        isArray: Array.isArray,
        isWindow: function(a) {
            return null != a && a === a.window
        },
        isNumeric: function(a) {
            var b = a && a.toString();
            return !n.isArray(a) && b - parseFloat(b) + 1 >= 0
        },
        isPlainObject: function(a) {
            var b;
            if ("object" !== n.type(a) || a.nodeType || n.isWindow(a))
                return !1;
            if (a.constructor && !k.call(a, "constructor") && !k.call(a.constructor.prototype || {}, "isPrototypeOf"))
                return !1;
            for (b in a)
                ;
            return void 0 === b || k.call(a, b)
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a)
                return !1;
            return !0
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? i[j.call(a)] || "object" : typeof a
        },
        globalEval: function(a) {
            var b, c = eval;
            a = n.trim(a),
            a && (1 === a.indexOf("use strict") ? (b = d.createElement("script"),
            b.text = a,
            d.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        },
        camelCase: function(a) {
            return a.replace(p, "ms-").replace(q, r)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b) {
            var c, d = 0;
            if (s(a)) {
                for (c = a.length; c > d; d++)
                    if (b.call(a[d], d, a[d]) === !1)
                        break
            } else
                for (d in a)
                    if (b.call(a[d], d, a[d]) === !1)
                        break;
            return a
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(o, "")
        },
        makeArray: function(a, b) {
            var c = b || [];
            return null != a && (s(Object(a)) ? n.merge(c, "string" == typeof a ? [a] : a) : g.call(c, a)),
            c
        },
        inArray: function(a, b, c) {
            return null == b ? -1 : h.call(b, a, c)
        },
        merge: function(a, b) {
            for (var c = +b.length, d = 0, e = a.length; c > d; d++)
                a[e++] = b[d];
            return a.length = e,
            a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                d = !b(a[f], f),
                d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, c) {
            var d, e, g = 0, h = [];
            if (s(a))
                for (d = a.length; d > g; g++)
                    e = b(a[g], g, c),
                    null != e && h.push(e);
            else
                for (g in a)
                    e = b(a[g], g, c),
                    null != e && h.push(e);
            return f.apply([], h)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, d, f;
            return "string" == typeof b && (c = a[b],
            b = a,
            a = c),
            n.isFunction(a) ? (d = e.call(arguments, 2),
            f = function() {
                return a.apply(b || this, d.concat(e.call(arguments)))
            }
            ,
            f.guid = a.guid = a.guid || n.guid++,
            f) : void 0
        },
        now: Date.now,
        support: l
    }),
    "function" == typeof Symbol && (n.fn[Symbol.iterator] = c[Symbol.iterator]),
    n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(a, b) {
        i["[object " + b + "]"] = b.toLowerCase()
    });
    function s(a) {
        var b = !!a && "length"in a && a.length
          , c = n.type(a);
        return "function" === c || n.isWindow(a) ? !1 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    var t = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + 1 * new Date, v = a.document, w = 0, x = 0, y = ga(), z = ga(), A = ga(), B = function(a, b) {
            return a === b && (l = !0),
            0
        }, C = 1 << 31, D = {}.hasOwnProperty, E = [], F = E.pop, G = E.push, H = E.push, I = E.slice, J = function(a, b) {
            for (var c = 0, d = a.length; d > c; c++)
                if (a[c] === b)
                    return c;
            return -1
        }, K = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", L = "[\\x20\\t\\r\\n\\f]", M = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", N = "\\[" + L + "*(" + M + ")(?:" + L + "*([*^$|!~]?=)" + L + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + M + "))|)" + L + "*\\]", O = ":(" + M + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + N + ")*)|.*)\\)|)", P = new RegExp(L + "+","g"), Q = new RegExp("^" + L + "+|((?:^|[^\\\\])(?:\\\\.)*)" + L + "+$","g"), R = new RegExp("^" + L + "*," + L + "*"), S = new RegExp("^" + L + "*([>+~]|" + L + ")" + L + "*"), T = new RegExp("=" + L + "*([^\\]'\"]*?)" + L + "*\\]","g"), U = new RegExp(O), V = new RegExp("^" + M + "$"), W = {
            ID: new RegExp("^#(" + M + ")"),
            CLASS: new RegExp("^\\.(" + M + ")"),
            TAG: new RegExp("^(" + M + "|[*])"),
            ATTR: new RegExp("^" + N),
            PSEUDO: new RegExp("^" + O),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + L + "*(even|odd|(([+-]|)(\\d*)n|)" + L + "*(?:([+-]|)" + L + "*(\\d+)|))" + L + "*\\)|)","i"),
            bool: new RegExp("^(?:" + K + ")$","i"),
            needsContext: new RegExp("^" + L + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + L + "*((?:-\\d)?\\d*)" + L + "*\\)|)(?=[^-]|$)","i")
        }, X = /^(?:input|select|textarea|button)$/i, Y = /^h\d$/i, Z = /^[^{]+\{\s*\[native \w/, $ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, _ = /[+~]/, aa = /'|\\/g, ba = new RegExp("\\\\([\\da-f]{1,6}" + L + "?|(" + L + ")|.)","ig"), ca = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        }, da = function() {
            m()
        };
        try {
            H.apply(E = I.call(v.childNodes), v.childNodes),
            E[v.childNodes.length].nodeType
        } catch (ea) {
            H = {
                apply: E.length ? function(a, b) {
                    G.apply(a, I.call(b))
                }
                : function(a, b) {
                    var c = a.length
                      , d = 0;
                    while (a[c++] = b[d++])
                        ;
                    a.length = c - 1
                }
            }
        }
        function fa(a, b, d, e) {
            var f, h, j, k, l, o, r, s, w = b && b.ownerDocument, x = b ? b.nodeType : 9;
            if (d = d || [],
            "string" != typeof a || !a || 1 !== x && 9 !== x && 11 !== x)
                return d;
            if (!e && ((b ? b.ownerDocument || b : v) !== n && m(b),
            b = b || n,
            p)) {
                if (11 !== x && (o = $.exec(a)))
                    if (f = o[1]) {
                        if (9 === x) {
                            if (!(j = b.getElementById(f)))
                                return d;
                            if (j.id === f)
                                return d.push(j),
                                d
                        } else if (w && (j = w.getElementById(f)) && t(b, j) && j.id === f)
                            return d.push(j),
                            d
                    } else {
                        if (o[2])
                            return H.apply(d, b.getElementsByTagName(a)),
                            d;
                        if ((f = o[3]) && c.getElementsByClassName && b.getElementsByClassName)
                            return H.apply(d, b.getElementsByClassName(f)),
                            d
                    }
                if (c.qsa && !A[a + " "] && (!q || !q.test(a))) {
                    if (1 !== x)
                        w = b,
                        s = a;
                    else if ("object" !== b.nodeName.toLowerCase()) {
                        (k = b.getAttribute("id")) ? k = k.replace(aa, "\\$&") : b.setAttribute("id", k = u),
                        r = g(a),
                        h = r.length,
                        l = V.test(k) ? "#" + k : "[id='" + k + "']";
                        while (h--)
                            r[h] = l + " " + qa(r[h]);
                        s = r.join(","),
                        w = _.test(a) && oa(b.parentNode) || b
                    }
                    if (s)
                        try {
                            return H.apply(d, w.querySelectorAll(s)),
                            d
                        } catch (y) {} finally {
                            k === u && b.removeAttribute("id")
                        }
                }
            }
            return i(a.replace(Q, "$1"), b, d, e)
        }
        function ga() {
            var a = [];
            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()],
                b[c + " "] = e
            }
            return b
        }
        function ha(a) {
            return a[u] = !0,
            a
        }
        function ia(a) {
            var b = n.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b),
                b = null
            }
        }
        function ja(a, b) {
            var c = a.split("|")
              , e = c.length;
            while (e--)
                d.attrHandle[c[e]] = b
        }
        function ka(a, b) {
            var c = b && a
              , d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || C) - (~a.sourceIndex || C);
            if (d)
                return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b)
                        return -1;
            return a ? 1 : -1
        }
        function la(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function ma(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function na(a) {
            return ha(function(b) {
                return b = +b,
                ha(function(c, d) {
                    var e, f = a([], c.length, b), g = f.length;
                    while (g--)
                        c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function oa(a) {
            return a && "undefined" != typeof a.getElementsByTagName && a
        }
        c = fa.support = {},
        f = fa.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }
        ,
        m = fa.setDocument = function(a) {
            var b, e, g = a ? a.ownerDocument || a : v;
            return g !== n && 9 === g.nodeType && g.documentElement ? (n = g,
            o = n.documentElement,
            p = !f(n),
            (e = n.defaultView) && e.top !== e && (e.addEventListener ? e.addEventListener("unload", da, !1) : e.attachEvent && e.attachEvent("onunload", da)),
            c.attributes = ia(function(a) {
                return a.className = "i",
                !a.getAttribute("className")
            }),
            c.getElementsByTagName = ia(function(a) {
                return a.appendChild(n.createComment("")),
                !a.getElementsByTagName("*").length
            }),
            c.getElementsByClassName = Z.test(n.getElementsByClassName),
            c.getById = ia(function(a) {
                return o.appendChild(a).id = u,
                !n.getElementsByName || !n.getElementsByName(u).length
            }),
            c.getById ? (d.find.ID = function(a, b) {
                if ("undefined" != typeof b.getElementById && p) {
                    var c = b.getElementById(a);
                    return c ? [c] : []
                }
            }
            ,
            d.filter.ID = function(a) {
                var b = a.replace(ba, ca);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }
            ) : (delete d.find.ID,
            d.filter.ID = function(a) {
                var b = a.replace(ba, ca);
                return function(a) {
                    var c = "undefined" != typeof a.getAttributeNode && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }
            ),
            d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return "undefined" != typeof b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : void 0
            }
            : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++])
                        1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }
            ,
            d.find.CLASS = c.getElementsByClassName && function(a, b) {
                return "undefined" != typeof b.getElementsByClassName && p ? b.getElementsByClassName(a) : void 0
            }
            ,
            r = [],
            q = [],
            (c.qsa = Z.test(n.querySelectorAll)) && (ia(function(a) {
                o.appendChild(a).innerHTML = "<a id='" + u + "'></a><select id='" + u + "-\r\\' msallowcapture=''><option selected=''></option></select>",
                a.querySelectorAll("[msallowcapture^='']").length && q.push("[*^$]=" + L + "*(?:''|\"\")"),
                a.querySelectorAll("[selected]").length || q.push("\\[" + L + "*(?:value|" + K + ")"),
                a.querySelectorAll("[id~=" + u + "-]").length || q.push("~="),
                a.querySelectorAll(":checked").length || q.push(":checked"),
                a.querySelectorAll("a#" + u + "+*").length || q.push(".#.+[+~]")
            }),
            ia(function(a) {
                var b = n.createElement("input");
                b.setAttribute("type", "hidden"),
                a.appendChild(b).setAttribute("name", "D"),
                a.querySelectorAll("[name=d]").length && q.push("name" + L + "*[*^$|!~]?="),
                a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"),
                a.querySelectorAll("*,:x"),
                q.push(",.*:")
            })),
            (c.matchesSelector = Z.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ia(function(a) {
                c.disconnectedMatch = s.call(a, "div"),
                s.call(a, "[s!='']:x"),
                r.push("!=", O)
            }),
            q = q.length && new RegExp(q.join("|")),
            r = r.length && new RegExp(r.join("|")),
            b = Z.test(o.compareDocumentPosition),
            t = b || Z.test(o.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a
                  , d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            }
            : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a)
                            return !0;
                return !1
            }
            ,
            B = b ? function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1,
                1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v && t(v, a) ? -1 : b === n || b.ownerDocument === v && t(v, b) ? 1 : k ? J(k, a) - J(k, b) : 0 : 4 & d ? -1 : 1)
            }
            : function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var c, d = 0, e = a.parentNode, f = b.parentNode, g = [a], h = [b];
                if (!e || !f)
                    return a === n ? -1 : b === n ? 1 : e ? -1 : f ? 1 : k ? J(k, a) - J(k, b) : 0;
                if (e === f)
                    return ka(a, b);
                c = a;
                while (c = c.parentNode)
                    g.unshift(c);
                c = b;
                while (c = c.parentNode)
                    h.unshift(c);
                while (g[d] === h[d])
                    d++;
                return d ? ka(g[d], h[d]) : g[d] === v ? -1 : h[d] === v ? 1 : 0
            }
            ,
            n) : n
        }
        ,
        fa.matches = function(a, b) {
            return fa(a, null, null, b)
        }
        ,
        fa.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n && m(a),
            b = b.replace(T, "='$1']"),
            c.matchesSelector && p && !A[b + " "] && (!r || !r.test(b)) && (!q || !q.test(b)))
                try {
                    var d = s.call(a, b);
                    if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                        return d
                } catch (e) {}
            return fa(b, n, null, [a]).length > 0
        }
        ,
        fa.contains = function(a, b) {
            return (a.ownerDocument || a) !== n && m(a),
            t(a, b)
        }
        ,
        fa.attr = function(a, b) {
            (a.ownerDocument || a) !== n && m(a);
            var e = d.attrHandle[b.toLowerCase()]
              , f = e && D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
            return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
        }
        ,
        fa.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }
        ,
        fa.uniqueSort = function(a) {
            var b, d = [], e = 0, f = 0;
            if (l = !c.detectDuplicates,
            k = !c.sortStable && a.slice(0),
            a.sort(B),
            l) {
                while (b = a[f++])
                    b === a[f] && (e = d.push(f));
                while (e--)
                    a.splice(d[e], 1)
            }
            return k = null,
            a
        }
        ,
        e = fa.getText = function(a) {
            var b, c = "", d = 0, f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent)
                        return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)
                        c += e(a)
                } else if (3 === f || 4 === f)
                    return a.nodeValue
            } else
                while (b = a[d++])
                    c += e(b);
            return c
        }
        ,
        d = fa.selectors = {
            cacheLength: 50,
            createPseudo: ha,
            match: W,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(ba, ca),
                    a[3] = (a[3] || a[4] || a[5] || "").replace(ba, ca),
                    "~=" === a[2] && (a[3] = " " + a[3] + " "),
                    a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(),
                    "nth" === a[1].slice(0, 3) ? (a[3] || fa.error(a[0]),
                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])),
                    a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && fa.error(a[0]),
                    a
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return W.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && U.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b),
                    a[2] = c.slice(0, b)),
                    a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(ba, ca).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    }
                    : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + L + ")" + a + "(" + L + "|$)")) && y(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || "undefined" != typeof a.getAttribute && a.getAttribute("class") || "")
                    })
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = fa.attr(d, a);
                        return null == e ? "!=" === b : b ? (e += "",
                        "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e.replace(P, " ") + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3)
                      , g = "last" !== a.slice(-4)
                      , h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode
                    }
                    : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h, t = !1;
                        if (q) {
                            if (f) {
                                while (p) {
                                    m = b;
                                    while (m = m[p])
                                        if (h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType)
                                            return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild],
                            g && s) {
                                m = q,
                                l = m[u] || (m[u] = {}),
                                k = l[m.uniqueID] || (l[m.uniqueID] = {}),
                                j = k[a] || [],
                                n = j[0] === w && j[1],
                                t = n && j[2],
                                m = n && q.childNodes[n];
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if (1 === m.nodeType && ++t && m === b) {
                                        k[a] = [w, n, t];
                                        break
                                    }
                            } else if (s && (m = b,
                            l = m[u] || (m[u] = {}),
                            k = l[m.uniqueID] || (l[m.uniqueID] = {}),
                            j = k[a] || [],
                            n = j[0] === w && j[1],
                            t = n),
                            t === !1)
                                while (m = ++n && m && m[p] || (t = n = 0) || o.pop())
                                    if ((h ? m.nodeName.toLowerCase() === r : 1 === m.nodeType) && ++t && (s && (l = m[u] || (m[u] = {}),
                                    k = l[m.uniqueID] || (l[m.uniqueID] = {}),
                                    k[a] = [w, t]),
                                    m === b))
                                        break;
                            return t -= e,
                            t === d || t % d === 0 && t / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fa.error("unsupported pseudo: " + a);
                    return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b],
                    d.setFilters.hasOwnProperty(a.toLowerCase()) ? ha(function(a, c) {
                        var d, f = e(a, b), g = f.length;
                        while (g--)
                            d = J(a, f[g]),
                            a[d] = !(c[d] = f[g])
                    }) : function(a) {
                        return e(a, 0, c)
                    }
                    ) : e
                }
            },
            pseudos: {
                not: ha(function(a) {
                    var b = []
                      , c = []
                      , d = h(a.replace(Q, "$1"));
                    return d[u] ? ha(function(a, b, c, e) {
                        var f, g = d(a, null, e, []), h = a.length;
                        while (h--)
                            (f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, e, f) {
                        return b[0] = a,
                        d(b, null, f, c),
                        b[0] = null,
                        !c.pop()
                    }
                }),
                has: ha(function(a) {
                    return function(b) {
                        return fa(a, b).length > 0
                    }
                }),
                contains: ha(function(a) {
                    return a = a.replace(ba, ca),
                    function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: ha(function(a) {
                    return V.test(a || "") || fa.error("unsupported lang: " + a),
                    a = a.replace(ba, ca).toLowerCase(),
                    function(b) {
                        var c;
                        do
                            if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                return c = c.toLowerCase(),
                                c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);return !1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === o
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return a.disabled === !1
                },
                disabled: function(a) {
                    return a.disabled === !0
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex,
                    a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(a) {
                    return !d.pseudos.empty(a)
                },
                header: function(a) {
                    return Y.test(a.nodeName)
                },
                input: function(a) {
                    return X.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: na(function() {
                    return [0]
                }),
                last: na(function(a, b) {
                    return [b - 1]
                }),
                eq: na(function(a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: na(function(a, b) {
                    for (var c = 0; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                odd: na(function(a, b) {
                    for (var c = 1; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                lt: na(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0; )
                        a.push(d);
                    return a
                }),
                gt: na(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b; )
                        a.push(d);
                    return a
                })
            }
        },
        d.pseudos.nth = d.pseudos.eq;
        for (b in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            d.pseudos[b] = la(b);
        for (b in {
            submit: !0,
            reset: !0
        })
            d.pseudos[b] = ma(b);
        function pa() {}
        pa.prototype = d.filters = d.pseudos,
        d.setFilters = new pa,
        g = fa.tokenize = function(a, b) {
            var c, e, f, g, h, i, j, k = z[a + " "];
            if (k)
                return b ? 0 : k.slice(0);
            h = a,
            i = [],
            j = d.preFilter;
            while (h) {
                c && !(e = R.exec(h)) || (e && (h = h.slice(e[0].length) || h),
                i.push(f = [])),
                c = !1,
                (e = S.exec(h)) && (c = e.shift(),
                f.push({
                    value: c,
                    type: e[0].replace(Q, " ")
                }),
                h = h.slice(c.length));
                for (g in d.filter)
                    !(e = W[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(),
                    f.push({
                        value: c,
                        type: g,
                        matches: e
                    }),
                    h = h.slice(c.length));
                if (!c)
                    break
            }
            return b ? h.length : h ? fa.error(a) : z(a, i).slice(0)
        }
        ;
        function qa(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++)
                d += a[b].value;
            return d
        }
        function ra(a, b, c) {
            var d = b.dir
              , e = c && "parentNode" === d
              , f = x++;
            return b.first ? function(b, c, f) {
                while (b = b[d])
                    if (1 === b.nodeType || e)
                        return a(b, c, f)
            }
            : function(b, c, g) {
                var h, i, j, k = [w, f];
                if (g) {
                    while (b = b[d])
                        if ((1 === b.nodeType || e) && a(b, c, g))
                            return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || e) {
                            if (j = b[u] || (b[u] = {}),
                            i = j[b.uniqueID] || (j[b.uniqueID] = {}),
                            (h = i[d]) && h[0] === w && h[1] === f)
                                return k[2] = h[2];
                            if (i[d] = k,
                            k[2] = a(b, c, g))
                                return !0
                        }
            }
        }
        function sa(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d))
                        return !1;
                return !0
            }
            : a[0]
        }
        function ta(a, b, c) {
            for (var d = 0, e = b.length; e > d; d++)
                fa(a, b[d], c);
            return c
        }
        function ua(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
                (f = a[h]) && (c && !c(f, d, e) || (g.push(f),
                j && b.push(h)));
            return g
        }
        function va(a, b, c, d, e, f) {
            return d && !d[u] && (d = va(d)),
            e && !e[u] && (e = va(e, f)),
            ha(function(f, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = f || ta(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : ua(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i),
                d) {
                    j = ua(r, n),
                    d(j, [], h, i),
                    k = j.length;
                    while (k--)
                        (l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [],
                            k = r.length;
                            while (k--)
                                (l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i)
                        }
                        k = r.length;
                        while (k--)
                            (l = r[k]) && (j = e ? J(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else
                    r = ua(r === g ? r.splice(o, r.length) : r),
                    e ? e(null, g, r, i) : H.apply(g, r)
            })
        }
        function wa(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = ra(function(a) {
                return a === b
            }, h, !0), l = ra(function(a) {
                return J(b, a) > -1
            }, h, !0), m = [function(a, c, d) {
                var e = !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                return b = null,
                e
            }
            ]; f > i; i++)
                if (c = d.relative[a[i].type])
                    m = [ra(sa(m), c)];
                else {
                    if (c = d.filter[a[i].type].apply(null, a[i].matches),
                    c[u]) {
                        for (e = ++i; f > e; e++)
                            if (d.relative[a[e].type])
                                break;
                        return va(i > 1 && sa(m), i > 1 && qa(a.slice(0, i - 1).concat({
                            value: " " === a[i - 2].type ? "*" : ""
                        })).replace(Q, "$1"), c, e > i && wa(a.slice(i, e)), f > e && wa(a = a.slice(e)), f > e && qa(a))
                    }
                    m.push(c)
                }
            return sa(m)
        }
        function xa(a, b) {
            var c = b.length > 0
              , e = a.length > 0
              , f = function(f, g, h, i, k) {
                var l, o, q, r = 0, s = "0", t = f && [], u = [], v = j, x = f || e && d.find.TAG("*", k), y = w += null == v ? 1 : Math.random() || .1, z = x.length;
                for (k && (j = g === n || g || k); s !== z && null != (l = x[s]); s++) {
                    if (e && l) {
                        o = 0,
                        g || l.ownerDocument === n || (m(l),
                        h = !p);
                        while (q = a[o++])
                            if (q(l, g || n, h)) {
                                i.push(l);
                                break
                            }
                        k && (w = y)
                    }
                    c && ((l = !q && l) && r--,
                    f && t.push(l))
                }
                if (r += s,
                c && s !== r) {
                    o = 0;
                    while (q = b[o++])
                        q(t, u, g, h);
                    if (f) {
                        if (r > 0)
                            while (s--)
                                t[s] || u[s] || (u[s] = F.call(i));
                        u = ua(u)
                    }
                    H.apply(i, u),
                    k && !f && u.length > 0 && r + b.length > 1 && fa.uniqueSort(i)
                }
                return k && (w = y,
                j = v),
                t
            };
            return c ? ha(f) : f
        }
        return h = fa.compile = function(a, b) {
            var c, d = [], e = [], f = A[a + " "];
            if (!f) {
                b || (b = g(a)),
                c = b.length;
                while (c--)
                    f = wa(b[c]),
                    f[u] ? d.push(f) : e.push(f);
                f = A(a, xa(e, d)),
                f.selector = a
            }
            return f
        }
        ,
        i = fa.select = function(a, b, e, f) {
            var i, j, k, l, m, n = "function" == typeof a && a, o = !f && g(a = n.selector || a);
            if (e = e || [],
            1 === o.length) {
                if (j = o[0] = o[0].slice(0),
                j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
                    if (b = (d.find.ID(k.matches[0].replace(ba, ca), b) || [])[0],
                    !b)
                        return e;
                    n && (b = b.parentNode),
                    a = a.slice(j.shift().value.length)
                }
                i = W.needsContext.test(a) ? 0 : j.length;
                while (i--) {
                    if (k = j[i],
                    d.relative[l = k.type])
                        break;
                    if ((m = d.find[l]) && (f = m(k.matches[0].replace(ba, ca), _.test(j[0].type) && oa(b.parentNode) || b))) {
                        if (j.splice(i, 1),
                        a = f.length && qa(j),
                        !a)
                            return H.apply(e, f),
                            e;
                        break
                    }
                }
            }
            return (n || h(a, o))(f, b, !p, e, !b || _.test(a) && oa(b.parentNode) || b),
            e
        }
        ,
        c.sortStable = u.split("").sort(B).join("") === u,
        c.detectDuplicates = !!l,
        m(),
        c.sortDetached = ia(function(a) {
            return 1 & a.compareDocumentPosition(n.createElement("div"))
        }),
        ia(function(a) {
            return a.innerHTML = "<a href='#'></a>",
            "#" === a.firstChild.getAttribute("href")
        }) || ja("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }),
        c.attributes && ia(function(a) {
            return a.innerHTML = "<input/>",
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
        }) || ja("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }),
        ia(function(a) {
            return null == a.getAttribute("disabled")
        }) || ja(K, function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }),
        fa
    }(a);
    n.find = t,
    n.expr = t.selectors,
    n.expr[":"] = n.expr.pseudos,
    n.uniqueSort = n.unique = t.uniqueSort,
    n.text = t.getText,
    n.isXMLDoc = t.isXML,
    n.contains = t.contains;
    var u = function(a, b, c) {
        var d = []
          , e = void 0 !== c;
        while ((a = a[b]) && 9 !== a.nodeType)
            if (1 === a.nodeType) {
                if (e && n(a).is(c))
                    break;
                d.push(a)
            }
        return d
    }
      , v = function(a, b) {
        for (var c = []; a; a = a.nextSibling)
            1 === a.nodeType && a !== b && c.push(a);
        return c
    }
      , w = n.expr.match.needsContext
      , x = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/
      , y = /^.[^:#\[\.,]*$/;
    function z(a, b, c) {
        if (n.isFunction(b))
            return n.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c
            });
        if (b.nodeType)
            return n.grep(a, function(a) {
                return a === b !== c
            });
        if ("string" == typeof b) {
            if (y.test(b))
                return n.filter(b, a, c);
            b = n.filter(b, a)
        }
        return n.grep(a, function(a) {
            return h.call(b, a) > -1 !== c
        })
    }
    n.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"),
        1 === b.length && 1 === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    }
    ,
    n.fn.extend({
        find: function(a) {
            var b, c = this.length, d = [], e = this;
            if ("string" != typeof a)
                return this.pushStack(n(a).filter(function() {
                    for (b = 0; c > b; b++)
                        if (n.contains(e[b], this))
                            return !0
                }));
            for (b = 0; c > b; b++)
                n.find(a, e[b], d);
            return d = this.pushStack(c > 1 ? n.unique(d) : d),
            d.selector = this.selector ? this.selector + " " + a : a,
            d
        },
        filter: function(a) {
            return this.pushStack(z(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(z(this, a || [], !0))
        },
        is: function(a) {
            return !!z(this, "string" == typeof a && w.test(a) ? n(a) : a || [], !1).length
        }
    });
    var A, B = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, C = n.fn.init = function(a, b, c) {
        var e, f;
        if (!a)
            return this;
        if (c = c || A,
        "string" == typeof a) {
            if (e = "<" === a[0] && ">" === a[a.length - 1] && a.length >= 3 ? [null, a, null] : B.exec(a),
            !e || !e[1] && b)
                return !b || b.jquery ? (b || c).find(a) : this.constructor(b).find(a);
            if (e[1]) {
                if (b = b instanceof n ? b[0] : b,
                n.merge(this, n.parseHTML(e[1], b && b.nodeType ? b.ownerDocument || b : d, !0)),
                x.test(e[1]) && n.isPlainObject(b))
                    for (e in b)
                        n.isFunction(this[e]) ? this[e](b[e]) : this.attr(e, b[e]);
                return this
            }
            return f = d.getElementById(e[2]),
            f && f.parentNode && (this.length = 1,
            this[0] = f),
            this.context = d,
            this.selector = a,
            this
        }
        return a.nodeType ? (this.context = this[0] = a,
        this.length = 1,
        this) : n.isFunction(a) ? void 0 !== c.ready ? c.ready(a) : a(n) : (void 0 !== a.selector && (this.selector = a.selector,
        this.context = a.context),
        n.makeArray(a, this))
    }
    ;
    C.prototype = n.fn,
    A = n(d);
    var D = /^(?:parents|prev(?:Until|All))/
      , E = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    n.fn.extend({
        has: function(a) {
            var b = n(a, this)
              , c = b.length;
            return this.filter(function() {
                for (var a = 0; c > a; a++)
                    if (n.contains(this, b[a]))
                        return !0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, f = [], g = w.test(a) || "string" != typeof a ? n(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && n.find.matchesSelector(c, a))) {
                        f.push(c);
                        break
                    }
            return this.pushStack(f.length > 1 ? n.uniqueSort(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? h.call(n(a), this[0]) : h.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(n.uniqueSort(n.merge(this.get(), n(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    function F(a, b) {
        while ((a = a[b]) && 1 !== a.nodeType)
            ;
        return a
    }
    n.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        },
        parents: function(a) {
            return u(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return u(a, "parentNode", c)
        },
        next: function(a) {
            return F(a, "nextSibling")
        },
        prev: function(a) {
            return F(a, "previousSibling")
        },
        nextAll: function(a) {
            return u(a, "nextSibling")
        },
        prevAll: function(a) {
            return u(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return u(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return u(a, "previousSibling", c)
        },
        siblings: function(a) {
            return v((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return v(a.firstChild)
        },
        contents: function(a) {
            return a.contentDocument || n.merge([], a.childNodes)
        }
    }, function(a, b) {
        n.fn[a] = function(c, d) {
            var e = n.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c),
            d && "string" == typeof d && (e = n.filter(d, e)),
            this.length > 1 && (E[a] || n.uniqueSort(e),
            D.test(a) && e.reverse()),
            this.pushStack(e)
        }
    });
    var G = /\S+/g;
    function H(a) {
        var b = {};
        return n.each(a.match(G) || [], function(a, c) {
            b[c] = !0
        }),
        b
    }
    n.Callbacks = function(a) {
        a = "string" == typeof a ? H(a) : n.extend({}, a);
        var b, c, d, e, f = [], g = [], h = -1, i = function() {
            for (e = a.once,
            d = b = !0; g.length; h = -1) {
                c = g.shift();
                while (++h < f.length)
                    f[h].apply(c[0], c[1]) === !1 && a.stopOnFalse && (h = f.length,
                    c = !1)
            }
            a.memory || (c = !1),
            b = !1,
            e && (f = c ? [] : "")
        }, j = {
            add: function() {
                return f && (c && !b && (h = f.length - 1,
                g.push(c)),
                function d(b) {
                    n.each(b, function(b, c) {
                        n.isFunction(c) ? a.unique && j.has(c) || f.push(c) : c && c.length && "string" !== n.type(c) && d(c)
                    })
                }(arguments),
                c && !b && i()),
                this
            },
            remove: function() {
                return n.each(arguments, function(a, b) {
                    var c;
                    while ((c = n.inArray(b, f, c)) > -1)
                        f.splice(c, 1),
                        h >= c && h--
                }),
                this
            },
            has: function(a) {
                return a ? n.inArray(a, f) > -1 : f.length > 0
            },
            empty: function() {
                return f && (f = []),
                this
            },
            disable: function() {
                return e = g = [],
                f = c = "",
                this
            },
            disabled: function() {
                return !f
            },
            lock: function() {
                return e = g = [],
                c || (f = c = ""),
                this
            },
            locked: function() {
                return !!e
            },
            fireWith: function(a, c) {
                return e || (c = c || [],
                c = [a, c.slice ? c.slice() : c],
                g.push(c),
                b || i()),
                this
            },
            fire: function() {
                return j.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!d
            }
        };
        return j
    }
    ,
    n.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", n.Callbacks("once memory"), "resolved"], ["reject", "fail", n.Callbacks("once memory"), "rejected"], ["notify", "progress", n.Callbacks("memory")]]
              , c = "pending"
              , d = {
                state: function() {
                    return c
                },
                always: function() {
                    return e.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var a = arguments;
                    return n.Deferred(function(c) {
                        n.each(b, function(b, f) {
                            var g = n.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && n.isFunction(a.promise) ? a.promise().progress(c.notify).done(c.resolve).fail(c.reject) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }),
                        a = null
                    }).promise()
                },
                promise: function(a) {
                    return null != a ? n.extend(a, d) : d
                }
            }
              , e = {};
            return d.pipe = d.then,
            n.each(b, function(a, f) {
                var g = f[2]
                  , h = f[3];
                d[f[1]] = g.add,
                h && g.add(function() {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock),
                e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d : this, arguments),
                    this
                }
                ,
                e[f[0] + "With"] = g.fireWith
            }),
            d.promise(e),
            a && a.call(e, e),
            e
        },
        when: function(a) {
            var b = 0, c = e.call(arguments), d = c.length, f = 1 !== d || a && n.isFunction(a.promise) ? d : 0, g = 1 === f ? a : n.Deferred(), h = function(a, b, c) {
                return function(d) {
                    b[a] = this,
                    c[a] = arguments.length > 1 ? e.call(arguments) : d,
                    c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                }
            }, i, j, k;
            if (d > 1)
                for (i = new Array(d),
                j = new Array(d),
                k = new Array(d); d > b; b++)
                    c[b] && n.isFunction(c[b].promise) ? c[b].promise().progress(h(b, j, i)).done(h(b, k, c)).fail(g.reject) : --f;
            return f || g.resolveWith(k, c),
            g.promise()
        }
    });
    var I;
    n.fn.ready = function(a) {
        return n.ready.promise().done(a),
        this
    }
    ,
    n.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? n.readyWait++ : n.ready(!0)
        },
        ready: function(a) {
            (a === !0 ? --n.readyWait : n.isReady) || (n.isReady = !0,
            a !== !0 && --n.readyWait > 0 || (I.resolveWith(d, [n]),
            n.fn.triggerHandler && (n(d).triggerHandler("ready"),
            n(d).off("ready"))))
        }
    });
    function J() {
        d.removeEventListener("DOMContentLoaded", J),
        a.removeEventListener("load", J),
        n.ready()
    }
    n.ready.promise = function(b) {
        return I || (I = n.Deferred(),
        "complete" === d.readyState || "loading" !== d.readyState && !d.documentElement.doScroll ? a.setTimeout(n.ready) : (d.addEventListener("DOMContentLoaded", J),
        a.addEventListener("load", J))),
        I.promise(b)
    }
    ,
    n.ready.promise();
    var K = function(a, b, c, d, e, f, g) {
        var h = 0
          , i = a.length
          , j = null == c;
        if ("object" === n.type(c)) {
            e = !0;
            for (h in c)
                K(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0,
        n.isFunction(d) || (g = !0),
        j && (g ? (b.call(a, d),
        b = null) : (j = b,
        b = function(a, b, c) {
            return j.call(n(a), c)
        }
        )),
        b))
            for (; i > h; h++)
                b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    }
      , L = function(a) {
        return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType
    };
    function M() {
        this.expando = n.expando + M.uid++
    }
    M.uid = 1,
    M.prototype = {
        register: function(a, b) {
            var c = b || {};
            return a.nodeType ? a[this.expando] = c : Object.defineProperty(a, this.expando, {
                value: c,
                writable: !0,
                configurable: !0
            }),
            a[this.expando]
        },
        cache: function(a) {
            if (!L(a))
                return {};
            var b = a[this.expando];
            return b || (b = {},
            L(a) && (a.nodeType ? a[this.expando] = b : Object.defineProperty(a, this.expando, {
                value: b,
                configurable: !0
            }))),
            b
        },
        set: function(a, b, c) {
            var d, e = this.cache(a);
            if ("string" == typeof b)
                e[b] = c;
            else
                for (d in b)
                    e[d] = b[d];
            return e
        },
        get: function(a, b) {
            return void 0 === b ? this.cache(a) : a[this.expando] && a[this.expando][b]
        },
        access: function(a, b, c) {
            var d;
            return void 0 === b || b && "string" == typeof b && void 0 === c ? (d = this.get(a, b),
            void 0 !== d ? d : this.get(a, n.camelCase(b))) : (this.set(a, b, c),
            void 0 !== c ? c : b)
        },
        remove: function(a, b) {
            var c, d, e, f = a[this.expando];
            if (void 0 !== f) {
                if (void 0 === b)
                    this.register(a);
                else {
                    n.isArray(b) ? d = b.concat(b.map(n.camelCase)) : (e = n.camelCase(b),
                    b in f ? d = [b, e] : (d = e,
                    d = d in f ? [d] : d.match(G) || [])),
                    c = d.length;
                    while (c--)
                        delete f[d[c]]
                }
                (void 0 === b || n.isEmptyObject(f)) && (a.nodeType ? a[this.expando] = void 0 : delete a[this.expando])
            }
        },
        hasData: function(a) {
            var b = a[this.expando];
            return void 0 !== b && !n.isEmptyObject(b)
        }
    };
    var N = new M
      , O = new M
      , P = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , Q = /[A-Z]/g;
    function R(a, b, c) {
        var d;
        if (void 0 === c && 1 === a.nodeType)
            if (d = "data-" + b.replace(Q, "-$&").toLowerCase(),
            c = a.getAttribute(d),
            "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : P.test(c) ? n.parseJSON(c) : c;
                } catch (e) {}
                O.set(a, b, c)
            } else
                c = void 0;
        return c
    }
    n.extend({
        hasData: function(a) {
            return O.hasData(a) || N.hasData(a)
        },
        data: function(a, b, c) {
            return O.access(a, b, c)
        },
        removeData: function(a, b) {
            O.remove(a, b)
        },
        _data: function(a, b, c) {
            return N.access(a, b, c)
        },
        _removeData: function(a, b) {
            N.remove(a, b)
        }
    }),
    n.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = O.get(f),
                1 === f.nodeType && !N.get(f, "hasDataAttrs"))) {
                    c = g.length;
                    while (c--)
                        g[c] && (d = g[c].name,
                        0 === d.indexOf("data-") && (d = n.camelCase(d.slice(5)),
                        R(f, d, e[d])));
                    N.set(f, "hasDataAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                O.set(this, a)
            }) : K(this, function(b) {
                var c, d;
                if (f && void 0 === b) {
                    if (c = O.get(f, a) || O.get(f, a.replace(Q, "-$&").toLowerCase()),
                    void 0 !== c)
                        return c;
                    if (d = n.camelCase(a),
                    c = O.get(f, d),
                    void 0 !== c)
                        return c;
                    if (c = R(f, d, void 0),
                    void 0 !== c)
                        return c
                } else
                    d = n.camelCase(a),
                    this.each(function() {
                        var c = O.get(this, d);
                        O.set(this, d, b),
                        a.indexOf("-") > -1 && void 0 !== c && O.set(this, a, b)
                    })
            }, null, b, arguments.length > 1, null, !0)
        },
        removeData: function(a) {
            return this.each(function() {
                O.remove(this, a)
            })
        }
    }),
    n.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue",
            d = N.get(a, b),
            c && (!d || n.isArray(c) ? d = N.access(a, b, n.makeArray(c)) : d.push(c)),
            d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = n.queue(a, b)
              , d = c.length
              , e = c.shift()
              , f = n._queueHooks(a, b)
              , g = function() {
                n.dequeue(a, b)
            };
            "inprogress" === e && (e = c.shift(),
            d--),
            e && ("fx" === b && c.unshift("inprogress"),
            delete f.stop,
            e.call(a, g, f)),
            !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return N.get(a, c) || N.access(a, c, {
                empty: n.Callbacks("once memory").add(function() {
                    N.remove(a, [b + "queue", c])
                })
            })
        }
    }),
    n.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a,
            a = "fx",
            c--),
            arguments.length < c ? n.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = n.queue(this, a, b);
                n._queueHooks(this, a),
                "fx" === a && "inprogress" !== c[0] && n.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                n.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1, e = n.Deferred(), f = this, g = this.length, h = function() {
                --d || e.resolveWith(f, [f])
            };
            "string" != typeof a && (b = a,
            a = void 0),
            a = a || "fx";
            while (g--)
                c = N.get(f[g], a + "queueHooks"),
                c && c.empty && (d++,
                c.empty.add(h));
            return h(),
            e.promise(b)
        }
    });
    var S = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , T = new RegExp("^(?:([+-])=|)(" + S + ")([a-z%]*)$","i")
      , U = ["Top", "Right", "Bottom", "Left"]
      , V = function(a, b) {
        return a = b || a,
        "none" === n.css(a, "display") || !n.contains(a.ownerDocument, a)
    };
    function W(a, b, c, d) {
        var e, f = 1, g = 20, h = d ? function() {
            return d.cur()
        }
        : function() {
            return n.css(a, b, "")
        }
        , i = h(), j = c && c[3] || (n.cssNumber[b] ? "" : "px"), k = (n.cssNumber[b] || "px" !== j && +i) && T.exec(n.css(a, b));
        if (k && k[3] !== j) {
            j = j || k[3],
            c = c || [],
            k = +i || 1;
            do
                f = f || ".5",
                k /= f,
                n.style(a, b, k + j);
            while (f !== (f = h() / i) && 1 !== f && --g)
        }
        return c && (k = +k || +i || 0,
        e = c[1] ? k + (c[1] + 1) * c[2] : +c[2],
        d && (d.unit = j,
        d.start = k,
        d.end = e)),
        e
    }
    var X = /^(?:checkbox|radio)$/i
      , Y = /<([\w:-]+)/
      , Z = /^$|\/(?:java|ecma)script/i
      , $ = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        thead: [1, "<table>", "</table>"],
        col: [2, "<table><colgroup>", "</colgroup></table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: [0, "", ""]
    };
    $.optgroup = $.option,
    $.tbody = $.tfoot = $.colgroup = $.caption = $.thead,
    $.th = $.td;
    function _(a, b) {
        var c = "undefined" != typeof a.getElementsByTagName ? a.getElementsByTagName(b || "*") : "undefined" != typeof a.querySelectorAll ? a.querySelectorAll(b || "*") : [];
        return void 0 === b || b && n.nodeName(a, b) ? n.merge([a], c) : c
    }
    function aa(a, b) {
        for (var c = 0, d = a.length; d > c; c++)
            N.set(a[c], "globalEval", !b || N.get(b[c], "globalEval"))
    }
    var ba = /<|&#?\w+;/;
    function ca(a, b, c, d, e) {
        for (var f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], o = 0, p = a.length; p > o; o++)
            if (f = a[o],
            f || 0 === f)
                if ("object" === n.type(f))
                    n.merge(m, f.nodeType ? [f] : f);
                else if (ba.test(f)) {
                    g = g || l.appendChild(b.createElement("div")),
                    h = (Y.exec(f) || ["", ""])[1].toLowerCase(),
                    i = $[h] || $._default,
                    g.innerHTML = i[1] + n.htmlPrefilter(f) + i[2],
                    k = i[0];
                    while (k--)
                        g = g.lastChild;
                    n.merge(m, g.childNodes),
                    g = l.firstChild,
                    g.textContent = ""
                } else
                    m.push(b.createTextNode(f));
        l.textContent = "",
        o = 0;
        while (f = m[o++])
            if (d && n.inArray(f, d) > -1)
                e && e.push(f);
            else if (j = n.contains(f.ownerDocument, f),
            g = _(l.appendChild(f), "script"),
            j && aa(g),
            c) {
                k = 0;
                while (f = g[k++])
                    Z.test(f.type || "") && c.push(f)
            }
        return l
    }
    !function() {
        var a = d.createDocumentFragment()
          , b = a.appendChild(d.createElement("div"))
          , c = d.createElement("input");
        c.setAttribute("type", "radio"),
        c.setAttribute("checked", "checked"),
        c.setAttribute("name", "t"),
        b.appendChild(c),
        l.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
        b.innerHTML = "<textarea>x</textarea>",
        l.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue
    }();
    var da = /^key/
      , ea = /^(?:mouse|pointer|contextmenu|drag|drop)|click/
      , fa = /^([^.]*)(?:\.(.+)|)/;
    function ga() {
        return !0
    }
    function ha() {
        return !1
    }
    function ia() {
        try {
            return d.activeElement
        } catch (a) {}
    }
    function ja(a, b, c, d, e, f) {
        var g, h;
        if ("object" == typeof b) {
            "string" != typeof c && (d = d || c,
            c = void 0);
            for (h in b)
                ja(a, h, c, d, b[h], f);
            return a
        }
        if (null == d && null == e ? (e = c,
        d = c = void 0) : null == e && ("string" == typeof c ? (e = d,
        d = void 0) : (e = d,
        d = c,
        c = void 0)),
        e === !1)
            e = ha;
        else if (!e)
            return a;
        return 1 === f && (g = e,
        e = function(a) {
            return n().off(a),
            g.apply(this, arguments)
        }
        ,
        e.guid = g.guid || (g.guid = n.guid++)),
        a.each(function() {
            n.event.add(this, b, e, d, c)
        })
    }
    n.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = N.get(a);
            if (r) {
                c.handler && (f = c,
                c = f.handler,
                e = f.selector),
                c.guid || (c.guid = n.guid++),
                (i = r.events) || (i = r.events = {}),
                (g = r.handle) || (g = r.handle = function(b) {
                    return "undefined" != typeof n && n.event.triggered !== b.type ? n.event.dispatch.apply(a, arguments) : void 0
                }
                ),
                b = (b || "").match(G) || [""],
                j = b.length;
                while (j--)
                    h = fa.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o && (l = n.event.special[o] || {},
                    o = (e ? l.delegateType : l.bindType) || o,
                    l = n.event.special[o] || {},
                    k = n.extend({
                        type: o,
                        origType: q,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && n.expr.match.needsContext.test(e),
                        namespace: p.join(".")
                    }, f),
                    (m = i[o]) || (m = i[o] = [],
                    m.delegateCount = 0,
                    l.setup && l.setup.call(a, d, p, g) !== !1 || a.addEventListener && a.addEventListener(o, g)),
                    l.add && (l.add.call(a, k),
                    k.handler.guid || (k.handler.guid = c.guid)),
                    e ? m.splice(m.delegateCount++, 0, k) : m.push(k),
                    n.event.global[o] = !0)
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, m, o, p, q, r = N.hasData(a) && N.get(a);
            if (r && (i = r.events)) {
                b = (b || "").match(G) || [""],
                j = b.length;
                while (j--)
                    if (h = fa.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o) {
                        l = n.event.special[o] || {},
                        o = (d ? l.delegateType : l.bindType) || o,
                        m = i[o] || [],
                        h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        g = f = m.length;
                        while (f--)
                            k = m[f],
                            !e && q !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1),
                            k.selector && m.delegateCount--,
                            l.remove && l.remove.call(a, k));
                        g && !m.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || n.removeEvent(a, o, r.handle),
                        delete i[o])
                    } else
                        for (o in i)
                            n.event.remove(a, o + b[j], c, d, !0);
                n.isEmptyObject(i) && N.remove(a, "handle events")
            }
        },
        dispatch: function(a) {
            a = n.event.fix(a);
            var b, c, d, f, g, h = [], i = e.call(arguments), j = (N.get(this, "events") || {})[a.type] || [], k = n.event.special[a.type] || {};
            if (i[0] = a,
            a.delegateTarget = this,
            !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
                h = n.event.handlers.call(this, a, j),
                b = 0;
                while ((f = h[b++]) && !a.isPropagationStopped()) {
                    a.currentTarget = f.elem,
                    c = 0;
                    while ((g = f.handlers[c++]) && !a.isImmediatePropagationStopped())
                        a.rnamespace && !a.rnamespace.test(g.namespace) || (a.handleObj = g,
                        a.data = g.data,
                        d = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i),
                        void 0 !== d && (a.result = d) === !1 && (a.preventDefault(),
                        a.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, a),
                a.result
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && ("click" !== a.type || isNaN(a.button) || a.button < 1))
                for (; i !== this; i = i.parentNode || this)
                    if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) {
                        for (d = [],
                        c = 0; h > c; c++)
                            f = b[c],
                            e = f.selector + " ",
                            void 0 === d[e] && (d[e] = f.needsContext ? n(e, this).index(i) > -1 : n.find(e, this, null, [i]).length),
                            d[e] && d.push(f);
                        d.length && g.push({
                            elem: i,
                            handlers: d
                        })
                    }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }),
            g
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode),
                a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, e, f, g = b.button;
                return null == a.pageX && null != b.clientX && (c = a.target.ownerDocument || d,
                e = c.documentElement,
                f = c.body,
                a.pageX = b.clientX + (e && e.scrollLeft || f && f.scrollLeft || 0) - (e && e.clientLeft || f && f.clientLeft || 0),
                a.pageY = b.clientY + (e && e.scrollTop || f && f.scrollTop || 0) - (e && e.clientTop || f && f.clientTop || 0)),
                a.which || void 0 === g || (a.which = 1 & g ? 1 : 2 & g ? 3 : 4 & g ? 2 : 0),
                a
            }
        },
        fix: function(a) {
            if (a[n.expando])
                return a;
            var b, c, e, f = a.type, g = a, h = this.fixHooks[f];
            h || (this.fixHooks[f] = h = ea.test(f) ? this.mouseHooks : da.test(f) ? this.keyHooks : {}),
            e = h.props ? this.props.concat(h.props) : this.props,
            a = new n.Event(g),
            b = e.length;
            while (b--)
                c = e[b],
                a[c] = g[c];
            return a.target || (a.target = d),
            3 === a.target.nodeType && (a.target = a.target.parentNode),
            h.filter ? h.filter(a, g) : a
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== ia() && this.focus ? (this.focus(),
                    !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === ia() && this.blur ? (this.blur(),
                    !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && n.nodeName(this, "input") ? (this.click(),
                    !1) : void 0
                },
                _default: function(a) {
                    return n.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        }
    },
    n.removeEvent = function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c)
    }
    ,
    n.Event = function(a, b) {
        return this instanceof n.Event ? (a && a.type ? (this.originalEvent = a,
        this.type = a.type,
        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? ga : ha) : this.type = a,
        b && n.extend(this, b),
        this.timeStamp = a && a.timeStamp || n.now(),
        void (this[n.expando] = !0)) : new n.Event(a,b)
    }
    ,
    n.Event.prototype = {
        constructor: n.Event,
        isDefaultPrevented: ha,
        isPropagationStopped: ha,
        isImmediatePropagationStopped: ha,
        isSimulated: !1,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = ga,
            a && !this.isSimulated && a.preventDefault()
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = ga,
            a && !this.isSimulated && a.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = ga,
            a && !this.isSimulated && a.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    n.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        n.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return e && (e === d || n.contains(d, e)) || (a.type = f.origType,
                c = f.handler.apply(this, arguments),
                a.type = b),
                c
            }
        }
    }),
    n.fn.extend({
        on: function(a, b, c, d) {
            return ja(this, a, b, c, d)
        },
        one: function(a, b, c, d) {
            return ja(this, a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj)
                return d = a.handleObj,
                n(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler),
                this;
            if ("object" == typeof a) {
                for (e in a)
                    this.off(e, b, a[e]);
                return this
            }
            return b !== !1 && "function" != typeof b || (c = b,
            b = void 0),
            c === !1 && (c = ha),
            this.each(function() {
                n.event.remove(this, a, c, b)
            })
        }
    });
    var ka = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi
      , la = /<script|<style|<link/i
      , ma = /checked\s*(?:[^=]|=\s*.checked.)/i
      , na = /^true\/(.*)/
      , oa = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
    function pa(a, b) {
        return n.nodeName(a, "table") && n.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function qa(a) {
        return a.type = (null !== a.getAttribute("type")) + "/" + a.type,
        a
    }
    function ra(a) {
        var b = na.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"),
        a
    }
    function sa(a, b) {
        var c, d, e, f, g, h, i, j;
        if (1 === b.nodeType) {
            if (N.hasData(a) && (f = N.access(a),
            g = N.set(b, f),
            j = f.events)) {
                delete g.handle,
                g.events = {};
                for (e in j)
                    for (c = 0,
                    d = j[e].length; d > c; c++)
                        n.event.add(b, e, j[e][c])
            }
            O.hasData(a) && (h = O.access(a),
            i = n.extend({}, h),
            O.set(b, i))
        }
    }
    function ta(a, b) {
        var c = b.nodeName.toLowerCase();
        "input" === c && X.test(a.type) ? b.checked = a.checked : "input" !== c && "textarea" !== c || (b.defaultValue = a.defaultValue)
    }
    function ua(a, b, c, d) {
        b = f.apply([], b);
        var e, g, h, i, j, k, m = 0, o = a.length, p = o - 1, q = b[0], r = n.isFunction(q);
        if (r || o > 1 && "string" == typeof q && !l.checkClone && ma.test(q))
            return a.each(function(e) {
                var f = a.eq(e);
                r && (b[0] = q.call(this, e, f.html())),
                ua(f, b, c, d)
            });
        if (o && (e = ca(b, a[0].ownerDocument, !1, a, d),
        g = e.firstChild,
        1 === e.childNodes.length && (e = g),
        g || d)) {
            for (h = n.map(_(e, "script"), qa),
            i = h.length; o > m; m++)
                j = e,
                m !== p && (j = n.clone(j, !0, !0),
                i && n.merge(h, _(j, "script"))),
                c.call(a[m], j, m);
            if (i)
                for (k = h[h.length - 1].ownerDocument,
                n.map(h, ra),
                m = 0; i > m; m++)
                    j = h[m],
                    Z.test(j.type || "") && !N.access(j, "globalEval") && n.contains(k, j) && (j.src ? n._evalUrl && n._evalUrl(j.src) : n.globalEval(j.textContent.replace(oa, "")))
        }
        return a
    }
    function va(a, b, c) {
        for (var d, e = b ? n.filter(b, a) : a, f = 0; null != (d = e[f]); f++)
            c || 1 !== d.nodeType || n.cleanData(_(d)),
            d.parentNode && (c && n.contains(d.ownerDocument, d) && aa(_(d, "script")),
            d.parentNode.removeChild(d));
        return a
    }
    n.extend({
        htmlPrefilter: function(a) {
            return a.replace(ka, "<$1></$2>")
        },
        clone: function(a, b, c) {
            var d, e, f, g, h = a.cloneNode(!0), i = n.contains(a.ownerDocument, a);
            if (!(l.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || n.isXMLDoc(a)))
                for (g = _(h),
                f = _(a),
                d = 0,
                e = f.length; e > d; d++)
                    ta(f[d], g[d]);
            if (b)
                if (c)
                    for (f = f || _(a),
                    g = g || _(h),
                    d = 0,
                    e = f.length; e > d; d++)
                        sa(f[d], g[d]);
                else
                    sa(a, h);
            return g = _(h, "script"),
            g.length > 0 && aa(g, !i && _(a, "script")),
            h
        },
        cleanData: function(a) {
            for (var b, c, d, e = n.event.special, f = 0; void 0 !== (c = a[f]); f++)
                if (L(c)) {
                    if (b = c[N.expando]) {
                        if (b.events)
                            for (d in b.events)
                                e[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
                        c[N.expando] = void 0
                    }
                    c[O.expando] && (c[O.expando] = void 0)
                }
        }
    }),
    n.fn.extend({
        domManip: ua,
        detach: function(a) {
            return va(this, a, !0)
        },
        remove: function(a) {
            return va(this, a)
        },
        text: function(a) {
            return K(this, function(a) {
                return void 0 === a ? n.text(this) : this.empty().each(function() {
                    1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = a)
                })
            }, null, a, arguments.length)
        },
        append: function() {
            return ua(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = pa(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return ua(this, arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = pa(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return ua(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return ua(this, arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++)
                1 === a.nodeType && (n.cleanData(_(a, !1)),
                a.textContent = "");
            return this
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a,
            b = null == b ? a : b,
            this.map(function() {
                return n.clone(this, a, b)
            })
        },
        html: function(a) {
            return K(this, function(a) {
                var b = this[0] || {}
                  , c = 0
                  , d = this.length;
                if (void 0 === a && 1 === b.nodeType)
                    return b.innerHTML;
                if ("string" == typeof a && !la.test(a) && !$[(Y.exec(a) || ["", ""])[1].toLowerCase()]) {
                    a = n.htmlPrefilter(a);
                    try {
                        for (; d > c; c++)
                            b = this[c] || {},
                            1 === b.nodeType && (n.cleanData(_(b, !1)),
                            b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = [];
            return ua(this, arguments, function(b) {
                var c = this.parentNode;
                n.inArray(this, a) < 0 && (n.cleanData(_(this)),
                c && c.replaceChild(b, this))
            }, a)
        }
    }),
    n.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        n.fn[a] = function(a) {
            for (var c, d = [], e = n(a), f = e.length - 1, h = 0; f >= h; h++)
                c = h === f ? this : this.clone(!0),
                n(e[h])[b](c),
                g.apply(d, c.get());
            return this.pushStack(d)
        }
    });
    var wa, xa = {
        HTML: "block",
        BODY: "block"
    };
    function ya(a, b) {
        var c = n(b.createElement(a)).appendTo(b.body)
          , d = n.css(c[0], "display");
        return c.detach(),
        d
    }
    function za(a) {
        var b = d
          , c = xa[a];
        return c || (c = ya(a, b),
        "none" !== c && c || (wa = (wa || n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),
        b = wa[0].contentDocument,
        b.write(),
        b.close(),
        c = ya(a, b),
        wa.detach()),
        xa[a] = c),
        c
    }
    var Aa = /^margin/
      , Ba = new RegExp("^(" + S + ")(?!px)[a-z%]+$","i")
      , Ca = function(b) {
        var c = b.ownerDocument.defaultView;
        return c && c.opener || (c = a),
        c.getComputedStyle(b)
    }
      , Da = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b)
            g[f] = a.style[f],
            a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b)
            a.style[f] = g[f];
        return e
    }
      , Ea = d.documentElement;
    !function() {
        var b, c, e, f, g = d.createElement("div"), h = d.createElement("div");
        if (h.style) {
            h.style.backgroundClip = "content-box",
            h.cloneNode(!0).style.backgroundClip = "",
            l.clearCloneStyle = "content-box" === h.style.backgroundClip,
            g.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
            g.appendChild(h);
            function i() {
                h.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",
                h.innerHTML = "",
                Ea.appendChild(g);
                var d = a.getComputedStyle(h);
                b = "1%" !== d.top,
                f = "2px" === d.marginLeft,
                c = "4px" === d.width,
                h.style.marginRight = "50%",
                e = "4px" === d.marginRight,
                Ea.removeChild(g)
            }
            n.extend(l, {
                pixelPosition: function() {
                    return i(),
                    b
                },
                boxSizingReliable: function() {
                    return null == c && i(),
                    c
                },
                pixelMarginRight: function() {
                    return null == c && i(),
                    e
                },
                reliableMarginLeft: function() {
                    return null == c && i(),
                    f
                },
                reliableMarginRight: function() {
                    var b, c = h.appendChild(d.createElement("div"));
                    return c.style.cssText = h.style.cssText = "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                    c.style.marginRight = c.style.width = "0",
                    h.style.width = "1px",
                    Ea.appendChild(g),
                    b = !parseFloat(a.getComputedStyle(c).marginRight),
                    Ea.removeChild(g),
                    h.removeChild(c),
                    b
                }
            })
        }
    }();
    function Fa(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Ca(a),
        g = c ? c.getPropertyValue(b) || c[b] : void 0,
        "" !== g && void 0 !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)),
        c && !l.pixelMarginRight() && Ba.test(g) && Aa.test(b) && (d = h.width,
        e = h.minWidth,
        f = h.maxWidth,
        h.minWidth = h.maxWidth = h.width = g,
        g = c.width,
        h.width = d,
        h.minWidth = e,
        h.maxWidth = f),
        void 0 !== g ? g + "" : g
    }
    function Ga(a, b) {
        return {
            get: function() {
                return a() ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }
    var Ha = /^(none|table(?!-c[ea]).+)/
      , Ia = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Ja = {
        letterSpacing: "0",
        fontWeight: "400"
    }
      , Ka = ["Webkit", "O", "Moz", "ms"]
      , La = d.createElement("div").style;
    function Ma(a) {
        if (a in La)
            return a;
        var b = a[0].toUpperCase() + a.slice(1)
          , c = Ka.length;
        while (c--)
            if (a = Ka[c] + b,
            a in La)
                return a
    }
    function Na(a, b, c) {
        var d = T.exec(b);
        return d ? Math.max(0, d[2] - (c || 0)) + (d[3] || "px") : b
    }
    function Oa(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)
            "margin" === c && (g += n.css(a, c + U[f], !0, e)),
            d ? ("content" === c && (g -= n.css(a, "padding" + U[f], !0, e)),
            "margin" !== c && (g -= n.css(a, "border" + U[f] + "Width", !0, e))) : (g += n.css(a, "padding" + U[f], !0, e),
            "padding" !== c && (g += n.css(a, "border" + U[f] + "Width", !0, e)));
        return g
    }
    function Pa(a, b, c) {
        var d = !0
          , e = "width" === b ? a.offsetWidth : a.offsetHeight
          , f = Ca(a)
          , g = "border-box" === n.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = Fa(a, b, f),
            (0 > e || null == e) && (e = a.style[b]),
            Ba.test(e))
                return e;
            d = g && (l.boxSizingReliable() || e === a.style[b]),
            e = parseFloat(e) || 0
        }
        return e + Oa(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }
    function Qa(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
            d = a[g],
            d.style && (f[g] = N.get(d, "olddisplay"),
            c = d.style.display,
            b ? (f[g] || "none" !== c || (d.style.display = ""),
            "" === d.style.display && V(d) && (f[g] = N.access(d, "olddisplay", za(d.nodeName)))) : (e = V(d),
            "none" === c && e || N.set(d, "olddisplay", e ? c : n.css(d, "display"))));
        for (g = 0; h > g; g++)
            d = a[g],
            d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }
    n.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = Fa(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = n.camelCase(b), i = a.style;
                return b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h),
                g = n.cssHooks[b] || n.cssHooks[h],
                void 0 === c ? g && "get"in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b] : (f = typeof c,
                "string" === f && (e = T.exec(c)) && e[1] && (c = W(a, b, e),
                f = "number"),
                null != c && c === c && ("number" === f && (c += e && e[3] || (n.cssNumber[h] ? "" : "px")),
                l.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"),
                g && "set"in g && void 0 === (c = g.set(a, c, d)) || (i[b] = c)),
                void 0)
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = n.camelCase(b);
            return b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h),
            g = n.cssHooks[b] || n.cssHooks[h],
            g && "get"in g && (e = g.get(a, !0, c)),
            void 0 === e && (e = Fa(a, b, d)),
            "normal" === e && b in Ja && (e = Ja[b]),
            "" === c || c ? (f = parseFloat(e),
            c === !0 || isFinite(f) ? f || 0 : e) : e
        }
    }),
    n.each(["height", "width"], function(a, b) {
        n.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? Ha.test(n.css(a, "display")) && 0 === a.offsetWidth ? Da(a, Ia, function() {
                    return Pa(a, b, d)
                }) : Pa(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e, f = d && Ca(a), g = d && Oa(a, b, d, "border-box" === n.css(a, "boxSizing", !1, f), f);
                return g && (e = T.exec(c)) && "px" !== (e[3] || "px") && (a.style[b] = c,
                c = n.css(a, b)),
                Na(a, c, g)
            }
        }
    }),
    n.cssHooks.marginLeft = Ga(l.reliableMarginLeft, function(a, b) {
        return b ? (parseFloat(Fa(a, "marginLeft")) || a.getBoundingClientRect().left - Da(a, {
            marginLeft: 0
        }, function() {
            return a.getBoundingClientRect().left
        })) + "px" : void 0
    }),
    n.cssHooks.marginRight = Ga(l.reliableMarginRight, function(a, b) {
        return b ? Da(a, {
            display: "inline-block"
        }, Fa, [a, "marginRight"]) : void 0
    }),
    n.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        n.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)
                    e[a + U[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        },
        Aa.test(a) || (n.cssHooks[a + b].set = Na)
    }),
    n.fn.extend({
        css: function(a, b) {
            return K(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (n.isArray(b)) {
                    for (d = Ca(a),
                    e = b.length; e > g; g++)
                        f[b[g]] = n.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? n.style(a, b, c) : n.css(a, b)
            }, a, b, arguments.length > 1)
        },
        show: function() {
            return Qa(this, !0)
        },
        hide: function() {
            return Qa(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                V(this) ? n(this).show() : n(this).hide()
            })
        }
    });
    function Ra(a, b, c, d, e) {
        return new Ra.prototype.init(a,b,c,d,e)
    }
    n.Tween = Ra,
    Ra.prototype = {
        constructor: Ra,
        init: function(a, b, c, d, e, f) {
            this.elem = a,
            this.prop = c,
            this.easing = e || n.easing._default,
            this.options = b,
            this.start = this.now = this.cur(),
            this.end = d,
            this.unit = f || (n.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = Ra.propHooks[this.prop];
            return a && a.get ? a.get(this) : Ra.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = Ra.propHooks[this.prop];
            return this.options.duration ? this.pos = b = n.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : this.pos = b = a,
            this.now = (this.end - this.start) * b + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            c && c.set ? c.set(this) : Ra.propHooks._default.set(this),
            this
        }
    },
    Ra.prototype.init.prototype = Ra.prototype,
    Ra.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return 1 !== a.elem.nodeType || null != a.elem[a.prop] && null == a.elem.style[a.prop] ? a.elem[a.prop] : (b = n.css(a.elem, a.prop, ""),
                b && "auto" !== b ? b : 0)
            },
            set: function(a) {
                n.fx.step[a.prop] ? n.fx.step[a.prop](a) : 1 !== a.elem.nodeType || null == a.elem.style[n.cssProps[a.prop]] && !n.cssHooks[a.prop] ? a.elem[a.prop] = a.now : n.style(a.elem, a.prop, a.now + a.unit)
            }
        }
    },
    Ra.propHooks.scrollTop = Ra.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    },
    n.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        },
        _default: "swing"
    },
    n.fx = Ra.prototype.init,
    n.fx.step = {};
    var Sa, Ta, Ua = /^(?:toggle|show|hide)$/, Va = /queueHooks$/;
    function Wa() {
        return a.setTimeout(function() {
            Sa = void 0
        }),
        Sa = n.now()
    }
    function Xa(a, b) {
        var c, d = 0, e = {
            height: a
        };
        for (b = b ? 1 : 0; 4 > d; d += 2 - b)
            c = U[d],
            e["margin" + c] = e["padding" + c] = a;
        return b && (e.opacity = e.width = a),
        e
    }
    function Ya(a, b, c) {
        for (var d, e = (_a.tweeners[b] || []).concat(_a.tweeners["*"]), f = 0, g = e.length; g > f; f++)
            if (d = e[f].call(c, b, a))
                return d
    }
    function Za(a, b, c) {
        var d, e, f, g, h, i, j, k, l = this, m = {}, o = a.style, p = a.nodeType && V(a), q = N.get(a, "fxshow");
        c.queue || (h = n._queueHooks(a, "fx"),
        null == h.unqueued && (h.unqueued = 0,
        i = h.empty.fire,
        h.empty.fire = function() {
            h.unqueued || i()
        }
        ),
        h.unqueued++,
        l.always(function() {
            l.always(function() {
                h.unqueued--,
                n.queue(a, "fx").length || h.empty.fire()
            })
        })),
        1 === a.nodeType && ("height"in b || "width"in b) && (c.overflow = [o.overflow, o.overflowX, o.overflowY],
        j = n.css(a, "display"),
        k = "none" === j ? N.get(a, "olddisplay") || za(a.nodeName) : j,
        "inline" === k && "none" === n.css(a, "float") && (o.display = "inline-block")),
        c.overflow && (o.overflow = "hidden",
        l.always(function() {
            o.overflow = c.overflow[0],
            o.overflowX = c.overflow[1],
            o.overflowY = c.overflow[2]
        }));
        for (d in b)
            if (e = b[d],
            Ua.exec(e)) {
                if (delete b[d],
                f = f || "toggle" === e,
                e === (p ? "hide" : "show")) {
                    if ("show" !== e || !q || void 0 === q[d])
                        continue;
                    p = !0
                }
                m[d] = q && q[d] || n.style(a, d)
            } else
                j = void 0;
        if (n.isEmptyObject(m))
            "inline" === ("none" === j ? za(a.nodeName) : j) && (o.display = j);
        else {
            q ? "hidden"in q && (p = q.hidden) : q = N.access(a, "fxshow", {}),
            f && (q.hidden = !p),
            p ? n(a).show() : l.done(function() {
                n(a).hide()
            }),
            l.done(function() {
                var b;
                N.remove(a, "fxshow");
                for (b in m)
                    n.style(a, b, m[b])
            });
            for (d in m)
                g = Ya(p ? q[d] : 0, d, l),
                d in q || (q[d] = g.start,
                p && (g.end = g.start,
                g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }
    function $a(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = n.camelCase(c),
            e = b[d],
            f = a[c],
            n.isArray(f) && (e = f[1],
            f = a[c] = f[0]),
            c !== d && (a[d] = f,
            delete a[c]),
            g = n.cssHooks[d],
            g && "expand"in g) {
                f = g.expand(f),
                delete a[d];
                for (c in f)
                    c in a || (a[c] = f[c],
                    b[c] = e)
            } else
                b[d] = e
    }
    function _a(a, b, c) {
        var d, e, f = 0, g = _a.prefilters.length, h = n.Deferred().always(function() {
            delete i.elem
        }), i = function() {
            if (e)
                return !1;
            for (var b = Sa || Wa(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
                j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]),
            1 > f && i ? c : (h.resolveWith(a, [j]),
            !1)
        }, j = h.promise({
            elem: a,
            props: n.extend({}, b),
            opts: n.extend(!0, {
                specialEasing: {},
                easing: n.easing._default
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: Sa || Wa(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d),
                d
            },
            stop: function(b) {
                var c = 0
                  , d = b ? j.tweens.length : 0;
                if (e)
                    return this;
                for (e = !0; d > c; c++)
                    j.tweens[c].run(1);
                return b ? (h.notifyWith(a, [j, 1, 0]),
                h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]),
                this
            }
        }), k = j.props;
        for ($a(k, j.opts.specialEasing); g > f; f++)
            if (d = _a.prefilters[f].call(j, a, k, j.opts))
                return n.isFunction(d.stop) && (n._queueHooks(j.elem, j.opts.queue).stop = n.proxy(d.stop, d)),
                d;
        return n.map(k, Ya, j),
        n.isFunction(j.opts.start) && j.opts.start.call(a, j),
        n.fx.timer(n.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })),
        j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    n.Animation = n.extend(_a, {
        tweeners: {
            "*": [function(a, b) {
                var c = this.createTween(a, b);
                return W(c.elem, a, T.exec(b), c),
                c
            }
            ]
        },
        tweener: function(a, b) {
            n.isFunction(a) ? (b = a,
            a = ["*"]) : a = a.match(G);
            for (var c, d = 0, e = a.length; e > d; d++)
                c = a[d],
                _a.tweeners[c] = _a.tweeners[c] || [],
                _a.tweeners[c].unshift(b)
        },
        prefilters: [Za],
        prefilter: function(a, b) {
            b ? _a.prefilters.unshift(a) : _a.prefilters.push(a)
        }
    }),
    n.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? n.extend({}, a) : {
            complete: c || !c && b || n.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !n.isFunction(b) && b
        };
        return d.duration = n.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default,
        null != d.queue && d.queue !== !0 || (d.queue = "fx"),
        d.old = d.complete,
        d.complete = function() {
            n.isFunction(d.old) && d.old.call(this),
            d.queue && n.dequeue(this, d.queue)
        }
        ,
        d
    }
    ,
    n.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(V).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = n.isEmptyObject(a)
              , f = n.speed(b, c, d)
              , g = function() {
                var b = _a(this, n.extend({}, a), f);
                (e || N.get(this, "finish")) && b.stop(!0)
            };
            return g.finish = g,
            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop,
                b(c)
            };
            return "string" != typeof a && (c = b,
            b = a,
            a = void 0),
            b && a !== !1 && this.queue(a || "fx", []),
            this.each(function() {
                var b = !0
                  , e = null != a && a + "queueHooks"
                  , f = n.timers
                  , g = N.get(this);
                if (e)
                    g[e] && g[e].stop && d(g[e]);
                else
                    for (e in g)
                        g[e] && g[e].stop && Va.test(e) && d(g[e]);
                for (e = f.length; e--; )
                    f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c),
                    b = !1,
                    f.splice(e, 1));
                !b && c || n.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"),
            this.each(function() {
                var b, c = N.get(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = n.timers, g = d ? d.length : 0;
                for (c.finish = !0,
                n.queue(this, a, []),
                e && e.stop && e.stop.call(this, !0),
                b = f.length; b--; )
                    f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0),
                    f.splice(b, 1));
                for (b = 0; g > b; b++)
                    d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }),
    n.each(["toggle", "show", "hide"], function(a, b) {
        var c = n.fn[b];
        n.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(Xa(b, !0), a, d, e)
        }
    }),
    n.each({
        slideDown: Xa("show"),
        slideUp: Xa("hide"),
        slideToggle: Xa("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        n.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }),
    n.timers = [],
    n.fx.tick = function() {
        var a, b = 0, c = n.timers;
        for (Sa = n.now(); b < c.length; b++)
            a = c[b],
            a() || c[b] !== a || c.splice(b--, 1);
        c.length || n.fx.stop(),
        Sa = void 0
    }
    ,
    n.fx.timer = function(a) {
        n.timers.push(a),
        a() ? n.fx.start() : n.timers.pop()
    }
    ,
    n.fx.interval = 13,
    n.fx.start = function() {
        Ta || (Ta = a.setInterval(n.fx.tick, n.fx.interval))
    }
    ,
    n.fx.stop = function() {
        a.clearInterval(Ta),
        Ta = null
    }
    ,
    n.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    n.fn.delay = function(b, c) {
        return b = n.fx ? n.fx.speeds[b] || b : b,
        c = c || "fx",
        this.queue(c, function(c, d) {
            var e = a.setTimeout(c, b);
            d.stop = function() {
                a.clearTimeout(e)
            }
        })
    }
    ,
    function() {
        var a = d.createElement("input")
          , b = d.createElement("select")
          , c = b.appendChild(d.createElement("option"));
        a.type = "checkbox",
        l.checkOn = "" !== a.value,
        l.optSelected = c.selected,
        b.disabled = !0,
        l.optDisabled = !c.disabled,
        a = d.createElement("input"),
        a.value = "t",
        a.type = "radio",
        l.radioValue = "t" === a.value
    }();
    var ab, bb = n.expr.attrHandle;
    n.fn.extend({
        attr: function(a, b) {
            return K(this, n.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                n.removeAttr(this, a)
            })
        }
    }),
    n.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f)
                return "undefined" == typeof a.getAttribute ? n.prop(a, b, c) : (1 === f && n.isXMLDoc(a) || (b = b.toLowerCase(),
                e = n.attrHooks[b] || (n.expr.match.bool.test(b) ? ab : void 0)),
                void 0 !== c ? null === c ? void n.removeAttr(a, b) : e && "set"in e && void 0 !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + ""),
                c) : e && "get"in e && null !== (d = e.get(a, b)) ? d : (d = n.find.attr(a, b),
                null == d ? void 0 : d))
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!l.radioValue && "radio" === b && n.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b),
                        c && (a.value = c),
                        b
                    }
                }
            }
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(G);
            if (f && 1 === a.nodeType)
                while (c = f[e++])
                    d = n.propFix[c] || c,
                    n.expr.match.bool.test(c) && (a[d] = !1),
                    a.removeAttribute(c)
        }
    }),
    ab = {
        set: function(a, b, c) {
            return b === !1 ? n.removeAttr(a, c) : a.setAttribute(c, c),
            c
        }
    },
    n.each(n.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = bb[b] || n.find.attr;
        bb[b] = function(a, b, d) {
            var e, f;
            return d || (f = bb[b],
            bb[b] = e,
            e = null != c(a, b, d) ? b.toLowerCase() : null,
            bb[b] = f),
            e
        }
    });
    var cb = /^(?:input|select|textarea|button)$/i
      , db = /^(?:a|area)$/i;
    n.fn.extend({
        prop: function(a, b) {
            return K(this, n.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return this.each(function() {
                delete this[n.propFix[a] || a]
            })
        }
    }),
    n.extend({
        prop: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (3 !== f && 8 !== f && 2 !== f)
                return 1 === f && n.isXMLDoc(a) || (b = n.propFix[b] || b,
                e = n.propHooks[b]),
                void 0 !== c ? e && "set"in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get"in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = n.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : cb.test(a.nodeName) || db.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }),
    l.optSelected || (n.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && b.parentNode && b.parentNode.selectedIndex,
            null
        },
        set: function(a) {
            var b = a.parentNode;
            b && (b.selectedIndex,
            b.parentNode && b.parentNode.selectedIndex)
        }
    }),
    n.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        n.propFix[this.toLowerCase()] = this
    });
    var eb = /[\t\r\n\f]/g;
    function fb(a) {
        return a.getAttribute && a.getAttribute("class") || ""
    }
    n.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).addClass(a.call(this, b, fb(this)))
                });
            if ("string" == typeof a && a) {
                b = a.match(G) || [];
                while (c = this[i++])
                    if (e = fb(c),
                    d = 1 === c.nodeType && (" " + e + " ").replace(eb, " ")) {
                        g = 0;
                        while (f = b[g++])
                            d.indexOf(" " + f + " ") < 0 && (d += f + " ");
                        h = n.trim(d),
                        e !== h && c.setAttribute("class", h)
                    }
            }
            return this
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h, i = 0;
            if (n.isFunction(a))
                return this.each(function(b) {
                    n(this).removeClass(a.call(this, b, fb(this)))
                });
            if (!arguments.length)
                return this.attr("class", "");
            if ("string" == typeof a && a) {
                b = a.match(G) || [];
                while (c = this[i++])
                    if (e = fb(c),
                    d = 1 === c.nodeType && (" " + e + " ").replace(eb, " ")) {
                        g = 0;
                        while (f = b[g++])
                            while (d.indexOf(" " + f + " ") > -1)
                                d = d.replace(" " + f + " ", " ");
                        h = n.trim(d),
                        e !== h && c.setAttribute("class", h)
                    }
            }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : n.isFunction(a) ? this.each(function(c) {
                n(this).toggleClass(a.call(this, c, fb(this), b), b)
            }) : this.each(function() {
                var b, d, e, f;
                if ("string" === c) {
                    d = 0,
                    e = n(this),
                    f = a.match(G) || [];
                    while (b = f[d++])
                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else
                    void 0 !== a && "boolean" !== c || (b = fb(this),
                    b && N.set(this, "__className__", b),
                    this.setAttribute && this.setAttribute("class", b || a === !1 ? "" : N.get(this, "__className__") || ""))
            })
        },
        hasClass: function(a) {
            var b, c, d = 0;
            b = " " + a + " ";
            while (c = this[d++])
                if (1 === c.nodeType && (" " + fb(c) + " ").replace(eb, " ").indexOf(b) > -1)
                    return !0;
            return !1
        }
    });
    var gb = /\r/g
      , hb = /[\x20\t\r\n\f]+/g;
    n.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            {
                if (arguments.length)
                    return d = n.isFunction(a),
                    this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, n(this).val()) : a,
                        null == e ? e = "" : "number" == typeof e ? e += "" : n.isArray(e) && (e = n.map(e, function(a) {
                            return null == a ? "" : a + ""
                        })),
                        b = n.valHooks[this.type] || n.valHooks[this.nodeName.toLowerCase()],
                        b && "set"in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                if (e)
                    return b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()],
                    b && "get"in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value,
                    "string" == typeof c ? c.replace(gb, "") : null == c ? "" : c)
            }
        }
    }),
    n.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = n.find.attr(a, "value");
                    return null != b ? b : n.trim(n.text(a)).replace(hb, " ")
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                        if (c = d[i],
                        (c.selected || i === e) && (l.optDisabled ? !c.disabled : null === c.getAttribute("disabled")) && (!c.parentNode.disabled || !n.nodeName(c.parentNode, "optgroup"))) {
                            if (b = n(c).val(),
                            f)
                                return b;
                            g.push(b)
                        }
                    return g
                },
                set: function(a, b) {
                    var c, d, e = a.options, f = n.makeArray(b), g = e.length;
                    while (g--)
                        d = e[g],
                        (d.selected = n.inArray(n.valHooks.option.get(d), f) > -1) && (c = !0);
                    return c || (a.selectedIndex = -1),
                    f
                }
            }
        }
    }),
    n.each(["radio", "checkbox"], function() {
        n.valHooks[this] = {
            set: function(a, b) {
                return n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) > -1 : void 0
            }
        },
        l.checkOn || (n.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value
        }
        )
    });
    var ib = /^(?:focusinfocus|focusoutblur)$/;
    n.extend(n.event, {
        trigger: function(b, c, e, f) {
            var g, h, i, j, l, m, o, p = [e || d], q = k.call(b, "type") ? b.type : b, r = k.call(b, "namespace") ? b.namespace.split(".") : [];
            if (h = i = e = e || d,
            3 !== e.nodeType && 8 !== e.nodeType && !ib.test(q + n.event.triggered) && (q.indexOf(".") > -1 && (r = q.split("."),
            q = r.shift(),
            r.sort()),
            l = q.indexOf(":") < 0 && "on" + q,
            b = b[n.expando] ? b : new n.Event(q,"object" == typeof b && b),
            b.isTrigger = f ? 2 : 3,
            b.namespace = r.join("."),
            b.rnamespace = b.namespace ? new RegExp("(^|\\.)" + r.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
            b.result = void 0,
            b.target || (b.target = e),
            c = null == c ? [b] : n.makeArray(c, [b]),
            o = n.event.special[q] || {},
            f || !o.trigger || o.trigger.apply(e, c) !== !1)) {
                if (!f && !o.noBubble && !n.isWindow(e)) {
                    for (j = o.delegateType || q,
                    ib.test(j + q) || (h = h.parentNode); h; h = h.parentNode)
                        p.push(h),
                        i = h;
                    i === (e.ownerDocument || d) && p.push(i.defaultView || i.parentWindow || a)
                }
                g = 0;
                while ((h = p[g++]) && !b.isPropagationStopped())
                    b.type = g > 1 ? j : o.bindType || q,
                    m = (N.get(h, "events") || {})[b.type] && N.get(h, "handle"),
                    m && m.apply(h, c),
                    m = l && h[l],
                    m && m.apply && L(h) && (b.result = m.apply(h, c),
                    b.result === !1 && b.preventDefault());
                return b.type = q,
                f || b.isDefaultPrevented() || o._default && o._default.apply(p.pop(), c) !== !1 || !L(e) || l && n.isFunction(e[q]) && !n.isWindow(e) && (i = e[l],
                i && (e[l] = null),
                n.event.triggered = q,
                e[q](),
                n.event.triggered = void 0,
                i && (e[l] = i)),
                b.result
            }
        },
        simulate: function(a, b, c) {
            var d = n.extend(new n.Event, c, {
                type: a,
                isSimulated: !0
            });
            n.event.trigger(d, null, b)
        }
    }),
    n.fn.extend({
        trigger: function(a, b) {
            return this.each(function() {
                n.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? n.event.trigger(a, b, c, !0) : void 0
        }
    }),
    n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        n.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }),
    n.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        }
    }),
    l.focusin = "onfocusin"in a,
    l.focusin || n.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            n.event.simulate(b, a.target, n.event.fix(a))
        };
        n.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this
                  , e = N.access(d, b);
                e || d.addEventListener(a, c, !0),
                N.access(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this
                  , e = N.access(d, b) - 1;
                e ? N.access(d, b, e) : (d.removeEventListener(a, c, !0),
                N.remove(d, b))
            }
        }
    });
    var jb = a.location
      , kb = n.now()
      , lb = /\?/;
    n.parseJSON = function(a) {
        return JSON.parse(a + "")
    }
    ,
    n.parseXML = function(b) {
        var c;
        if (!b || "string" != typeof b)
            return null;
        try {
            c = (new a.DOMParser).parseFromString(b, "text/xml")
        } catch (d) {
            c = void 0
        }
        return c && !c.getElementsByTagName("parsererror").length || n.error("Invalid XML: " + b),
        c
    }
    ;
    var mb = /#.*$/
      , nb = /([?&])_=[^&]*/
      , ob = /^(.*?):[ \t]*([^\r\n]*)$/gm
      , pb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/
      , qb = /^(?:GET|HEAD)$/
      , rb = /^\/\//
      , sb = {}
      , tb = {}
      , ub = "*/".concat("*")
      , vb = d.createElement("a");
    vb.href = jb.href;
    function wb(a) {
        return function(b, c) {
            "string" != typeof b && (c = b,
            b = "*");
            var d, e = 0, f = b.toLowerCase().match(G) || [];
            if (n.isFunction(c))
                while (d = f[e++])
                    "+" === d[0] ? (d = d.slice(1) || "*",
                    (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function xb(a, b, c, d) {
        var e = {}
          , f = a === tb;
        function g(h) {
            var i;
            return e[h] = !0,
            n.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j),
                g(j),
                !1)
            }),
            i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }
    function yb(a, b) {
        var c, d, e = n.ajaxSettings.flatOptions || {};
        for (c in b)
            void 0 !== b[c] && ((e[c] ? a : d || (d = {}))[c] = b[c]);
        return d && n.extend(!0, a, d),
        a
    }
    function zb(a, b, c) {
        var d, e, f, g, h = a.contents, i = a.dataTypes;
        while ("*" === i[0])
            i.shift(),
            void 0 === d && (d = a.mimeType || b.getResponseHeader("Content-Type"));
        if (d)
            for (e in h)
                if (h[e] && h[e].test(d)) {
                    i.unshift(e);
                    break
                }
        if (i[0]in c)
            f = i[0];
        else {
            for (e in c) {
                if (!i[0] || a.converters[e + " " + i[0]]) {
                    f = e;
                    break
                }
                g || (g = e)
            }
            f = f || g
        }
        return f ? (f !== i[0] && i.unshift(f),
        c[f]) : void 0
    }
    function Ab(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters)
                j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b),
            !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
            i = f,
            f = k.shift())
                if ("*" === f)
                    f = i;
                else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f],
                    !g)
                        for (e in j)
                            if (h = e.split(" "),
                            h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0],
                                k.unshift(h[1]));
                                break
                            }
                    if (g !== !0)
                        if (g && a["throws"])
                            b = g(b);
                        else
                            try {
                                b = g(b)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                }
                            }
                }
        return {
            state: "success",
            data: b
        }
    }
    n.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: jb.href,
            type: "GET",
            isLocal: pb.test(jb.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": ub,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": n.parseJSON,
                "text xml": n.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? yb(yb(a, n.ajaxSettings), b) : yb(n.ajaxSettings, a)
        },
        ajaxPrefilter: wb(sb),
        ajaxTransport: wb(tb),
        ajax: function(b, c) {
            "object" == typeof b && (c = b,
            b = void 0),
            c = c || {};
            var e, f, g, h, i, j, k, l, m = n.ajaxSetup({}, c), o = m.context || m, p = m.context && (o.nodeType || o.jquery) ? n(o) : n.event, q = n.Deferred(), r = n.Callbacks("once memory"), s = m.statusCode || {}, t = {}, u = {}, v = 0, w = "canceled", x = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === v) {
                        if (!h) {
                            h = {};
                            while (b = ob.exec(g))
                                h[b[1].toLowerCase()] = b[2]
                        }
                        b = h[a.toLowerCase()]
                    }
                    return null == b ? null : b
                },
                getAllResponseHeaders: function() {
                    return 2 === v ? g : null
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return v || (a = u[c] = u[c] || a,
                    t[a] = b),
                    this
                },
                overrideMimeType: function(a) {
                    return v || (m.mimeType = a),
                    this
                },
                statusCode: function(a) {
                    var b;
                    if (a)
                        if (2 > v)
                            for (b in a)
                                s[b] = [s[b], a[b]];
                        else
                            x.always(a[x.status]);
                    return this
                },
                abort: function(a) {
                    var b = a || w;
                    return e && e.abort(b),
                    z(0, b),
                    this
                }
            };
            if (q.promise(x).complete = r.add,
            x.success = x.done,
            x.error = x.fail,
            m.url = ((b || m.url || jb.href) + "").replace(mb, "").replace(rb, jb.protocol + "//"),
            m.type = c.method || c.type || m.method || m.type,
            m.dataTypes = n.trim(m.dataType || "*").toLowerCase().match(G) || [""],
            null == m.crossDomain) {
                j = d.createElement("a");
                try {
                    j.href = m.url,
                    j.href = j.href,
                    m.crossDomain = vb.protocol + "//" + vb.host != j.protocol + "//" + j.host
                } catch (y) {
                    m.crossDomain = !0
                }
            }
            if (m.data && m.processData && "string" != typeof m.data && (m.data = n.param(m.data, m.traditional)),
            xb(sb, m, c, x),
            2 === v)
                return x;
            k = n.event && m.global,
            k && 0 === n.active++ && n.event.trigger("ajaxStart"),
            m.type = m.type.toUpperCase(),
            m.hasContent = !qb.test(m.type),
            f = m.url,
            m.hasContent || (m.data && (f = m.url += (lb.test(f) ? "&" : "?") + m.data,
            delete m.data),
            m.cache === !1 && (m.url = nb.test(f) ? f.replace(nb, "$1_=" + kb++) : f + (lb.test(f) ? "&" : "?") + "_=" + kb++)),
            m.ifModified && (n.lastModified[f] && x.setRequestHeader("If-Modified-Since", n.lastModified[f]),
            n.etag[f] && x.setRequestHeader("If-None-Match", n.etag[f])),
            (m.data && m.hasContent && m.contentType !== !1 || c.contentType) && x.setRequestHeader("Content-Type", m.contentType),
            x.setRequestHeader("Accept", m.dataTypes[0] && m.accepts[m.dataTypes[0]] ? m.accepts[m.dataTypes[0]] + ("*" !== m.dataTypes[0] ? ", " + ub + "; q=0.01" : "") : m.accepts["*"]);
            for (l in m.headers)
                x.setRequestHeader(l, m.headers[l]);
            if (m.beforeSend && (m.beforeSend.call(o, x, m) === !1 || 2 === v))
                return x.abort();
            w = "abort";
            for (l in {
                success: 1,
                error: 1,
                complete: 1
            })
                x[l](m[l]);
            if (e = xb(tb, m, c, x)) {
                if (x.readyState = 1,
                k && p.trigger("ajaxSend", [x, m]),
                2 === v)
                    return x;
                m.async && m.timeout > 0 && (i = a.setTimeout(function() {
                    x.abort("timeout")
                }, m.timeout));
                try {
                    v = 1,
                    e.send(t, z)
                } catch (y) {
                    if (!(2 > v))
                        throw y;
                    z(-1, y)
                }
            } else
                z(-1, "No Transport");
            function z(b, c, d, h) {
                var j, l, t, u, w, y = c;
                2 !== v && (v = 2,
                i && a.clearTimeout(i),
                e = void 0,
                g = h || "",
                x.readyState = b > 0 ? 4 : 0,
                j = b >= 200 && 300 > b || 304 === b,
                d && (u = zb(m, x, d)),
                u = Ab(m, u, x, j),
                j ? (m.ifModified && (w = x.getResponseHeader("Last-Modified"),
                w && (n.lastModified[f] = w),
                w = x.getResponseHeader("etag"),
                w && (n.etag[f] = w)),
                204 === b || "HEAD" === m.type ? y = "nocontent" : 304 === b ? y = "notmodified" : (y = u.state,
                l = u.data,
                t = u.error,
                j = !t)) : (t = y,
                !b && y || (y = "error",
                0 > b && (b = 0))),
                x.status = b,
                x.statusText = (c || y) + "",
                j ? q.resolveWith(o, [l, y, x]) : q.rejectWith(o, [x, y, t]),
                x.statusCode(s),
                s = void 0,
                k && p.trigger(j ? "ajaxSuccess" : "ajaxError", [x, m, j ? l : t]),
                r.fireWith(o, [x, y]),
                k && (p.trigger("ajaxComplete", [x, m]),
                --n.active || n.event.trigger("ajaxStop")))
            }
            return x
        },
        getJSON: function(a, b, c) {
            return n.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return n.get(a, void 0, b, "script")
        }
    }),
    n.each(["get", "post"], function(a, b) {
        n[b] = function(a, c, d, e) {
            return n.isFunction(c) && (e = e || d,
            d = c,
            c = void 0),
            n.ajax(n.extend({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            }, n.isPlainObject(a) && a))
        }
    }),
    n._evalUrl = function(a) {
        return n.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }
    ,
    n.fn.extend({
        wrapAll: function(a) {
            var b;
            return n.isFunction(a) ? this.each(function(b) {
                n(this).wrapAll(a.call(this, b))
            }) : (this[0] && (b = n(a, this[0].ownerDocument).eq(0).clone(!0),
            this[0].parentNode && b.insertBefore(this[0]),
            b.map(function() {
                var a = this;
                while (a.firstElementChild)
                    a = a.firstElementChild;
                return a
            }).append(this)),
            this)
        },
        wrapInner: function(a) {
            return n.isFunction(a) ? this.each(function(b) {
                n(this).wrapInner(a.call(this, b))
            }) : this.each(function() {
                var b = n(this)
                  , c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        wrap: function(a) {
            var b = n.isFunction(a);
            return this.each(function(c) {
                n(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                n.nodeName(this, "body") || n(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    n.expr.filters.hidden = function(a) {
        return !n.expr.filters.visible(a)
    }
    ,
    n.expr.filters.visible = function(a) {
        return a.offsetWidth > 0 || a.offsetHeight > 0 || a.getClientRects().length > 0
    }
    ;
    var Bb = /%20/g
      , Cb = /\[\]$/
      , Db = /\r?\n/g
      , Eb = /^(?:submit|button|image|reset|file)$/i
      , Fb = /^(?:input|select|textarea|keygen)/i;
    function Gb(a, b, c, d) {
        var e;
        if (n.isArray(b))
            n.each(b, function(b, e) {
                c || Cb.test(a) ? d(a, e) : Gb(a + "[" + ("object" == typeof e && null != e ? b : "") + "]", e, c, d)
            });
        else if (c || "object" !== n.type(b))
            d(a, b);
        else
            for (e in b)
                Gb(a + "[" + e + "]", b[e], c, d)
    }
    n.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = n.isFunction(b) ? b() : null == b ? "" : b,
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        if (void 0 === b && (b = n.ajaxSettings && n.ajaxSettings.traditional),
        n.isArray(a) || a.jquery && !n.isPlainObject(a))
            n.each(a, function() {
                e(this.name, this.value)
            });
        else
            for (c in a)
                Gb(c, a[c], b, e);
        return d.join("&").replace(Bb, "+")
    }
    ,
    n.fn.extend({
        serialize: function() {
            return n.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = n.prop(this, "elements");
                return a ? n.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !n(this).is(":disabled") && Fb.test(this.nodeName) && !Eb.test(a) && (this.checked || !X.test(a))
            }).map(function(a, b) {
                var c = n(this).val();
                return null == c ? null : n.isArray(c) ? n.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(Db, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(Db, "\r\n")
                }
            }).get()
        }
    }),
    n.ajaxSettings.xhr = function() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    }
    ;
    var Hb = {
        0: 200,
        1223: 204
    }
      , Ib = n.ajaxSettings.xhr();
    l.cors = !!Ib && "withCredentials"in Ib,
    l.ajax = Ib = !!Ib,
    n.ajaxTransport(function(b) {
        var c, d;
        return l.cors || Ib && !b.crossDomain ? {
            send: function(e, f) {
                var g, h = b.xhr();
                if (h.open(b.type, b.url, b.async, b.username, b.password),
                b.xhrFields)
                    for (g in b.xhrFields)
                        h[g] = b.xhrFields[g];
                b.mimeType && h.overrideMimeType && h.overrideMimeType(b.mimeType),
                b.crossDomain || e["X-Requested-With"] || (e["X-Requested-With"] = "XMLHttpRequest");
                for (g in e)
                    h.setRequestHeader(g, e[g]);
                c = function(a) {
                    return function() {
                        c && (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = null,
                        "abort" === a ? h.abort() : "error" === a ? "number" != typeof h.status ? f(0, "error") : f(h.status, h.statusText) : f(Hb[h.status] || h.status, h.statusText, "text" !== (h.responseType || "text") || "string" != typeof h.responseText ? {
                            binary: h.response
                        } : {
                            text: h.responseText
                        }, h.getAllResponseHeaders()))
                    }
                }
                ,
                h.onload = c(),
                d = h.onerror = c("error"),
                void 0 !== h.onabort ? h.onabort = d : h.onreadystatechange = function() {
                    4 === h.readyState && a.setTimeout(function() {
                        c && d()
                    })
                }
                ,
                c = c("abort");
                try {
                    h.send(b.hasContent && b.data || null)
                } catch (i) {
                    if (c)
                        throw i
                }
            },
            abort: function() {
                c && c()
            }
        } : void 0
    }),
    n.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(a) {
                return n.globalEval(a),
                a
            }
        }
    }),
    n.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1),
        a.crossDomain && (a.type = "GET")
    }),
    n.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c;
            return {
                send: function(e, f) {
                    b = n("<script>").prop({
                        charset: a.scriptCharset,
                        src: a.url
                    }).on("load error", c = function(a) {
                        b.remove(),
                        c = null,
                        a && f("error" === a.type ? 404 : 200, a.type)
                    }
                    ),
                    d.head.appendChild(b[0])
                },
                abort: function() {
                    c && c()
                }
            }
        }
    });
    var Jb = []
      , Kb = /(=)\?(?=&|$)|\?\?/;
    n.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = Jb.pop() || n.expando + "_" + kb++;
            return this[a] = !0,
            a
        }
    }),
    n.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (Kb.test(b.url) ? "url" : "string" == typeof b.data && 0 === (b.contentType || "").indexOf("application/x-www-form-urlencoded") && Kb.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
        h ? b[h] = b[h].replace(Kb, "$1" + e) : b.jsonp !== !1 && (b.url += (lb.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
        b.converters["script json"] = function() {
            return g || n.error(e + " was not called"),
            g[0]
        }
        ,
        b.dataTypes[0] = "json",
        f = a[e],
        a[e] = function() {
            g = arguments
        }
        ,
        d.always(function() {
            void 0 === f ? n(a).removeProp(e) : a[e] = f,
            b[e] && (b.jsonpCallback = c.jsonpCallback,
            Jb.push(e)),
            g && n.isFunction(f) && f(g[0]),
            g = f = void 0
        }),
        "script") : void 0
    }),
    n.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a)
            return null;
        "boolean" == typeof b && (c = b,
        b = !1),
        b = b || d;
        var e = x.exec(a)
          , f = !c && [];
        return e ? [b.createElement(e[1])] : (e = ca([a], b, f),
        f && f.length && n(f).remove(),
        n.merge([], e.childNodes))
    }
    ;
    var Lb = n.fn.load;
    n.fn.load = function(a, b, c) {
        if ("string" != typeof a && Lb)
            return Lb.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h > -1 && (d = n.trim(a.slice(h)),
        a = a.slice(0, h)),
        n.isFunction(b) ? (c = b,
        b = void 0) : b && "object" == typeof b && (e = "POST"),
        g.length > 0 && n.ajax({
            url: a,
            type: e || "GET",
            dataType: "html",
            data: b
        }).done(function(a) {
            f = arguments,
            g.html(d ? n("<div>").append(n.parseHTML(a)).find(d) : a)
        }).always(c && function(a, b) {
            g.each(function() {
                c.apply(this, f || [a.responseText, b, a])
            })
        }
        ),
        this
    }
    ,
    n.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        n.fn[b] = function(a) {
            return this.on(b, a)
        }
    }),
    n.expr.filters.animated = function(a) {
        return n.grep(n.timers, function(b) {
            return a === b.elem
        }).length
    }
    ;
    function Mb(a) {
        return n.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
    }
    n.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = n.css(a, "position"), l = n(a), m = {};
            "static" === k && (a.style.position = "relative"),
            h = l.offset(),
            f = n.css(a, "top"),
            i = n.css(a, "left"),
            j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1,
            j ? (d = l.position(),
            g = d.top,
            e = d.left) : (g = parseFloat(f) || 0,
            e = parseFloat(i) || 0),
            n.isFunction(b) && (b = b.call(a, c, n.extend({}, h))),
            null != b.top && (m.top = b.top - h.top + g),
            null != b.left && (m.left = b.left - h.left + e),
            "using"in b ? b.using.call(a, m) : l.css(m)
        }
    },
    n.fn.extend({
        offset: function(a) {
            if (arguments.length)
                return void 0 === a ? this : this.each(function(b) {
                    n.offset.setOffset(this, a, b)
                });
            var b, c, d = this[0], e = {
                top: 0,
                left: 0
            }, f = d && d.ownerDocument;
            if (f)
                return b = f.documentElement,
                n.contains(b, d) ? (e = d.getBoundingClientRect(),
                c = Mb(f),
                {
                    top: e.top + c.pageYOffset - b.clientTop,
                    left: e.left + c.pageXOffset - b.clientLeft
                }) : e
        },
        position: function() {
            if (this[0]) {
                var a, b, c = this[0], d = {
                    top: 0,
                    left: 0
                };
                return "fixed" === n.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(),
                b = this.offset(),
                n.nodeName(a[0], "html") || (d = a.offset()),
                d.top += n.css(a[0], "borderTopWidth", !0),
                d.left += n.css(a[0], "borderLeftWidth", !0)),
                {
                    top: b.top - d.top - n.css(c, "marginTop", !0),
                    left: b.left - d.left - n.css(c, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent;
                while (a && "static" === n.css(a, "position"))
                    a = a.offsetParent;
                return a || Ea
            })
        }
    }),
    n.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = "pageYOffset" === b;
        n.fn[a] = function(d) {
            return K(this, function(a, d, e) {
                var f = Mb(a);
                return void 0 === e ? f ? f[b] : a[d] : void (f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e)
            }, a, d, arguments.length)
        }
    }),
    n.each(["top", "left"], function(a, b) {
        n.cssHooks[b] = Ga(l.pixelPosition, function(a, c) {
            return c ? (c = Fa(a, b),
            Ba.test(c) ? n(a).position()[b] + "px" : c) : void 0
        })
    }),
    n.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        n.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            n.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d)
                  , g = c || (d === !0 || e === !0 ? "margin" : "border");
                return K(this, function(b, c, d) {
                    var e;
                    return n.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement,
                    Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? n.css(b, c, g) : n.style(b, c, d, g)
                }, b, f ? d : void 0, f, null)
            }
        })
    }),
    n.fn.extend({
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        },
        size: function() {
            return this.length
        }
    }),
    n.fn.andSelf = n.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return n
    });
    var Nb = a.jQuery
      , Ob = a.$;
    return n.noConflict = function(b) {
        return a.$ === n && (a.$ = Ob),
        b && a.jQuery === n && (a.jQuery = Nb),
        n
    }
    ,
    b || (a.jQuery = a.$ = n),
    n
});

/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if ("undefined" == typeof jQuery)
    throw new Error("Bootstrap's JavaScript requires jQuery");
+function(a) {
    "use strict";
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (b[0] < 2 && b[1] < 9 || 1 == b[0] && 9 == b[1] && b[2] < 1 || b[0] > 3)
        throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")
}(jQuery),
+function(a) {
    "use strict";
    function b() {
        var a = document.createElement("bootstrap")
          , b = {
            WebkitTransition: "webkitTransitionEnd",
            MozTransition: "transitionend",
            OTransition: "oTransitionEnd otransitionend",
            transition: "transitionend"
        };
        for (var c in b)
            if (void 0 !== a.style[c])
                return {
                    end: b[c]
                };
        return !1
    }
    a.fn.emulateTransitionEnd = function(b) {
        var c = !1
          , d = this;
        a(this).one("bsTransitionEnd", function() {
            c = !0
        });
        var e = function() {
            c || a(d).trigger(a.support.transition.end)
        };
        return setTimeout(e, b),
        this
    }
    ,
    a(function() {
        a.support.transition = b(),
        a.support.transition && (a.event.special.bsTransitionEnd = {
            bindType: a.support.transition.end,
            delegateType: a.support.transition.end,
            handle: function(b) {
                if (a(b.target).is(this))
                    return b.handleObj.handler.apply(this, arguments)
            }
        })
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var c = a(this)
              , e = c.data("bs.alert");
            e || c.data("bs.alert", e = new d(this)),
            "string" == typeof b && e[b].call(c)
        })
    }
    var c = '[data-dismiss="alert"]'
      , d = function(b) {
        a(b).on("click", c, this.close)
    };
    d.VERSION = "3.3.7",
    d.TRANSITION_DURATION = 150,
    d.prototype.close = function(b) {
        function c() {
            g.detach().trigger("closed.bs.alert").remove()
        }
        var e = a(this)
          , f = e.attr("data-target");
        f || (f = e.attr("href"),
        f = f && f.replace(/.*(?=#[^\s]*$)/, ""));
        var g = a("#" === f ? [] : f);
        b && b.preventDefault(),
        g.length || (g = e.closest(".alert")),
        g.trigger(b = a.Event("close.bs.alert")),
        b.isDefaultPrevented() || (g.removeClass("in"),
        a.support.transition && g.hasClass("fade") ? g.one("bsTransitionEnd", c).emulateTransitionEnd(d.TRANSITION_DURATION) : c())
    }
    ;
    var e = a.fn.alert;
    a.fn.alert = b,
    a.fn.alert.Constructor = d,
    a.fn.alert.noConflict = function() {
        return a.fn.alert = e,
        this
    }
    ,
    a(document).on("click.bs.alert.data-api", c, d.prototype.close)
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.button")
              , f = "object" == typeof b && b;
            e || d.data("bs.button", e = new c(this,f)),
            "toggle" == b ? e.toggle() : b && e.setState(b)
        })
    }
    var c = function(b, d) {
        this.$element = a(b),
        this.options = a.extend({}, c.DEFAULTS, d),
        this.isLoading = !1
    };
    c.VERSION = "3.3.7",
    c.DEFAULTS = {
        loadingText: "loading..."
    },
    c.prototype.setState = function(b) {
        var c = "disabled"
          , d = this.$element
          , e = d.is("input") ? "val" : "html"
          , f = d.data();
        b += "Text",
        null == f.resetText && d.data("resetText", d[e]()),
        setTimeout(a.proxy(function() {
            d[e](null == f[b] ? this.options[b] : f[b]),
            "loadingText" == b ? (this.isLoading = !0,
            d.addClass(c).attr(c, c).prop(c, !0)) : this.isLoading && (this.isLoading = !1,
            d.removeClass(c).removeAttr(c).prop(c, !1))
        }, this), 0)
    }
    ,
    c.prototype.toggle = function() {
        var a = !0
          , b = this.$element.closest('[data-toggle="buttons"]');
        if (b.length) {
            var c = this.$element.find("input");
            "radio" == c.prop("type") ? (c.prop("checked") && (a = !1),
            b.find(".active").removeClass("active"),
            this.$element.addClass("active")) : "checkbox" == c.prop("type") && (c.prop("checked") !== this.$element.hasClass("active") && (a = !1),
            this.$element.toggleClass("active")),
            c.prop("checked", this.$element.hasClass("active")),
            a && c.trigger("change")
        } else
            this.$element.attr("aria-pressed", !this.$element.hasClass("active")),
            this.$element.toggleClass("active")
    }
    ;
    var d = a.fn.button;
    a.fn.button = b,
    a.fn.button.Constructor = c,
    a.fn.button.noConflict = function() {
        return a.fn.button = d,
        this
    }
    ,
    a(document).on("click.bs.button.data-api", '[data-toggle^="button"]', function(c) {
        var d = a(c.target).closest(".btn");
        b.call(d, "toggle"),
        a(c.target).is('input[type="radio"], input[type="checkbox"]') || (c.preventDefault(),
        d.is("input,button") ? d.trigger("focus") : d.find("input:visible,button:visible").first().trigger("focus"))
    }).on("focus.bs.button.data-api blur.bs.button.data-api", '[data-toggle^="button"]', function(b) {
        a(b.target).closest(".btn").toggleClass("focus", /^focus(in)?$/.test(b.type))
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.carousel")
              , f = a.extend({}, c.DEFAULTS, d.data(), "object" == typeof b && b)
              , g = "string" == typeof b ? b : f.slide;
            e || d.data("bs.carousel", e = new c(this,f)),
            "number" == typeof b ? e.to(b) : g ? e[g]() : f.interval && e.pause().cycle()
        })
    }
    var c = function(b, c) {
        this.$element = a(b),
        this.$indicators = this.$element.find(".carousel-indicators"),
        this.options = c,
        this.paused = null,
        this.sliding = null,
        this.interval = null,
        this.$active = null,
        this.$items = null,
        this.options.keyboard && this.$element.on("keydown.bs.carousel", a.proxy(this.keydown, this)),
        "hover" == this.options.pause && !("ontouchstart"in document.documentElement) && this.$element.on("mouseenter.bs.carousel", a.proxy(this.pause, this)).on("mouseleave.bs.carousel", a.proxy(this.cycle, this))
    };
    c.VERSION = "3.3.7",
    c.TRANSITION_DURATION = 600,
    c.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0,
        keyboard: !0
    },
    c.prototype.keydown = function(a) {
        if (!/input|textarea/i.test(a.target.tagName)) {
            switch (a.which) {
            case 37:
                this.prev();
                break;
            case 39:
                this.next();
                break;
            default:
                return
            }
            a.preventDefault()
        }
    }
    ,
    c.prototype.cycle = function(b) {
        return b || (this.paused = !1),
        this.interval && clearInterval(this.interval),
        this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)),
        this
    }
    ,
    c.prototype.getItemIndex = function(a) {
        return this.$items = a.parent().children(".item"),
        this.$items.index(a || this.$active)
    }
    ,
    c.prototype.getItemForDirection = function(a, b) {
        var c = this.getItemIndex(b)
          , d = "prev" == a && 0 === c || "next" == a && c == this.$items.length - 1;
        if (d && !this.options.wrap)
            return b;
        var e = "prev" == a ? -1 : 1
          , f = (c + e) % this.$items.length;
        return this.$items.eq(f)
    }
    ,
    c.prototype.to = function(a) {
        var b = this
          , c = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        if (!(a > this.$items.length - 1 || a < 0))
            return this.sliding ? this.$element.one("slid.bs.carousel", function() {
                b.to(a)
            }) : c == a ? this.pause().cycle() : this.slide(a > c ? "next" : "prev", this.$items.eq(a))
    }
    ,
    c.prototype.pause = function(b) {
        return b || (this.paused = !0),
        this.$element.find(".next, .prev").length && a.support.transition && (this.$element.trigger(a.support.transition.end),
        this.cycle(!0)),
        this.interval = clearInterval(this.interval),
        this
    }
    ,
    c.prototype.next = function() {
        if (!this.sliding)
            return this.slide("next")
    }
    ,
    c.prototype.prev = function() {
        if (!this.sliding)
            return this.slide("prev")
    }
    ,
    c.prototype.slide = function(b, d) {
        var e = this.$element.find(".item.active")
          , f = d || this.getItemForDirection(b, e)
          , g = this.interval
          , h = "next" == b ? "left" : "right"
          , i = this;
        if (f.hasClass("active"))
            return this.sliding = !1;
        var j = f[0]
          , k = a.Event("slide.bs.carousel", {
            relatedTarget: j,
            direction: h
        });
        if (this.$element.trigger(k),
        !k.isDefaultPrevented()) {
            if (this.sliding = !0,
            g && this.pause(),
            this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var l = a(this.$indicators.children()[this.getItemIndex(f)]);
                l && l.addClass("active")
            }
            var m = a.Event("slid.bs.carousel", {
                relatedTarget: j,
                direction: h
            });
            return a.support.transition && this.$element.hasClass("slide") ? (f.addClass(b),
            f[0].offsetWidth,
            e.addClass(h),
            f.addClass(h),
            e.one("bsTransitionEnd", function() {
                f.removeClass([b, h].join(" ")).addClass("active"),
                e.removeClass(["active", h].join(" ")),
                i.sliding = !1,
                setTimeout(function() {
                    i.$element.trigger(m)
                }, 0)
            }).emulateTransitionEnd(c.TRANSITION_DURATION)) : (e.removeClass("active"),
            f.addClass("active"),
            this.sliding = !1,
            this.$element.trigger(m)),
            g && this.cycle(),
            this
        }
    }
    ;
    var d = a.fn.carousel;
    a.fn.carousel = b,
    a.fn.carousel.Constructor = c,
    a.fn.carousel.noConflict = function() {
        return a.fn.carousel = d,
        this
    }
    ;
    var e = function(c) {
        var d, e = a(this), f = a(e.attr("data-target") || (d = e.attr("href")) && d.replace(/.*(?=#[^\s]+$)/, ""));
        if (f.hasClass("carousel")) {
            var g = a.extend({}, f.data(), e.data())
              , h = e.attr("data-slide-to");
            h && (g.interval = !1),
            b.call(f, g),
            h && f.data("bs.carousel").to(h),
            c.preventDefault()
        }
    };
    a(document).on("click.bs.carousel.data-api", "[data-slide]", e).on("click.bs.carousel.data-api", "[data-slide-to]", e),
    a(window).on("load", function() {
        a('[data-ride="carousel"]').each(function() {
            var c = a(this);
            b.call(c, c.data())
        })
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        var c, d = b.attr("data-target") || (c = b.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "");
        return a(d)
    }
    function c(b) {
        return this.each(function() {
            var c = a(this)
              , e = c.data("bs.collapse")
              , f = a.extend({}, d.DEFAULTS, c.data(), "object" == typeof b && b);
            !e && f.toggle && /show|hide/.test(b) && (f.toggle = !1),
            e || c.data("bs.collapse", e = new d(this,f)),
            "string" == typeof b && e[b]()
        })
    }
    var d = function(b, c) {
        this.$element = a(b),
        this.options = a.extend({}, d.DEFAULTS, c),
        this.$trigger = a('[data-toggle="collapse"][href="#' + b.id + '"],[data-toggle="collapse"][data-target="#' + b.id + '"]'),
        this.transitioning = null,
        this.options.parent ? this.$parent = this.getParent() : this.addAriaAndCollapsedClass(this.$element, this.$trigger),
        this.options.toggle && this.toggle()
    };
    d.VERSION = "3.3.7",
    d.TRANSITION_DURATION = 350,
    d.DEFAULTS = {
        toggle: !0
    },
    d.prototype.dimension = function() {
        var a = this.$element.hasClass("width");
        return a ? "width" : "height"
    }
    ,
    d.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var b, e = this.$parent && this.$parent.children(".panel").children(".in, .collapsing");
            if (!(e && e.length && (b = e.data("bs.collapse"),
            b && b.transitioning))) {
                var f = a.Event("show.bs.collapse");
                if (this.$element.trigger(f),
                !f.isDefaultPrevented()) {
                    e && e.length && (c.call(e, "hide"),
                    b || e.data("bs.collapse", null));
                    var g = this.dimension();
                    this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded", !0),
                    this.$trigger.removeClass("collapsed").attr("aria-expanded", !0),
                    this.transitioning = 1;
                    var h = function() {
                        this.$element.removeClass("collapsing").addClass("collapse in")[g](""),
                        this.transitioning = 0,
                        this.$element.trigger("shown.bs.collapse")
                    };
                    if (!a.support.transition)
                        return h.call(this);
                    var i = a.camelCase(["scroll", g].join("-"));
                    this.$element.one("bsTransitionEnd", a.proxy(h, this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])
                }
            }
        }
    }
    ,
    d.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var b = a.Event("hide.bs.collapse");
            if (this.$element.trigger(b),
            !b.isDefaultPrevented()) {
                var c = this.dimension();
                this.$element[c](this.$element[c]())[0].offsetHeight,
                this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded", !1),
                this.$trigger.addClass("collapsed").attr("aria-expanded", !1),
                this.transitioning = 1;
                var e = function() {
                    this.transitioning = 0,
                    this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")
                };
                return a.support.transition ? void this.$element[c](0).one("bsTransitionEnd", a.proxy(e, this)).emulateTransitionEnd(d.TRANSITION_DURATION) : e.call(this)
            }
        }
    }
    ,
    d.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    }
    ,
    d.prototype.getParent = function() {
        return a(this.options.parent).find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]').each(a.proxy(function(c, d) {
            var e = a(d);
            this.addAriaAndCollapsedClass(b(e), e)
        }, this)).end()
    }
    ,
    d.prototype.addAriaAndCollapsedClass = function(a, b) {
        var c = a.hasClass("in");
        a.attr("aria-expanded", c),
        b.toggleClass("collapsed", !c).attr("aria-expanded", c)
    }
    ;
    var e = a.fn.collapse;
    a.fn.collapse = c,
    a.fn.collapse.Constructor = d,
    a.fn.collapse.noConflict = function() {
        return a.fn.collapse = e,
        this
    }
    ,
    a(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(d) {
        var e = a(this);
        e.attr("data-target") || d.preventDefault();
        var f = b(e)
          , g = f.data("bs.collapse")
          , h = g ? "toggle" : e.data();
        c.call(f, h)
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        var c = b.attr("data-target");
        c || (c = b.attr("href"),
        c = c && /#[A-Za-z]/.test(c) && c.replace(/.*(?=#[^\s]*$)/, ""));
        var d = c && a(c);
        return d && d.length ? d : b.parent()
    }
    function c(c) {
        c && 3 === c.which || (a(e).remove(),
        a(f).each(function() {
            var d = a(this)
              , e = b(d)
              , f = {
                relatedTarget: this
            };
            e.hasClass("open") && (c && "click" == c.type && /input|textarea/i.test(c.target.tagName) && a.contains(e[0], c.target) || (e.trigger(c = a.Event("hide.bs.dropdown", f)),
            c.isDefaultPrevented() || (d.attr("aria-expanded", "false"),
            e.removeClass("open").trigger(a.Event("hidden.bs.dropdown", f)))))
        }))
    }
    function d(b) {
        return this.each(function() {
            var c = a(this)
              , d = c.data("bs.dropdown");
            d || c.data("bs.dropdown", d = new g(this)),
            "string" == typeof b && d[b].call(c)
        })
    }
    var e = ".dropdown-backdrop"
      , f = '[data-toggle="dropdown"]'
      , g = function(b) {
        a(b).on("click.bs.dropdown", this.toggle)
    };
    g.VERSION = "3.3.7",
    g.prototype.toggle = function(d) {
        var e = a(this);
        if (!e.is(".disabled, :disabled")) {
            var f = b(e)
              , g = f.hasClass("open");
            if (c(),
            !g) {
                "ontouchstart"in document.documentElement && !f.closest(".navbar-nav").length && a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click", c);
                var h = {
                    relatedTarget: this
                };
                if (f.trigger(d = a.Event("show.bs.dropdown", h)),
                d.isDefaultPrevented())
                    return;
                e.trigger("focus").attr("aria-expanded", "true"),
                f.toggleClass("open").trigger(a.Event("shown.bs.dropdown", h))
            }
            return !1
        }
    }
    ,
    g.prototype.keydown = function(c) {
        if (/(38|40|27|32)/.test(c.which) && !/input|textarea/i.test(c.target.tagName)) {
            var d = a(this);
            if (c.preventDefault(),
            c.stopPropagation(),
            !d.is(".disabled, :disabled")) {
                var e = b(d)
                  , g = e.hasClass("open");
                if (!g && 27 != c.which || g && 27 == c.which)
                    return 27 == c.which && e.find(f).trigger("focus"),
                    d.trigger("click");
                var h = " li:not(.disabled):visible a"
                  , i = e.find(".dropdown-menu" + h);
                if (i.length) {
                    var j = i.index(c.target);
                    38 == c.which && j > 0 && j--,
                    40 == c.which && j < i.length - 1 && j++,
                    ~j || (j = 0),
                    i.eq(j).trigger("focus")
                }
            }
        }
    }
    ;
    var h = a.fn.dropdown;
    a.fn.dropdown = d,
    a.fn.dropdown.Constructor = g,
    a.fn.dropdown.noConflict = function() {
        return a.fn.dropdown = h,
        this
    }
    ,
    a(document).on("click.bs.dropdown.data-api", c).on("click.bs.dropdown.data-api", ".dropdown form", function(a) {
        a.stopPropagation()
    }).on("click.bs.dropdown.data-api", f, g.prototype.toggle).on("keydown.bs.dropdown.data-api", f, g.prototype.keydown).on("keydown.bs.dropdown.data-api", ".dropdown-menu", g.prototype.keydown)
}(jQuery),
+function(a) {
    "use strict";
    function b(b, d) {
        return this.each(function() {
            var e = a(this)
              , f = e.data("bs.modal")
              , g = a.extend({}, c.DEFAULTS, e.data(), "object" == typeof b && b);
            f || e.data("bs.modal", f = new c(this,g)),
            "string" == typeof b ? f[b](d) : g.show && f.show(d)
        })
    }
    var c = function(b, c) {
        this.options = c,
        this.$body = a(document.body),
        this.$element = a(b),
        this.$dialog = this.$element.find(".modal-dialog"),
        this.$backdrop = null,
        this.isShown = null,
        this.originalBodyPad = null,
        this.scrollbarWidth = 0,
        this.ignoreBackdropClick = !1,
        this.options.remote && this.$element.find(".modal-content").load(this.options.remote, a.proxy(function() {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    c.VERSION = "3.3.7",
    c.TRANSITION_DURATION = 300,
    c.BACKDROP_TRANSITION_DURATION = 150,
    c.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    },
    c.prototype.toggle = function(a) {
        return this.isShown ? this.hide() : this.show(a)
    }
    ,
    c.prototype.show = function(b) {
        var d = this
          , e = a.Event("show.bs.modal", {
            relatedTarget: b
        });
        this.$element.trigger(e),
        this.isShown || e.isDefaultPrevented() || (this.isShown = !0,
        this.checkScrollbar(),
        this.setScrollbar(),
        this.$body.addClass("modal-open"),
        this.escape(),
        this.resize(),
        this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)),
        this.$dialog.on("mousedown.dismiss.bs.modal", function() {
            d.$element.one("mouseup.dismiss.bs.modal", function(b) {
                a(b.target).is(d.$element) && (d.ignoreBackdropClick = !0)
            })
        }),
        this.backdrop(function() {
            var e = a.support.transition && d.$element.hasClass("fade");
            d.$element.parent().length || d.$element.appendTo(d.$body),
            d.$element.show().scrollTop(0),
            d.adjustDialog(),
            e && d.$element[0].offsetWidth,
            d.$element.addClass("in"),
            d.enforceFocus();
            var f = a.Event("shown.bs.modal", {
                relatedTarget: b
            });
            e ? d.$dialog.one("bsTransitionEnd", function() {
                d.$element.trigger("focus").trigger(f)
            }).emulateTransitionEnd(c.TRANSITION_DURATION) : d.$element.trigger("focus").trigger(f)
        }))
    }
    ,
    c.prototype.hide = function(b) {
        b && b.preventDefault(),
        b = a.Event("hide.bs.modal"),
        this.$element.trigger(b),
        this.isShown && !b.isDefaultPrevented() && (this.isShown = !1,
        this.escape(),
        this.resize(),
        a(document).off("focusin.bs.modal"),
        this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
        this.$dialog.off("mousedown.dismiss.bs.modal"),
        a.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", a.proxy(this.hideModal, this)).emulateTransitionEnd(c.TRANSITION_DURATION) : this.hideModal())
    }
    ,
    c.prototype.enforceFocus = function() {
        a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function(a) {
            document === a.target || this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.trigger("focus")
        }, this))
    }
    ,
    c.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keydown.dismiss.bs.modal", a.proxy(function(a) {
            27 == a.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keydown.dismiss.bs.modal")
    }
    ,
    c.prototype.resize = function() {
        this.isShown ? a(window).on("resize.bs.modal", a.proxy(this.handleUpdate, this)) : a(window).off("resize.bs.modal")
    }
    ,
    c.prototype.hideModal = function() {
        var a = this;
        this.$element.hide(),
        this.backdrop(function() {
            a.$body.removeClass("modal-open"),
            a.resetAdjustments(),
            a.resetScrollbar(),
            a.$element.trigger("hidden.bs.modal")
        })
    }
    ,
    c.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(),
        this.$backdrop = null
    }
    ,
    c.prototype.backdrop = function(b) {
        var d = this
          , e = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var f = a.support.transition && e;
            if (this.$backdrop = a(document.createElement("div")).addClass("modal-backdrop " + e).appendTo(this.$body),
            this.$element.on("click.dismiss.bs.modal", a.proxy(function(a) {
                return this.ignoreBackdropClick ? void (this.ignoreBackdropClick = !1) : void (a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus() : this.hide()))
            }, this)),
            f && this.$backdrop[0].offsetWidth,
            this.$backdrop.addClass("in"),
            !b)
                return;
            f ? this.$backdrop.one("bsTransitionEnd", b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : b()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var g = function() {
                d.removeBackdrop(),
                b && b()
            };
            a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION) : g()
        } else
            b && b()
    }
    ,
    c.prototype.handleUpdate = function() {
        this.adjustDialog()
    }
    ,
    c.prototype.adjustDialog = function() {
        var a = this.$element[0].scrollHeight > document.documentElement.clientHeight;
        this.$element.css({
            paddingLeft: !this.bodyIsOverflowing && a ? this.scrollbarWidth : "",
            paddingRight: this.bodyIsOverflowing && !a ? this.scrollbarWidth : ""
        })
    }
    ,
    c.prototype.resetAdjustments = function() {
        this.$element.css({
            paddingLeft: "",
            paddingRight: ""
        })
    }
    ,
    c.prototype.checkScrollbar = function() {
        var a = window.innerWidth;
        if (!a) {
            var b = document.documentElement.getBoundingClientRect();
            a = b.right - Math.abs(b.left)
        }
        this.bodyIsOverflowing = document.body.clientWidth < a,
        this.scrollbarWidth = this.measureScrollbar()
    }
    ,
    c.prototype.setScrollbar = function() {
        var a = parseInt(this.$body.css("padding-right") || 0, 10);
        this.originalBodyPad = document.body.style.paddingRight || "",
        this.bodyIsOverflowing && this.$body.css("padding-right", a + this.scrollbarWidth)
    }
    ,
    c.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", this.originalBodyPad)
    }
    ,
    c.prototype.measureScrollbar = function() {
        var a = document.createElement("div");
        a.className = "modal-scrollbar-measure",
        this.$body.append(a);
        var b = a.offsetWidth - a.clientWidth;
        return this.$body[0].removeChild(a),
        b
    }
    ;
    var d = a.fn.modal;
    a.fn.modal = b,
    a.fn.modal.Constructor = c,
    a.fn.modal.noConflict = function() {
        return a.fn.modal = d,
        this
    }
    ,
    a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(c) {
        var d = a(this)
          , e = d.attr("href")
          , f = a(d.attr("data-target") || e && e.replace(/.*(?=#[^\s]+$)/, ""))
          , g = f.data("bs.modal") ? "toggle" : a.extend({
            remote: !/#/.test(e) && e
        }, f.data(), d.data());
        d.is("a") && c.preventDefault(),
        f.one("show.bs.modal", function(a) {
            a.isDefaultPrevented() || f.one("hidden.bs.modal", function() {
                d.is(":visible") && d.trigger("focus")
            })
        }),
        b.call(f, g, this)
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.tooltip")
              , f = "object" == typeof b && b;
            !e && /destroy|hide/.test(b) || (e || d.data("bs.tooltip", e = new c(this,f)),
            "string" == typeof b && e[b]())
        })
    }
    var c = function(a, b) {
        this.type = null,
        this.options = null,
        this.enabled = null,
        this.timeout = null,
        this.hoverState = null,
        this.$element = null,
        this.inState = null,
        this.init("tooltip", a, b)
    };
    c.VERSION = "3.3.7",
    c.TRANSITION_DURATION = 150,
    c.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    },
    c.prototype.init = function(b, c, d) {
        if (this.enabled = !0,
        this.type = b,
        this.$element = a(c),
        this.options = this.getOptions(d),
        this.$viewport = this.options.viewport && a(a.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : this.options.viewport.selector || this.options.viewport),
        this.inState = {
            click: !1,
            hover: !1,
            focus: !1
        },
        this.$element[0]instanceof document.constructor && !this.options.selector)
            throw new Error("`selector` option must be specified when initializing " + this.type + " on the window.document object!");
        for (var e = this.options.trigger.split(" "), f = e.length; f--; ) {
            var g = e[f];
            if ("click" == g)
                this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this));
            else if ("manual" != g) {
                var h = "hover" == g ? "mouseenter" : "focusin"
                  , i = "hover" == g ? "mouseleave" : "focusout";
                this.$element.on(h + "." + this.type, this.options.selector, a.proxy(this.enter, this)),
                this.$element.on(i + "." + this.type, this.options.selector, a.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = a.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }
    ,
    c.prototype.getDefaults = function() {
        return c.DEFAULTS
    }
    ,
    c.prototype.getOptions = function(b) {
        return b = a.extend({}, this.getDefaults(), this.$element.data(), b),
        b.delay && "number" == typeof b.delay && (b.delay = {
            show: b.delay,
            hide: b.delay
        }),
        b
    }
    ,
    c.prototype.getDelegateOptions = function() {
        var b = {}
          , c = this.getDefaults();
        return this._options && a.each(this._options, function(a, d) {
            c[a] != d && (b[a] = d)
        }),
        b
    }
    ,
    c.prototype.enter = function(b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        return c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
        a(b.currentTarget).data("bs." + this.type, c)),
        b instanceof a.Event && (c.inState["focusin" == b.type ? "focus" : "hover"] = !0),
        c.tip().hasClass("in") || "in" == c.hoverState ? void (c.hoverState = "in") : (clearTimeout(c.timeout),
        c.hoverState = "in",
        c.options.delay && c.options.delay.show ? void (c.timeout = setTimeout(function() {
            "in" == c.hoverState && c.show()
        }, c.options.delay.show)) : c.show())
    }
    ,
    c.prototype.isInStateTrue = function() {
        for (var a in this.inState)
            if (this.inState[a])
                return !0;
        return !1
    }
    ,
    c.prototype.leave = function(b) {
        var c = b instanceof this.constructor ? b : a(b.currentTarget).data("bs." + this.type);
        if (c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
        a(b.currentTarget).data("bs." + this.type, c)),
        b instanceof a.Event && (c.inState["focusout" == b.type ? "focus" : "hover"] = !1),
        !c.isInStateTrue())
            return clearTimeout(c.timeout),
            c.hoverState = "out",
            c.options.delay && c.options.delay.hide ? void (c.timeout = setTimeout(function() {
                "out" == c.hoverState && c.hide()
            }, c.options.delay.hide)) : c.hide()
    }
    ,
    c.prototype.show = function() {
        var b = a.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(b);
            var d = a.contains(this.$element[0].ownerDocument.documentElement, this.$element[0]);
            if (b.isDefaultPrevented() || !d)
                return;
            var e = this
              , f = this.tip()
              , g = this.getUID(this.type);
            this.setContent(),
            f.attr("id", g),
            this.$element.attr("aria-describedby", g),
            this.options.animation && f.addClass("fade");
            var h = "function" == typeof this.options.placement ? this.options.placement.call(this, f[0], this.$element[0]) : this.options.placement
              , i = /\s?auto?\s?/i
              , j = i.test(h);
            j && (h = h.replace(i, "") || "top"),
            f.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(h).data("bs." + this.type, this),
            this.options.container ? f.appendTo(this.options.container) : f.insertAfter(this.$element),
            this.$element.trigger("inserted.bs." + this.type);
            var k = this.getPosition()
              , l = f[0].offsetWidth
              , m = f[0].offsetHeight;
            if (j) {
                var n = h
                  , o = this.getPosition(this.$viewport);
                h = "bottom" == h && k.bottom + m > o.bottom ? "top" : "top" == h && k.top - m < o.top ? "bottom" : "right" == h && k.right + l > o.width ? "left" : "left" == h && k.left - l < o.left ? "right" : h,
                f.removeClass(n).addClass(h)
            }
            var p = this.getCalculatedOffset(h, k, l, m);
            this.applyPlacement(p, h);
            var q = function() {
                var a = e.hoverState;
                e.$element.trigger("shown.bs." + e.type),
                e.hoverState = null,
                "out" == a && e.leave(e)
            };
            a.support.transition && this.$tip.hasClass("fade") ? f.one("bsTransitionEnd", q).emulateTransitionEnd(c.TRANSITION_DURATION) : q()
        }
    }
    ,
    c.prototype.applyPlacement = function(b, c) {
        var d = this.tip()
          , e = d[0].offsetWidth
          , f = d[0].offsetHeight
          , g = parseInt(d.css("margin-top"), 10)
          , h = parseInt(d.css("margin-left"), 10);
        isNaN(g) && (g = 0),
        isNaN(h) && (h = 0),
        b.top += g,
        b.left += h,
        a.offset.setOffset(d[0], a.extend({
            using: function(a) {
                d.css({
                    top: Math.round(a.top),
                    left: Math.round(a.left)
                })
            }
        }, b), 0),
        d.addClass("in");
        var i = d[0].offsetWidth
          , j = d[0].offsetHeight;
        "top" == c && j != f && (b.top = b.top + f - j);
        var k = this.getViewportAdjustedDelta(c, b, i, j);
        k.left ? b.left += k.left : b.top += k.top;
        var l = /top|bottom/.test(c)
          , m = l ? 2 * k.left - e + i : 2 * k.top - f + j
          , n = l ? "offsetWidth" : "offsetHeight";
        d.offset(b),
        this.replaceArrow(m, d[0][n], l)
    }
    ,
    c.prototype.replaceArrow = function(a, b, c) {
        this.arrow().css(c ? "left" : "top", 50 * (1 - a / b) + "%").css(c ? "top" : "left", "")
    }
    ,
    c.prototype.setContent = function() {
        var a = this.tip()
          , b = this.getTitle();
        a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b),
        a.removeClass("fade in top bottom left right")
    }
    ,
    c.prototype.hide = function(b) {
        function d() {
            "in" != e.hoverState && f.detach(),
            e.$element && e.$element.removeAttr("aria-describedby").trigger("hidden.bs." + e.type),
            b && b()
        }
        var e = this
          , f = a(this.$tip)
          , g = a.Event("hide.bs." + this.type);
        if (this.$element.trigger(g),
        !g.isDefaultPrevented())
            return f.removeClass("in"),
            a.support.transition && f.hasClass("fade") ? f.one("bsTransitionEnd", d).emulateTransitionEnd(c.TRANSITION_DURATION) : d(),
            this.hoverState = null,
            this
    }
    ,
    c.prototype.fixTitle = function() {
        var a = this.$element;
        (a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").attr("title", "")
    }
    ,
    c.prototype.hasContent = function() {
        return this.getTitle()
    }
    ,
    c.prototype.getPosition = function(b) {
        b = b || this.$element;
        var c = b[0]
          , d = "BODY" == c.tagName
          , e = c.getBoundingClientRect();
        null == e.width && (e = a.extend({}, e, {
            width: e.right - e.left,
            height: e.bottom - e.top
        }));
        var f = window.SVGElement && c instanceof window.SVGElement
          , g = d ? {
            top: 0,
            left: 0
        } : f ? null : b.offset()
          , h = {
            scroll: d ? document.documentElement.scrollTop || document.body.scrollTop : b.scrollTop()
        }
          , i = d ? {
            width: a(window).width(),
            height: a(window).height()
        } : null;
        return a.extend({}, e, h, i, g)
    }
    ,
    c.prototype.getCalculatedOffset = function(a, b, c, d) {
        return "bottom" == a ? {
            top: b.top + b.height,
            left: b.left + b.width / 2 - c / 2
        } : "top" == a ? {
            top: b.top - d,
            left: b.left + b.width / 2 - c / 2
        } : "left" == a ? {
            top: b.top + b.height / 2 - d / 2,
            left: b.left - c
        } : {
            top: b.top + b.height / 2 - d / 2,
            left: b.left + b.width
        }
    }
    ,
    c.prototype.getViewportAdjustedDelta = function(a, b, c, d) {
        var e = {
            top: 0,
            left: 0
        };
        if (!this.$viewport)
            return e;
        var f = this.options.viewport && this.options.viewport.padding || 0
          , g = this.getPosition(this.$viewport);
        if (/right|left/.test(a)) {
            var h = b.top - f - g.scroll
              , i = b.top + f - g.scroll + d;
            h < g.top ? e.top = g.top - h : i > g.top + g.height && (e.top = g.top + g.height - i)
        } else {
            var j = b.left - f
              , k = b.left + f + c;
            j < g.left ? e.left = g.left - j : k > g.right && (e.left = g.left + g.width - k)
        }
        return e
    }
    ,
    c.prototype.getTitle = function() {
        var a, b = this.$element, c = this.options;
        return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title)
    }
    ,
    c.prototype.getUID = function(a) {
        do
            a += ~~(1e6 * Math.random());
        while (document.getElementById(a));return a
    }
    ,
    c.prototype.tip = function() {
        if (!this.$tip && (this.$tip = a(this.options.template),
        1 != this.$tip.length))
            throw new Error(this.type + " `template` option must consist of exactly 1 top-level element!");
        return this.$tip
    }
    ,
    c.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }
    ,
    c.prototype.enable = function() {
        this.enabled = !0
    }
    ,
    c.prototype.disable = function() {
        this.enabled = !1
    }
    ,
    c.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }
    ,
    c.prototype.toggle = function(b) {
        var c = this;
        b && (c = a(b.currentTarget).data("bs." + this.type),
        c || (c = new this.constructor(b.currentTarget,this.getDelegateOptions()),
        a(b.currentTarget).data("bs." + this.type, c))),
        b ? (c.inState.click = !c.inState.click,
        c.isInStateTrue() ? c.enter(c) : c.leave(c)) : c.tip().hasClass("in") ? c.leave(c) : c.enter(c)
    }
    ,
    c.prototype.destroy = function() {
        var a = this;
        clearTimeout(this.timeout),
        this.hide(function() {
            a.$element.off("." + a.type).removeData("bs." + a.type),
            a.$tip && a.$tip.detach(),
            a.$tip = null,
            a.$arrow = null,
            a.$viewport = null,
            a.$element = null
        })
    }
    ;
    var d = a.fn.tooltip;
    a.fn.tooltip = b,
    a.fn.tooltip.Constructor = c,
    a.fn.tooltip.noConflict = function() {
        return a.fn.tooltip = d,
        this
    }
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.popover")
              , f = "object" == typeof b && b;
            !e && /destroy|hide/.test(b) || (e || d.data("bs.popover", e = new c(this,f)),
            "string" == typeof b && e[b]())
        })
    }
    var c = function(a, b) {
        this.init("popover", a, b)
    };
    if (!a.fn.tooltip)
        throw new Error("Popover requires tooltip.js");
    c.VERSION = "3.3.7",
    c.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }),
    c.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype),
    c.prototype.constructor = c,
    c.prototype.getDefaults = function() {
        return c.DEFAULTS
    }
    ,
    c.prototype.setContent = function() {
        var a = this.tip()
          , b = this.getTitle()
          , c = this.getContent();
        a.find(".popover-title")[this.options.html ? "html" : "text"](b),
        a.find(".popover-content").children().detach().end()[this.options.html ? "string" == typeof c ? "html" : "append" : "text"](c),
        a.removeClass("fade top bottom left right in"),
        a.find(".popover-title").html() || a.find(".popover-title").hide()
    }
    ,
    c.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }
    ,
    c.prototype.getContent = function() {
        var a = this.$element
          , b = this.options;
        return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content)
    }
    ,
    c.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    }
    ;
    var d = a.fn.popover;
    a.fn.popover = b,
    a.fn.popover.Constructor = c,
    a.fn.popover.noConflict = function() {
        return a.fn.popover = d,
        this
    }
}(jQuery),
+function(a) {
    "use strict";
    function b(c, d) {
        this.$body = a(document.body),
        this.$scrollElement = a(a(c).is(document.body) ? window : c),
        this.options = a.extend({}, b.DEFAULTS, d),
        this.selector = (this.options.target || "") + " .nav li > a",
        this.offsets = [],
        this.targets = [],
        this.activeTarget = null,
        this.scrollHeight = 0,
        this.$scrollElement.on("scroll.bs.scrollspy", a.proxy(this.process, this)),
        this.refresh(),
        this.process()
    }
    function c(c) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.scrollspy")
              , f = "object" == typeof c && c;
            e || d.data("bs.scrollspy", e = new b(this,f)),
            "string" == typeof c && e[c]()
        })
    }
    b.VERSION = "3.3.7",
    b.DEFAULTS = {
        offset: 10
    },
    b.prototype.getScrollHeight = function() {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }
    ,
    b.prototype.refresh = function() {
        var b = this
          , c = "offset"
          , d = 0;
        this.offsets = [],
        this.targets = [],
        this.scrollHeight = this.getScrollHeight(),
        a.isWindow(this.$scrollElement[0]) || (c = "position",
        d = this.$scrollElement.scrollTop()),
        this.$body.find(this.selector).map(function() {
            var b = a(this)
              , e = b.data("target") || b.attr("href")
              , f = /^#./.test(e) && a(e);
            return f && f.length && f.is(":visible") && [[f[c]().top + d, e]] || null
        }).sort(function(a, b) {
            return a[0] - b[0]
        }).each(function() {
            b.offsets.push(this[0]),
            b.targets.push(this[1])
        })
    }
    ,
    b.prototype.process = function() {
        var a, b = this.$scrollElement.scrollTop() + this.options.offset, c = this.getScrollHeight(), d = this.options.offset + c - this.$scrollElement.height(), e = this.offsets, f = this.targets, g = this.activeTarget;
        if (this.scrollHeight != c && this.refresh(),
        b >= d)
            return g != (a = f[f.length - 1]) && this.activate(a);
        if (g && b < e[0])
            return this.activeTarget = null,
            this.clear();
        for (a = e.length; a--; )
            g != f[a] && b >= e[a] && (void 0 === e[a + 1] || b < e[a + 1]) && this.activate(f[a])
    }
    ,
    b.prototype.activate = function(b) {
        this.activeTarget = b,
        this.clear();
        var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]'
          , d = a(c).parents("li").addClass("active");
        d.parent(".dropdown-menu").length && (d = d.closest("li.dropdown").addClass("active")),
        d.trigger("activate.bs.scrollspy")
    }
    ,
    b.prototype.clear = function() {
        a(this.selector).parentsUntil(this.options.target, ".active").removeClass("active")
    }
    ;
    var d = a.fn.scrollspy;
    a.fn.scrollspy = c,
    a.fn.scrollspy.Constructor = b,
    a.fn.scrollspy.noConflict = function() {
        return a.fn.scrollspy = d,
        this
    }
    ,
    a(window).on("load.bs.scrollspy.data-api", function() {
        a('[data-spy="scroll"]').each(function() {
            var b = a(this);
            c.call(b, b.data())
        })
    })
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.tab");
            e || d.data("bs.tab", e = new c(this)),
            "string" == typeof b && e[b]()
        })
    }
    var c = function(b) {
        this.element = a(b)
    };
    c.VERSION = "3.3.7",
    c.TRANSITION_DURATION = 150,
    c.prototype.show = function() {
        var b = this.element
          , c = b.closest("ul:not(.dropdown-menu)")
          , d = b.data("target");
        if (d || (d = b.attr("href"),
        d = d && d.replace(/.*(?=#[^\s]*$)/, "")),
        !b.parent("li").hasClass("active")) {
            var e = c.find(".active:last a")
              , f = a.Event("hide.bs.tab", {
                relatedTarget: b[0]
            })
              , g = a.Event("show.bs.tab", {
                relatedTarget: e[0]
            });
            if (e.trigger(f),
            b.trigger(g),
            !g.isDefaultPrevented() && !f.isDefaultPrevented()) {
                var h = a(d);
                this.activate(b.closest("li"), c),
                this.activate(h, h.parent(), function() {
                    e.trigger({
                        type: "hidden.bs.tab",
                        relatedTarget: b[0]
                    }),
                    b.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: e[0]
                    })
                })
            }
        }
    }
    ,
    c.prototype.activate = function(b, d, e) {
        function f() {
            g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !1),
            b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded", !0),
            h ? (b[0].offsetWidth,
            b.addClass("in")) : b.removeClass("fade"),
            b.parent(".dropdown-menu").length && b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded", !0),
            e && e()
        }
        var g = d.find("> .active")
          , h = e && a.support.transition && (g.length && g.hasClass("fade") || !!d.find("> .fade").length);
        g.length && h ? g.one("bsTransitionEnd", f).emulateTransitionEnd(c.TRANSITION_DURATION) : f(),
        g.removeClass("in")
    }
    ;
    var d = a.fn.tab;
    a.fn.tab = b,
    a.fn.tab.Constructor = c,
    a.fn.tab.noConflict = function() {
        return a.fn.tab = d,
        this
    }
    ;
    var e = function(c) {
        c.preventDefault(),
        b.call(a(this), "show")
    };
    a(document).on("click.bs.tab.data-api", '[data-toggle="tab"]', e).on("click.bs.tab.data-api", '[data-toggle="pill"]', e)
}(jQuery),
+function(a) {
    "use strict";
    function b(b) {
        return this.each(function() {
            var d = a(this)
              , e = d.data("bs.affix")
              , f = "object" == typeof b && b;
            e || d.data("bs.affix", e = new c(this,f)),
            "string" == typeof b && e[b]()
        })
    }
    var c = function(b, d) {
        this.options = a.extend({}, c.DEFAULTS, d),
        this.$target = a(this.options.target).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this)),
        this.$element = a(b),
        this.affixed = null,
        this.unpin = null,
        this.pinnedOffset = null,
        this.checkPosition()
    };
    c.VERSION = "3.3.7",
    c.RESET = "affix affix-top affix-bottom",
    c.DEFAULTS = {
        offset: 0,
        target: window
    },
    c.prototype.getState = function(a, b, c, d) {
        var e = this.$target.scrollTop()
          , f = this.$element.offset()
          , g = this.$target.height();
        if (null != c && "top" == this.affixed)
            return e < c && "top";
        if ("bottom" == this.affixed)
            return null != c ? !(e + this.unpin <= f.top) && "bottom" : !(e + g <= a - d) && "bottom";
        var h = null == this.affixed
          , i = h ? e : f.top
          , j = h ? g : b;
        return null != c && e <= c ? "top" : null != d && i + j >= a - d && "bottom"
    }
    ,
    c.prototype.getPinnedOffset = function() {
        if (this.pinnedOffset)
            return this.pinnedOffset;
        this.$element.removeClass(c.RESET).addClass("affix");
        var a = this.$target.scrollTop()
          , b = this.$element.offset();
        return this.pinnedOffset = b.top - a
    }
    ,
    c.prototype.checkPositionWithEventLoop = function() {
        setTimeout(a.proxy(this.checkPosition, this), 1)
    }
    ,
    c.prototype.checkPosition = function() {
        if (this.$element.is(":visible")) {
            var b = this.$element.height()
              , d = this.options.offset
              , e = d.top
              , f = d.bottom
              , g = Math.max(a(document).height(), a(document.body).height());
            "object" != typeof d && (f = e = d),
            "function" == typeof e && (e = d.top(this.$element)),
            "function" == typeof f && (f = d.bottom(this.$element));
            var h = this.getState(g, b, e, f);
            if (this.affixed != h) {
                null != this.unpin && this.$element.css("top", "");
                var i = "affix" + (h ? "-" + h : "")
                  , j = a.Event(i + ".bs.affix");
                if (this.$element.trigger(j),
                j.isDefaultPrevented())
                    return;
                this.affixed = h,
                this.unpin = "bottom" == h ? this.getPinnedOffset() : null,
                this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix", "affixed") + ".bs.affix")
            }
            "bottom" == h && this.$element.offset({
                top: g - b - f
            })
        }
    }
    ;
    var d = a.fn.affix;
    a.fn.affix = b,
    a.fn.affix.Constructor = c,
    a.fn.affix.noConflict = function() {
        return a.fn.affix = d,
        this
    }
    ,
    a(window).on("load", function() {
        a('[data-spy="affix"]').each(function() {
            var c = a(this)
              , d = c.data();
            d.offset = d.offset || {},
            null != d.offsetBottom && (d.offset.bottom = d.offsetBottom),
            null != d.offsetTop && (d.offset.top = d.offsetTop),
            b.call(c, d)
        })
    })
}(jQuery);

ACC.cookie = {
    getCookieValueFor: function(cookieName) {
        if ($.cookie(cookieName)) {
            var cookieValue = $.cookie(cookieName);
            if (cookieValue[0] === "\"" && cookieValue[cookieValue.length - 1] === "\"") {
                cookieValue = cookieValue.substr(1, cookieValue.length - 1)
            }
            return cookieValue;
        }
        return null;
    },
    setCookieValueFor: function(cookieName, cookieValue, expires) {
        $.cookie(cookieName, cookieValue, {
            expires: expires || 4000,
            path: '/',
            secure: true
        });
    },
    getCookieJsonFor: function(cookieName) {
        var cookieValue = ACC.cookie.getCookieValueFor(cookieName);
        if (cookieValue != null) {
            return JSON.parse(decodeURIComponent(escape($.base64.decode(cookieValue))));
        }
        return null;
    },
    setCookieJsonFor: function(cookieName, cookieValue) {
        ACC.cookie.setCookieValueFor(cookieName, $.base64.encode(JSON.stringify(cookieValue)));
    },
    hasCookie: function(cookieName) {
        return $.cookie(cookieName) != null;
    },
    initializeClientInfoCookie: function() {
        if (!ACC.cookie.hasCookie("clientInfo")) {
            var json = {};
            json.isLoggedIn = false;
            json.saluation = null;
            json.cartEntryCount = 0;
            json.wishlistEntryCount = 0;
            json.wishlistProductCodes = [];
            json.uid = "";
            ACC.cookie.setCookieJsonFor("clientInfo", json);
        }
    },
    getClientInfoCookie: function() {
        return ACC.cookie.getCookieJsonFor("clientInfo");
    },
    initializeRichRelevanceCookies: function() {
        if (!ACC.cookie.hasCookie("trackingRichRelevance")) {
            var json = {};
            json.user = null;
            json.cart = null;
            json.orderDiscounts = null;
            ACC.cookie.setCookieJsonFor("trackingRichRelevance", json);
        }
        if (!ACC.cookie.hasCookie("sessionRichRelevance")) {
            ACC.cookie.setCookieValueFor("sessionRichRelevance", ACC.common.generateGuid())
        }
    },
    getRichRelevanceTrackingCookie: function() {
        return ACC.cookie.getCookieJsonFor("trackingRichRelevance");
    },
    getRichRelevanceSessionCookie: function() {
        return ACC.cookie.getCookieValueFor("sessionRichRelevance");
    },
    initializeAffiliateTrackingCookies: function() {
        var resetAffiliateTrackingCookie = window.location.href.match("[&|\?]" + ACC.config.affiliateTrackingUrlParameter + "([=|&].*)?$");
        if (resetAffiliateTrackingCookie) {
            ACC.cookie.setCookieValueFor("TrackingCID", "151", 45);
            ACC.cookie.setCookieValueFor("TrackingSecretKey", "fsm3a", 45);
        }
    },
    checkIfCookiesAreDisabled: function() {
        var cookiesAreDisabled = false;
        try {
            document.cookie = 'testCookie=1';
            cookiesAreDisabled = document.cookie.indexOf('testCookie=') === -1;
            document.cookie = 'testCookie=1; expires=Thu, 01-Jan-1970 00:00:01 GMT';
            return cookiesAreDisabled;
        } catch (e) {
            return true;
        }
        return false;
    },
    showCookieBlockedPopup: function() {
        setTimeout(function() {
            $(".js-nocookie-trigger").click();
        }, 1);
    },
    initializeCookies: function() {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            ACC.cookie.showCookieBlockedPopup();
            return;
        }
        ACC.cookie.initializeClientInfoCookie();
        ACC.cookie.initializeRichRelevanceCookies();
        ACC.cookie.initializeAffiliateTrackingCookies();
    }
};
!function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.Sweetalert2 = t()
}(this, function() {
    "use strict";
    var e = {
        title: "",
        titleText: "",
        text: "",
        html: "",
        footer: "",
        type: null,
        toast: !1,
        customClass: "",
        target: "body",
        backdrop: !0,
        animation: !0,
        allowOutsideClick: !0,
        allowEscapeKey: !0,
        allowEnterKey: !0,
        showConfirmButton: !0,
        showCancelButton: !1,
        preConfirm: null,
        confirmButtonText: "OK",
        confirmButtonAriaLabel: "",
        confirmButtonColor: null,
        confirmButtonClass: null,
        cancelButtonText: "Cancel",
        cancelButtonAriaLabel: "",
        cancelButtonColor: null,
        cancelButtonClass: null,
        buttonsStyling: !0,
        reverseButtons: !1,
        focusConfirm: !0,
        focusCancel: !1,
        showCloseButton: !1,
        closeButtonAriaLabel: "Close this dialog",
        showLoaderOnConfirm: !1,
        imageUrl: null,
        imageWidth: null,
        imageHeight: null,
        imageAlt: "",
        imageClass: null,
        timer: null,
        width: null,
        padding: null,
        background: null,
        input: null,
        inputPlaceholder: "",
        inputValue: "",
        inputOptions: {},
        inputAutoTrim: !0,
        inputClass: null,
        inputAttributes: {},
        inputValidator: null,
        grow: !1,
        position: "center",
        progressSteps: [],
        currentProgressStep: null,
        progressStepsDistance: null,
        onBeforeOpen: null,
        onOpen: null,
        onClose: null,
        useRejections: !1,
        expectRejections: !1
    }
      , t = ["useRejections", "expectRejections"]
      , n = function(e) {
        var t = {};
        for (var n in e)
            t[e[n]] = "swal2-" + e[n];
        return t
    }
      , o = n(["container", "shown", "iosfix", "popup", "modal", "no-backdrop", "toast", "toast-shown", "overlay", "fade", "show", "hide", "noanimation", "close", "title", "header", "content", "actions", "confirm", "cancel", "footer", "icon", "image", "input", "has-input", "file", "range", "select", "radio", "checkbox", "textarea", "inputerror", "validationerror", "progresssteps", "activeprogressstep", "progresscircle", "progressline", "loading", "styled", "top", "top-start", "top-end", "top-left", "top-right", "center", "center-start", "center-end", "center-left", "center-right", "bottom", "bottom-start", "bottom-end", "bottom-left", "bottom-right", "grow-row", "grow-column", "grow-fullscreen"])
      , r = n(["success", "warning", "info", "question", "error"])
      , i = "SweetAlert2:"
      , a = function(e) {
        if (e instanceof Map)
            return e;
        var t = new Map;
        return Object.keys(e).forEach(function(n) {
            t.set(n, e[n])
        }),
        t
    }
      , s = function(e) {
        console.warn(i + " " + e)
    }
      , l = function(e) {
        console.error(i + " " + e)
    }
      , u = []
      , c = function(e) {
        -1 === u.indexOf(e) && (u.push(e),
        s(e))
    }
      , d = function(e) {
        return "function" == typeof e ? e() : e
    }
      , p = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
      , f = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var o in n)
                Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o])
        }
        return e
    }
      , m = function() {
        return function(e, t) {
            if (Array.isArray(e))
                return e;
            if (Symbol.iterator in Object(e))
                return function(e, t) {
                    var n = []
                      , o = !0
                      , r = !1
                      , i = void 0;
                    try {
                        for (var a, s = e[Symbol.iterator](); !(o = (a = s.next()).done) && (n.push(a.value),
                        !t || n.length !== t); o = !0)
                            ;
                    } catch (e) {
                        r = !0,
                        i = e
                    } finally {
                        try {
                            !o && s.return && s.return()
                        } finally {
                            if (r)
                                throw i
                        }
                    }
                    return n
                }(e, t);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }()
      , v = {
        previousActiveElement: null,
        previousBodyPadding: null
    }
      , g = function() {
        return "undefined" == typeof window || "undefined" == typeof document
    }
      , b = function(e) {
        var t = y();
        if (t && (t.parentNode.removeChild(t),
        I([document.documentElement, document.body], [o["no-backdrop"], o["has-input"], o["toast-shown"]])),
        !g()) {
            var n = document.createElement("div");
            n.className = o.container,
            n.innerHTML = h,
            ("string" == typeof e.target ? document.querySelector(e.target) : e.target).appendChild(n);
            var r = w()
              , i = k()
              , a = D(i, o.input)
              , s = D(i, o.file)
              , u = i.querySelector("." + o.range + " input")
              , c = i.querySelector("." + o.range + " output")
              , d = D(i, o.select)
              , p = i.querySelector("." + o.checkbox + " input")
              , f = D(i, o.textarea);
            r.setAttribute("aria-live", e.toast ? "polite" : "assertive");
            var m = function() {
                G.isVisible() && G.resetValidationError()
            };
            return a.oninput = m,
            s.onchange = m,
            d.onchange = m,
            p.onchange = m,
            f.oninput = m,
            u.oninput = function() {
                m(),
                c.value = u.value
            }
            ,
            u.onchange = function() {
                m(),
                u.previousSibling.value = u.value
            }
            ,
            r
        }
        l("SweetAlert2 requires document to initialize")
    }
      , h = ('\n <div role="dialog" aria-modal="true" aria-labelledby="' + o.title + '" aria-describedby="' + o.content + '" class="' + o.popup + '" tabindex="-1">\n   <div class="' + o.header + '">\n     <ul class="' + o.progresssteps + '"></ul>\n     <div class="' + o.icon + " " + r.error + '">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="' + o.icon + " " + r.question + '">?</div>\n     <div class="' + o.icon + " " + r.warning + '">!</div>\n     <div class="' + o.icon + " " + r.info + '">i</div>\n     <div class="' + o.icon + " " + r.success + '">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="' + o.image + '" />\n     <h2 class="' + o.title + '" id="' + o.title + '"></h2>\n     <button type="button" class="' + o.close + '">×</button>\n   </div>\n   <div class="' + o.content + '">\n     <div id="' + o.content + '"></div>\n     <input class="' + o.input + '" />\n     <input type="file" class="' + o.file + '" />\n     <div class="' + o.range + '">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="' + o.select + '"></select>\n     <div class="' + o.radio + '"></div>\n     <label for="' + o.checkbox + '" class="' + o.checkbox + '">\n       <input type="checkbox" />\n     </label>\n     <textarea class="' + o.textarea + '"></textarea>\n     <div class="' + o.validationerror + '" id="' + o.validationerror + '"></div>\n   </div>\n   <div class="' + o.actions + '">\n     <button type="button" class="' + o.confirm + '">OK</button>\n     <button type="button" class="' + o.cancel + '">Cancel</button>\n   </div>\n   <div class="' + o.footer + '">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g, "")
      , y = function() {
        return document.body.querySelector("." + o.container)
    }
      , w = function() {
        return y() ? y().querySelector("." + o.popup) : null
    }
      , C = function(e) {
        return y() ? y().querySelector("." + e) : null
    }
      , x = function() {
        return C(o.title)
    }
      , k = function() {
        return C(o.content)
    }
      , S = function() {
        return C(o.image)
    }
      , A = function() {
        return C(o.progresssteps)
    }
      , B = function() {
        return C(o.validationerror)
    }
      , P = function() {
        return C(o.confirm)
    }
      , E = function() {
        return C(o.cancel)
    }
      , L = function() {
        return C(o.actions)
    }
      , T = function() {
        return C(o.footer)
    }
      , q = function() {
        return C(o.close)
    }
      , V = function() {
        var e = Array.prototype.slice.call(w().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(e, t) {
            return (e = parseInt(e.getAttribute("tabindex"))) > (t = parseInt(t.getAttribute("tabindex"))) ? 1 : e < t ? -1 : 0
        })
          , t = Array.prototype.slice.call(w().querySelectorAll('button, input:not([type=hidden]), textarea, select, a, [tabindex="0"]'));
        return function(e) {
            var t = [];
            for (var n in e)
                -1 === t.indexOf(e[n]) && t.push(e[n]);
            return t
        }(e.concat(t))
    }
      , O = function(e, t) {
        if (!e)
            return W(t);
        if ("object" === (void 0 === e ? "undefined" : p(e)))
            if (t.innerHTML = "",
            0 in e)
                for (var n = 0; n in e; n++)
                    t.appendChild(e[n].cloneNode(!0));
            else
                t.appendChild(e.cloneNode(!0));
        else
            e && (t.innerHTML = e);
        U(t)
    }
      , j = function() {
        return !document.body.classList.contains(o["toast-shown"])
    }
      , N = function(e, t) {
        return !!e.classList && e.classList.contains(t)
    }
      , M = function(e) {
        if (e.focus(),
        "file" !== e.type) {
            var t = e.value;
            e.value = "",
            e.value = t
        }
    }
      , R = function(e, t, n) {
        e && t && ("string" == typeof t && (t = t.split(/\s+/).filter(Boolean)),
        t.forEach(function(t) {
            e.forEach ? e.forEach(function(e) {
                n ? e.classList.add(t) : e.classList.remove(t)
            }) : n ? e.classList.add(t) : e.classList.remove(t)
        }))
    }
      , H = function(e, t) {
        R(e, t, !0)
    }
      , I = function(e, t) {
        R(e, t, !1)
    }
      , D = function(e, t) {
        for (var n = 0; n < e.childNodes.length; n++)
            if (N(e.childNodes[n], t))
                return e.childNodes[n]
    }
      , U = function(e, t) {
        t || (t = e.id === o.content ? "block" : "flex"),
        e.style.opacity = "",
        e.style.display = t
    }
      , W = function(e) {
        e.style.opacity = "",
        e.style.display = "none"
    }
      , z = function(e) {
        return e && (e.offsetWidth || e.offsetHeight || e.getClientRects().length)
    }
      , K = function() {
        if (g())
            return !1;
        var e = document.createElement("div")
          , t = {
            WebkitAnimation: "webkitAnimationEnd",
            OAnimation: "oAnimationEnd oanimationend",
            animation: "animationend"
        };
        for (var n in t)
            if (t.hasOwnProperty(n) && void 0 !== e.style[n])
                return t[n];
        return !1
    }()
      , Z = f({}, e)
      , _ = []
      , Q = void 0
      , Y = void 0
      , $ = function(e) {
        for (var t in e)
            G.isValidParameter(t) || s('Unknown parameter "' + t + '"'),
            G.isDeprecatedParameter(t) && c('The parameter "' + t + '" is deprecated and will be removed in the next major release.')
    }
      , F = function(e) {
        ("string" == typeof e.target && !document.querySelector(e.target) || "string" != typeof e.target && !e.target.appendChild) && (s('Target parameter is not valid, defaulting to "body"'),
        e.target = "body");
        var t = void 0
          , n = w()
          , i = "string" == typeof e.target ? document.querySelector(e.target) : e.target;
        t = n && i && n.parentNode !== i.parentNode ? b(e) : n || b(e),
        e.width && (t.style.width = "number" == typeof e.width ? e.width + "px" : e.width),
        e.padding && (t.style.padding = "number" == typeof e.padding ? e.padding + "px" : e.padding),
        e.background && (t.style.background = e.background);
        for (var a = window.getComputedStyle(t).getPropertyValue("background-color"), u = t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"), c = 0; c < u.length; c++)
            u[c].style.backgroundColor = a;
        var d = y()
          , p = x()
          , f = k().querySelector("#" + o.content)
          , m = L()
          , v = P()
          , g = E()
          , h = q()
          , C = T();
        if (e.titleText ? p.innerText = e.titleText : p.innerHTML = e.title.split("\n").join("<br />"),
        e.backdrop || H([document.documentElement, document.body], o["no-backdrop"]),
        e.html ? O(e.html, f) : e.text ? (f.textContent = e.text,
        U(f)) : W(f),
        e.position in o && H(d, o[e.position]),
        e.grow && "string" == typeof e.grow) {
            var B = "grow-" + e.grow;
            B in o && H(d, o[B])
        }
        e.showCloseButton ? (h.setAttribute("aria-label", e.closeButtonAriaLabel),
        U(h)) : W(h),
        t.className = o.popup,
        e.toast ? (H([document.documentElement, document.body], o["toast-shown"]),
        H(t, o.toast)) : H(t, o.modal),
        e.customClass && H(t, e.customClass);
        var V = A()
          , j = parseInt(null === e.currentProgressStep ? G.getQueueStep() : e.currentProgressStep, 10);
        e.progressSteps.length ? (U(V),
        function(e) {
            for (; e.firstChild; )
                e.removeChild(e.firstChild)
        }(V),
        j >= e.progressSteps.length && s("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),
        e.progressSteps.forEach(function(t, n) {
            var r = document.createElement("li");
            if (H(r, o.progresscircle),
            r.innerHTML = t,
            n === j && H(r, o.activeprogressstep),
            V.appendChild(r),
            n !== e.progressSteps.length - 1) {
                var i = document.createElement("li");
                H(i, o.progressline),
                e.progressStepsDistance && (i.style.width = e.progressStepsDistance),
                V.appendChild(i)
            }
        })) : W(V);
        for (var N = w().querySelectorAll("." + o.icon), M = 0; M < N.length; M++)
            W(N[M]);
        if (e.type) {
            var R = !1;
            for (var D in r)
                if (e.type === D) {
                    R = !0;
                    break
                }
            if (!R)
                return l("Unknown alert type: " + e.type),
                !1;
            var z = t.querySelector("." + o.icon + "." + r[e.type]);
            if (U(z),
            e.animation)
                switch (e.type) {
                case "success":
                    H(z, "swal2-animate-success-icon"),
                    H(z.querySelector(".swal2-success-line-tip"), "swal2-animate-success-line-tip"),
                    H(z.querySelector(".swal2-success-line-long"), "swal2-animate-success-line-long");
                    break;
                case "error":
                    H(z, "swal2-animate-error-icon"),
                    H(z.querySelector(".swal2-x-mark"), "swal2-animate-x-mark")
                }
        }
        var K, Z, _ = S();
        if (e.imageUrl ? (_.setAttribute("src", e.imageUrl),
        _.setAttribute("alt", e.imageAlt),
        U(_),
        e.imageWidth ? _.setAttribute("width", e.imageWidth) : _.removeAttribute("width"),
        e.imageHeight ? _.setAttribute("height", e.imageHeight) : _.removeAttribute("height"),
        _.className = o.image,
        e.imageClass && H(_, e.imageClass)) : W(_),
        e.showCancelButton ? g.style.display = "inline-block" : W(g),
        e.showConfirmButton ? (Z = "display",
        (K = v).style.removeProperty ? K.style.removeProperty(Z) : K.style.removeAttribute(Z)) : W(v),
        e.showConfirmButton || e.showCancelButton ? U(m) : W(m),
        v.innerHTML = e.confirmButtonText,
        g.innerHTML = e.cancelButtonText,
        v.setAttribute("aria-label", e.confirmButtonAriaLabel),
        g.setAttribute("aria-label", e.cancelButtonAriaLabel),
        v.className = o.confirm,
        H(v, e.confirmButtonClass),
        g.className = o.cancel,
        H(g, e.cancelButtonClass),
        e.buttonsStyling) {
            H([v, g], o.styled),
            e.confirmButtonColor && (v.style.backgroundColor = e.confirmButtonColor),
            e.cancelButtonColor && (g.style.backgroundColor = e.cancelButtonColor);
            var Q = window.getComputedStyle(v).getPropertyValue("background-color");
            v.style.borderLeftColor = Q,
            v.style.borderRightColor = Q
        } else
            I([v, g], o.styled),
            v.style.backgroundColor = v.style.borderLeftColor = v.style.borderRightColor = "",
            g.style.backgroundColor = g.style.borderLeftColor = g.style.borderRightColor = "";
        O(e.footer, C),
        !0 === e.animation ? I(t, o.noanimation) : H(t, o.noanimation),
        e.showLoaderOnConfirm && !e.preConfirm && s("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request")
    }
      , J = function() {
        null === v.previousBodyPadding && document.body.scrollHeight > window.innerHeight && (v.previousBodyPadding = document.body.style.paddingRight,
        document.body.style.paddingRight = function() {
            if ("ontouchstart"in window || navigator.msMaxTouchPoints)
                return 0;
            var e = document.createElement("div");
            e.style.width = "50px",
            e.style.height = "50px",
            e.style.overflow = "scroll",
            document.body.appendChild(e);
            var t = e.offsetWidth - e.clientWidth;
            return document.body.removeChild(e),
            t
        }() + "px")
    }
      , X = function() {
        if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream && !N(document.body, o.iosfix)) {
            var e = document.body.scrollTop;
            document.body.style.top = -1 * e + "px",
            H(document.body, o.iosfix)
        }
    }
      , G = function e() {
        for (var t = arguments.length, n = Array(t), r = 0; r < t; r++)
            n[r] = arguments[r];
        if ("undefined" != typeof window) {
            if ("undefined" == typeof Promise && l("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),
            void 0 === n[0])
                return l("SweetAlert2 expects at least 1 attribute!"),
                !1;
            var i = f({}, Z);
            switch (p(n[0])) {
            case "string":
                i.title = n[0],
                i.html = n[1],
                i.type = n[2];
                break;
            case "object":
                if ($(n[0]),
                f(i, n[0]),
                i.extraParams = n[0].extraParams,
                "email" === i.input && null === i.inputValidator) {
                    var s = function(e) {
                        return new Promise(function(t, n) {
                            /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e) ? t() : n("Invalid email address")
                        }
                        )
                    };
                    i.inputValidator = i.expectRejections ? s : e.adaptInputValidator(s)
                }
                if ("url" === i.input && null === i.inputValidator) {
                    var u = function(e) {
                        return new Promise(function(t, n) {
                            /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)$/.test(e) ? t() : n("Invalid URL")
                        }
                        )
                    };
                    i.inputValidator = i.expectRejections ? u : e.adaptInputValidator(u)
                }
                break;
            default:
                return l('Unexpected type of argument! Expected "string" or "object", got ' + p(n[0])),
                !1
            }
            F(i);
            var g = y()
              , b = w();
            return new Promise(function(t, n) {
                var r = function(n) {
                    e.closePopup(i.onClose),
                    i.useRejections ? t(n) : t({
                        value: n
                    })
                }
                  , s = function(o) {
                    e.closePopup(i.onClose),
                    i.useRejections ? n(o) : t({
                        dismiss: o
                    })
                }
                  , u = function(t) {
                    e.closePopup(i.onClose),
                    n(t)
                };
                i.timer && (b.timeout = setTimeout(function() {
                    return s("timer")
                }, i.timer));
                var f = function(e) {
                    if (!(e = e || i.input))
                        return null;
                    switch (e) {
                    case "select":
                    case "textarea":
                    case "file":
                        return D($, o[e]);
                    case "checkbox":
                        return b.querySelector("." + o.checkbox + " input");
                    case "radio":
                        return b.querySelector("." + o.radio + " input:checked") || b.querySelector("." + o.radio + " input:first-child");
                    case "range":
                        return b.querySelector("." + o.range + " input");
                    default:
                        return D($, o.input)
                    }
                };
                i.input && setTimeout(function() {
                    var e = f();
                    e && M(e)
                }, 0);
                for (var h = function(t) {
                    if (i.showLoaderOnConfirm && e.showLoading(),
                    i.preConfirm) {
                        e.resetValidationError();
                        var n = Promise.resolve().then(function() {
                            return i.preConfirm(t, i.extraParams)
                        });
                        i.expectRejections ? n.then(function(e) {
                            return r(e || t)
                        }, function(t) {
                            e.hideLoading(),
                            t && e.showValidationError(t)
                        }) : n.then(function(n) {
                            z(B()) ? e.hideLoading() : r(n || t)
                        }, function(e) {
                            return u(e)
                        })
                    } else
                        r(t)
                }, O = function(t) {
                    var n = t || window.event
                      , o = n.target || n.srcElement
                      , r = P()
                      , a = E()
                      , l = r && (r === o || r.contains(o))
                      , c = a && (a === o || a.contains(o));
                    switch (n.type) {
                    case "click":
                        if (l && e.isVisible())
                            if (e.disableButtons(),
                            i.input) {
                                var d = function() {
                                    var e = f();
                                    if (!e)
                                        return null;
                                    switch (i.input) {
                                    case "checkbox":
                                        return e.checked ? 1 : 0;
                                    case "radio":
                                        return e.checked ? e.value : null;
                                    case "file":
                                        return e.files.length ? e.files[0] : null;
                                    default:
                                        return i.inputAutoTrim ? e.value.trim() : e.value
                                    }
                                }();
                                if (i.inputValidator) {
                                    e.disableInput();
                                    var p = Promise.resolve().then(function() {
                                        return i.inputValidator(d, i.extraParams)
                                    });
                                    i.expectRejections ? p.then(function() {
                                        e.enableButtons(),
                                        e.enableInput(),
                                        h(d)
                                    }, function(t) {
                                        e.enableButtons(),
                                        e.enableInput(),
                                        t && e.showValidationError(t)
                                    }) : p.then(function(t) {
                                        e.enableButtons(),
                                        e.enableInput(),
                                        t ? e.showValidationError(t) : h(d)
                                    }, function(e) {
                                        return u(e)
                                    })
                                } else
                                    h(d)
                            } else
                                h(!0);
                        else
                            c && e.isVisible() && (e.disableButtons(),
                            s("cancel"))
                    }
                }, R = b.querySelectorAll("button"), Z = 0; Z < R.length; Z++)
                    R[Z].onclick = O,
                    R[Z].onmouseover = O,
                    R[Z].onmouseout = O,
                    R[Z].onmousedown = O;
                if (q().onclick = function() {
                    s("close")
                }
                ,
                i.toast)
                    b.onclick = function(t) {
                        t.target !== b || i.showConfirmButton || i.showCancelButton || i.allowOutsideClick && (e.closePopup(i.onClose),
                        s("overlay"))
                    }
                    ;
                else {
                    var _ = !1;
                    b.onmousedown = function() {
                        g.onmouseup = function(e) {
                            g.onmouseup = void 0,
                            e.target === g && (_ = !0)
                        }
                    }
                    ,
                    g.onmousedown = function() {
                        b.onmouseup = function(e) {
                            b.onmouseup = void 0,
                            (e.target === b || b.contains(e.target)) && (_ = !0)
                        }
                    }
                    ,
                    g.onclick = function(e) {
                        _ ? _ = !1 : e.target === g && d(i.allowOutsideClick) && s("overlay")
                    }
                }
                var $ = k()
                  , G = L()
                  , ee = P()
                  , te = E();
                i.reverseButtons ? ee.parentNode.insertBefore(te, ee) : ee.parentNode.insertBefore(ee, te);
                var ne = function(e, t) {
                    for (var n = V(i.focusCancel), o = 0; o < n.length; o++) {
                        (e += t) === n.length ? e = 0 : -1 === e && (e = n.length - 1);
                        var r = n[e];
                        if (z(r))
                            return r.focus()
                    }
                };
                i.toast && Y && (window.onkeydown = Q,
                Y = !1),
                i.toast || Y || (Q = window.onkeydown,
                Y = !0,
                window.onkeydown = function(t) {
                    var n = t || window.event;
                    if ("Enter" !== n.key || n.isComposing)
                        if ("Tab" === n.key) {
                            for (var o = n.target || n.srcElement, r = V(i.focusCancel), a = -1, l = 0; l < r.length; l++)
                                if (o === r[l]) {
                                    a = l;
                                    break
                                }
                            n.shiftKey ? ne(a, -1) : ne(a, 1),
                            n.stopPropagation(),
                            n.preventDefault()
                        } else
                            -1 !== ["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Left", "Right", "Up", "Down"].indexOf(n.key) ? document.activeElement === ee && z(te) ? te.focus() : document.activeElement === te && z(ee) && ee.focus() : "Escape" !== n.key && "Esc" !== n.key || !0 !== d(i.allowEscapeKey) || s("esc");
                    else if (n.target === f()) {
                        if (-1 !== ["textarea", "file"].indexOf(i.input))
                            return;
                        e.clickConfirm(),
                        n.preventDefault()
                    }
                }
                ),
                e.hideLoading = e.disableLoading = function() {
                    i.showConfirmButton || (W(ee),
                    i.showCancelButton || W(L())),
                    I([b, G], o.loading),
                    b.removeAttribute("aria-busy"),
                    b.removeAttribute("data-loading"),
                    ee.disabled = !1,
                    te.disabled = !1
                }
                ,
                e.getTitle = function() {
                    return x()
                }
                ,
                e.getContent = function() {
                    return k()
                }
                ,
                e.getInput = function() {
                    return f()
                }
                ,
                e.getImage = function() {
                    return S()
                }
                ,
                e.getButtonsWrapper = function() {
                    return c("swal.getButtonsWrapper() is deprecated and will be removed in the next major release, use swal.getActions() instead"),
                    C(o.actions)
                }
                ,
                e.getActions = function() {
                    return L()
                }
                ,
                e.getConfirmButton = function() {
                    return P()
                }
                ,
                e.getCancelButton = function() {
                    return E()
                }
                ,
                e.getFooter = function() {
                    return T()
                }
                ,
                e.isLoading = function() {
                    return w().hasAttribute("data-loading")
                }
                ,
                e.enableButtons = function() {
                    ee.disabled = !1,
                    te.disabled = !1
                }
                ,
                e.disableButtons = function() {
                    ee.disabled = !0,
                    te.disabled = !0
                }
                ,
                e.enableConfirmButton = function() {
                    ee.disabled = !1
                }
                ,
                e.disableConfirmButton = function() {
                    ee.disabled = !0
                }
                ,
                e.enableInput = function() {
                    var e = f();
                    if (!e)
                        return !1;
                    if ("radio" === e.type)
                        for (var t = e.parentNode.parentNode.querySelectorAll("input"), n = 0; n < t.length; n++)
                            t[n].disabled = !1;
                    else
                        e.disabled = !1
                }
                ,
                e.disableInput = function() {
                    var e = f();
                    if (!e)
                        return !1;
                    if (e && "radio" === e.type)
                        for (var t = e.parentNode.parentNode.querySelectorAll("input"), n = 0; n < t.length; n++)
                            t[n].disabled = !0;
                    else
                        e.disabled = !0
                }
                ,
                e.showValidationError = function(e) {
                    var t = B();
                    t.innerHTML = e;
                    var n = window.getComputedStyle(b);
                    t.style.marginLeft = "-" + n.getPropertyValue("padding-left"),
                    t.style.marginRight = "-" + n.getPropertyValue("padding-right"),
                    U(t);
                    var r = f();
                    r && (r.setAttribute("aria-invalid", !0),
                    r.setAttribute("aria-describedBy", o.validationerror),
                    M(r),
                    H(r, o.inputerror))
                }
                ,
                e.resetValidationError = function() {
                    var e = B();
                    W(e);
                    var t = f();
                    t && (t.removeAttribute("aria-invalid"),
                    t.removeAttribute("aria-describedBy"),
                    I(t, o.inputerror))
                }
                ,
                e.getProgressSteps = function() {
                    return i.progressSteps
                }
                ,
                e.setProgressSteps = function(e) {
                    i.progressSteps = e,
                    F(i)
                }
                ,
                e.showProgressSteps = function() {
                    U(A())
                }
                ,
                e.hideProgressSteps = function() {
                    W(A())
                }
                ,
                e.enableButtons(),
                e.hideLoading(),
                e.resetValidationError(),
                i.input && H(document.body, o["has-input"]);
                for (var oe = ["input", "file", "range", "select", "radio", "checkbox", "textarea"], re = void 0, ie = 0; ie < oe.length; ie++) {
                    var ae = o[oe[ie]]
                      , se = D($, ae);
                    if (re = f(oe[ie])) {
                        for (var le in re.attributes)
                            if (re.attributes.hasOwnProperty(le)) {
                                var ue = re.attributes[le].name;
                                "type" !== ue && "value" !== ue && re.removeAttribute(ue)
                            }
                        for (var ce in i.inputAttributes)
                            re.setAttribute(ce, i.inputAttributes[ce])
                    }
                    se.className = ae,
                    i.inputClass && H(se, i.inputClass),
                    W(se)
                }
                var de, pe, fe, me, ve, ge = void 0;
                switch (i.input) {
                case "text":
                case "email":
                case "password":
                case "number":
                case "tel":
                case "url":
                    (re = D($, o.input)).value = i.inputValue,
                    re.placeholder = i.inputPlaceholder,
                    re.type = i.input,
                    U(re);
                    break;
                case "file":
                    (re = D($, o.file)).placeholder = i.inputPlaceholder,
                    re.type = i.input,
                    U(re);
                    break;
                case "range":
                    var be = D($, o.range)
                      , he = be.querySelector("input")
                      , ye = be.querySelector("output");
                    he.value = i.inputValue,
                    he.type = i.input,
                    ye.value = i.inputValue,
                    U(be);
                    break;
                case "select":
                    var we = D($, o.select);
                    if (we.innerHTML = "",
                    i.inputPlaceholder) {
                        var Ce = document.createElement("option");
                        Ce.innerHTML = i.inputPlaceholder,
                        Ce.value = "",
                        Ce.disabled = !0,
                        Ce.selected = !0,
                        we.appendChild(Ce)
                    }
                    ge = function(e) {
                        e = a(e);
                        var t = !0
                          , n = !1
                          , o = void 0;
                        try {
                            for (var r, s = e[Symbol.iterator](); !(t = (r = s.next()).done); t = !0) {
                                var l = m(r.value, 2)
                                  , u = l[0]
                                  , c = l[1]
                                  , d = document.createElement("option");
                                d.value = u,
                                d.innerHTML = c,
                                i.inputValue.toString() === u.toString() && (d.selected = !0),
                                we.appendChild(d)
                            }
                        } catch (e) {
                            n = !0,
                            o = e
                        } finally {
                            try {
                                !t && s.return && s.return()
                            } finally {
                                if (n)
                                    throw o
                            }
                        }
                        U(we),
                        we.focus()
                    }
                    ;
                    break;
                case "radio":
                    var xe = D($, o.radio);
                    xe.innerHTML = "",
                    ge = function(e) {
                        e = a(e);
                        var t = !0
                          , n = !1
                          , r = void 0;
                        try {
                            for (var s, l = e[Symbol.iterator](); !(t = (s = l.next()).done); t = !0) {
                                var u = m(s.value, 2)
                                  , c = u[0]
                                  , d = u[1]
                                  , p = document.createElement("input")
                                  , f = document.createElement("label");
                                p.type = "radio",
                                p.name = o.radio,
                                p.value = c,
                                i.inputValue.toString() === c.toString() && (p.checked = !0),
                                f.innerHTML = d,
                                f.insertBefore(p, f.firstChild),
                                xe.appendChild(f)
                            }
                        } catch (e) {
                            n = !0,
                            r = e
                        } finally {
                            try {
                                !t && l.return && l.return()
                            } finally {
                                if (n)
                                    throw r
                            }
                        }
                        U(xe);
                        var v = xe.querySelectorAll("input");
                        v.length && v[0].focus()
                    }
                    ;
                    break;
                case "checkbox":
                    var ke = D($, o.checkbox)
                      , Se = f("checkbox");
                    Se.type = "checkbox",
                    Se.value = 1,
                    Se.id = o.checkbox,
                    Se.checked = Boolean(i.inputValue);
                    var Ae = ke.getElementsByTagName("span");
                    Ae.length && ke.removeChild(Ae[0]),
                    (Ae = document.createElement("span")).innerHTML = i.inputPlaceholder,
                    ke.appendChild(Ae),
                    U(ke);
                    break;
                case "textarea":
                    var Be = D($, o.textarea);
                    Be.value = i.inputValue,
                    Be.placeholder = i.inputPlaceholder,
                    U(Be);
                    break;
                case null:
                    break;
                default:
                    l('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "' + i.input + '"')
                }
                "select" !== i.input && "radio" !== i.input || (i.inputOptions instanceof Promise ? (e.showLoading(),
                i.inputOptions.then(function(t) {
                    e.hideLoading(),
                    ge(t)
                })) : "object" === p(i.inputOptions) ? ge(i.inputOptions) : l("Unexpected type of inputOptions! Expected object, Map or Promise, got " + p(i.inputOptions))),
                de = i.animation,
                pe = i.onBeforeOpen,
                fe = i.onOpen,
                me = y(),
                ve = w(),
                null !== pe && "function" == typeof pe && pe(ve),
                de ? (H(ve, o.show),
                H(me, o.fade),
                I(ve, o.hide)) : I(ve, o.fade),
                U(ve),
                me.style.overflowY = "hidden",
                K && !N(ve, o.noanimation) ? ve.addEventListener(K, function e() {
                    ve.removeEventListener(K, e),
                    me.style.overflowY = "auto"
                }) : me.style.overflowY = "auto",
                H([document.documentElement, document.body, me], o.shown),
                j() && (J(),
                X()),
                v.previousActiveElement = document.activeElement,
                null !== fe && "function" == typeof fe && setTimeout(function() {
                    fe(ve)
                }),
                i.toast || (d(i.allowEnterKey) ? i.focusCancel && z(te) ? te.focus() : i.focusConfirm && z(ee) ? ee.focus() : ne(-1, 1) : document.activeElement && document.activeElement.blur()),
                y().scrollTop = 0
            }
            )
        }
    };
    return G.isVisible = function() {
        return !!w()
    }
    ,
    G.queue = function(e) {
        _ = e;
        var t = function() {
            _ = [],
            document.body.removeAttribute("data-swal2-queue-step")
        }
          , n = [];
        return new Promise(function(e, o) {
            !function o(r, i) {
                r < _.length ? (document.body.setAttribute("data-swal2-queue-step", r),
                G(_[r]).then(function(a) {
                    void 0 !== a.value ? (n.push(a.value),
                    o(r + 1, i)) : (t(),
                    e({
                        dismiss: a.dismiss
                    }))
                })) : (t(),
                e({
                    value: n
                }))
            }(0)
        }
        )
    }
    ,
    G.getQueueStep = function() {
        return document.body.getAttribute("data-swal2-queue-step")
    }
    ,
    G.insertQueueStep = function(e, t) {
        return t && t < _.length ? _.splice(t, 0, e) : _.push(e)
    }
    ,
    G.deleteQueueStep = function(e) {
        void 0 !== _[e] && _.splice(e, 1)
    }
    ,
    G.close = G.closePopup = G.closeModal = G.closeToast = function(e) {
        var t = y()
          , n = w();
        if (n) {
            I(n, o.show),
            H(n, o.hide),
            clearTimeout(n.timeout),
            document.body.classList.contains(o["toast-shown"]) || (!function() {
                if (v.previousActiveElement && v.previousActiveElement.focus) {
                    var e = window.scrollX
                      , t = window.scrollY;
                    v.previousActiveElement.focus(),
                    void 0 !== e && void 0 !== t && window.scrollTo(e, t)
                }
            }(),
            window.onkeydown = Q,
            Y = !1);
            var r = function() {
                t.parentNode && t.parentNode.removeChild(t),
                I([document.documentElement, document.body], [o.shown, o["no-backdrop"], o["has-input"], o["toast-shown"]]),
                j() && (null !== v.previousBodyPadding && (document.body.style.paddingRight = v.previousBodyPadding,
                v.previousBodyPadding = null),
                function() {
                    if (N(document.body, o.iosfix)) {
                        var e = parseInt(document.body.style.top, 10);
                        I(document.body, o.iosfix),
                        document.body.style.top = "",
                        document.body.scrollTop = -1 * e
                    }
                }())
            };
            K && !N(n, o.noanimation) ? n.addEventListener(K, function e() {
                n.removeEventListener(K, e),
                N(n, o.hide) && r()
            }) : r(),
            null !== e && "function" == typeof e && setTimeout(function() {
                e(n)
            })
        }
    }
    ,
    G.clickConfirm = function() {
        return P().click()
    }
    ,
    G.clickCancel = function() {
        return E().click()
    }
    ,
    G.showLoading = G.enableLoading = function() {
        var e = w();
        e || G(""),
        e = w();
        var t = L()
          , n = P()
          , r = E();
        U(t),
        U(n, "inline-block"),
        H([e, t], o.loading),
        n.disabled = !0,
        r.disabled = !0,
        e.setAttribute("data-loading", !0),
        e.setAttribute("aria-busy", !0),
        e.focus()
    }
    ,
    G.isValidParameter = function(t) {
        return e.hasOwnProperty(t) || "extraParams" === t
    }
    ,
    G.isDeprecatedParameter = function(e) {
        return -1 !== t.indexOf(e)
    }
    ,
    G.setDefaults = function(e) {
        if (!e || "object" !== (void 0 === e ? "undefined" : p(e)))
            return l("the argument for setDefaults() is required and has to be a object");
        $(e);
        for (var t in e)
            G.isValidParameter(t) && (Z[t] = e[t])
    }
    ,
    G.resetDefaults = function() {
        Z = f({}, e)
    }
    ,
    G.adaptInputValidator = function(e) {
        return function(t, n) {
            return e.call(this, t, n).then(function() {}, function(e) {
                return e
            })
        }
    }
    ,
    G.noop = function() {}
    ,
    G.version = "7.8.2",
    G.default = G,
    "undefined" != typeof window && "object" === p(window._swalDefaults) && G.setDefaults(window._swalDefaults),
    G
}),
"undefined" != typeof window && window.Sweetalert2 && (window.sweetAlert = window.swal = window.Sweetalert2);
/*
 * International Telephone Input v11.1.2
 * https://github.com/jackocnr/intl-tel-input.git
 * Licensed under the MIT license
 */

!function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], function(b) {
        a(b, window, document)
    }) : "object" == typeof module && module.exports ? module.exports = a(require("jquery"), window, document) : a(jQuery, window, document)
}(function(a, b, c, d) {
    "use strict";
    function e(b, c) {
        this.a = a(b),
        this.b = a.extend({}, h, c),
        this.ns = "." + f + g++,
        this.d = Boolean(b.setSelectionRange),
        this.e = Boolean(a(b).attr("placeholder"))
    }
    var f = "intlTelInput"
      , g = 1
      , h = {
        allowDropdown: !0,
        autoHideDialCode: !0,
        autoPlaceholder: "polite",
        customPlaceholder: null,
        dropdownContainer: "",
        excludeCountries: [],
        formatOnDisplay: !0,
        geoIpLookup: null,
        initialCountry: "",
        nationalMode: !0,
        onlyCountries: [],
        placeholderNumberType: "MOBILE",
        preferredCountries: ["us", "gb"],
        separateDialCode: !1,
        utilsScript: "utils.js"
    }
      , i = {
        b: 38,
        c: 40,
        d: 13,
        e: 27,
        f: 43,
        A: 65,
        Z: 90,
        j: 32,
        k: 9
    }
      , j = ["800", "822", "833", "844", "855", "866", "877", "880", "881", "882", "883", "884", "885", "886", "887", "888", "889"];
    a(b).on("load", function() {
        a.fn[f].windowLoaded = !0
    }),
    e.prototype = {
        _a: function() {
            return this.b.nationalMode && (this.b.autoHideDialCode = !1),
            this.b.separateDialCode && (this.b.autoHideDialCode = this.b.nationalMode = !1),
            this.g = /Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
            this.g && (a("body").addClass("iti-mobile"),
            this.b.dropdownContainer || (this.b.dropdownContainer = "body")),
            this.h = new a.Deferred,
            this.i = new a.Deferred,
            this.s = {},
            this._b(),
            this._f(),
            this._h(),
            this._i(),
            this._i2(),
            [this.h, this.i]
        },
        _b: function() {
            this._d(),
            this._d2(),
            this._e()
        },
        _c: function(a, b, c) {
            b in this.q || (this.q[b] = []);
            var d = c || 0;
            this.q[b][d] = a
        },
        _d: function() {
            if (this.b.onlyCountries.length) {
                var a = this.b.onlyCountries.map(function(a) {
                    return a.toLowerCase()
                });
                this.p = k.filter(function(b) {
                    return a.indexOf(b.iso2) > -1
                })
            } else if (this.b.excludeCountries.length) {
                var b = this.b.excludeCountries.map(function(a) {
                    return a.toLowerCase()
                });
                this.p = k.filter(function(a) {
                    return -1 === b.indexOf(a.iso2)
                })
            } else
                this.p = k
        },
        _d2: function() {
            this.q = {};
            for (var a = 0; a < this.p.length; a++) {
                var b = this.p[a];
                if (this._c(b.iso2, b.dialCode, b.priority),
                b.areaCodes)
                    for (var c = 0; c < b.areaCodes.length; c++)
                        this._c(b.iso2, b.dialCode + b.areaCodes[c])
            }
        },
        _e: function() {
            this.preferredCountries = [];
            for (var a = 0; a < this.b.preferredCountries.length; a++) {
                var b = this.b.preferredCountries[a].toLowerCase()
                  , c = this._y(b, !1, !0);
                c && this.preferredCountries.push(c)
            }
        },
        _f: function() {
            this.a.attr("autocomplete", "off");
            var b = "intl-tel-input";
            this.b.allowDropdown && (b += " allow-dropdown"),
            this.b.separateDialCode && (b += " separate-dial-code"),
            this.a.wrap(a("<div>", {
                "class": b
            })),
            this.k = a("<div>", {
                "class": "flag-container"
            }).insertBefore(this.a);
            var c = a("<div>", {
                "class": "selected-flag"
            });
            c.appendTo(this.k),
            this.l = a("<div>", {
                "class": "iti-flag"
            }).appendTo(c),
            this.b.separateDialCode && (this.t = a("<div>", {
                "class": "selected-dial-code"
            }).appendTo(c)),
            this.b.allowDropdown ? (c.attr("tabindex", "0"),
            a("<div>", {
                "class": "iti-arrow"
            }).appendTo(c),
            this.m = a("<ul>", {
                "class": "country-list hide"
            }),
            this.preferredCountries.length && (this._g(this.preferredCountries, "preferred"),
            a("<li>", {
                "class": "divider"
            }).appendTo(this.m)),
            this._g(this.p, ""),
            this.o = this.m.children(".country"),
            this.b.dropdownContainer ? this.dropdown = a("<div>", {
                "class": "intl-tel-input iti-container"
            }).append(this.m) : this.m.appendTo(this.k)) : this.o = a()
        },
        _g: function(a, b) {
            for (var c = "", d = 0; d < a.length; d++) {
                var e = a[d];
                c += "<li class='country " + b + "' data-dial-code='" + e.dialCode + "' data-country-code='" + e.iso2 + "'>",
                c += "<div class='flag-box'><div class='iti-flag " + e.iso2 + "'></div></div>",
                c += "<span class='country-name'>" + e.name + "</span>",
                c += "<span class='dial-code'>+" + e.dialCode + "</span>",
                c += "</li>"
            }
            this.m.append(c)
        },
        _h: function() {
            var a = this.a.val();
            this._af(a) && !this._isRegionlessNanp(a) ? this._v(a) : "auto" !== this.b.initialCountry && (this.b.initialCountry ? this._z(this.b.initialCountry.toLowerCase()) : (this.j = this.preferredCountries.length ? this.preferredCountries[0].iso2 : this.p[0].iso2,
            a || this._z(this.j)),
            a || this.b.nationalMode || this.b.autoHideDialCode || this.b.separateDialCode || this.a.val("+" + this.s.dialCode)),
            a && this._u(a)
        },
        _i: function() {
            this._j(),
            this.b.autoHideDialCode && this._l(),
            this.b.allowDropdown && this._i1()
        },
        _i1: function() {
            var a = this
              , b = this.a.closest("label");
            b.length && b.on("click" + this.ns, function(b) {
                a.m.hasClass("hide") ? a.a.focus() : b.preventDefault()
            }),
            this.l.parent().on("click" + this.ns, function(b) {
                !a.m.hasClass("hide") || a.a.prop("disabled") || a.a.prop("readonly") || a._n()
            }),
            this.k.on("keydown" + a.ns, function(b) {
                !a.m.hasClass("hide") || b.which != i.b && b.which != i.c && b.which != i.j && b.which != i.d || (b.preventDefault(),
                b.stopPropagation(),
                a._n()),
                b.which == i.k && a._ac()
            })
        },
        _i2: function() {
            var c = this;
            this.b.utilsScript ? a.fn[f].windowLoaded ? a.fn[f].loadUtils(this.b.utilsScript, this.i) : a(b).on("load", function() {
                a.fn[f].loadUtils(c.b.utilsScript, c.i)
            }) : this.i.resolve(),
            "auto" === this.b.initialCountry ? this._i3() : this.h.resolve()
        },
        _i3: function() {
            a.fn[f].autoCountry ? this.handleAutoCountry() : a.fn[f].startedLoadingAutoCountry || (a.fn[f].startedLoadingAutoCountry = !0,
            "function" == typeof this.b.geoIpLookup && this.b.geoIpLookup(function(b) {
                a.fn[f].autoCountry = b.toLowerCase(),
                setTimeout(function() {
                    a(".intl-tel-input input").intlTelInput("handleAutoCountry")
                })
            }))
        },
        _j: function() {
            var a = this;
            this.a.on("keyup" + this.ns, function() {
                a._v(a.a.val()) && a._triggerCountryChange()
            }),
            this.a.on("cut" + this.ns + " paste" + this.ns, function() {
                setTimeout(function() {
                    a._v(a.a.val()) && a._triggerCountryChange()
                })
            })
        },
        _j2: function(a) {
            var b = this.a.attr("maxlength");
            return b && a.length > b ? a.substr(0, b) : a
        },
        _l: function() {
            var b = this;
            this.a.on("mousedown" + this.ns, function(a) {
                b.a.is(":focus") || b.a.val() || (a.preventDefault(),
                b.a.focus())
            }),
            this.a.on("focus" + this.ns, function(a) {
                b.a.val() || b.a.prop("readonly") || !b.s.dialCode || (b.a.val("+" + b.s.dialCode),
                b.a.one("keypress.plus" + b.ns, function(a) {
                    a.which == i.f && b.a.val("")
                }),
                setTimeout(function() {
                    var a = b.a[0];
                    if (b.d) {
                        var c = b.a.val().length;
                        a.setSelectionRange(c, c)
                    }
                }))
            });
            var c = this.a.prop("form");
            c && a(c).on("submit" + this.ns, function() {
                b._removeEmptyDialCode()
            }),
            this.a.on("blur" + this.ns, function() {
                b._removeEmptyDialCode()
            })
        },
        _removeEmptyDialCode: function() {
            var a = this.a.val();
            if ("+" == a.charAt(0)) {
                var b = this._m(a);
                b && this.s.dialCode != b || this.a.val("")
            }
            this.a.off("keypress.plus" + this.ns)
        },
        _m: function(a) {
            return a.replace(/\D/g, "")
        },
        _n: function() {
            this._o();
            var a = this.m.children(".active");
            a.length && (this._x(a),
            this._ad(a)),
            this._p(),
            this.l.children(".iti-arrow").addClass("up")
        },
        _o: function() {
            var c = this;
            if (this.b.dropdownContainer && this.dropdown.appendTo(this.b.dropdownContainer),
            this.n = this.m.removeClass("hide").outerHeight(),
            !this.g) {
                var d = this.a.offset()
                  , e = d.top
                  , f = a(b).scrollTop()
                  , g = e + this.a.outerHeight() + this.n < f + a(b).height()
                  , h = e - this.n > f;
                if (this.m.toggleClass("dropup", !g && h),
                this.b.dropdownContainer) {
                    var i = !g && h ? 0 : this.a.innerHeight();
                    this.dropdown.css({
                        top: e + i,
                        left: d.left
                    }),
                    a(b).on("scroll" + this.ns, function() {
                        c._ac()
                    })
                }
            }
        },
        _p: function() {
            var b = this;
            this.m.on("mouseover" + this.ns, ".country", function(c) {
                b._x(a(this))
            }),
            this.m.on("click" + this.ns, ".country", function(c) {
                b._ab(a(this))
            });
            var d = !0;
            a("html").on("click" + this.ns, function(a) {
                d || b._ac(),
                d = !1
            });
            var e = ""
              , f = null;
            a(c).on("keydown" + this.ns, function(a) {
                a.preventDefault(),
                a.which == i.b || a.which == i.c ? b._q(a.which) : a.which == i.d ? b._r() : a.which == i.e ? b._ac() : (a.which >= i.A && a.which <= i.Z || a.which == i.j) && (f && clearTimeout(f),
                e += String.fromCharCode(a.which),
                b._s(e),
                f = setTimeout(function() {
                    e = ""
                }, 1e3))
            })
        },
        _q: function(a) {
            var b = this.m.children(".highlight").first()
              , c = a == i.b ? b.prev() : b.next();
            c.length && (c.hasClass("divider") && (c = a == i.b ? c.prev() : c.next()),
            this._x(c),
            this._ad(c))
        },
        _r: function() {
            var a = this.m.children(".highlight").first();
            a.length && this._ab(a)
        },
        _s: function(a) {
            for (var b = 0; b < this.p.length; b++)
                if (this._t(this.p[b].name, a)) {
                    var c = this.m.children("[data-country-code=" + this.p[b].iso2 + "]").not(".preferred");
                    this._x(c),
                    this._ad(c, !0);
                    break
                }
        },
        _t: function(a, b) {
            return a.substr(0, b.length).toUpperCase() == b
        },
        _u: function(a) {
            if (this.b.formatOnDisplay && b.intlTelInputUtils && this.s) {
                var c = this.b.separateDialCode || !this.b.nationalMode && "+" == a.charAt(0) ? intlTelInputUtils.numberFormat.INTERNATIONAL : intlTelInputUtils.numberFormat.NATIONAL;
                a = intlTelInputUtils.formatNumber(a, this.s.iso2, c)
            }
            a = this._ah(a),
            this.a.val(a)
        },
        _v: function(b) {
            b && this.b.nationalMode && "1" == this.s.dialCode && "+" != b.charAt(0) && ("1" != b.charAt(0) && (b = "1" + b),
            b = "+" + b);
            var c = this._af(b)
              , d = null
              , e = this._m(b);
            if (c) {
                var f = this.q[this._m(c)]
                  , g = a.inArray(this.s.iso2, f) > -1
                  , h = "+1" == c && e.length >= 4;
                if ((!("1" == this.s.dialCode) || !this._isRegionlessNanp(e)) && (!g || h))
                    for (var i = 0; i < f.length; i++)
                        if (f[i]) {
                            d = f[i];
                            break
                        }
            } else
                "+" == b.charAt(0) && e.length ? d = "" : b && "+" != b || (d = this.j);
            return null !== d && this._z(d)
        },
        _isRegionlessNanp: function(b) {
            var c = this._m(b);
            if ("1" == c.charAt(0)) {
                var d = c.substr(1, 3);
                return a.inArray(d, j) > -1
            }
            return !1
        },
        _x: function(a) {
            this.o.removeClass("highlight"),
            a.addClass("highlight")
        },
        _y: function(a, b, c) {
            for (var d = b ? k : this.p, e = 0; e < d.length; e++)
                if (d[e].iso2 == a)
                    return d[e];
            if (c)
                return null;
            throw new Error("No country data for '" + a + "'")
        },
        _z: function(a) {
            var b = this.s.iso2 ? this.s : {};
            this.s = a ? this._y(a, !1, !1) : {},
            this.s.iso2 && (this.j = this.s.iso2),
            this.l.attr("class", "iti-flag " + a);
            var c = a ? this.s.name + ": +" + this.s.dialCode : "Unknown";
            if (this.l.parent().attr("title", c),
            this.b.separateDialCode) {
                var d = this.s.dialCode ? "+" + this.s.dialCode : ""
                  , e = this.a.parent();
                b.dialCode && e.removeClass("iti-sdc-" + (b.dialCode.length + 1)),
                d && e.addClass("iti-sdc-" + d.length),
                this.t.text(d)
            }
            return this._aa(),
            this.o.removeClass("active"),
            a && this.o.find(".iti-flag." + a).first().closest(".country").addClass("active"),
            b.iso2 !== a
        },
        _aa: function() {
            var a = "aggressive" === this.b.autoPlaceholder || !this.e && (!0 === this.b.autoPlaceholder || "polite" === this.b.autoPlaceholder);
            if (b.intlTelInputUtils && a) {
                var c = intlTelInputUtils.numberType[this.b.placeholderNumberType]
                  , d = this.s.iso2 ? intlTelInputUtils.getExampleNumber(this.s.iso2, this.b.nationalMode, c) : "";
                d = this._ah(d),
                "function" == typeof this.b.customPlaceholder && (d = this.b.customPlaceholder(d, this.s)),
                this.a.attr("placeholder", d)
            }
        },
        _ab: function(a) {
            var b = this._z(a.attr("data-country-code"));
            if (this._ac(),
            this._ae(a.attr("data-dial-code"), !0),
            this.a.focus(),
            this.d) {
                var c = this.a.val().length;
                this.a[0].setSelectionRange(c, c)
            }
            b && this._triggerCountryChange()
        },
        _ac: function() {
            this.m.addClass("hide"),
            this.l.children(".iti-arrow").removeClass("up"),
            a(c).off(this.ns),
            a("html").off(this.ns),
            this.m.off(this.ns),
            this.b.dropdownContainer && (this.g || a(b).off("scroll" + this.ns),
            this.dropdown.detach()),
            this.a.trigger("close:countrydropdown")
        },
        _ad: function(a, b) {
            var c = this.m
              , d = c.height()
              , e = c.offset().top
              , f = e + d
              , g = a.outerHeight()
              , h = a.offset().top
              , i = h + g
              , j = h - e + c.scrollTop()
              , k = d / 2 - g / 2;
            if (h < e)
                b && (j -= k),
                c.scrollTop(j);
            else if (i > f) {
                b && (j += k);
                var l = d - g;
                c.scrollTop(j - l)
            }
        },
        _ae: function(a, b) {
            var c, d = this.a.val();
            if (a = "+" + a,
            "+" == d.charAt(0)) {
                var e = this._af(d);
                c = e ? d.replace(e, a) : a
            } else {
                if (this.b.nationalMode || this.b.separateDialCode)
                    return;
                if (d)
                    c = a + d;
                else {
                    if (!b && this.b.autoHideDialCode)
                        return;
                    c = a
                }
            }
            this.a.val(c)
        },
        _af: function(b) {
            var c = "";
            if ("+" == b.charAt(0))
                for (var d = "", e = 0; e < b.length; e++) {
                    var f = b.charAt(e);
                    if (a.isNumeric(f) && (d += f,
                    this.q[d] && (c = b.substr(0, e + 1)),
                    4 == d.length))
                        break
                }
            return c
        },
        _ag: function() {
            var b = a.trim(this.a.val())
              , c = this.s.dialCode
              , d = this._m(b)
              , e = "1" == d.charAt(0) ? d : "1" + d;
            return (this.b.separateDialCode ? "+" + c : "+" != b.charAt(0) && "1" != b.charAt(0) && c && "1" == c.charAt(0) && 4 == c.length && c != e.substr(0, 4) ? c.substr(1) : "") + b
        },
        _ah: function(a) {
            if (this.b.separateDialCode) {
                var b = this._af(a);
                if (b) {
                    null !== this.s.areaCodes && (b = "+" + this.s.dialCode);
                    var c = " " === a[b.length] || "-" === a[b.length] ? b.length + 1 : b.length;
                    a = a.substr(c)
                }
            }
            return this._j2(a)
        },
        _triggerCountryChange: function() {
            this.a.trigger("countrychange", this.s)
        },
        handleAutoCountry: function() {
            "auto" === this.b.initialCountry && (this.j = a.fn[f].autoCountry,
            this.a.val() || this.setCountry(this.j),
            this.h.resolve())
        },
        handleUtils: function() {
            b.intlTelInputUtils && (this.a.val() && this._u(this.a.val()),
            this._aa()),
            this.i.resolve()
        },
        destroy: function() {
            if (this.allowDropdown && (this._ac(),
            this.l.parent().off(this.ns),
            this.a.closest("label").off(this.ns)),
            this.b.autoHideDialCode) {
                var b = this.a.prop("form");
                b && a(b).off(this.ns)
            }
            this.a.off(this.ns),
            this.a.parent().before(this.a).remove()
        },
        getExtension: function() {
            return b.intlTelInputUtils ? intlTelInputUtils.getExtension(this._ag(), this.s.iso2) : ""
        },
        getNumber: function(a) {
            return b.intlTelInputUtils ? intlTelInputUtils.formatNumber(this._ag(), this.s.iso2, a) : ""
        },
        getNumberType: function() {
            return b.intlTelInputUtils ? intlTelInputUtils.getNumberType(this._ag(), this.s.iso2) : -99
        },
        getSelectedCountryData: function() {
            return this.s
        },
        getValidationError: function() {
            return b.intlTelInputUtils ? intlTelInputUtils.getValidationError(this._ag(), this.s.iso2) : -99
        },
        isValidNumber: function() {
            var c = a.trim(this._ag())
              , d = this.b.nationalMode ? this.s.iso2 : "";
            return b.intlTelInputUtils ? intlTelInputUtils.isValidNumber(c, d) : null
        },
        setCountry: function(a) {
            a = a.toLowerCase(),
            this.l.hasClass(a) || (this._z(a),
            this._ae(this.s.dialCode, !1),
            this._triggerCountryChange())
        },
        setNumber: function(a) {
            var b = this._v(a);
            this._u(a),
            b && this._triggerCountryChange()
        }
    },
    a.fn[f] = function(b) {
        var c = arguments;
        if (b === d || "object" == typeof b) {
            var g = [];
            return this.each(function() {
                if (!a.data(this, "plugin_" + f)) {
                    var c = new e(this,b)
                      , d = c._a();
                    g.push(d[0]),
                    g.push(d[1]),
                    a.data(this, "plugin_" + f, c)
                }
            }),
            a.when.apply(null, g)
        }
        if ("string" == typeof b && "_" !== b[0]) {
            var h;
            return this.each(function() {
                var d = a.data(this, "plugin_" + f);
                d instanceof e && "function" == typeof d[b] && (h = d[b].apply(d, Array.prototype.slice.call(c, 1))),
                "destroy" === b && a.data(this, "plugin_" + f, null)
            }),
            h !== d ? h : this
        }
    }
    ,
    a.fn[f].getCountryData = function() {
        return k
    }
    ,
    a.fn[f].loadUtils = function(b, c) {
        a.fn[f].loadedUtilsScript ? c && c.resolve() : (a.fn[f].loadedUtilsScript = !0,
        a.ajax({
            type: "GET",
            url: b,
            complete: function() {
                a(".intl-tel-input input").intlTelInput("handleUtils")
            },
            dataType: "script",
            cache: !0
        }))
    }
    ,
    a.fn[f].defaults = h,
    a.fn[f].version = "11.1.2";
    for (var k = [["Afghanistan (‫افغانستان‬‎)", "af", "93"], ["Albania (Shqipëri)", "al", "355"], ["Algeria (‫الجزائر‬‎)", "dz", "213"], ["American Samoa", "as", "1684"], ["Andorra", "ad", "376"], ["Angola", "ao", "244"], ["Anguilla", "ai", "1264"], ["Antigua and Barbuda", "ag", "1268"], ["Argentina", "ar", "54"], ["Armenia (Հայաստան)", "am", "374"], ["Aruba", "aw", "297"], ["Australia", "au", "61", 0], ["Austria (Österreich)", "at", "43"], ["Azerbaijan (Azərbaycan)", "az", "994"], ["Bahamas", "bs", "1242"], ["Bahrain (‫البحرين‬‎)", "bh", "973"], ["Bangladesh (বাংলাদেশ)", "bd", "880"], ["Barbados", "bb", "1246"], ["Belarus (Беларусь)", "by", "375"], ["Belgium (België)", "be", "32"], ["Belize", "bz", "501"], ["Benin (Bénin)", "bj", "229"], ["Bermuda", "bm", "1441"], ["Bhutan (འབྲུག)", "bt", "975"], ["Bolivia", "bo", "591"], ["Bosnia and Herzegovina (Босна и Херцеговина)", "ba", "387"], ["Botswana", "bw", "267"], ["Brazil (Brasil)", "br", "55"], ["British Indian Ocean Territory", "io", "246"], ["British Virgin Islands", "vg", "1284"], ["Brunei", "bn", "673"], ["Bulgaria (България)", "bg", "359"], ["Burkina Faso", "bf", "226"], ["Burundi (Uburundi)", "bi", "257"], ["Cambodia (កម្ពុជា)", "kh", "855"], ["Cameroon (Cameroun)", "cm", "237"], ["Canada", "ca", "1", 1, ["204", "226", "236", "249", "250", "289", "306", "343", "365", "387", "403", "416", "418", "431", "437", "438", "450", "506", "514", "519", "548", "579", "581", "587", "604", "613", "639", "647", "672", "705", "709", "742", "778", "780", "782", "807", "819", "825", "867", "873", "902", "905"]], ["Cape Verde (Kabu Verdi)", "cv", "238"], ["Caribbean Netherlands", "bq", "599", 1], ["Cayman Islands", "ky", "1345"], ["Central African Republic (République centrafricaine)", "cf", "236"], ["Chad (Tchad)", "td", "235"], ["Chile", "cl", "56"], ["China (中国)", "cn", "86"], ["Christmas Island", "cx", "61", 2], ["Cocos (Keeling) Islands", "cc", "61", 1], ["Colombia", "co", "57"], ["Comoros (‫جزر القمر‬‎)", "km", "269"], ["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)", "cd", "243"], ["Congo (Republic) (Congo-Brazzaville)", "cg", "242"], ["Cook Islands", "ck", "682"], ["Costa Rica", "cr", "506"], ["Côte d’Ivoire", "ci", "225"], ["Croatia (Hrvatska)", "hr", "385"], ["Cuba", "cu", "53"], ["Curaçao", "cw", "599", 0], ["Cyprus (Κύπρος)", "cy", "357"], ["Czech Republic (Česká republika)", "cz", "420"], ["Denmark (Danmark)", "dk", "45"], ["Djibouti", "dj", "253"], ["Dominica", "dm", "1767"], ["Dominican Republic (República Dominicana)", "do", "1", 2, ["809", "829", "849"]], ["Ecuador", "ec", "593"], ["Egypt (‫مصر‬‎)", "eg", "20"], ["El Salvador", "sv", "503"], ["Equatorial Guinea (Guinea Ecuatorial)", "gq", "240"], ["Eritrea", "er", "291"], ["Estonia (Eesti)", "ee", "372"], ["Ethiopia", "et", "251"], ["Falkland Islands (Islas Malvinas)", "fk", "500"], ["Faroe Islands (Føroyar)", "fo", "298"], ["Fiji", "fj", "679"], ["Finland (Suomi)", "fi", "358", 0], ["France", "fr", "33"], ["French Guiana (Guyane française)", "gf", "594"], ["French Polynesia (Polynésie française)", "pf", "689"], ["Gabon", "ga", "241"], ["Gambia", "gm", "220"], ["Georgia (საქართველო)", "ge", "995"], ["Germany (Deutschland)", "de", "49"], ["Ghana (Gaana)", "gh", "233"], ["Gibraltar", "gi", "350"], ["Greece (Ελλάδα)", "gr", "30"], ["Greenland (Kalaallit Nunaat)", "gl", "299"], ["Grenada", "gd", "1473"], ["Guadeloupe", "gp", "590", 0], ["Guam", "gu", "1671"], ["Guatemala", "gt", "502"], ["Guernsey", "gg", "44", 1], ["Guinea (Guinée)", "gn", "224"], ["Guinea-Bissau (Guiné Bissau)", "gw", "245"], ["Guyana", "gy", "592"], ["Haiti", "ht", "509"], ["Honduras", "hn", "504"], ["Hong Kong (香港)", "hk", "852"], ["Hungary (Magyarország)", "hu", "36"], ["Iceland (Ísland)", "is", "354"], ["India (भारत)", "in", "91"], ["Indonesia", "id", "62"], ["Iran (‫ایران‬‎)", "ir", "98"], ["Iraq (‫العراق‬‎)", "iq", "964"], ["Ireland", "ie", "353"], ["Isle of Man", "im", "44", 2], ["Israel (‫ישראל‬‎)", "il", "972"], ["Italy (Italia)", "it", "39", 0], ["Jamaica", "jm", "1876"], ["Japan (日本)", "jp", "81"], ["Jersey", "je", "44", 3], ["Jordan (‫الأردن‬‎)", "jo", "962"], ["Kazakhstan (Казахстан)", "kz", "7", 1], ["Kenya", "ke", "254"], ["Kiribati", "ki", "686"], ["Kosovo", "xk", "383"], ["Kuwait (‫الكويت‬‎)", "kw", "965"], ["Kyrgyzstan (Кыргызстан)", "kg", "996"], ["Laos (ລາວ)", "la", "856"], ["Latvia (Latvija)", "lv", "371"], ["Lebanon (‫لبنان‬‎)", "lb", "961"], ["Lesotho", "ls", "266"], ["Liberia", "lr", "231"], ["Libya (‫ليبيا‬‎)", "ly", "218"], ["Liechtenstein", "li", "423"], ["Lithuania (Lietuva)", "lt", "370"], ["Luxembourg", "lu", "352"], ["Macau (澳門)", "mo", "853"], ["Macedonia (FYROM) (Македонија)", "mk", "389"], ["Madagascar (Madagasikara)", "mg", "261"], ["Malawi", "mw", "265"], ["Malaysia", "my", "60"], ["Maldives", "mv", "960"], ["Mali", "ml", "223"], ["Malta", "mt", "356"], ["Marshall Islands", "mh", "692"], ["Martinique", "mq", "596"], ["Mauritania (‫موريتانيا‬‎)", "mr", "222"], ["Mauritius (Moris)", "mu", "230"], ["Mayotte", "yt", "262", 1], ["Mexico (México)", "mx", "52"], ["Micronesia", "fm", "691"], ["Moldova (Republica Moldova)", "md", "373"], ["Monaco", "mc", "377"], ["Mongolia (Монгол)", "mn", "976"], ["Montenegro (Crna Gora)", "me", "382"], ["Montserrat", "ms", "1664"], ["Morocco (‫المغرب‬‎)", "ma", "212", 0], ["Mozambique (Moçambique)", "mz", "258"], ["Myanmar (Burma) (မြန်မာ)", "mm", "95"], ["Namibia (Namibië)", "na", "264"], ["Nauru", "nr", "674"], ["Nepal (नेपाल)", "np", "977"], ["Netherlands (Nederland)", "nl", "31"], ["New Caledonia (Nouvelle-Calédonie)", "nc", "687"], ["New Zealand", "nz", "64"], ["Nicaragua", "ni", "505"], ["Niger (Nijar)", "ne", "227"], ["Nigeria", "ng", "234"], ["Niue", "nu", "683"], ["Norfolk Island", "nf", "672"], ["North Korea (조선 민주주의 인민 공화국)", "kp", "850"], ["Northern Mariana Islands", "mp", "1670"], ["Norway (Norge)", "no", "47", 0], ["Oman (‫عُمان‬‎)", "om", "968"], ["Pakistan (‫پاکستان‬‎)", "pk", "92"], ["Palau", "pw", "680"], ["Palestine (‫فلسطين‬‎)", "ps", "970"], ["Panama (Panamá)", "pa", "507"], ["Papua New Guinea", "pg", "675"], ["Paraguay", "py", "595"], ["Peru (Perú)", "pe", "51"], ["Philippines", "ph", "63"], ["Poland (Polska)", "pl", "48"], ["Portugal", "pt", "351"], ["Puerto Rico", "pr", "1", 3, ["787", "939"]], ["Qatar (‫قطر‬‎)", "qa", "974"], ["Réunion (La Réunion)", "re", "262", 0], ["Romania (România)", "ro", "40"], ["Russia (Россия)", "ru", "7", 0], ["Rwanda", "rw", "250"], ["Saint Barthélemy", "bl", "590", 1], ["Saint Helena", "sh", "290"], ["Saint Kitts and Nevis", "kn", "1869"], ["Saint Lucia", "lc", "1758"], ["Saint Martin (Saint-Martin (partie française))", "mf", "590", 2], ["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)", "pm", "508"], ["Saint Vincent and the Grenadines", "vc", "1784"], ["Samoa", "ws", "685"], ["San Marino", "sm", "378"], ["São Tomé and Príncipe (São Tomé e Príncipe)", "st", "239"], ["Saudi Arabia (‫المملكة العربية السعودية‬‎)", "sa", "966"], ["Senegal (Sénégal)", "sn", "221"], ["Serbia (Србија)", "rs", "381"], ["Seychelles", "sc", "248"], ["Sierra Leone", "sl", "232"], ["Singapore", "sg", "65"], ["Sint Maarten", "sx", "1721"], ["Slovakia (Slovensko)", "sk", "421"], ["Slovenia (Slovenija)", "si", "386"], ["Solomon Islands", "sb", "677"], ["Somalia (Soomaaliya)", "so", "252"], ["South Africa", "za", "27"], ["South Korea (대한민국)", "kr", "82"], ["South Sudan (‫جنوب السودان‬‎)", "ss", "211"], ["Spain (España)", "es", "34"], ["Sri Lanka (ශ්‍රී ලංකාව)", "lk", "94"], ["Sudan (‫السودان‬‎)", "sd", "249"], ["Suriname", "sr", "597"], ["Svalbard and Jan Mayen", "sj", "47", 1], ["Swaziland", "sz", "268"], ["Sweden (Sverige)", "se", "46"], ["Switzerland (Schweiz)", "ch", "41"], ["Syria (‫سوريا‬‎)", "sy", "963"], ["Taiwan (台灣)", "tw", "886"], ["Tajikistan", "tj", "992"], ["Tanzania", "tz", "255"], ["Thailand (ไทย)", "th", "66"], ["Timor-Leste", "tl", "670"], ["Togo", "tg", "228"], ["Tokelau", "tk", "690"], ["Tonga", "to", "676"], ["Trinidad and Tobago", "tt", "1868"], ["Tunisia (‫تونس‬‎)", "tn", "216"], ["Turkey (Türkiye)", "tr", "90"], ["Turkmenistan", "tm", "993"], ["Turks and Caicos Islands", "tc", "1649"], ["Tuvalu", "tv", "688"], ["U.S. Virgin Islands", "vi", "1340"], ["Uganda", "ug", "256"], ["Ukraine (Україна)", "ua", "380"], ["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)", "ae", "971"], ["United Kingdom", "gb", "44", 0], ["United States", "us", "1", 0], ["Uruguay", "uy", "598"], ["Uzbekistan (Oʻzbekiston)", "uz", "998"], ["Vanuatu", "vu", "678"], ["Vatican City (Città del Vaticano)", "va", "39", 1], ["Venezuela", "ve", "58"], ["Vietnam (Việt Nam)", "vn", "84"], ["Wallis and Futuna (Wallis-et-Futuna)", "wf", "681"], ["Western Sahara (‫الصحراء الغربية‬‎)", "eh", "212", 1], ["Yemen (‫اليمن‬‎)", "ye", "967"], ["Zambia", "zm", "260"], ["Zimbabwe", "zw", "263"], ["Åland Islands", "ax", "358", 1]], l = 0; l < k.length; l++) {
        var m = k[l];
        k[l] = {
            name: m[0],
            iso2: m[1],
            dialCode: m[2],
            priority: m[3] || 0,
            areaCodes: m[4] || null
        }
    }
});
(function(r) {
    r.fn.qrcode = function(h) {
        var s;
        function u(a) {
            this.mode = s;
            this.data = a
        }
        function o(a, c) {
            this.typeNumber = a;
            this.errorCorrectLevel = c;
            this.modules = null;
            this.moduleCount = 0;
            this.dataCache = null;
            this.dataList = []
        }
        function q(a, c) {
            if (void 0 == a.length)
                throw Error(a.length + "/" + c);
            for (var d = 0; d < a.length && 0 == a[d]; )
                d++;
            this.num = Array(a.length - d + c);
            for (var b = 0; b < a.length - d; b++)
                this.num[b] = a[b + d]
        }
        function p(a, c) {
            this.totalCount = a;
            this.dataCount = c
        }
        function t() {
            this.buffer = [];
            this.length = 0
        }
        u.prototype = {
            getLength: function() {
                return this.data.length
            },
            write: function(a) {
                for (var c = 0; c < this.data.length; c++)
                    a.put(this.data.charCodeAt(c), 8)
            }
        };
        o.prototype = {
            addData: function(a) {
                this.dataList.push(new u(a));
                this.dataCache = null
            },
            isDark: function(a, c) {
                if (0 > a || this.moduleCount <= a || 0 > c || this.moduleCount <= c)
                    throw Error(a + "," + c);
                return this.modules[a][c]
            },
            getModuleCount: function() {
                return this.moduleCount
            },
            make: function() {
                if (1 > this.typeNumber) {
                    for (var a = 1, a = 1; 40 > a; a++) {
                        for (var c = p.getRSBlocks(a, this.errorCorrectLevel), d = new t, b = 0, e = 0; e < c.length; e++)
                            b += c[e].dataCount;
                        for (e = 0; e < this.dataList.length; e++)
                            c = this.dataList[e],
                            d.put(c.mode, 4),
                            d.put(c.getLength(), j.getLengthInBits(c.mode, a)),
                            c.write(d);
                        if (d.getLengthInBits() <= 8 * b)
                            break
                    }
                    this.typeNumber = a
                }
                this.makeImpl(!1, this.getBestMaskPattern())
            },
            makeImpl: function(a, c) {
                this.moduleCount = 4 * this.typeNumber + 17;
                this.modules = Array(this.moduleCount);
                for (var d = 0; d < this.moduleCount; d++) {
                    this.modules[d] = Array(this.moduleCount);
                    for (var b = 0; b < this.moduleCount; b++)
                        this.modules[d][b] = null
                }
                this.setupPositionProbePattern(0, 0);
                this.setupPositionProbePattern(this.moduleCount - 7, 0);
                this.setupPositionProbePattern(0, this.moduleCount - 7);
                this.setupPositionAdjustPattern();
                this.setupTimingPattern();
                this.setupTypeInfo(a, c);
                7 <= this.typeNumber && this.setupTypeNumber(a);
                null == this.dataCache && (this.dataCache = o.createData(this.typeNumber, this.errorCorrectLevel, this.dataList));
                this.mapData(this.dataCache, c)
            },
            setupPositionProbePattern: function(a, c) {
                for (var d = -1; 7 >= d; d++)
                    if (!(-1 >= a + d || this.moduleCount <= a + d))
                        for (var b = -1; 7 >= b; b++)
                            -1 >= c + b || this.moduleCount <= c + b || (this.modules[a + d][c + b] = 0 <= d && 6 >= d && (0 == b || 6 == b) || 0 <= b && 6 >= b && (0 == d || 6 == d) || 2 <= d && 4 >= d && 2 <= b && 4 >= b ? !0 : !1)
            },
            getBestMaskPattern: function() {
                for (var a = 0, c = 0, d = 0; 8 > d; d++) {
                    this.makeImpl(!0, d);
                    var b = j.getLostPoint(this);
                    if (0 == d || a > b)
                        a = b,
                        c = d
                }
                return c
            },
            createMovieClip: function(a, c, d) {
                a = a.createEmptyMovieClip(c, d);
                this.make();
                for (c = 0; c < this.modules.length; c++)
                    for (var d = 1 * c, b = 0; b < this.modules[c].length; b++) {
                        var e = 1 * b;
                        this.modules[c][b] && (a.beginFill(0, 100),
                        a.moveTo(e, d),
                        a.lineTo(e + 1, d),
                        a.lineTo(e + 1, d + 1),
                        a.lineTo(e, d + 1),
                        a.endFill())
                    }
                return a
            },
            setupTimingPattern: function() {
                for (var a = 8; a < this.moduleCount - 8; a++)
                    null == this.modules[a][6] && (this.modules[a][6] = 0 == a % 2);
                for (a = 8; a < this.moduleCount - 8; a++)
                    null == this.modules[6][a] && (this.modules[6][a] = 0 == a % 2)
            },
            setupPositionAdjustPattern: function() {
                for (var a = j.getPatternPosition(this.typeNumber), c = 0; c < a.length; c++)
                    for (var d = 0; d < a.length; d++) {
                        var b = a[c]
                          , e = a[d];
                        if (null == this.modules[b][e])
                            for (var f = -2; 2 >= f; f++)
                                for (var i = -2; 2 >= i; i++)
                                    this.modules[b + f][e + i] = -2 == f || 2 == f || -2 == i || 2 == i || 0 == f && 0 == i ? !0 : !1
                    }
            },
            setupTypeNumber: function(a) {
                for (var c = j.getBCHTypeNumber(this.typeNumber), d = 0; 18 > d; d++) {
                    var b = !a && 1 == (c >> d & 1);
                    this.modules[Math.floor(d / 3)][d % 3 + this.moduleCount - 8 - 3] = b
                }
                for (d = 0; 18 > d; d++)
                    b = !a && 1 == (c >> d & 1),
                    this.modules[d % 3 + this.moduleCount - 8 - 3][Math.floor(d / 3)] = b
            },
            setupTypeInfo: function(a, c) {
                for (var d = j.getBCHTypeInfo(this.errorCorrectLevel << 3 | c), b = 0; 15 > b; b++) {
                    var e = !a && 1 == (d >> b & 1);
                    6 > b ? this.modules[b][8] = e : 8 > b ? this.modules[b + 1][8] = e : this.modules[this.moduleCount - 15 + b][8] = e
                }
                for (b = 0; 15 > b; b++)
                    e = !a && 1 == (d >> b & 1),
                    8 > b ? this.modules[8][this.moduleCount - b - 1] = e : 9 > b ? this.modules[8][15 - b - 1 + 1] = e : this.modules[8][15 - b - 1] = e;
                this.modules[this.moduleCount - 8][8] = !a
            },
            mapData: function(a, c) {
                for (var d = -1, b = this.moduleCount - 1, e = 7, f = 0, i = this.moduleCount - 1; 0 < i; i -= 2)
                    for (6 == i && i--; ; ) {
                        for (var g = 0; 2 > g; g++)
                            if (null == this.modules[b][i - g]) {
                                var n = !1;
                                f < a.length && (n = 1 == (a[f] >>> e & 1));
                                j.getMask(c, b, i - g) && (n = !n);
                                this.modules[b][i - g] = n;
                                e--;
                                -1 == e && (f++,
                                e = 7)
                            }
                        b += d;
                        if (0 > b || this.moduleCount <= b) {
                            b -= d;
                            d = -d;
                            break
                        }
                    }
            }
        };
        o.PAD0 = 236;
        o.PAD1 = 17;
        o.createData = function(a, c, d) {
            for (var c = p.getRSBlocks(a, c), b = new t, e = 0; e < d.length; e++) {
                var f = d[e];
                b.put(f.mode, 4);
                b.put(f.getLength(), j.getLengthInBits(f.mode, a));
                f.write(b)
            }
            for (e = a = 0; e < c.length; e++)
                a += c[e].dataCount;
            if (b.getLengthInBits() > 8 * a)
                throw Error("code length overflow. (" + b.getLengthInBits() + ">" + 8 * a + ")");
            for (b.getLengthInBits() + 4 <= 8 * a && b.put(0, 4); 0 != b.getLengthInBits() % 8; )
                b.putBit(!1);
            for (; !(b.getLengthInBits() >= 8 * a); ) {
                b.put(o.PAD0, 8);
                if (b.getLengthInBits() >= 8 * a)
                    break;
                b.put(o.PAD1, 8)
            }
            return o.createBytes(b, c)
        }
        ;
        o.createBytes = function(a, c) {
            for (var d = 0, b = 0, e = 0, f = Array(c.length), i = Array(c.length), g = 0; g < c.length; g++) {
                var n = c[g].dataCount
                  , h = c[g].totalCount - n
                  , b = Math.max(b, n)
                  , e = Math.max(e, h);
                f[g] = Array(n);
                for (var k = 0; k < f[g].length; k++)
                    f[g][k] = 255 & a.buffer[k + d];
                d += n;
                k = j.getErrorCorrectPolynomial(h);
                n = (new q(f[g],k.getLength() - 1)).mod(k);
                i[g] = Array(k.getLength() - 1);
                for (k = 0; k < i[g].length; k++)
                    h = k + n.getLength() - i[g].length,
                    i[g][k] = 0 <= h ? n.get(h) : 0
            }
            for (k = g = 0; k < c.length; k++)
                g += c[k].totalCount;
            d = Array(g);
            for (k = n = 0; k < b; k++)
                for (g = 0; g < c.length; g++)
                    k < f[g].length && (d[n++] = f[g][k]);
            for (k = 0; k < e; k++)
                for (g = 0; g < c.length; g++)
                    k < i[g].length && (d[n++] = i[g][k]);
            return d
        }
        ;
        s = 4;
        for (var j = {
            PATTERN_POSITION_TABLE: [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]],
            G15: 1335,
            G18: 7973,
            G15_MASK: 21522,
            getBCHTypeInfo: function(a) {
                for (var c = a << 10; 0 <= j.getBCHDigit(c) - j.getBCHDigit(j.G15); )
                    c ^= j.G15 << j.getBCHDigit(c) - j.getBCHDigit(j.G15);
                return (a << 10 | c) ^ j.G15_MASK
            },
            getBCHTypeNumber: function(a) {
                for (var c = a << 12; 0 <= j.getBCHDigit(c) - j.getBCHDigit(j.G18); )
                    c ^= j.G18 << j.getBCHDigit(c) - j.getBCHDigit(j.G18);
                return a << 12 | c
            },
            getBCHDigit: function(a) {
                for (var c = 0; 0 != a; )
                    c++,
                    a >>>= 1;
                return c
            },
            getPatternPosition: function(a) {
                return j.PATTERN_POSITION_TABLE[a - 1]
            },
            getMask: function(a, c, d) {
                switch (a) {
                case 0:
                    return 0 == (c + d) % 2;
                case 1:
                    return 0 == c % 2;
                case 2:
                    return 0 == d % 3;
                case 3:
                    return 0 == (c + d) % 3;
                case 4:
                    return 0 == (Math.floor(c / 2) + Math.floor(d / 3)) % 2;
                case 5:
                    return 0 == c * d % 2 + c * d % 3;
                case 6:
                    return 0 == (c * d % 2 + c * d % 3) % 2;
                case 7:
                    return 0 == (c * d % 3 + (c + d) % 2) % 2;
                default:
                    throw Error("bad maskPattern:" + a);
                }
            },
            getErrorCorrectPolynomial: function(a) {
                for (var c = new q([1],0), d = 0; d < a; d++)
                    c = c.multiply(new q([1, l.gexp(d)],0));
                return c
            },
            getLengthInBits: function(a, c) {
                if (1 <= c && 10 > c)
                    switch (a) {
                    case 1:
                        return 10;
                    case 2:
                        return 9;
                    case s:
                        return 8;
                    case 8:
                        return 8;
                    default:
                        throw Error("mode:" + a);
                    }
                else if (27 > c)
                    switch (a) {
                    case 1:
                        return 12;
                    case 2:
                        return 11;
                    case s:
                        return 16;
                    case 8:
                        return 10;
                    default:
                        throw Error("mode:" + a);
                    }
                else if (41 > c)
                    switch (a) {
                    case 1:
                        return 14;
                    case 2:
                        return 13;
                    case s:
                        return 16;
                    case 8:
                        return 12;
                    default:
                        throw Error("mode:" + a);
                    }
                else
                    throw Error("type:" + c);
            },
            getLostPoint: function(a) {
                for (var c = a.getModuleCount(), d = 0, b = 0; b < c; b++)
                    for (var e = 0; e < c; e++) {
                        for (var f = 0, i = a.isDark(b, e), g = -1; 1 >= g; g++)
                            if (!(0 > b + g || c <= b + g))
                                for (var h = -1; 1 >= h; h++)
                                    0 > e + h || c <= e + h || 0 == g && 0 == h || i == a.isDark(b + g, e + h) && f++;
                        5 < f && (d += 3 + f - 5)
                    }
                for (b = 0; b < c - 1; b++)
                    for (e = 0; e < c - 1; e++)
                        if (f = 0,
                        a.isDark(b, e) && f++,
                        a.isDark(b + 1, e) && f++,
                        a.isDark(b, e + 1) && f++,
                        a.isDark(b + 1, e + 1) && f++,
                        0 == f || 4 == f)
                            d += 3;
                for (b = 0; b < c; b++)
                    for (e = 0; e < c - 6; e++)
                        a.isDark(b, e) && !a.isDark(b, e + 1) && a.isDark(b, e + 2) && a.isDark(b, e + 3) && a.isDark(b, e + 4) && !a.isDark(b, e + 5) && a.isDark(b, e + 6) && (d += 40);
                for (e = 0; e < c; e++)
                    for (b = 0; b < c - 6; b++)
                        a.isDark(b, e) && !a.isDark(b + 1, e) && a.isDark(b + 2, e) && a.isDark(b + 3, e) && a.isDark(b + 4, e) && !a.isDark(b + 5, e) && a.isDark(b + 6, e) && (d += 40);
                for (e = f = 0; e < c; e++)
                    for (b = 0; b < c; b++)
                        a.isDark(b, e) && f++;
                a = Math.abs(100 * f / c / c - 50) / 5;
                return d + 10 * a
            }
        }, l = {
            glog: function(a) {
                if (1 > a)
                    throw Error("glog(" + a + ")");
                return l.LOG_TABLE[a]
            },
            gexp: function(a) {
                for (; 0 > a; )
                    a += 255;
                for (; 256 <= a; )
                    a -= 255;
                return l.EXP_TABLE[a]
            },
            EXP_TABLE: Array(256),
            LOG_TABLE: Array(256)
        }, m = 0; 8 > m; m++)
            l.EXP_TABLE[m] = 1 << m;
        for (m = 8; 256 > m; m++)
            l.EXP_TABLE[m] = l.EXP_TABLE[m - 4] ^ l.EXP_TABLE[m - 5] ^ l.EXP_TABLE[m - 6] ^ l.EXP_TABLE[m - 8];
        for (m = 0; 255 > m; m++)
            l.LOG_TABLE[l.EXP_TABLE[m]] = m;
        q.prototype = {
            get: function(a) {
                return this.num[a]
            },
            getLength: function() {
                return this.num.length
            },
            multiply: function(a) {
                for (var c = Array(this.getLength() + a.getLength() - 1), d = 0; d < this.getLength(); d++)
                    for (var b = 0; b < a.getLength(); b++)
                        c[d + b] ^= l.gexp(l.glog(this.get(d)) + l.glog(a.get(b)));
                return new q(c,0)
            },
            mod: function(a) {
                if (0 > this.getLength() - a.getLength())
                    return this;
                for (var c = l.glog(this.get(0)) - l.glog(a.get(0)), d = Array(this.getLength()), b = 0; b < this.getLength(); b++)
                    d[b] = this.get(b);
                for (b = 0; b < a.getLength(); b++)
                    d[b] ^= l.gexp(l.glog(a.get(b)) + c);
                return (new q(d,0)).mod(a)
            }
        };
        p.RS_BLOCK_TABLE = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]];
        p.getRSBlocks = function(a, c) {
            var d = p.getRsBlockTable(a, c);
            if (void 0 == d)
                throw Error("bad rs block @ typeNumber:" + a + "/errorCorrectLevel:" + c);
            for (var b = d.length / 3, e = [], f = 0; f < b; f++)
                for (var h = d[3 * f + 0], g = d[3 * f + 1], j = d[3 * f + 2], l = 0; l < h; l++)
                    e.push(new p(g,j));
            return e
        }
        ;
        p.getRsBlockTable = function(a, c) {
            switch (c) {
            case 1:
                return p.RS_BLOCK_TABLE[4 * (a - 1) + 0];
            case 0:
                return p.RS_BLOCK_TABLE[4 * (a - 1) + 1];
            case 3:
                return p.RS_BLOCK_TABLE[4 * (a - 1) + 2];
            case 2:
                return p.RS_BLOCK_TABLE[4 * (a - 1) + 3]
            }
        }
        ;
        t.prototype = {
            get: function(a) {
                return 1 == (this.buffer[Math.floor(a / 8)] >>> 7 - a % 8 & 1)
            },
            put: function(a, c) {
                for (var d = 0; d < c; d++)
                    this.putBit(1 == (a >>> c - d - 1 & 1))
            },
            getLengthInBits: function() {
                return this.length
            },
            putBit: function(a) {
                var c = Math.floor(this.length / 8);
                this.buffer.length <= c && this.buffer.push(0);
                a && (this.buffer[c] |= 128 >>> this.length % 8);
                this.length++
            }
        };
        "string" === typeof h && (h = {
            text: h
        });
        h = r.extend({}, {
            render: "canvas",
            width: 256,
            height: 256,
            typeNumber: -1,
            correctLevel: 2,
            background: "#ffffff",
            foreground: "#000000"
        }, h);
        return this.each(function() {
            var a;
            if ("canvas" == h.render) {
                a = new o(h.typeNumber,h.correctLevel);
                a.addData(h.text);
                a.make();
                var c = document.createElement("canvas");
                c.width = h.width;
                c.height = h.height;
                for (var d = c.getContext("2d"), b = h.width / a.getModuleCount(), e = h.height / a.getModuleCount(), f = 0; f < a.getModuleCount(); f++)
                    for (var i = 0; i < a.getModuleCount(); i++) {
                        d.fillStyle = a.isDark(f, i) ? h.foreground : h.background;
                        var g = Math.ceil((i + 1) * b) - Math.floor(i * b)
                          , j = Math.ceil((f + 1) * b) - Math.floor(f * b);
                        d.fillRect(Math.round(i * b), Math.round(f * e), g, j)
                    }
            } else {
                a = new o(h.typeNumber,h.correctLevel);
                a.addData(h.text);
                a.make();
                c = r("<table></table>").css("width", h.width + "px").css("height", h.height + "px").css("border", "0px").css("border-collapse", "collapse").css("background-color", h.background);
                d = h.width / a.getModuleCount();
                b = h.height / a.getModuleCount();
                for (e = 0; e < a.getModuleCount(); e++) {
                    f = r("<tr></tr>").css("height", b + "px").appendTo(c);
                    for (i = 0; i < a.getModuleCount(); i++)
                        r("<td></td>").css("width", d + "px").css("background-color", a.isDark(e, i) ? h.foreground : h.background).appendTo(f)
                }
            }
            a = c;
            jQuery(a).appendTo(this)
        })
    }
}
)(jQuery);

/**
 * core-js 2.4.1
 * https://github.com/zloirock/core-js
 * License: http://rock.mit-license.org
 * © 2016 Denis Pushkarev
 */
!function(a, b, c) {
    "use strict";
    !function(a) {
        function __webpack_require__(c) {
            if (b[c])
                return b[c].exports;
            var d = b[c] = {
                exports: {},
                id: c,
                loaded: !1
            };
            return a[c].call(d.exports, d, d.exports, __webpack_require__),
            d.loaded = !0,
            d.exports
        }
        var b = {};
        return __webpack_require__.m = a,
        __webpack_require__.c = b,
        __webpack_require__.p = "",
        __webpack_require__(0)
    }([function(a, b, c) {
        c(1),
        c(50),
        c(51),
        c(52),
        c(54),
        c(55),
        c(58),
        c(59),
        c(60),
        c(61),
        c(62),
        c(63),
        c(64),
        c(65),
        c(66),
        c(68),
        c(70),
        c(72),
        c(74),
        c(77),
        c(78),
        c(79),
        c(83),
        c(86),
        c(87),
        c(88),
        c(89),
        c(91),
        c(92),
        c(93),
        c(94),
        c(95),
        c(97),
        c(99),
        c(100),
        c(101),
        c(103),
        c(104),
        c(105),
        c(107),
        c(108),
        c(109),
        c(111),
        c(112),
        c(113),
        c(114),
        c(115),
        c(116),
        c(117),
        c(118),
        c(119),
        c(120),
        c(121),
        c(122),
        c(123),
        c(124),
        c(126),
        c(130),
        c(131),
        c(132),
        c(133),
        c(137),
        c(139),
        c(140),
        c(141),
        c(142),
        c(143),
        c(144),
        c(145),
        c(146),
        c(147),
        c(148),
        c(149),
        c(150),
        c(151),
        c(152),
        c(158),
        c(159),
        c(161),
        c(162),
        c(163),
        c(167),
        c(168),
        c(169),
        c(170),
        c(171),
        c(173),
        c(174),
        c(175),
        c(176),
        c(179),
        c(181),
        c(182),
        c(183),
        c(185),
        c(187),
        c(189),
        c(190),
        c(191),
        c(193),
        c(194),
        c(195),
        c(196),
        c(203),
        c(206),
        c(207),
        c(209),
        c(210),
        c(211),
        c(212),
        c(213),
        c(214),
        c(215),
        c(216),
        c(217),
        c(218),
        c(219),
        c(220),
        c(222),
        c(223),
        c(224),
        c(225),
        c(226),
        c(227),
        c(228),
        c(229),
        c(231),
        c(234),
        c(235),
        c(237),
        c(238),
        c(239),
        c(240),
        c(241),
        c(242),
        c(243),
        c(244),
        c(245),
        c(246),
        c(247),
        c(249),
        c(250),
        c(251),
        c(252),
        c(253),
        c(254),
        c(255),
        c(256),
        c(258),
        c(259),
        c(261),
        c(262),
        c(263),
        c(264),
        c(267),
        c(268),
        c(269),
        c(270),
        c(271),
        c(272),
        c(273),
        c(274),
        c(276),
        c(277),
        c(278),
        c(279),
        c(280),
        c(281),
        c(282),
        c(283),
        c(284),
        c(285),
        c(286),
        c(287),
        c(288),
        c(291),
        c(156),
        c(293),
        c(292),
        c(294),
        c(295),
        c(296),
        c(297),
        c(298),
        c(300),
        c(301),
        c(302),
        c(304),
        a.exports = c(305)
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(3)
          , g = d(4)
          , h = d(6)
          , i = d(16)
          , j = d(20).KEY
          , k = d(5)
          , l = d(21)
          , m = d(22)
          , n = d(17)
          , o = d(23)
          , p = d(24)
          , q = d(25)
          , r = d(27)
          , s = d(40)
          , t = d(43)
          , u = d(10)
          , v = d(30)
          , w = d(14)
          , x = d(15)
          , y = d(44)
          , z = d(47)
          , A = d(49)
          , B = d(9)
          , C = d(28)
          , D = A.f
          , E = B.f
          , F = z.f
          , G = e.Symbol
          , H = e.JSON
          , I = H && H.stringify
          , J = "prototype"
          , K = o("_hidden")
          , L = o("toPrimitive")
          , M = {}.propertyIsEnumerable
          , N = l("symbol-registry")
          , O = l("symbols")
          , P = l("op-symbols")
          , Q = Object[J]
          , R = "function" == typeof G
          , S = e.QObject
          , T = !S || !S[J] || !S[J].findChild
          , U = g && k(function() {
            return 7 != y(E({}, "a", {
                get: function() {
                    return E(this, "a", {
                        value: 7
                    }).a
                }
            })).a
        }) ? function(a, b, c) {
            var d = D(Q, b);
            d && delete Q[b],
            E(a, b, c),
            d && a !== Q && E(Q, b, d)
        }
        : E
          , V = function(a) {
            var b = O[a] = y(G[J]);
            return b._k = a,
            b
        }
          , W = R && "symbol" == typeof G.iterator ? function(a) {
            return "symbol" == typeof a
        }
        : function(a) {
            return a instanceof G
        }
          , X = function defineProperty(a, b, c) {
            return a === Q && X(P, b, c),
            u(a),
            b = w(b, !0),
            u(c),
            f(O, b) ? (c.enumerable ? (f(a, K) && a[K][b] && (a[K][b] = !1),
            c = y(c, {
                enumerable: x(0, !1)
            })) : (f(a, K) || E(a, K, x(1, {})),
            a[K][b] = !0),
            U(a, b, c)) : E(a, b, c)
        }
          , Y = function defineProperties(a, b) {
            u(a);
            for (var c, d = s(b = v(b)), e = 0, f = d.length; f > e; )
                X(a, c = d[e++], b[c]);
            return a
        }
          , Z = function create(a, b) {
            return b === c ? y(a) : Y(y(a), b)
        }
          , $ = function propertyIsEnumerable(a) {
            var b = M.call(this, a = w(a, !0));
            return !(this === Q && f(O, a) && !f(P, a)) && (!(b || !f(this, a) || !f(O, a) || f(this, K) && this[K][a]) || b)
        }
          , _ = function getOwnPropertyDescriptor(a, b) {
            if (a = v(a),
            b = w(b, !0),
            a !== Q || !f(O, b) || f(P, b)) {
                var c = D(a, b);
                return !c || !f(O, b) || f(a, K) && a[K][b] || (c.enumerable = !0),
                c
            }
        }
          , aa = function getOwnPropertyNames(a) {
            for (var b, c = F(v(a)), d = [], e = 0; c.length > e; )
                f(O, b = c[e++]) || b == K || b == j || d.push(b);
            return d
        }
          , ba = function getOwnPropertySymbols(a) {
            for (var b, c = a === Q, d = F(c ? P : v(a)), e = [], g = 0; d.length > g; )
                !f(O, b = d[g++]) || c && !f(Q, b) || e.push(O[b]);
            return e
        };
        R || (G = function Symbol() {
            if (this instanceof G)
                throw TypeError("Symbol is not a constructor!");
            var a = n(arguments.length > 0 ? arguments[0] : c)
              , b = function(c) {
                this === Q && b.call(P, c),
                f(this, K) && f(this[K], a) && (this[K][a] = !1),
                U(this, a, x(1, c))
            };
            return g && T && U(Q, a, {
                configurable: !0,
                set: b
            }),
            V(a)
        }
        ,
        i(G[J], "toString", function toString() {
            return this._k
        }),
        A.f = _,
        B.f = X,
        d(48).f = z.f = aa,
        d(42).f = $,
        d(41).f = ba,
        g && !d(26) && i(Q, "propertyIsEnumerable", $, !0),
        p.f = function(a) {
            return V(o(a))
        }
        ),
        h(h.G + h.W + h.F * !R, {
            Symbol: G
        });
        for (var ca = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), da = 0; ca.length > da; )
            o(ca[da++]);
        for (var ca = C(o.store), da = 0; ca.length > da; )
            q(ca[da++]);
        h(h.S + h.F * !R, "Symbol", {
            "for": function(a) {
                return f(N, a += "") ? N[a] : N[a] = G(a)
            },
            keyFor: function keyFor(a) {
                if (W(a))
                    return r(N, a);
                throw TypeError(a + " is not a symbol!")
            },
            useSetter: function() {
                T = !0
            },
            useSimple: function() {
                T = !1
            }
        }),
        h(h.S + h.F * !R, "Object", {
            create: Z,
            defineProperty: X,
            defineProperties: Y,
            getOwnPropertyDescriptor: _,
            getOwnPropertyNames: aa,
            getOwnPropertySymbols: ba
        }),
        H && h(h.S + h.F * (!R || k(function() {
            var a = G();
            return "[null]" != I([a]) || "{}" != I({
                a: a
            }) || "{}" != I(Object(a))
        })), "JSON", {
            stringify: function stringify(a) {
                if (a !== c && !W(a)) {
                    for (var b, d, e = [a], f = 1; arguments.length > f; )
                        e.push(arguments[f++]);
                    return b = e[1],
                    "function" == typeof b && (d = b),
                    !d && t(b) || (b = function(a, b) {
                        if (d && (b = d.call(this, a, b)),
                        !W(b))
                            return b
                    }
                    ),
                    e[1] = b,
                    I.apply(H, e)
                }
            }
        }),
        G[J][L] || d(8)(G[J], L, G[J].valueOf),
        m(G, "Symbol"),
        m(Math, "Math", !0),
        m(e.JSON, "JSON", !0)
    }
    , function(a, c) {
        var d = a.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
        "number" == typeof b && (b = d)
    }
    , function(a, b) {
        var c = {}.hasOwnProperty;
        a.exports = function(a, b) {
            return c.call(a, b)
        }
    }
    , function(a, b, c) {
        a.exports = !c(5)(function() {
            return 7 != Object.defineProperty({}, "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    }
    , function(a, b) {
        a.exports = function(a) {
            try {
                return !!a()
            } catch (b) {
                return !0
            }
        }
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(7)
          , g = d(8)
          , h = d(16)
          , i = d(18)
          , j = "prototype"
          , k = function(a, b, d) {
            var l, m, n, o, p = a & k.F, q = a & k.G, r = a & k.S, s = a & k.P, t = a & k.B, u = q ? e : r ? e[b] || (e[b] = {}) : (e[b] || {})[j], v = q ? f : f[b] || (f[b] = {}), w = v[j] || (v[j] = {});
            q && (d = b);
            for (l in d)
                m = !p && u && u[l] !== c,
                n = (m ? u : d)[l],
                o = t && m ? i(n, e) : s && "function" == typeof n ? i(Function.call, n) : n,
                u && h(u, l, n, a & k.U),
                v[l] != n && g(v, l, o),
                s && w[l] != n && (w[l] = n)
        };
        e.core = f,
        k.F = 1,
        k.G = 2,
        k.S = 4,
        k.P = 8,
        k.B = 16,
        k.W = 32,
        k.U = 64,
        k.R = 128,
        a.exports = k
    }
    , function(b, c) {
        var d = b.exports = {
            version: "2.4.0"
        };
        "number" == typeof a && (a = d)
    }
    , function(a, b, c) {
        var d = c(9)
          , e = c(15);
        a.exports = c(4) ? function(a, b, c) {
            return d.f(a, b, e(1, c))
        }
        : function(a, b, c) {
            return a[b] = c,
            a
        }
    }
    , function(a, b, c) {
        var d = c(10)
          , e = c(12)
          , f = c(14)
          , g = Object.defineProperty;
        b.f = c(4) ? Object.defineProperty : function defineProperty(a, b, c) {
            if (d(a),
            b = f(b, !0),
            d(c),
            e)
                try {
                    return g(a, b, c)
                } catch (h) {}
            if ("get"in c || "set"in c)
                throw TypeError("Accessors not supported!");
            return "value"in c && (a[b] = c.value),
            a
        }
    }
    , function(a, b, c) {
        var d = c(11);
        a.exports = function(a) {
            if (!d(a))
                throw TypeError(a + " is not an object!");
            return a
        }
    }
    , function(a, b) {
        a.exports = function(a) {
            return "object" == typeof a ? null !== a : "function" == typeof a
        }
    }
    , function(a, b, c) {
        a.exports = !c(4) && !c(5)(function() {
            return 7 != Object.defineProperty(c(13)("div"), "a", {
                get: function() {
                    return 7
                }
            }).a
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(2).document
          , f = d(e) && d(e.createElement);
        a.exports = function(a) {
            return f ? e.createElement(a) : {}
        }
    }
    , function(a, b, c) {
        var d = c(11);
        a.exports = function(a, b) {
            if (!d(a))
                return a;
            var c, e;
            if (b && "function" == typeof (c = a.toString) && !d(e = c.call(a)))
                return e;
            if ("function" == typeof (c = a.valueOf) && !d(e = c.call(a)))
                return e;
            if (!b && "function" == typeof (c = a.toString) && !d(e = c.call(a)))
                return e;
            throw TypeError("Can't convert object to primitive value")
        }
    }
    , function(a, b) {
        a.exports = function(a, b) {
            return {
                enumerable: !(1 & a),
                configurable: !(2 & a),
                writable: !(4 & a),
                value: b
            }
        }
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(8)
          , f = c(3)
          , g = c(17)("src")
          , h = "toString"
          , i = Function[h]
          , j = ("" + i).split(h);
        c(7).inspectSource = function(a) {
            return i.call(a)
        }
        ,
        (a.exports = function(a, b, c, h) {
            var i = "function" == typeof c;
            i && (f(c, "name") || e(c, "name", b)),
            a[b] !== c && (i && (f(c, g) || e(c, g, a[b] ? "" + a[b] : j.join(String(b)))),
            a === d ? a[b] = c : h ? a[b] ? a[b] = c : e(a, b, c) : (delete a[b],
            e(a, b, c)))
        }
        )(Function.prototype, h, function toString() {
            return "function" == typeof this && this[g] || i.call(this)
        })
    }
    , function(a, b) {
        var d = 0
          , e = Math.random();
        a.exports = function(a) {
            return "Symbol(".concat(a === c ? "" : a, ")_", (++d + e).toString(36))
        }
    }
    , function(a, b, d) {
        var e = d(19);
        a.exports = function(a, b, d) {
            if (e(a),
            b === c)
                return a;
            switch (d) {
            case 1:
                return function(c) {
                    return a.call(b, c)
                }
                ;
            case 2:
                return function(c, d) {
                    return a.call(b, c, d)
                }
                ;
            case 3:
                return function(c, d, e) {
                    return a.call(b, c, d, e)
                }
            }
            return function() {
                return a.apply(b, arguments)
            }
        }
    }
    , function(a, b) {
        a.exports = function(a) {
            if ("function" != typeof a)
                throw TypeError(a + " is not a function!");
            return a
        }
    }
    , function(a, b, c) {
        var d = c(17)("meta")
          , e = c(11)
          , f = c(3)
          , g = c(9).f
          , h = 0
          , i = Object.isExtensible || function() {
            return !0
        }
          , j = !c(5)(function() {
            return i(Object.preventExtensions({}))
        })
          , k = function(a) {
            g(a, d, {
                value: {
                    i: "O" + ++h,
                    w: {}
                }
            })
        }
          , l = function(a, b) {
            if (!e(a))
                return "symbol" == typeof a ? a : ("string" == typeof a ? "S" : "P") + a;
            if (!f(a, d)) {
                if (!i(a))
                    return "F";
                if (!b)
                    return "E";
                k(a)
            }
            return a[d].i
        }
          , m = function(a, b) {
            if (!f(a, d)) {
                if (!i(a))
                    return !0;
                if (!b)
                    return !1;
                k(a)
            }
            return a[d].w
        }
          , n = function(a) {
            return j && o.NEED && i(a) && !f(a, d) && k(a),
            a
        }
          , o = a.exports = {
            KEY: d,
            NEED: !1,
            fastKey: l,
            getWeak: m,
            onFreeze: n
        }
    }
    , function(a, b, c) {
        var d = c(2)
          , e = "__core-js_shared__"
          , f = d[e] || (d[e] = {});
        a.exports = function(a) {
            return f[a] || (f[a] = {})
        }
    }
    , function(a, b, c) {
        var d = c(9).f
          , e = c(3)
          , f = c(23)("toStringTag");
        a.exports = function(a, b, c) {
            a && !e(a = c ? a : a.prototype, f) && d(a, f, {
                configurable: !0,
                value: b
            })
        }
    }
    , function(a, b, c) {
        var d = c(21)("wks")
          , e = c(17)
          , f = c(2).Symbol
          , g = "function" == typeof f
          , h = a.exports = function(a) {
            return d[a] || (d[a] = g && f[a] || (g ? f : e)("Symbol." + a))
        }
        ;
        h.store = d
    }
    , function(a, b, c) {
        b.f = c(23)
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(7)
          , f = c(26)
          , g = c(24)
          , h = c(9).f;
        a.exports = function(a) {
            var b = e.Symbol || (e.Symbol = f ? {} : d.Symbol || {});
            "_" == a.charAt(0) || a in b || h(b, a, {
                value: g.f(a)
            })
        }
    }
    , function(a, b) {
        a.exports = !1
    }
    , function(a, b, c) {
        var d = c(28)
          , e = c(30);
        a.exports = function(a, b) {
            for (var c, f = e(a), g = d(f), h = g.length, i = 0; h > i; )
                if (f[c = g[i++]] === b)
                    return c
        }
    }
    , function(a, b, c) {
        var d = c(29)
          , e = c(39);
        a.exports = Object.keys || function keys(a) {
            return d(a, e)
        }
    }
    , function(a, b, c) {
        var d = c(3)
          , e = c(30)
          , f = c(34)(!1)
          , g = c(38)("IE_PROTO");
        a.exports = function(a, b) {
            var c, h = e(a), i = 0, j = [];
            for (c in h)
                c != g && d(h, c) && j.push(c);
            for (; b.length > i; )
                d(h, c = b[i++]) && (~f(j, c) || j.push(c));
            return j
        }
    }
    , function(a, b, c) {
        var d = c(31)
          , e = c(33);
        a.exports = function(a) {
            return d(e(a))
        }
    }
    , function(a, b, c) {
        var d = c(32);
        a.exports = Object("z").propertyIsEnumerable(0) ? Object : function(a) {
            return "String" == d(a) ? a.split("") : Object(a)
        }
    }
    , function(a, b) {
        var c = {}.toString;
        a.exports = function(a) {
            return c.call(a).slice(8, -1)
        }
    }
    , function(a, b) {
        a.exports = function(a) {
            if (a == c)
                throw TypeError("Can't call method on  " + a);
            return a
        }
    }
    , function(a, b, c) {
        var d = c(30)
          , e = c(35)
          , f = c(37);
        a.exports = function(a) {
            return function(b, c, g) {
                var h, i = d(b), j = e(i.length), k = f(g, j);
                if (a && c != c) {
                    for (; j > k; )
                        if (h = i[k++],
                        h != h)
                            return !0
                } else
                    for (; j > k; k++)
                        if ((a || k in i) && i[k] === c)
                            return a || k || 0;
                return !a && -1
            }
        }
    }
    , function(a, b, c) {
        var d = c(36)
          , e = Math.min;
        a.exports = function(a) {
            return a > 0 ? e(d(a), 9007199254740991) : 0
        }
    }
    , function(a, b) {
        var c = Math.ceil
          , d = Math.floor;
        a.exports = function(a) {
            return isNaN(a = +a) ? 0 : (a > 0 ? d : c)(a)
        }
    }
    , function(a, b, c) {
        var d = c(36)
          , e = Math.max
          , f = Math.min;
        a.exports = function(a, b) {
            return a = d(a),
            a < 0 ? e(a + b, 0) : f(a, b)
        }
    }
    , function(a, b, c) {
        var d = c(21)("keys")
          , e = c(17);
        a.exports = function(a) {
            return d[a] || (d[a] = e(a))
        }
    }
    , function(a, b) {
        a.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
    }
    , function(a, b, c) {
        var d = c(28)
          , e = c(41)
          , f = c(42);
        a.exports = function(a) {
            var b = d(a)
              , c = e.f;
            if (c)
                for (var g, h = c(a), i = f.f, j = 0; h.length > j; )
                    i.call(a, g = h[j++]) && b.push(g);
            return b
        }
    }
    , function(a, b) {
        b.f = Object.getOwnPropertySymbols
    }
    , function(a, b) {
        b.f = {}.propertyIsEnumerable
    }
    , function(a, b, c) {
        var d = c(32);
        a.exports = Array.isArray || function isArray(a) {
            return "Array" == d(a)
        }
    }
    , function(a, b, d) {
        var e = d(10)
          , f = d(45)
          , g = d(39)
          , h = d(38)("IE_PROTO")
          , i = function() {}
          , j = "prototype"
          , k = function() {
            var a, b = d(13)("iframe"), c = g.length, e = "<", f = ">";
            for (b.style.display = "none",
            d(46).appendChild(b),
            b.src = "javascript:",
            a = b.contentWindow.document,
            a.open(),
            a.write(e + "script" + f + "document.F=Object" + e + "/script" + f),
            a.close(),
            k = a.F; c--; )
                delete k[j][g[c]];
            return k()
        };
        a.exports = Object.create || function create(a, b) {
            var d;
            return null !== a ? (i[j] = e(a),
            d = new i,
            i[j] = null,
            d[h] = a) : d = k(),
            b === c ? d : f(d, b)
        }
    }
    , function(a, b, c) {
        var d = c(9)
          , e = c(10)
          , f = c(28);
        a.exports = c(4) ? Object.defineProperties : function defineProperties(a, b) {
            e(a);
            for (var c, g = f(b), h = g.length, i = 0; h > i; )
                d.f(a, c = g[i++], b[c]);
            return a
        }
    }
    , function(a, b, c) {
        a.exports = c(2).document && document.documentElement
    }
    , function(a, b, c) {
        var d = c(30)
          , e = c(48).f
          , f = {}.toString
          , g = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
          , h = function(a) {
            try {
                return e(a)
            } catch (b) {
                return g.slice()
            }
        };
        a.exports.f = function getOwnPropertyNames(a) {
            return g && "[object Window]" == f.call(a) ? h(a) : e(d(a))
        }
    }
    , function(a, b, c) {
        var d = c(29)
          , e = c(39).concat("length", "prototype");
        b.f = Object.getOwnPropertyNames || function getOwnPropertyNames(a) {
            return d(a, e)
        }
    }
    , function(a, b, c) {
        var d = c(42)
          , e = c(15)
          , f = c(30)
          , g = c(14)
          , h = c(3)
          , i = c(12)
          , j = Object.getOwnPropertyDescriptor;
        b.f = c(4) ? j : function getOwnPropertyDescriptor(a, b) {
            if (a = f(a),
            b = g(b, !0),
            i)
                try {
                    return j(a, b)
                } catch (c) {}
            if (h(a, b))
                return e(!d.f.call(a, b), a[b])
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S + d.F * !c(4), "Object", {
            defineProperty: c(9).f
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S + d.F * !c(4), "Object", {
            defineProperties: c(45)
        })
    }
    , function(a, b, c) {
        var d = c(30)
          , e = c(49).f;
        c(53)("getOwnPropertyDescriptor", function() {
            return function getOwnPropertyDescriptor(a, b) {
                return e(d(a), b)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(7)
          , f = c(5);
        a.exports = function(a, b) {
            var c = (e.Object || {})[a] || Object[a]
              , g = {};
            g[a] = b(c),
            d(d.S + d.F * f(function() {
                c(1)
            }), "Object", g)
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Object", {
            create: c(44)
        })
    }
    , function(a, b, c) {
        var d = c(56)
          , e = c(57);
        c(53)("getPrototypeOf", function() {
            return function getPrototypeOf(a) {
                return e(d(a))
            }
        })
    }
    , function(a, b, c) {
        var d = c(33);
        a.exports = function(a) {
            return Object(d(a))
        }
    }
    , function(a, b, c) {
        var d = c(3)
          , e = c(56)
          , f = c(38)("IE_PROTO")
          , g = Object.prototype;
        a.exports = Object.getPrototypeOf || function(a) {
            return a = e(a),
            d(a, f) ? a[f] : "function" == typeof a.constructor && a instanceof a.constructor ? a.constructor.prototype : a instanceof Object ? g : null
        }
    }
    , function(a, b, c) {
        var d = c(56)
          , e = c(28);
        c(53)("keys", function() {
            return function keys(a) {
                return e(d(a))
            }
        })
    }
    , function(a, b, c) {
        c(53)("getOwnPropertyNames", function() {
            return c(47).f
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(20).onFreeze;
        c(53)("freeze", function(a) {
            return function freeze(b) {
                return a && d(b) ? a(e(b)) : b
            }
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(20).onFreeze;
        c(53)("seal", function(a) {
            return function seal(b) {
                return a && d(b) ? a(e(b)) : b
            }
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(20).onFreeze;
        c(53)("preventExtensions", function(a) {
            return function preventExtensions(b) {
                return a && d(b) ? a(e(b)) : b
            }
        })
    }
    , function(a, b, c) {
        var d = c(11);
        c(53)("isFrozen", function(a) {
            return function isFrozen(b) {
                return !d(b) || !!a && a(b)
            }
        })
    }
    , function(a, b, c) {
        var d = c(11);
        c(53)("isSealed", function(a) {
            return function isSealed(b) {
                return !d(b) || !!a && a(b)
            }
        })
    }
    , function(a, b, c) {
        var d = c(11);
        c(53)("isExtensible", function(a) {
            return function isExtensible(b) {
                return !!d(b) && (!a || a(b))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S + d.F, "Object", {
            assign: c(67)
        })
    }
    , function(a, b, c) {
        var d = c(28)
          , e = c(41)
          , f = c(42)
          , g = c(56)
          , h = c(31)
          , i = Object.assign;
        a.exports = !i || c(5)(function() {
            var a = {}
              , b = {}
              , c = Symbol()
              , d = "abcdefghijklmnopqrst";
            return a[c] = 7,
            d.split("").forEach(function(a) {
                b[a] = a
            }),
            7 != i({}, a)[c] || Object.keys(i({}, b)).join("") != d
        }) ? function assign(a, b) {
            for (var c = g(a), i = arguments.length, j = 1, k = e.f, l = f.f; i > j; )
                for (var m, n = h(arguments[j++]), o = k ? d(n).concat(k(n)) : d(n), p = o.length, q = 0; p > q; )
                    l.call(n, m = o[q++]) && (c[m] = n[m]);
            return c
        }
        : i
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Object", {
            is: c(69)
        })
    }
    , function(a, b) {
        a.exports = Object.is || function is(a, b) {
            return a === b ? 0 !== a || 1 / a === 1 / b : a != a && b != b
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Object", {
            setPrototypeOf: c(71).set
        })
    }
    , function(a, b, d) {
        var e = d(11)
          , f = d(10)
          , g = function(a, b) {
            if (f(a),
            !e(b) && null !== b)
                throw TypeError(b + ": can't set as prototype!")
        };
        a.exports = {
            set: Object.setPrototypeOf || ("__proto__"in {} ? function(a, b, c) {
                try {
                    c = d(18)(Function.call, d(49).f(Object.prototype, "__proto__").set, 2),
                    c(a, []),
                    b = !(a instanceof Array)
                } catch (e) {
                    b = !0
                }
                return function setPrototypeOf(a, d) {
                    return g(a, d),
                    b ? a.__proto__ = d : c(a, d),
                    a
                }
            }({}, !1) : c),
            check: g
        }
    }
    , function(a, b, c) {
        var d = c(73)
          , e = {};
        e[c(23)("toStringTag")] = "z",
        e + "" != "[object z]" && c(16)(Object.prototype, "toString", function toString() {
            return "[object " + d(this) + "]"
        }, !0)
    }
    , function(a, b, d) {
        var e = d(32)
          , f = d(23)("toStringTag")
          , g = "Arguments" == e(function() {
            return arguments
        }())
          , h = function(a, b) {
            try {
                return a[b]
            } catch (c) {}
        };
        a.exports = function(a) {
            var b, d, i;
            return a === c ? "Undefined" : null === a ? "Null" : "string" == typeof (d = h(b = Object(a), f)) ? d : g ? e(b) : "Object" == (i = e(b)) && "function" == typeof b.callee ? "Arguments" : i
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P, "Function", {
            bind: c(75)
        })
    }
    , function(a, b, c) {
        var d = c(19)
          , e = c(11)
          , f = c(76)
          , g = [].slice
          , h = {}
          , i = function(a, b, c) {
            if (!(b in h)) {
                for (var d = [], e = 0; e < b; e++)
                    d[e] = "a[" + e + "]";
                h[b] = Function("F,a", "return new F(" + d.join(",") + ")")
            }
            return h[b](a, c)
        };
        a.exports = Function.bind || function bind(a) {
            var b = d(this)
              , c = g.call(arguments, 1)
              , h = function() {
                var d = c.concat(g.call(arguments));
                return this instanceof h ? i(b, d.length, d) : f(b, d, a)
            };
            return e(b.prototype) && (h.prototype = b.prototype),
            h
        }
    }
    , function(a, b) {
        a.exports = function(a, b, d) {
            var e = d === c;
            switch (b.length) {
            case 0:
                return e ? a() : a.call(d);
            case 1:
                return e ? a(b[0]) : a.call(d, b[0]);
            case 2:
                return e ? a(b[0], b[1]) : a.call(d, b[0], b[1]);
            case 3:
                return e ? a(b[0], b[1], b[2]) : a.call(d, b[0], b[1], b[2]);
            case 4:
                return e ? a(b[0], b[1], b[2], b[3]) : a.call(d, b[0], b[1], b[2], b[3])
            }
            return a.apply(d, b)
        }
    }
    , function(a, b, c) {
        var d = c(9).f
          , e = c(15)
          , f = c(3)
          , g = Function.prototype
          , h = /^\s*function ([^ (]*)/
          , i = "name"
          , j = Object.isExtensible || function() {
            return !0
        }
        ;
        i in g || c(4) && d(g, i, {
            configurable: !0,
            get: function() {
                try {
                    var a = this
                      , b = ("" + a).match(h)[1];
                    return f(a, i) || !j(a) || d(a, i, e(5, b)),
                    b
                } catch (c) {
                    return ""
                }
            }
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(57)
          , f = c(23)("hasInstance")
          , g = Function.prototype;
        f in g || c(9).f(g, f, {
            value: function(a) {
                if ("function" != typeof this || !d(a))
                    return !1;
                if (!d(this.prototype))
                    return a instanceof this;
                for (; a = e(a); )
                    if (this.prototype === a)
                        return !0;
                return !1
            }
        })
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(3)
          , f = c(32)
          , g = c(80)
          , h = c(14)
          , i = c(5)
          , j = c(48).f
          , k = c(49).f
          , l = c(9).f
          , m = c(81).trim
          , n = "Number"
          , o = d[n]
          , p = o
          , q = o.prototype
          , r = f(c(44)(q)) == n
          , s = "trim"in String.prototype
          , t = function(a) {
            var b = h(a, !1);
            if ("string" == typeof b && b.length > 2) {
                b = s ? b.trim() : m(b, 3);
                var c, d, e, f = b.charCodeAt(0);
                if (43 === f || 45 === f) {
                    if (c = b.charCodeAt(2),
                    88 === c || 120 === c)
                        return NaN
                } else if (48 === f) {
                    switch (b.charCodeAt(1)) {
                    case 66:
                    case 98:
                        d = 2,
                        e = 49;
                        break;
                    case 79:
                    case 111:
                        d = 8,
                        e = 55;
                        break;
                    default:
                        return +b
                    }
                    for (var g, i = b.slice(2), j = 0, k = i.length; j < k; j++)
                        if (g = i.charCodeAt(j),
                        g < 48 || g > e)
                            return NaN;
                    return parseInt(i, d)
                }
            }
            return +b
        };
        if (!o(" 0o1") || !o("0b1") || o("+0x1")) {
            o = function Number(a) {
                var b = arguments.length < 1 ? 0 : a
                  , c = this;
                return c instanceof o && (r ? i(function() {
                    q.valueOf.call(c)
                }) : f(c) != n) ? g(new p(t(b)), c, o) : t(b)
            }
            ;
            for (var u, v = c(4) ? j(p) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), w = 0; v.length > w; w++)
                e(p, u = v[w]) && !e(o, u) && l(o, u, k(p, u));
            o.prototype = q,
            q.constructor = o,
            c(16)(d, n, o)
        }
    }
    , function(a, b, c) {
        var d = c(11)
          , e = c(71).set;
        a.exports = function(a, b, c) {
            var f, g = b.constructor;
            return g !== c && "function" == typeof g && (f = g.prototype) !== c.prototype && d(f) && e && e(a, f),
            a
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(33)
          , f = c(5)
          , g = c(82)
          , h = "[" + g + "]"
          , i = "​"
          , j = RegExp("^" + h + h + "*")
          , k = RegExp(h + h + "*$")
          , l = function(a, b, c) {
            var e = {}
              , h = f(function() {
                return !!g[a]() || i[a]() != i
            })
              , j = e[a] = h ? b(m) : g[a];
            c && (e[c] = j),
            d(d.P + d.F * h, "String", e)
        }
          , m = l.trim = function(a, b) {
            return a = String(e(a)),
            1 & b && (a = a.replace(j, "")),
            2 & b && (a = a.replace(k, "")),
            a
        }
        ;
        a.exports = l
    }
    , function(a, b) {
        a.exports = "\t\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(36)
          , f = c(84)
          , g = c(85)
          , h = 1..toFixed
          , i = Math.floor
          , j = [0, 0, 0, 0, 0, 0]
          , k = "Number.toFixed: incorrect invocation!"
          , l = "0"
          , m = function(a, b) {
            for (var c = -1, d = b; ++c < 6; )
                d += a * j[c],
                j[c] = d % 1e7,
                d = i(d / 1e7)
        }
          , n = function(a) {
            for (var b = 6, c = 0; --b >= 0; )
                c += j[b],
                j[b] = i(c / a),
                c = c % a * 1e7
        }
          , o = function() {
            for (var a = 6, b = ""; --a >= 0; )
                if ("" !== b || 0 === a || 0 !== j[a]) {
                    var c = String(j[a]);
                    b = "" === b ? c : b + g.call(l, 7 - c.length) + c
                }
            return b
        }
          , p = function(a, b, c) {
            return 0 === b ? c : b % 2 === 1 ? p(a, b - 1, c * a) : p(a * a, b / 2, c)
        }
          , q = function(a) {
            for (var b = 0, c = a; c >= 4096; )
                b += 12,
                c /= 4096;
            for (; c >= 2; )
                b += 1,
                c /= 2;
            return b
        };
        d(d.P + d.F * (!!h && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !c(5)(function() {
            h.call({})
        })), "Number", {
            toFixed: function toFixed(a) {
                var b, c, d, h, i = f(this, k), j = e(a), r = "", s = l;
                if (j < 0 || j > 20)
                    throw RangeError(k);
                if (i != i)
                    return "NaN";
                if (i <= -1e21 || i >= 1e21)
                    return String(i);
                if (i < 0 && (r = "-",
                i = -i),
                i > 1e-21)
                    if (b = q(i * p(2, 69, 1)) - 69,
                    c = b < 0 ? i * p(2, -b, 1) : i / p(2, b, 1),
                    c *= 4503599627370496,
                    b = 52 - b,
                    b > 0) {
                        for (m(0, c),
                        d = j; d >= 7; )
                            m(1e7, 0),
                            d -= 7;
                        for (m(p(10, d, 1), 0),
                        d = b - 1; d >= 23; )
                            n(1 << 23),
                            d -= 23;
                        n(1 << d),
                        m(1, 1),
                        n(2),
                        s = o()
                    } else
                        m(0, c),
                        m(1 << -b, 0),
                        s = o() + g.call(l, j);
                return j > 0 ? (h = s.length,
                s = r + (h <= j ? "0." + g.call(l, j - h) + s : s.slice(0, h - j) + "." + s.slice(h - j))) : s = r + s,
                s
            }
        })
    }
    , function(a, b, c) {
        var d = c(32);
        a.exports = function(a, b) {
            if ("number" != typeof a && "Number" != d(a))
                throw TypeError(b);
            return +a
        }
    }
    , function(a, b, c) {
        var d = c(36)
          , e = c(33);
        a.exports = function repeat(a) {
            var b = String(e(this))
              , c = ""
              , f = d(a);
            if (f < 0 || f == 1 / 0)
                throw RangeError("Count can't be negative");
            for (; f > 0; (f >>>= 1) && (b += b))
                1 & f && (c += b);
            return c
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(5)
          , g = d(84)
          , h = 1..toPrecision;
        e(e.P + e.F * (f(function() {
            return "1" !== h.call(1, c)
        }) || !f(function() {
            h.call({})
        })), "Number", {
            toPrecision: function toPrecision(a) {
                var b = g(this, "Number#toPrecision: incorrect invocation!");
                return a === c ? h.call(b) : h.call(b, a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Number", {
            EPSILON: Math.pow(2, -52)
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(2).isFinite;
        d(d.S, "Number", {
            isFinite: function isFinite(a) {
                return "number" == typeof a && e(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Number", {
            isInteger: c(90)
        })
    }
    , function(a, b, c) {
        var d = c(11)
          , e = Math.floor;
        a.exports = function isInteger(a) {
            return !d(a) && isFinite(a) && e(a) === a
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Number", {
            isNaN: function isNaN(a) {
                return a != a
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(90)
          , f = Math.abs;
        d(d.S, "Number", {
            isSafeInteger: function isSafeInteger(a) {
                return e(a) && f(a) <= 9007199254740991
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Number", {
            MAX_SAFE_INTEGER: 9007199254740991
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Number", {
            MIN_SAFE_INTEGER: -9007199254740991
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(96);
        d(d.S + d.F * (Number.parseFloat != e), "Number", {
            parseFloat: e
        })
    }
    , function(a, b, c) {
        var d = c(2).parseFloat
          , e = c(81).trim;
        a.exports = 1 / d(c(82) + "-0") !== -(1 / 0) ? function parseFloat(a) {
            var b = e(String(a), 3)
              , c = d(b);
            return 0 === c && "-" == b.charAt(0) ? -0 : c
        }
        : d
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(98);
        d(d.S + d.F * (Number.parseInt != e), "Number", {
            parseInt: e
        })
    }
    , function(a, b, c) {
        var d = c(2).parseInt
          , e = c(81).trim
          , f = c(82)
          , g = /^[\-+]?0[xX]/;
        a.exports = 8 !== d(f + "08") || 22 !== d(f + "0x16") ? function parseInt(a, b) {
            var c = e(String(a), 3);
            return d(c, b >>> 0 || (g.test(c) ? 16 : 10))
        }
        : d
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(98);
        d(d.G + d.F * (parseInt != e), {
            parseInt: e
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(96);
        d(d.G + d.F * (parseFloat != e), {
            parseFloat: e
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(102)
          , f = Math.sqrt
          , g = Math.acosh;
        d(d.S + d.F * !(g && 710 == Math.floor(g(Number.MAX_VALUE)) && g(1 / 0) == 1 / 0), "Math", {
            acosh: function acosh(a) {
                return (a = +a) < 1 ? NaN : a > 94906265.62425156 ? Math.log(a) + Math.LN2 : e(a - 1 + f(a - 1) * f(a + 1))
            }
        })
    }
    , function(a, b) {
        a.exports = Math.log1p || function log1p(a) {
            return (a = +a) > -1e-8 && a < 1e-8 ? a - a * a / 2 : Math.log(1 + a)
        }
    }
    , function(a, b, c) {
        function asinh(a) {
            return isFinite(a = +a) && 0 != a ? a < 0 ? -asinh(-a) : Math.log(a + Math.sqrt(a * a + 1)) : a
        }
        var d = c(6)
          , e = Math.asinh;
        d(d.S + d.F * !(e && 1 / e(0) > 0), "Math", {
            asinh: asinh
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = Math.atanh;
        d(d.S + d.F * !(e && 1 / e(-0) < 0), "Math", {
            atanh: function atanh(a) {
                return 0 == (a = +a) ? a : Math.log((1 + a) / (1 - a)) / 2
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(106);
        d(d.S, "Math", {
            cbrt: function cbrt(a) {
                return e(a = +a) * Math.pow(Math.abs(a), 1 / 3)
            }
        })
    }
    , function(a, b) {
        a.exports = Math.sign || function sign(a) {
            return 0 == (a = +a) || a != a ? a : a < 0 ? -1 : 1
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            clz32: function clz32(a) {
                return (a >>>= 0) ? 31 - Math.floor(Math.log(a + .5) * Math.LOG2E) : 32
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = Math.exp;
        d(d.S, "Math", {
            cosh: function cosh(a) {
                return (e(a = +a) + e(-a)) / 2
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(110);
        d(d.S + d.F * (e != Math.expm1), "Math", {
            expm1: e
        })
    }
    , function(a, b) {
        var c = Math.expm1;
        a.exports = !c || c(10) > 22025.465794806718 || c(10) < 22025.465794806718 || c(-2e-17) != -2e-17 ? function expm1(a) {
            return 0 == (a = +a) ? a : a > -1e-6 && a < 1e-6 ? a + a * a / 2 : Math.exp(a) - 1
        }
        : c
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(106)
          , f = Math.pow
          , g = f(2, -52)
          , h = f(2, -23)
          , i = f(2, 127) * (2 - h)
          , j = f(2, -126)
          , k = function(a) {
            return a + 1 / g - 1 / g
        };
        d(d.S, "Math", {
            fround: function fround(a) {
                var b, c, d = Math.abs(a), f = e(a);
                return d < j ? f * k(d / j / h) * j * h : (b = (1 + h / g) * d,
                c = b - (b - d),
                c > i || c != c ? f * (1 / 0) : f * c)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = Math.abs;
        d(d.S, "Math", {
            hypot: function hypot(a, b) {
                for (var c, d, f = 0, g = 0, h = arguments.length, i = 0; g < h; )
                    c = e(arguments[g++]),
                    i < c ? (d = i / c,
                    f = f * d * d + 1,
                    i = c) : c > 0 ? (d = c / i,
                    f += d * d) : f += c;
                return i === 1 / 0 ? 1 / 0 : i * Math.sqrt(f)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = Math.imul;
        d(d.S + d.F * c(5)(function() {
            return e(4294967295, 5) != -5 || 2 != e.length
        }), "Math", {
            imul: function imul(a, b) {
                var c = 65535
                  , d = +a
                  , e = +b
                  , f = c & d
                  , g = c & e;
                return 0 | f * g + ((c & d >>> 16) * g + f * (c & e >>> 16) << 16 >>> 0)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            log10: function log10(a) {
                return Math.log(a) / Math.LN10
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            log1p: c(102)
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            log2: function log2(a) {
                return Math.log(a) / Math.LN2
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            sign: c(106)
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(110)
          , f = Math.exp;
        d(d.S + d.F * c(5)(function() {
            return !Math.sinh(-2e-17) != -2e-17
        }), "Math", {
            sinh: function sinh(a) {
                return Math.abs(a = +a) < 1 ? (e(a) - e(-a)) / 2 : (f(a - 1) - f(-a - 1)) * (Math.E / 2)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(110)
          , f = Math.exp;
        d(d.S, "Math", {
            tanh: function tanh(a) {
                var b = e(a = +a)
                  , c = e(-a);
                return b == 1 / 0 ? 1 : c == 1 / 0 ? -1 : (b - c) / (f(a) + f(-a))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            trunc: function trunc(a) {
                return (a > 0 ? Math.floor : Math.ceil)(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(37)
          , f = String.fromCharCode
          , g = String.fromCodePoint;
        d(d.S + d.F * (!!g && 1 != g.length), "String", {
            fromCodePoint: function fromCodePoint(a) {
                for (var b, c = [], d = arguments.length, g = 0; d > g; ) {
                    if (b = +arguments[g++],
                    e(b, 1114111) !== b)
                        throw RangeError(b + " is not a valid code point");
                    c.push(b < 65536 ? f(b) : f(((b -= 65536) >> 10) + 55296, b % 1024 + 56320))
                }
                return c.join("")
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(30)
          , f = c(35);
        d(d.S, "String", {
            raw: function raw(a) {
                for (var b = e(a.raw), c = f(b.length), d = arguments.length, g = [], h = 0; c > h; )
                    g.push(String(b[h++])),
                    h < d && g.push(String(arguments[h]));
                return g.join("")
            }
        })
    }
    , function(a, b, c) {
        c(81)("trim", function(a) {
            return function trim() {
                return a(this, 3)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(125)(!1);
        d(d.P, "String", {
            codePointAt: function codePointAt(a) {
                return e(this, a)
            }
        })
    }
    , function(a, b, d) {
        var e = d(36)
          , f = d(33);
        a.exports = function(a) {
            return function(b, d) {
                var g, h, i = String(f(b)), j = e(d), k = i.length;
                return j < 0 || j >= k ? a ? "" : c : (g = i.charCodeAt(j),
                g < 55296 || g > 56319 || j + 1 === k || (h = i.charCodeAt(j + 1)) < 56320 || h > 57343 ? a ? i.charAt(j) : g : a ? i.slice(j, j + 2) : (g - 55296 << 10) + (h - 56320) + 65536)
            }
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(35)
          , g = d(127)
          , h = "endsWith"
          , i = ""[h];
        e(e.P + e.F * d(129)(h), "String", {
            endsWith: function endsWith(a) {
                var b = g(this, a, h)
                  , d = arguments.length > 1 ? arguments[1] : c
                  , e = f(b.length)
                  , j = d === c ? e : Math.min(f(d), e)
                  , k = String(a);
                return i ? i.call(b, k, j) : b.slice(j - k.length, j) === k
            }
        })
    }
    , function(a, b, c) {
        var d = c(128)
          , e = c(33);
        a.exports = function(a, b, c) {
            if (d(b))
                throw TypeError("String#" + c + " doesn't accept regex!");
            return String(e(a))
        }
    }
    , function(a, b, d) {
        var e = d(11)
          , f = d(32)
          , g = d(23)("match");
        a.exports = function(a) {
            var b;
            return e(a) && ((b = a[g]) !== c ? !!b : "RegExp" == f(a))
        }
    }
    , function(a, b, c) {
        var d = c(23)("match");
        a.exports = function(a) {
            var b = /./;
            try {
                "/./"[a](b)
            } catch (c) {
                try {
                    return b[d] = !1,
                    !"/./"[a](b)
                } catch (e) {}
            }
            return !0
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(127)
          , g = "includes";
        e(e.P + e.F * d(129)(g), "String", {
            includes: function includes(a) {
                return !!~f(this, a, g).indexOf(a, arguments.length > 1 ? arguments[1] : c)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P, "String", {
            repeat: c(85)
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(35)
          , g = d(127)
          , h = "startsWith"
          , i = ""[h];
        e(e.P + e.F * d(129)(h), "String", {
            startsWith: function startsWith(a) {
                var b = g(this, a, h)
                  , d = f(Math.min(arguments.length > 1 ? arguments[1] : c, b.length))
                  , e = String(a);
                return i ? i.call(b, e, d) : b.slice(d, d + e.length) === e
            }
        })
    }
    , function(a, b, d) {
        var e = d(125)(!0);
        d(134)(String, "String", function(a) {
            this._t = String(a),
            this._i = 0
        }, function() {
            var a, b = this._t, d = this._i;
            return d >= b.length ? {
                value: c,
                done: !0
            } : (a = e(b, d),
            this._i += a.length,
            {
                value: a,
                done: !1
            })
        })
    }
    , function(a, b, d) {
        var e = d(26)
          , f = d(6)
          , g = d(16)
          , h = d(8)
          , i = d(3)
          , j = d(135)
          , k = d(136)
          , l = d(22)
          , m = d(57)
          , n = d(23)("iterator")
          , o = !([].keys && "next"in [].keys())
          , p = "@@iterator"
          , q = "keys"
          , r = "values"
          , s = function() {
            return this
        };
        a.exports = function(a, b, d, t, u, v, w) {
            k(d, b, t);
            var x, y, z, A = function(a) {
                if (!o && a in E)
                    return E[a];
                switch (a) {
                case q:
                    return function keys() {
                        return new d(this,a)
                    }
                    ;
                case r:
                    return function values() {
                        return new d(this,a)
                    }
                }
                return function entries() {
                    return new d(this,a)
                }
            }, B = b + " Iterator", C = u == r, D = !1, E = a.prototype, F = E[n] || E[p] || u && E[u], G = F || A(u), H = u ? C ? A("entries") : G : c, I = "Array" == b ? E.entries || F : F;
            if (I && (z = m(I.call(new a)),
            z !== Object.prototype && (l(z, B, !0),
            e || i(z, n) || h(z, n, s))),
            C && F && F.name !== r && (D = !0,
            G = function values() {
                return F.call(this)
            }
            ),
            e && !w || !o && !D && E[n] || h(E, n, G),
            j[b] = G,
            j[B] = s,
            u)
                if (x = {
                    values: C ? G : A(r),
                    keys: v ? G : A(q),
                    entries: H
                },
                w)
                    for (y in x)
                        y in E || g(E, y, x[y]);
                else
                    f(f.P + f.F * (o || D), b, x);
            return x
        }
    }
    , function(a, b) {
        a.exports = {}
    }
    , function(a, b, c) {
        var d = c(44)
          , e = c(15)
          , f = c(22)
          , g = {};
        c(8)(g, c(23)("iterator"), function() {
            return this
        }),
        a.exports = function(a, b, c) {
            a.prototype = d(g, {
                next: e(1, c)
            }),
            f(a, b + " Iterator")
        }
    }
    , function(a, b, c) {
        c(138)("anchor", function(a) {
            return function anchor(b) {
                return a(this, "a", "name", b)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(5)
          , f = c(33)
          , g = /"/g
          , h = function(a, b, c, d) {
            var e = String(f(a))
              , h = "<" + b;
            return "" !== c && (h += " " + c + '="' + String(d).replace(g, "&quot;") + '"'),
            h + ">" + e + "</" + b + ">"
        };
        a.exports = function(a, b) {
            var c = {};
            c[a] = b(h),
            d(d.P + d.F * e(function() {
                var b = ""[a]('"');
                return b !== b.toLowerCase() || b.split('"').length > 3
            }), "String", c)
        }
    }
    , function(a, b, c) {
        c(138)("big", function(a) {
            return function big() {
                return a(this, "big", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("blink", function(a) {
            return function blink() {
                return a(this, "blink", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("bold", function(a) {
            return function bold() {
                return a(this, "b", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("fixed", function(a) {
            return function fixed() {
                return a(this, "tt", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("fontcolor", function(a) {
            return function fontcolor(b) {
                return a(this, "font", "color", b)
            }
        })
    }
    , function(a, b, c) {
        c(138)("fontsize", function(a) {
            return function fontsize(b) {
                return a(this, "font", "size", b)
            }
        })
    }
    , function(a, b, c) {
        c(138)("italics", function(a) {
            return function italics() {
                return a(this, "i", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("link", function(a) {
            return function link(b) {
                return a(this, "a", "href", b)
            }
        })
    }
    , function(a, b, c) {
        c(138)("small", function(a) {
            return function small() {
                return a(this, "small", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("strike", function(a) {
            return function strike() {
                return a(this, "strike", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("sub", function(a) {
            return function sub() {
                return a(this, "sub", "", "")
            }
        })
    }
    , function(a, b, c) {
        c(138)("sup", function(a) {
            return function sup() {
                return a(this, "sup", "", "")
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Array", {
            isArray: c(43)
        })
    }
    , function(a, b, d) {
        var e = d(18)
          , f = d(6)
          , g = d(56)
          , h = d(153)
          , i = d(154)
          , j = d(35)
          , k = d(155)
          , l = d(156);
        f(f.S + f.F * !d(157)(function(a) {
            Array.from(a)
        }), "Array", {
            from: function from(a) {
                var b, d, f, m, n = g(a), o = "function" == typeof this ? this : Array, p = arguments.length, q = p > 1 ? arguments[1] : c, r = q !== c, s = 0, t = l(n);
                if (r && (q = e(q, p > 2 ? arguments[2] : c, 2)),
                t == c || o == Array && i(t))
                    for (b = j(n.length),
                    d = new o(b); b > s; s++)
                        k(d, s, r ? q(n[s], s) : n[s]);
                else
                    for (m = t.call(n),
                    d = new o; !(f = m.next()).done; s++)
                        k(d, s, r ? h(m, q, [f.value, s], !0) : f.value);
                return d.length = s,
                d
            }
        })
    }
    , function(a, b, d) {
        var e = d(10);
        a.exports = function(a, b, d, f) {
            try {
                return f ? b(e(d)[0], d[1]) : b(d)
            } catch (g) {
                var h = a["return"];
                throw h !== c && e(h.call(a)),
                g
            }
        }
    }
    , function(a, b, d) {
        var e = d(135)
          , f = d(23)("iterator")
          , g = Array.prototype;
        a.exports = function(a) {
            return a !== c && (e.Array === a || g[f] === a)
        }
    }
    , function(a, b, c) {
        var d = c(9)
          , e = c(15);
        a.exports = function(a, b, c) {
            b in a ? d.f(a, b, e(0, c)) : a[b] = c
        }
    }
    , function(a, b, d) {
        var e = d(73)
          , f = d(23)("iterator")
          , g = d(135);
        a.exports = d(7).getIteratorMethod = function(a) {
            if (a != c)
                return a[f] || a["@@iterator"] || g[e(a)]
        }
    }
    , function(a, b, c) {
        var d = c(23)("iterator")
          , e = !1;
        try {
            var f = [7][d]();
            f["return"] = function() {
                e = !0
            }
            ,
            Array.from(f, function() {
                throw 2
            })
        } catch (g) {}
        a.exports = function(a, b) {
            if (!b && !e)
                return !1;
            var c = !1;
            try {
                var f = [7]
                  , g = f[d]();
                g.next = function() {
                    return {
                        done: c = !0
                    }
                }
                ,
                f[d] = function() {
                    return g
                }
                ,
                a(f)
            } catch (h) {}
            return c
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(155);
        d(d.S + d.F * c(5)(function() {
            function F() {}
            return !(Array.of.call(F)instanceof F)
        }), "Array", {
            of: function of() {
                for (var a = 0, b = arguments.length, c = new ("function" == typeof this ? this : Array)(b); b > a; )
                    e(c, a, arguments[a++]);
                return c.length = b,
                c
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(30)
          , g = [].join;
        e(e.P + e.F * (d(31) != Object || !d(160)(g)), "Array", {
            join: function join(a) {
                return g.call(f(this), a === c ? "," : a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(5);
        a.exports = function(a, b) {
            return !!a && d(function() {
                b ? a.call(null, function() {}, 1) : a.call(null)
            })
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(46)
          , g = d(32)
          , h = d(37)
          , i = d(35)
          , j = [].slice;
        e(e.P + e.F * d(5)(function() {
            f && j.call(f)
        }), "Array", {
            slice: function slice(a, b) {
                var d = i(this.length)
                  , e = g(this);
                if (b = b === c ? d : b,
                "Array" == e)
                    return j.call(this, a, b);
                for (var f = h(a, d), k = h(b, d), l = i(k - f), m = Array(l), n = 0; n < l; n++)
                    m[n] = "String" == e ? this.charAt(f + n) : this[f + n];
                return m
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(19)
          , g = d(56)
          , h = d(5)
          , i = [].sort
          , j = [1, 2, 3];
        e(e.P + e.F * (h(function() {
            j.sort(c)
        }) || !h(function() {
            j.sort(null)
        }) || !d(160)(i)), "Array", {
            sort: function sort(a) {
                return a === c ? i.call(g(this)) : i.call(g(this), f(a))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(164)(0)
          , f = c(160)([].forEach, !0);
        d(d.P + d.F * !f, "Array", {
            forEach: function forEach(a) {
                return e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, d) {
        var e = d(18)
          , f = d(31)
          , g = d(56)
          , h = d(35)
          , i = d(165);
        a.exports = function(a, b) {
            var d = 1 == a
              , j = 2 == a
              , k = 3 == a
              , l = 4 == a
              , m = 6 == a
              , n = 5 == a || m
              , o = b || i;
            return function(b, i, p) {
                for (var q, r, s = g(b), t = f(s), u = e(i, p, 3), v = h(t.length), w = 0, x = d ? o(b, v) : j ? o(b, 0) : c; v > w; w++)
                    if ((n || w in t) && (q = t[w],
                    r = u(q, w, s),
                    a))
                        if (d)
                            x[w] = r;
                        else if (r)
                            switch (a) {
                            case 3:
                                return !0;
                            case 5:
                                return q;
                            case 6:
                                return w;
                            case 2:
                                x.push(q)
                            }
                        else if (l)
                            return !1;
                return m ? -1 : k || l ? l : x
            }
        }
    }
    , function(a, b, c) {
        var d = c(166);
        a.exports = function(a, b) {
            return new (d(a))(b)
        }
    }
    , function(a, b, d) {
        var e = d(11)
          , f = d(43)
          , g = d(23)("species");
        a.exports = function(a) {
            var b;
            return f(a) && (b = a.constructor,
            "function" != typeof b || b !== Array && !f(b.prototype) || (b = c),
            e(b) && (b = b[g],
            null === b && (b = c))),
            b === c ? Array : b
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(164)(1);
        d(d.P + d.F * !c(160)([].map, !0), "Array", {
            map: function map(a) {
                return e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(164)(2);
        d(d.P + d.F * !c(160)([].filter, !0), "Array", {
            filter: function filter(a) {
                return e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(164)(3);
        d(d.P + d.F * !c(160)([].some, !0), "Array", {
            some: function some(a) {
                return e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(164)(4);
        d(d.P + d.F * !c(160)([].every, !0), "Array", {
            every: function every(a) {
                return e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(172);
        d(d.P + d.F * !c(160)([].reduce, !0), "Array", {
            reduce: function reduce(a) {
                return e(this, a, arguments.length, arguments[1], !1)
            }
        })
    }
    , function(a, b, c) {
        var d = c(19)
          , e = c(56)
          , f = c(31)
          , g = c(35);
        a.exports = function(a, b, c, h, i) {
            d(b);
            var j = e(a)
              , k = f(j)
              , l = g(j.length)
              , m = i ? l - 1 : 0
              , n = i ? -1 : 1;
            if (c < 2)
                for (; ; ) {
                    if (m in k) {
                        h = k[m],
                        m += n;
                        break
                    }
                    if (m += n,
                    i ? m < 0 : l <= m)
                        throw TypeError("Reduce of empty array with no initial value")
                }
            for (; i ? m >= 0 : l > m; m += n)
                m in k && (h = b(h, k[m], m, j));
            return h
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(172);
        d(d.P + d.F * !c(160)([].reduceRight, !0), "Array", {
            reduceRight: function reduceRight(a) {
                return e(this, a, arguments.length, arguments[1], !0)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(34)(!1)
          , f = [].indexOf
          , g = !!f && 1 / [1].indexOf(1, -0) < 0;
        d(d.P + d.F * (g || !c(160)(f)), "Array", {
            indexOf: function indexOf(a) {
                return g ? f.apply(this, arguments) || 0 : e(this, a, arguments[1])
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(30)
          , f = c(36)
          , g = c(35)
          , h = [].lastIndexOf
          , i = !!h && 1 / [1].lastIndexOf(1, -0) < 0;
        d(d.P + d.F * (i || !c(160)(h)), "Array", {
            lastIndexOf: function lastIndexOf(a) {
                if (i)
                    return h.apply(this, arguments) || 0;
                var b = e(this)
                  , c = g(b.length)
                  , d = c - 1;
                for (arguments.length > 1 && (d = Math.min(d, f(arguments[1]))),
                d < 0 && (d = c + d); d >= 0; d--)
                    if (d in b && b[d] === a)
                        return d || 0;
                return -1
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P, "Array", {
            copyWithin: c(177)
        }),
        c(178)("copyWithin")
    }
    , function(a, b, d) {
        var e = d(56)
          , f = d(37)
          , g = d(35);
        a.exports = [].copyWithin || function copyWithin(a, b) {
            var d = e(this)
              , h = g(d.length)
              , i = f(a, h)
              , j = f(b, h)
              , k = arguments.length > 2 ? arguments[2] : c
              , l = Math.min((k === c ? h : f(k, h)) - j, h - i)
              , m = 1;
            for (j < i && i < j + l && (m = -1,
            j += l - 1,
            i += l - 1); l-- > 0; )
                j in d ? d[i] = d[j] : delete d[i],
                i += m,
                j += m;
            return d
        }
    }
    , function(a, b, d) {
        var e = d(23)("unscopables")
          , f = Array.prototype;
        f[e] == c && d(8)(f, e, {}),
        a.exports = function(a) {
            f[e][a] = !0
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P, "Array", {
            fill: c(180)
        }),
        c(178)("fill")
    }
    , function(a, b, d) {
        var e = d(56)
          , f = d(37)
          , g = d(35);
        a.exports = function fill(a) {
            for (var b = e(this), d = g(b.length), h = arguments.length, i = f(h > 1 ? arguments[1] : c, d), j = h > 2 ? arguments[2] : c, k = j === c ? d : f(j, d); k > i; )
                b[i++] = a;
            return b
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(164)(5)
          , g = "find"
          , h = !0;
        g in [] && Array(1)[g](function() {
            h = !1
        }),
        e(e.P + e.F * h, "Array", {
            find: function find(a) {
                return f(this, a, arguments.length > 1 ? arguments[1] : c)
            }
        }),
        d(178)(g)
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(164)(6)
          , g = "findIndex"
          , h = !0;
        g in [] && Array(1)[g](function() {
            h = !1
        }),
        e(e.P + e.F * h, "Array", {
            findIndex: function findIndex(a) {
                return f(this, a, arguments.length > 1 ? arguments[1] : c)
            }
        }),
        d(178)(g)
    }
    , function(a, b, d) {
        var e = d(178)
          , f = d(184)
          , g = d(135)
          , h = d(30);
        a.exports = d(134)(Array, "Array", function(a, b) {
            this._t = h(a),
            this._i = 0,
            this._k = b
        }, function() {
            var a = this._t
              , b = this._k
              , d = this._i++;
            return !a || d >= a.length ? (this._t = c,
            f(1)) : "keys" == b ? f(0, d) : "values" == b ? f(0, a[d]) : f(0, [d, a[d]])
        }, "values"),
        g.Arguments = g.Array,
        e("keys"),
        e("values"),
        e("entries")
    }
    , function(a, b) {
        a.exports = function(a, b) {
            return {
                value: b,
                done: !!a
            }
        }
    }
    , function(a, b, c) {
        c(186)("Array")
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(9)
          , f = c(4)
          , g = c(23)("species");
        a.exports = function(a) {
            var b = d[a];
            f && b && !b[g] && e.f(b, g, {
                configurable: !0,
                get: function() {
                    return this
                }
            })
        }
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(80)
          , g = d(9).f
          , h = d(48).f
          , i = d(128)
          , j = d(188)
          , k = e.RegExp
          , l = k
          , m = k.prototype
          , n = /a/g
          , o = /a/g
          , p = new k(n) !== n;
        if (d(4) && (!p || d(5)(function() {
            return o[d(23)("match")] = !1,
            k(n) != n || k(o) == o || "/a/i" != k(n, "i")
        }))) {
            k = function RegExp(a, b) {
                var d = this instanceof k
                  , e = i(a)
                  , g = b === c;
                return !d && e && a.constructor === k && g ? a : f(p ? new l(e && !g ? a.source : a,b) : l((e = a instanceof k) ? a.source : a, e && g ? j.call(a) : b), d ? this : m, k)
            }
            ;
            for (var q = (function(a) {
                a in k || g(k, a, {
                    configurable: !0,
                    get: function() {
                        return l[a]
                    },
                    set: function(b) {
                        l[a] = b
                    }
                })
            }
            ), r = h(l), s = 0; r.length > s; )
                q(r[s++]);
            m.constructor = k,
            k.prototype = m,
            d(16)(e, "RegExp", k)
        }
        d(186)("RegExp")
    }
    , function(a, b, c) {
        var d = c(10);
        a.exports = function() {
            var a = d(this)
              , b = "";
            return a.global && (b += "g"),
            a.ignoreCase && (b += "i"),
            a.multiline && (b += "m"),
            a.unicode && (b += "u"),
            a.sticky && (b += "y"),
            b
        }
    }
    , function(a, b, d) {
        d(190);
        var e = d(10)
          , f = d(188)
          , g = d(4)
          , h = "toString"
          , i = /./[h]
          , j = function(a) {
            d(16)(RegExp.prototype, h, a, !0)
        };
        d(5)(function() {
            return "/a/b" != i.call({
                source: "a",
                flags: "b"
            })
        }) ? j(function toString() {
            var a = e(this);
            return "/".concat(a.source, "/", "flags"in a ? a.flags : !g && a instanceof RegExp ? f.call(a) : c)
        }) : i.name != h && j(function toString() {
            return i.call(this)
        })
    }
    , function(a, b, c) {
        c(4) && "g" != /./g.flags && c(9).f(RegExp.prototype, "flags", {
            configurable: !0,
            get: c(188)
        })
    }
    , function(a, b, d) {
        d(192)("match", 1, function(a, b, d) {
            return [function match(d) {
                var e = a(this)
                  , f = d == c ? c : d[b];
                return f !== c ? f.call(d, e) : new RegExp(d)[b](String(e))
            }
            , d]
        })
    }
    , function(a, b, c) {
        var d = c(8)
          , e = c(16)
          , f = c(5)
          , g = c(33)
          , h = c(23);
        a.exports = function(a, b, c) {
            var i = h(a)
              , j = c(g, i, ""[a])
              , k = j[0]
              , l = j[1];
            f(function() {
                var b = {};
                return b[i] = function() {
                    return 7
                }
                ,
                7 != ""[a](b)
            }) && (e(String.prototype, a, k),
            d(RegExp.prototype, i, 2 == b ? function(a, b) {
                return l.call(a, this, b)
            }
            : function(a) {
                return l.call(a, this)
            }
            ))
        }
    }
    , function(a, b, d) {
        d(192)("replace", 2, function(a, b, d) {
            return [function replace(e, f) {
                var g = a(this)
                  , h = e == c ? c : e[b];
                return h !== c ? h.call(e, g, f) : d.call(String(g), e, f)
            }
            , d]
        })
    }
    , function(a, b, d) {
        d(192)("search", 1, function(a, b, d) {
            return [function search(d) {
                var e = a(this)
                  , f = d == c ? c : d[b];
                return f !== c ? f.call(d, e) : new RegExp(d)[b](String(e))
            }
            , d]
        })
    }
    , function(a, b, d) {
        d(192)("split", 2, function(a, b, e) {
            var f = d(128)
              , g = e
              , h = [].push
              , i = "split"
              , j = "length"
              , k = "lastIndex";
            if ("c" == "abbc"[i](/(b)*/)[1] || 4 != "test"[i](/(?:)/, -1)[j] || 2 != "ab"[i](/(?:ab)*/)[j] || 4 != "."[i](/(.?)(.?)/)[j] || "."[i](/()()/)[j] > 1 || ""[i](/.?/)[j]) {
                var l = /()??/.exec("")[1] === c;
                e = function(a, b) {
                    var d = String(this);
                    if (a === c && 0 === b)
                        return [];
                    if (!f(a))
                        return g.call(d, a, b);
                    var e, i, m, n, o, p = [], q = (a.ignoreCase ? "i" : "") + (a.multiline ? "m" : "") + (a.unicode ? "u" : "") + (a.sticky ? "y" : ""), r = 0, s = b === c ? 4294967295 : b >>> 0, t = new RegExp(a.source,q + "g");
                    for (l || (e = new RegExp("^" + t.source + "$(?!\\s)",q)); (i = t.exec(d)) && (m = i.index + i[0][j],
                    !(m > r && (p.push(d.slice(r, i.index)),
                    !l && i[j] > 1 && i[0].replace(e, function() {
                        for (o = 1; o < arguments[j] - 2; o++)
                            arguments[o] === c && (i[o] = c)
                    }),
                    i[j] > 1 && i.index < d[j] && h.apply(p, i.slice(1)),
                    n = i[0][j],
                    r = m,
                    p[j] >= s))); )
                        t[k] === i.index && t[k]++;
                    return r === d[j] ? !n && t.test("") || p.push("") : p.push(d.slice(r)),
                    p[j] > s ? p.slice(0, s) : p
                }
            } else
                "0"[i](c, 0)[j] && (e = function(a, b) {
                    return a === c && 0 === b ? [] : g.call(this, a, b)
                }
                );
            return [function split(d, f) {
                var g = a(this)
                  , h = d == c ? c : d[b];
                return h !== c ? h.call(d, g, f) : e.call(String(g), d, f)
            }
            , e]
        })
    }
    , function(a, b, d) {
        var e, f, g, h = d(26), i = d(2), j = d(18), k = d(73), l = d(6), m = d(11), n = d(19), o = d(197), p = d(198), q = d(199), r = d(200).set, s = d(201)(), t = "Promise", u = i.TypeError, v = i.process, w = i[t], v = i.process, x = "process" == k(v), y = function() {}, z = !!function() {
            try {
                var a = w.resolve(1)
                  , b = (a.constructor = {})[d(23)("species")] = function(a) {
                    a(y, y)
                }
                ;
                return (x || "function" == typeof PromiseRejectionEvent) && a.then(y)instanceof b
            } catch (c) {}
        }(), A = function(a, b) {
            return a === b || a === w && b === g
        }, B = function(a) {
            var b;
            return !(!m(a) || "function" != typeof (b = a.then)) && b
        }, C = function(a) {
            return A(w, a) ? new D(a) : new f(a)
        }, D = f = function(a) {
            var b, d;
            this.promise = new a(function(a, e) {
                if (b !== c || d !== c)
                    throw u("Bad Promise constructor");
                b = a,
                d = e
            }
            ),
            this.resolve = n(b),
            this.reject = n(d)
        }
        , E = function(a) {
            try {
                a()
            } catch (b) {
                return {
                    error: b
                }
            }
        }, F = function(a, b) {
            if (!a._n) {
                a._n = !0;
                var c = a._c;
                s(function() {
                    for (var d = a._v, e = 1 == a._s, f = 0, g = function(b) {
                        var c, f, g = e ? b.ok : b.fail, h = b.resolve, i = b.reject, j = b.domain;
                        try {
                            g ? (e || (2 == a._h && I(a),
                            a._h = 1),
                            g === !0 ? c = d : (j && j.enter(),
                            c = g(d),
                            j && j.exit()),
                            c === b.promise ? i(u("Promise-chain cycle")) : (f = B(c)) ? f.call(c, h, i) : h(c)) : i(d)
                        } catch (k) {
                            i(k)
                        }
                    }; c.length > f; )
                        g(c[f++]);
                    a._c = [],
                    a._n = !1,
                    b && !a._h && G(a)
                })
            }
        }, G = function(a) {
            r.call(i, function() {
                var b, d, e, f = a._v;
                if (H(a) && (b = E(function() {
                    x ? v.emit("unhandledRejection", f, a) : (d = i.onunhandledrejection) ? d({
                        promise: a,
                        reason: f
                    }) : (e = i.console) && e.error && e.error("Unhandled promise rejection", f)
                }),
                a._h = x || H(a) ? 2 : 1),
                a._a = c,
                b)
                    throw b.error
            })
        }, H = function(a) {
            if (1 == a._h)
                return !1;
            for (var b, c = a._a || a._c, d = 0; c.length > d; )
                if (b = c[d++],
                b.fail || !H(b.promise))
                    return !1;
            return !0
        }, I = function(a) {
            r.call(i, function() {
                var b;
                x ? v.emit("rejectionHandled", a) : (b = i.onrejectionhandled) && b({
                    promise: a,
                    reason: a._v
                })
            })
        }, J = function(a) {
            var b = this;
            b._d || (b._d = !0,
            b = b._w || b,
            b._v = a,
            b._s = 2,
            b._a || (b._a = b._c.slice()),
            F(b, !0))
        }, K = function(a) {
            var b, c = this;
            if (!c._d) {
                c._d = !0,
                c = c._w || c;
                try {
                    if (c === a)
                        throw u("Promise can't be resolved itself");
                    (b = B(a)) ? s(function() {
                        var d = {
                            _w: c,
                            _d: !1
                        };
                        try {
                            b.call(a, j(K, d, 1), j(J, d, 1))
                        } catch (e) {
                            J.call(d, e)
                        }
                    }) : (c._v = a,
                    c._s = 1,
                    F(c, !1))
                } catch (d) {
                    J.call({
                        _w: c,
                        _d: !1
                    }, d)
                }
            }
        };
        z || (w = function Promise(a) {
            o(this, w, t, "_h"),
            n(a),
            e.call(this);
            try {
                a(j(K, this, 1), j(J, this, 1))
            } catch (b) {
                J.call(this, b)
            }
        }
        ,
        e = function Promise(a) {
            this._c = [],
            this._a = c,
            this._s = 0,
            this._d = !1,
            this._v = c,
            this._h = 0,
            this._n = !1
        }
        ,
        e.prototype = d(202)(w.prototype, {
            then: function then(a, b) {
                var d = C(q(this, w));
                return d.ok = "function" != typeof a || a,
                d.fail = "function" == typeof b && b,
                d.domain = x ? v.domain : c,
                this._c.push(d),
                this._a && this._a.push(d),
                this._s && F(this, !1),
                d.promise
            },
            "catch": function(a) {
                return this.then(c, a)
            }
        }),
        D = function() {
            var a = new e;
            this.promise = a,
            this.resolve = j(K, a, 1),
            this.reject = j(J, a, 1)
        }
        ),
        l(l.G + l.W + l.F * !z, {
            Promise: w
        }),
        d(22)(w, t),
        d(186)(t),
        g = d(7)[t],
        l(l.S + l.F * !z, t, {
            reject: function reject(a) {
                var b = C(this)
                  , c = b.reject;
                return c(a),
                b.promise
            }
        }),
        l(l.S + l.F * (h || !z), t, {
            resolve: function resolve(a) {
                if (a instanceof w && A(a.constructor, this))
                    return a;
                var b = C(this)
                  , c = b.resolve;
                return c(a),
                b.promise
            }
        }),
        l(l.S + l.F * !(z && d(157)(function(a) {
            w.all(a)["catch"](y)
        })), t, {
            all: function all(a) {
                var b = this
                  , d = C(b)
                  , e = d.resolve
                  , f = d.reject
                  , g = E(function() {
                    var d = []
                      , g = 0
                      , h = 1;
                    p(a, !1, function(a) {
                        var i = g++
                          , j = !1;
                        d.push(c),
                        h++,
                        b.resolve(a).then(function(a) {
                            j || (j = !0,
                            d[i] = a,
                            --h || e(d))
                        }, f)
                    }),
                    --h || e(d)
                });
                return g && f(g.error),
                d.promise
            },
            race: function race(a) {
                var b = this
                  , c = C(b)
                  , d = c.reject
                  , e = E(function() {
                    p(a, !1, function(a) {
                        b.resolve(a).then(c.resolve, d)
                    })
                });
                return e && d(e.error),
                c.promise
            }
        })
    }
    , function(a, b) {
        a.exports = function(a, b, d, e) {
            if (!(a instanceof b) || e !== c && e in a)
                throw TypeError(d + ": incorrect invocation!");
            return a
        }
    }
    , function(a, b, c) {
        var d = c(18)
          , e = c(153)
          , f = c(154)
          , g = c(10)
          , h = c(35)
          , i = c(156)
          , j = {}
          , k = {}
          , b = a.exports = function(a, b, c, l, m) {
            var n, o, p, q, r = m ? function() {
                return a
            }
            : i(a), s = d(c, l, b ? 2 : 1), t = 0;
            if ("function" != typeof r)
                throw TypeError(a + " is not iterable!");
            if (f(r)) {
                for (n = h(a.length); n > t; t++)
                    if (q = b ? s(g(o = a[t])[0], o[1]) : s(a[t]),
                    q === j || q === k)
                        return q
            } else
                for (p = r.call(a); !(o = p.next()).done; )
                    if (q = e(p, s, o.value, b),
                    q === j || q === k)
                        return q
        }
        ;
        b.BREAK = j,
        b.RETURN = k
    }
    , function(a, b, d) {
        var e = d(10)
          , f = d(19)
          , g = d(23)("species");
        a.exports = function(a, b) {
            var d, h = e(a).constructor;
            return h === c || (d = e(h)[g]) == c ? b : f(d)
        }
    }
    , function(a, b, c) {
        var d, e, f, g = c(18), h = c(76), i = c(46), j = c(13), k = c(2), l = k.process, m = k.setImmediate, n = k.clearImmediate, o = k.MessageChannel, p = 0, q = {}, r = "onreadystatechange", s = function() {
            var a = +this;
            if (q.hasOwnProperty(a)) {
                var b = q[a];
                delete q[a],
                b()
            }
        }, t = function(a) {
            s.call(a.data)
        };
        m && n || (m = function setImmediate(a) {
            for (var b = [], c = 1; arguments.length > c; )
                b.push(arguments[c++]);
            return q[++p] = function() {
                h("function" == typeof a ? a : Function(a), b)
            }
            ,
            d(p),
            p
        }
        ,
        n = function clearImmediate(a) {
            delete q[a]
        }
        ,
        "process" == c(32)(l) ? d = function(a) {
            l.nextTick(g(s, a, 1))
        }
        : o ? (e = new o,
        f = e.port2,
        e.port1.onmessage = t,
        d = g(f.postMessage, f, 1)) : k.addEventListener && "function" == typeof postMessage && !k.importScripts ? (d = function(a) {
            k.postMessage(a + "", "*")
        }
        ,
        k.addEventListener("message", t, !1)) : d = r in j("script") ? function(a) {
            i.appendChild(j("script"))[r] = function() {
                i.removeChild(this),
                s.call(a)
            }
        }
        : function(a) {
            setTimeout(g(s, a, 1), 0)
        }
        ),
        a.exports = {
            set: m,
            clear: n
        }
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(200).set
          , g = e.MutationObserver || e.WebKitMutationObserver
          , h = e.process
          , i = e.Promise
          , j = "process" == d(32)(h);
        a.exports = function() {
            var a, b, d, k = function() {
                var e, f;
                for (j && (e = h.domain) && e.exit(); a; ) {
                    f = a.fn,
                    a = a.next;
                    try {
                        f()
                    } catch (g) {
                        throw a ? d() : b = c,
                        g
                    }
                }
                b = c,
                e && e.enter()
            };
            if (j)
                d = function() {
                    h.nextTick(k)
                }
                ;
            else if (g) {
                var l = !0
                  , m = document.createTextNode("");
                new g(k).observe(m, {
                    characterData: !0
                }),
                d = function() {
                    m.data = l = !l
                }
            } else if (i && i.resolve) {
                var n = i.resolve();
                d = function() {
                    n.then(k)
                }
            } else
                d = function() {
                    f.call(e, k)
                }
                ;
            return function(e) {
                var f = {
                    fn: e,
                    next: c
                };
                b && (b.next = f),
                a || (a = f,
                d()),
                b = f
            }
        }
    }
    , function(a, b, c) {
        var d = c(16);
        a.exports = function(a, b, c) {
            for (var e in b)
                d(a, e, b[e], c);
            return a
        }
    }
    , function(a, b, d) {
        var e = d(204);
        a.exports = d(205)("Map", function(a) {
            return function Map() {
                return a(this, arguments.length > 0 ? arguments[0] : c)
            }
        }, {
            get: function get(a) {
                var b = e.getEntry(this, a);
                return b && b.v
            },
            set: function set(a, b) {
                return e.def(this, 0 === a ? 0 : a, b)
            }
        }, e, !0)
    }
    , function(a, b, d) {
        var e = d(9).f
          , f = d(44)
          , g = d(202)
          , h = d(18)
          , i = d(197)
          , j = d(33)
          , k = d(198)
          , l = d(134)
          , m = d(184)
          , n = d(186)
          , o = d(4)
          , p = d(20).fastKey
          , q = o ? "_s" : "size"
          , r = function(a, b) {
            var c, d = p(b);
            if ("F" !== d)
                return a._i[d];
            for (c = a._f; c; c = c.n)
                if (c.k == b)
                    return c
        };
        a.exports = {
            getConstructor: function(a, b, d, l) {
                var m = a(function(a, e) {
                    i(a, m, b, "_i"),
                    a._i = f(null),
                    a._f = c,
                    a._l = c,
                    a[q] = 0,
                    e != c && k(e, d, a[l], a)
                });
                return g(m.prototype, {
                    clear: function clear() {
                        for (var a = this, b = a._i, d = a._f; d; d = d.n)
                            d.r = !0,
                            d.p && (d.p = d.p.n = c),
                            delete b[d.i];
                        a._f = a._l = c,
                        a[q] = 0
                    },
                    "delete": function(a) {
                        var b = this
                          , c = r(b, a);
                        if (c) {
                            var d = c.n
                              , e = c.p;
                            delete b._i[c.i],
                            c.r = !0,
                            e && (e.n = d),
                            d && (d.p = e),
                            b._f == c && (b._f = d),
                            b._l == c && (b._l = e),
                            b[q]--
                        }
                        return !!c
                    },
                    forEach: function forEach(a) {
                        i(this, m, "forEach");
                        for (var b, d = h(a, arguments.length > 1 ? arguments[1] : c, 3); b = b ? b.n : this._f; )
                            for (d(b.v, b.k, this); b && b.r; )
                                b = b.p
                    },
                    has: function has(a) {
                        return !!r(this, a)
                    }
                }),
                o && e(m.prototype, "size", {
                    get: function() {
                        return j(this[q])
                    }
                }),
                m
            },
            def: function(a, b, d) {
                var e, f, g = r(a, b);
                return g ? g.v = d : (a._l = g = {
                    i: f = p(b, !0),
                    k: b,
                    v: d,
                    p: e = a._l,
                    n: c,
                    r: !1
                },
                a._f || (a._f = g),
                e && (e.n = g),
                a[q]++,
                "F" !== f && (a._i[f] = g)),
                a
            },
            getEntry: r,
            setStrong: function(a, b, d) {
                l(a, b, function(a, b) {
                    this._t = a,
                    this._k = b,
                    this._l = c
                }, function() {
                    for (var a = this, b = a._k, d = a._l; d && d.r; )
                        d = d.p;
                    return a._t && (a._l = d = d ? d.n : a._t._f) ? "keys" == b ? m(0, d.k) : "values" == b ? m(0, d.v) : m(0, [d.k, d.v]) : (a._t = c,
                    m(1))
                }, d ? "entries" : "values", !d, !0),
                n(b)
            }
        }
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(6)
          , g = d(16)
          , h = d(202)
          , i = d(20)
          , j = d(198)
          , k = d(197)
          , l = d(11)
          , m = d(5)
          , n = d(157)
          , o = d(22)
          , p = d(80);
        a.exports = function(a, b, d, q, r, s) {
            var t = e[a]
              , u = t
              , v = r ? "set" : "add"
              , w = u && u.prototype
              , x = {}
              , y = function(a) {
                var b = w[a];
                g(w, a, "delete" == a ? function(a) {
                    return !(s && !l(a)) && b.call(this, 0 === a ? 0 : a)
                }
                : "has" == a ? function has(a) {
                    return !(s && !l(a)) && b.call(this, 0 === a ? 0 : a)
                }
                : "get" == a ? function get(a) {
                    return s && !l(a) ? c : b.call(this, 0 === a ? 0 : a)
                }
                : "add" == a ? function add(a) {
                    return b.call(this, 0 === a ? 0 : a),
                    this
                }
                : function set(a, c) {
                    return b.call(this, 0 === a ? 0 : a, c),
                    this
                }
                )
            };
            if ("function" == typeof u && (s || w.forEach && !m(function() {
                (new u).entries().next()
            }))) {
                var z = new u
                  , A = z[v](s ? {} : -0, 1) != z
                  , B = m(function() {
                    z.has(1)
                })
                  , C = n(function(a) {
                    new u(a)
                })
                  , D = !s && m(function() {
                    for (var a = new u, b = 5; b--; )
                        a[v](b, b);
                    return !a.has(-0)
                });
                C || (u = b(function(b, d) {
                    k(b, u, a);
                    var e = p(new t, b, u);
                    return d != c && j(d, r, e[v], e),
                    e
                }),
                u.prototype = w,
                w.constructor = u),
                (B || D) && (y("delete"),
                y("has"),
                r && y("get")),
                (D || A) && y(v),
                s && w.clear && delete w.clear
            } else
                u = q.getConstructor(b, a, r, v),
                h(u.prototype, d),
                i.NEED = !0;
            return o(u, a),
            x[a] = u,
            f(f.G + f.W + f.F * (u != t), x),
            s || q.setStrong(u, a, r),
            u
        }
    }
    , function(a, b, d) {
        var e = d(204);
        a.exports = d(205)("Set", function(a) {
            return function Set() {
                return a(this, arguments.length > 0 ? arguments[0] : c)
            }
        }, {
            add: function add(a) {
                return e.def(this, a = 0 === a ? 0 : a, a)
            }
        }, e)
    }
    , function(a, b, d) {
        var e, f = d(164)(0), g = d(16), h = d(20), i = d(67), j = d(208), k = d(11), l = h.getWeak, m = Object.isExtensible, n = j.ufstore, o = {}, p = function(a) {
            return function WeakMap() {
                return a(this, arguments.length > 0 ? arguments[0] : c)
            }
        }, q = {
            get: function get(a) {
                if (k(a)) {
                    var b = l(a);
                    return b === !0 ? n(this).get(a) : b ? b[this._i] : c
                }
            },
            set: function set(a, b) {
                return j.def(this, a, b)
            }
        }, r = a.exports = d(205)("WeakMap", p, q, j, !0, !0);
        7 != (new r).set((Object.freeze || Object)(o), 7).get(o) && (e = j.getConstructor(p),
        i(e.prototype, q),
        h.NEED = !0,
        f(["delete", "has", "get", "set"], function(a) {
            var b = r.prototype
              , c = b[a];
            g(b, a, function(b, d) {
                if (k(b) && !m(b)) {
                    this._f || (this._f = new e);
                    var f = this._f[a](b, d);
                    return "set" == a ? this : f
                }
                return c.call(this, b, d)
            })
        }))
    }
    , function(a, b, d) {
        var e = d(202)
          , f = d(20).getWeak
          , g = d(10)
          , h = d(11)
          , i = d(197)
          , j = d(198)
          , k = d(164)
          , l = d(3)
          , m = k(5)
          , n = k(6)
          , o = 0
          , p = function(a) {
            return a._l || (a._l = new q)
        }
          , q = function() {
            this.a = []
        }
          , r = function(a, b) {
            return m(a.a, function(a) {
                return a[0] === b
            })
        };
        q.prototype = {
            get: function(a) {
                var b = r(this, a);
                if (b)
                    return b[1]
            },
            has: function(a) {
                return !!r(this, a)
            },
            set: function(a, b) {
                var c = r(this, a);
                c ? c[1] = b : this.a.push([a, b])
            },
            "delete": function(a) {
                var b = n(this.a, function(b) {
                    return b[0] === a
                });
                return ~b && this.a.splice(b, 1),
                !!~b
            }
        },
        a.exports = {
            getConstructor: function(a, b, d, g) {
                var k = a(function(a, e) {
                    i(a, k, b, "_i"),
                    a._i = o++,
                    a._l = c,
                    e != c && j(e, d, a[g], a)
                });
                return e(k.prototype, {
                    "delete": function(a) {
                        if (!h(a))
                            return !1;
                        var b = f(a);
                        return b === !0 ? p(this)["delete"](a) : b && l(b, this._i) && delete b[this._i]
                    },
                    has: function has(a) {
                        if (!h(a))
                            return !1;
                        var b = f(a);
                        return b === !0 ? p(this).has(a) : b && l(b, this._i)
                    }
                }),
                k
            },
            def: function(a, b, c) {
                var d = f(g(b), !0);
                return d === !0 ? p(a).set(b, c) : d[a._i] = c,
                a
            },
            ufstore: p
        }
    }
    , function(a, b, d) {
        var e = d(208);
        d(205)("WeakSet", function(a) {
            return function WeakSet() {
                return a(this, arguments.length > 0 ? arguments[0] : c)
            }
        }, {
            add: function add(a) {
                return e.def(this, a, !0)
            }
        }, e, !1, !0)
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(19)
          , f = c(10)
          , g = (c(2).Reflect || {}).apply
          , h = Function.apply;
        d(d.S + d.F * !c(5)(function() {
            g(function() {})
        }), "Reflect", {
            apply: function apply(a, b, c) {
                var d = e(a)
                  , i = f(c);
                return g ? g(d, b, i) : h.call(d, b, i)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(44)
          , f = c(19)
          , g = c(10)
          , h = c(11)
          , i = c(5)
          , j = c(75)
          , k = (c(2).Reflect || {}).construct
          , l = i(function() {
            function F() {}
            return !(k(function() {}, [], F)instanceof F)
        })
          , m = !i(function() {
            k(function() {})
        });
        d(d.S + d.F * (l || m), "Reflect", {
            construct: function construct(a, b) {
                f(a),
                g(b);
                var c = arguments.length < 3 ? a : f(arguments[2]);
                if (m && !l)
                    return k(a, b, c);
                if (a == c) {
                    switch (b.length) {
                    case 0:
                        return new a;
                    case 1:
                        return new a(b[0]);
                    case 2:
                        return new a(b[0],b[1]);
                    case 3:
                        return new a(b[0],b[1],b[2]);
                    case 4:
                        return new a(b[0],b[1],b[2],b[3])
                    }
                    var d = [null];
                    return d.push.apply(d, b),
                    new (j.apply(a, d))
                }
                var i = c.prototype
                  , n = e(h(i) ? i : Object.prototype)
                  , o = Function.apply.call(a, n, b);
                return h(o) ? o : n
            }
        })
    }
    , function(a, b, c) {
        var d = c(9)
          , e = c(6)
          , f = c(10)
          , g = c(14);
        e(e.S + e.F * c(5)(function() {
            Reflect.defineProperty(d.f({}, 1, {
                value: 1
            }), 1, {
                value: 2
            })
        }), "Reflect", {
            defineProperty: function defineProperty(a, b, c) {
                f(a),
                b = g(b, !0),
                f(c);
                try {
                    return d.f(a, b, c),
                    !0
                } catch (e) {
                    return !1
                }
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(49).f
          , f = c(10);
        d(d.S, "Reflect", {
            deleteProperty: function deleteProperty(a, b) {
                var c = e(f(a), b);
                return !(c && !c.configurable) && delete a[b]
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(10)
          , g = function(a) {
            this._t = f(a),
            this._i = 0;
            var b, c = this._k = [];
            for (b in a)
                c.push(b)
        };
        d(136)(g, "Object", function() {
            var a, b = this, d = b._k;
            do
                if (b._i >= d.length)
                    return {
                        value: c,
                        done: !0
                    };
            while (!((a = d[b._i++])in b._t));return {
                value: a,
                done: !1
            }
        }),
        e(e.S, "Reflect", {
            enumerate: function enumerate(a) {
                return new g(a)
            }
        })
    }
    , function(a, b, d) {
        function get(a, b) {
            var d, h, k = arguments.length < 3 ? a : arguments[2];
            return j(a) === k ? a[b] : (d = e.f(a, b)) ? g(d, "value") ? d.value : d.get !== c ? d.get.call(k) : c : i(h = f(a)) ? get(h, b, k) : void 0
        }
        var e = d(49)
          , f = d(57)
          , g = d(3)
          , h = d(6)
          , i = d(11)
          , j = d(10);
        h(h.S, "Reflect", {
            get: get
        })
    }
    , function(a, b, c) {
        var d = c(49)
          , e = c(6)
          , f = c(10);
        e(e.S, "Reflect", {
            getOwnPropertyDescriptor: function getOwnPropertyDescriptor(a, b) {
                return d.f(f(a), b)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(57)
          , f = c(10);
        d(d.S, "Reflect", {
            getPrototypeOf: function getPrototypeOf(a) {
                return e(f(a))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Reflect", {
            has: function has(a, b) {
                return b in a
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(10)
          , f = Object.isExtensible;
        d(d.S, "Reflect", {
            isExtensible: function isExtensible(a) {
                return e(a),
                !f || f(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Reflect", {
            ownKeys: c(221)
        })
    }
    , function(a, b, c) {
        var d = c(48)
          , e = c(41)
          , f = c(10)
          , g = c(2).Reflect;
        a.exports = g && g.ownKeys || function ownKeys(a) {
            var b = d.f(f(a))
              , c = e.f;
            return c ? b.concat(c(a)) : b
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(10)
          , f = Object.preventExtensions;
        d(d.S, "Reflect", {
            preventExtensions: function preventExtensions(a) {
                e(a);
                try {
                    return f && f(a),
                    !0
                } catch (b) {
                    return !1
                }
            }
        })
    }
    , function(a, b, d) {
        function set(a, b, d) {
            var i, m, n = arguments.length < 4 ? a : arguments[3], o = f.f(k(a), b);
            if (!o) {
                if (l(m = g(a)))
                    return set(m, b, d, n);
                o = j(0)
            }
            return h(o, "value") ? !(o.writable === !1 || !l(n)) && (i = f.f(n, b) || j(0),
            i.value = d,
            e.f(n, b, i),
            !0) : o.set !== c && (o.set.call(n, d),
            !0)
        }
        var e = d(9)
          , f = d(49)
          , g = d(57)
          , h = d(3)
          , i = d(6)
          , j = d(15)
          , k = d(10)
          , l = d(11);
        i(i.S, "Reflect", {
            set: set
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(71);
        e && d(d.S, "Reflect", {
            setPrototypeOf: function setPrototypeOf(a, b) {
                e.check(a, b);
                try {
                    return e.set(a, b),
                    !0
                } catch (c) {
                    return !1
                }
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Date", {
            now: function() {
                return (new Date).getTime()
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(56)
          , f = c(14);
        d(d.P + d.F * c(5)(function() {
            return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
                toISOString: function() {
                    return 1
                }
            })
        }), "Date", {
            toJSON: function toJSON(a) {
                var b = e(this)
                  , c = f(b);
                return "number" != typeof c || isFinite(c) ? b.toISOString() : null
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(5)
          , f = Date.prototype.getTime
          , g = function(a) {
            return a > 9 ? a : "0" + a
        };
        d(d.P + d.F * (e(function() {
            return "0385-07-25T07:06:39.999Z" != new Date(-5e13 - 1).toISOString()
        }) || !e(function() {
            new Date(NaN).toISOString()
        })), "Date", {
            toISOString: function toISOString() {
                if (!isFinite(f.call(this)))
                    throw RangeError("Invalid time value");
                var a = this
                  , b = a.getUTCFullYear()
                  , c = a.getUTCMilliseconds()
                  , d = b < 0 ? "-" : b > 9999 ? "+" : "";
                return d + ("00000" + Math.abs(b)).slice(d ? -6 : -4) + "-" + g(a.getUTCMonth() + 1) + "-" + g(a.getUTCDate()) + "T" + g(a.getUTCHours()) + ":" + g(a.getUTCMinutes()) + ":" + g(a.getUTCSeconds()) + "." + (c > 99 ? c : "0" + g(c)) + "Z"
            }
        })
    }
    , function(a, b, c) {
        var d = Date.prototype
          , e = "Invalid Date"
          , f = "toString"
          , g = d[f]
          , h = d.getTime;
        new Date(NaN) + "" != e && c(16)(d, f, function toString() {
            var a = h.call(this);
            return a === a ? g.call(this) : e
        })
    }
    , function(a, b, c) {
        var d = c(23)("toPrimitive")
          , e = Date.prototype;
        d in e || c(8)(e, d, c(230))
    }
    , function(a, b, c) {
        var d = c(10)
          , e = c(14)
          , f = "number";
        a.exports = function(a) {
            if ("string" !== a && a !== f && "default" !== a)
                throw TypeError("Incorrect hint");
            return e(d(this), a != f)
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(232)
          , g = d(233)
          , h = d(10)
          , i = d(37)
          , j = d(35)
          , k = d(11)
          , l = d(2).ArrayBuffer
          , m = d(199)
          , n = g.ArrayBuffer
          , o = g.DataView
          , p = f.ABV && l.isView
          , q = n.prototype.slice
          , r = f.VIEW
          , s = "ArrayBuffer";
        e(e.G + e.W + e.F * (l !== n), {
            ArrayBuffer: n
        }),
        e(e.S + e.F * !f.CONSTR, s, {
            isView: function isView(a) {
                return p && p(a) || k(a) && r in a
            }
        }),
        e(e.P + e.U + e.F * d(5)(function() {
            return !new n(2).slice(1, c).byteLength
        }), s, {
            slice: function slice(a, b) {
                if (q !== c && b === c)
                    return q.call(h(this), a);
                for (var d = h(this).byteLength, e = i(a, d), f = i(b === c ? d : b, d), g = new (m(this, n))(j(f - e)), k = new o(this), l = new o(g), p = 0; e < f; )
                    l.setUint8(p++, k.getUint8(e++));
                return g
            }
        }),
        d(186)(s)
    }
    , function(a, b, c) {
        for (var d, e = c(2), f = c(8), g = c(17), h = g("typed_array"), i = g("view"), j = !(!e.ArrayBuffer || !e.DataView), k = j, l = 0, m = 9, n = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); l < m; )
            (d = e[n[l++]]) ? (f(d.prototype, h, !0),
            f(d.prototype, i, !0)) : k = !1;
        a.exports = {
            ABV: j,
            CONSTR: k,
            TYPED: h,
            VIEW: i
        }
    }
    , function(a, b, d) {
        var e = d(2)
          , f = d(4)
          , g = d(26)
          , h = d(232)
          , i = d(8)
          , j = d(202)
          , k = d(5)
          , l = d(197)
          , m = d(36)
          , n = d(35)
          , o = d(48).f
          , p = d(9).f
          , q = d(180)
          , r = d(22)
          , s = "ArrayBuffer"
          , t = "DataView"
          , u = "prototype"
          , v = "Wrong length!"
          , w = "Wrong index!"
          , x = e[s]
          , y = e[t]
          , z = e.Math
          , A = e.RangeError
          , B = e.Infinity
          , C = x
          , D = z.abs
          , E = z.pow
          , F = z.floor
          , G = z.log
          , H = z.LN2
          , I = "buffer"
          , J = "byteLength"
          , K = "byteOffset"
          , L = f ? "_b" : I
          , M = f ? "_l" : J
          , N = f ? "_o" : K
          , O = function(a, b, c) {
            var d, e, f, g = Array(c), h = 8 * c - b - 1, i = (1 << h) - 1, j = i >> 1, k = 23 === b ? E(2, -24) - E(2, -77) : 0, l = 0, m = a < 0 || 0 === a && 1 / a < 0 ? 1 : 0;
            for (a = D(a),
            a != a || a === B ? (e = a != a ? 1 : 0,
            d = i) : (d = F(G(a) / H),
            a * (f = E(2, -d)) < 1 && (d--,
            f *= 2),
            a += d + j >= 1 ? k / f : k * E(2, 1 - j),
            a * f >= 2 && (d++,
            f /= 2),
            d + j >= i ? (e = 0,
            d = i) : d + j >= 1 ? (e = (a * f - 1) * E(2, b),
            d += j) : (e = a * E(2, j - 1) * E(2, b),
            d = 0)); b >= 8; g[l++] = 255 & e,
            e /= 256,
            b -= 8)
                ;
            for (d = d << b | e,
            h += b; h > 0; g[l++] = 255 & d,
            d /= 256,
            h -= 8)
                ;
            return g[--l] |= 128 * m,
            g
        }
          , P = function(a, b, c) {
            var d, e = 8 * c - b - 1, f = (1 << e) - 1, g = f >> 1, h = e - 7, i = c - 1, j = a[i--], k = 127 & j;
            for (j >>= 7; h > 0; k = 256 * k + a[i],
            i--,
            h -= 8)
                ;
            for (d = k & (1 << -h) - 1,
            k >>= -h,
            h += b; h > 0; d = 256 * d + a[i],
            i--,
            h -= 8)
                ;
            if (0 === k)
                k = 1 - g;
            else {
                if (k === f)
                    return d ? NaN : j ? -B : B;
                d += E(2, b),
                k -= g
            }
            return (j ? -1 : 1) * d * E(2, k - b)
        }
          , Q = function(a) {
            return a[3] << 24 | a[2] << 16 | a[1] << 8 | a[0]
        }
          , R = function(a) {
            return [255 & a]
        }
          , S = function(a) {
            return [255 & a, a >> 8 & 255]
        }
          , T = function(a) {
            return [255 & a, a >> 8 & 255, a >> 16 & 255, a >> 24 & 255]
        }
          , U = function(a) {
            return O(a, 52, 8)
        }
          , V = function(a) {
            return O(a, 23, 4)
        }
          , W = function(a, b, c) {
            p(a[u], b, {
                get: function() {
                    return this[c]
                }
            })
        }
          , X = function(a, b, c, d) {
            var e = +c
              , f = m(e);
            if (e != f || f < 0 || f + b > a[M])
                throw A(w);
            var g = a[L]._b
              , h = f + a[N]
              , i = g.slice(h, h + b);
            return d ? i : i.reverse()
        }
          , Y = function(a, b, c, d, e, f) {
            var g = +c
              , h = m(g);
            if (g != h || h < 0 || h + b > a[M])
                throw A(w);
            for (var i = a[L]._b, j = h + a[N], k = d(+e), l = 0; l < b; l++)
                i[j + l] = k[f ? l : b - l - 1]
        }
          , Z = function(a, b) {
            l(a, x, s);
            var c = +b
              , d = n(c);
            if (c != d)
                throw A(v);
            return d
        };
        if (h.ABV) {
            if (!k(function() {
                new x
            }) || !k(function() {
                new x(.5)
            })) {
                x = function ArrayBuffer(a) {
                    return new C(Z(this, a))
                }
                ;
                for (var $, _ = x[u] = C[u], aa = o(C), ba = 0; aa.length > ba; )
                    ($ = aa[ba++])in x || i(x, $, C[$]);
                g || (_.constructor = x)
            }
            var ca = new y(new x(2))
              , da = y[u].setInt8;
            ca.setInt8(0, 2147483648),
            ca.setInt8(1, 2147483649),
            !ca.getInt8(0) && ca.getInt8(1) || j(y[u], {
                setInt8: function setInt8(a, b) {
                    da.call(this, a, b << 24 >> 24)
                },
                setUint8: function setUint8(a, b) {
                    da.call(this, a, b << 24 >> 24)
                }
            }, !0)
        } else
            x = function ArrayBuffer(a) {
                var b = Z(this, a);
                this._b = q.call(Array(b), 0),
                this[M] = b
            }
            ,
            y = function DataView(a, b, d) {
                l(this, y, t),
                l(a, x, t);
                var e = a[M]
                  , f = m(b);
                if (f < 0 || f > e)
                    throw A("Wrong offset!");
                if (d = d === c ? e - f : n(d),
                f + d > e)
                    throw A(v);
                this[L] = a,
                this[N] = f,
                this[M] = d
            }
            ,
            f && (W(x, J, "_l"),
            W(y, I, "_b"),
            W(y, J, "_l"),
            W(y, K, "_o")),
            j(y[u], {
                getInt8: function getInt8(a) {
                    return X(this, 1, a)[0] << 24 >> 24
                },
                getUint8: function getUint8(a) {
                    return X(this, 1, a)[0]
                },
                getInt16: function getInt16(a) {
                    var b = X(this, 2, a, arguments[1]);
                    return (b[1] << 8 | b[0]) << 16 >> 16
                },
                getUint16: function getUint16(a) {
                    var b = X(this, 2, a, arguments[1]);
                    return b[1] << 8 | b[0]
                },
                getInt32: function getInt32(a) {
                    return Q(X(this, 4, a, arguments[1]))
                },
                getUint32: function getUint32(a) {
                    return Q(X(this, 4, a, arguments[1])) >>> 0
                },
                getFloat32: function getFloat32(a) {
                    return P(X(this, 4, a, arguments[1]), 23, 4)
                },
                getFloat64: function getFloat64(a) {
                    return P(X(this, 8, a, arguments[1]), 52, 8)
                },
                setInt8: function setInt8(a, b) {
                    Y(this, 1, a, R, b)
                },
                setUint8: function setUint8(a, b) {
                    Y(this, 1, a, R, b)
                },
                setInt16: function setInt16(a, b) {
                    Y(this, 2, a, S, b, arguments[2])
                },
                setUint16: function setUint16(a, b) {
                    Y(this, 2, a, S, b, arguments[2])
                },
                setInt32: function setInt32(a, b) {
                    Y(this, 4, a, T, b, arguments[2])
                },
                setUint32: function setUint32(a, b) {
                    Y(this, 4, a, T, b, arguments[2])
                },
                setFloat32: function setFloat32(a, b) {
                    Y(this, 4, a, V, b, arguments[2])
                },
                setFloat64: function setFloat64(a, b) {
                    Y(this, 8, a, U, b, arguments[2])
                }
            });
        r(x, s),
        r(y, t),
        i(y[u], h.VIEW, !0),
        b[s] = x,
        b[t] = y
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.G + d.W + d.F * !c(232).ABV, {
            DataView: c(233).DataView
        })
    }
    , function(a, b, c) {
        c(236)("Int8", 1, function(a) {
            return function Int8Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, d) {
        if (d(4)) {
            var e = d(26)
              , f = d(2)
              , g = d(5)
              , h = d(6)
              , i = d(232)
              , j = d(233)
              , k = d(18)
              , l = d(197)
              , m = d(15)
              , n = d(8)
              , o = d(202)
              , p = d(36)
              , q = d(35)
              , r = d(37)
              , s = d(14)
              , t = d(3)
              , u = d(69)
              , v = d(73)
              , w = d(11)
              , x = d(56)
              , y = d(154)
              , z = d(44)
              , A = d(57)
              , B = d(48).f
              , C = d(156)
              , D = d(17)
              , E = d(23)
              , F = d(164)
              , G = d(34)
              , H = d(199)
              , I = d(183)
              , J = d(135)
              , K = d(157)
              , L = d(186)
              , M = d(180)
              , N = d(177)
              , O = d(9)
              , P = d(49)
              , Q = O.f
              , R = P.f
              , S = f.RangeError
              , T = f.TypeError
              , U = f.Uint8Array
              , V = "ArrayBuffer"
              , W = "Shared" + V
              , X = "BYTES_PER_ELEMENT"
              , Y = "prototype"
              , Z = Array[Y]
              , $ = j.ArrayBuffer
              , _ = j.DataView
              , aa = F(0)
              , ba = F(2)
              , ca = F(3)
              , da = F(4)
              , ea = F(5)
              , fa = F(6)
              , ga = G(!0)
              , ha = G(!1)
              , ia = I.values
              , ja = I.keys
              , ka = I.entries
              , la = Z.lastIndexOf
              , ma = Z.reduce
              , na = Z.reduceRight
              , oa = Z.join
              , pa = Z.sort
              , qa = Z.slice
              , ra = Z.toString
              , sa = Z.toLocaleString
              , ta = E("iterator")
              , ua = E("toStringTag")
              , va = D("typed_constructor")
              , wa = D("def_constructor")
              , xa = i.CONSTR
              , ya = i.TYPED
              , za = i.VIEW
              , Aa = "Wrong length!"
              , Ba = F(1, function(a, b) {
                return Ha(H(a, a[wa]), b)
            })
              , Ca = g(function() {
                return 1 === new U(new Uint16Array([1]).buffer)[0]
            })
              , Da = !!U && !!U[Y].set && g(function() {
                new U(1).set({})
            })
              , Ea = function(a, b) {
                if (a === c)
                    throw T(Aa);
                var d = +a
                  , e = q(a);
                if (b && !u(d, e))
                    throw S(Aa);
                return e
            }
              , Fa = function(a, b) {
                var c = p(a);
                if (c < 0 || c % b)
                    throw S("Wrong offset!");
                return c
            }
              , Ga = function(a) {
                if (w(a) && ya in a)
                    return a;
                throw T(a + " is not a typed array!")
            }
              , Ha = function(a, b) {
                if (!(w(a) && va in a))
                    throw T("It is not a typed array constructor!");
                return new a(b)
            }
              , Ia = function(a, b) {
                return Ja(H(a, a[wa]), b)
            }
              , Ja = function(a, b) {
                for (var c = 0, d = b.length, e = Ha(a, d); d > c; )
                    e[c] = b[c++];
                return e
            }
              , Ka = function(a, b, c) {
                Q(a, b, {
                    get: function() {
                        return this._d[c]
                    }
                })
            }
              , La = function from(a) {
                var b, d, e, f, g, h, i = x(a), j = arguments.length, l = j > 1 ? arguments[1] : c, m = l !== c, n = C(i);
                if (n != c && !y(n)) {
                    for (h = n.call(i),
                    e = [],
                    b = 0; !(g = h.next()).done; b++)
                        e.push(g.value);
                    i = e
                }
                for (m && j > 2 && (l = k(l, arguments[2], 2)),
                b = 0,
                d = q(i.length),
                f = Ha(this, d); d > b; b++)
                    f[b] = m ? l(i[b], b) : i[b];
                return f
            }
              , Ma = function of() {
                for (var a = 0, b = arguments.length, c = Ha(this, b); b > a; )
                    c[a] = arguments[a++];
                return c
            }
              , Na = !!U && g(function() {
                sa.call(new U(1))
            })
              , Oa = function toLocaleString() {
                return sa.apply(Na ? qa.call(Ga(this)) : Ga(this), arguments)
            }
              , Pa = {
                copyWithin: function copyWithin(a, b) {
                    return N.call(Ga(this), a, b, arguments.length > 2 ? arguments[2] : c)
                },
                every: function every(a) {
                    return da(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                fill: function fill(a) {
                    return M.apply(Ga(this), arguments)
                },
                filter: function filter(a) {
                    return Ia(this, ba(Ga(this), a, arguments.length > 1 ? arguments[1] : c))
                },
                find: function find(a) {
                    return ea(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                findIndex: function findIndex(a) {
                    return fa(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                forEach: function forEach(a) {
                    aa(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                indexOf: function indexOf(a) {
                    return ha(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                includes: function includes(a) {
                    return ga(Ga(this), a, arguments.length > 1 ? arguments[1] : c);
                },
                join: function join(a) {
                    return oa.apply(Ga(this), arguments)
                },
                lastIndexOf: function lastIndexOf(a) {
                    return la.apply(Ga(this), arguments)
                },
                map: function map(a) {
                    return Ba(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                reduce: function reduce(a) {
                    return ma.apply(Ga(this), arguments)
                },
                reduceRight: function reduceRight(a) {
                    return na.apply(Ga(this), arguments)
                },
                reverse: function reverse() {
                    for (var a, b = this, c = Ga(b).length, d = Math.floor(c / 2), e = 0; e < d; )
                        a = b[e],
                        b[e++] = b[--c],
                        b[c] = a;
                    return b
                },
                some: function some(a) {
                    return ca(Ga(this), a, arguments.length > 1 ? arguments[1] : c)
                },
                sort: function sort(a) {
                    return pa.call(Ga(this), a)
                },
                subarray: function subarray(a, b) {
                    var d = Ga(this)
                      , e = d.length
                      , f = r(a, e);
                    return new (H(d, d[wa]))(d.buffer,d.byteOffset + f * d.BYTES_PER_ELEMENT,q((b === c ? e : r(b, e)) - f))
                }
            }
              , Qa = function slice(a, b) {
                return Ia(this, qa.call(Ga(this), a, b))
            }
              , Ra = function set(a) {
                Ga(this);
                var b = Fa(arguments[1], 1)
                  , c = this.length
                  , d = x(a)
                  , e = q(d.length)
                  , f = 0;
                if (e + b > c)
                    throw S(Aa);
                for (; f < e; )
                    this[b + f] = d[f++]
            }
              , Sa = {
                entries: function entries() {
                    return ka.call(Ga(this))
                },
                keys: function keys() {
                    return ja.call(Ga(this))
                },
                values: function values() {
                    return ia.call(Ga(this))
                }
            }
              , Ta = function(a, b) {
                return w(a) && a[ya] && "symbol" != typeof b && b in a && String(+b) == String(b)
            }
              , Ua = function getOwnPropertyDescriptor(a, b) {
                return Ta(a, b = s(b, !0)) ? m(2, a[b]) : R(a, b)
            }
              , Va = function defineProperty(a, b, c) {
                return !(Ta(a, b = s(b, !0)) && w(c) && t(c, "value")) || t(c, "get") || t(c, "set") || c.configurable || t(c, "writable") && !c.writable || t(c, "enumerable") && !c.enumerable ? Q(a, b, c) : (a[b] = c.value,
                a)
            };
            xa || (P.f = Ua,
            O.f = Va),
            h(h.S + h.F * !xa, "Object", {
                getOwnPropertyDescriptor: Ua,
                defineProperty: Va
            }),
            g(function() {
                ra.call({})
            }) && (ra = sa = function toString() {
                return oa.call(this)
            }
            );
            var Wa = o({}, Pa);
            o(Wa, Sa),
            n(Wa, ta, Sa.values),
            o(Wa, {
                slice: Qa,
                set: Ra,
                constructor: function() {},
                toString: ra,
                toLocaleString: Oa
            }),
            Ka(Wa, "buffer", "b"),
            Ka(Wa, "byteOffset", "o"),
            Ka(Wa, "byteLength", "l"),
            Ka(Wa, "length", "e"),
            Q(Wa, ua, {
                get: function() {
                    return this[ya]
                }
            }),
            a.exports = function(a, b, d, j) {
                j = !!j;
                var k = a + (j ? "Clamped" : "") + "Array"
                  , m = "Uint8Array" != k
                  , o = "get" + a
                  , p = "set" + a
                  , r = f[k]
                  , s = r || {}
                  , t = r && A(r)
                  , u = !r || !i.ABV
                  , x = {}
                  , y = r && r[Y]
                  , C = function(a, c) {
                    var d = a._d;
                    return d.v[o](c * b + d.o, Ca)
                }
                  , D = function(a, c, d) {
                    var e = a._d;
                    j && (d = (d = Math.round(d)) < 0 ? 0 : d > 255 ? 255 : 255 & d),
                    e.v[p](c * b + e.o, d, Ca)
                }
                  , E = function(a, b) {
                    Q(a, b, {
                        get: function() {
                            return C(this, b)
                        },
                        set: function(a) {
                            return D(this, b, a)
                        },
                        enumerable: !0
                    })
                };
                u ? (r = d(function(a, d, e, f) {
                    l(a, r, k, "_d");
                    var g, h, i, j, m = 0, o = 0;
                    if (w(d)) {
                        if (!(d instanceof $ || (j = v(d)) == V || j == W))
                            return ya in d ? Ja(r, d) : La.call(r, d);
                        g = d,
                        o = Fa(e, b);
                        var p = d.byteLength;
                        if (f === c) {
                            if (p % b)
                                throw S(Aa);
                            if (h = p - o,
                            h < 0)
                                throw S(Aa)
                        } else if (h = q(f) * b,
                        h + o > p)
                            throw S(Aa);
                        i = h / b
                    } else
                        i = Ea(d, !0),
                        h = i * b,
                        g = new $(h);
                    for (n(a, "_d", {
                        b: g,
                        o: o,
                        l: h,
                        e: i,
                        v: new _(g)
                    }); m < i; )
                        E(a, m++)
                }),
                y = r[Y] = z(Wa),
                n(y, "constructor", r)) : K(function(a) {
                    new r(null),
                    new r(a)
                }, !0) || (r = d(function(a, d, e, f) {
                    l(a, r, k);
                    var g;
                    return w(d) ? d instanceof $ || (g = v(d)) == V || g == W ? f !== c ? new s(d,Fa(e, b),f) : e !== c ? new s(d,Fa(e, b)) : new s(d) : ya in d ? Ja(r, d) : La.call(r, d) : new s(Ea(d, m))
                }),
                aa(t !== Function.prototype ? B(s).concat(B(t)) : B(s), function(a) {
                    a in r || n(r, a, s[a])
                }),
                r[Y] = y,
                e || (y.constructor = r));
                var F = y[ta]
                  , G = !!F && ("values" == F.name || F.name == c)
                  , H = Sa.values;
                n(r, va, !0),
                n(y, ya, k),
                n(y, za, !0),
                n(y, wa, r),
                (j ? new r(1)[ua] == k : ua in y) || Q(y, ua, {
                    get: function() {
                        return k
                    }
                }),
                x[k] = r,
                h(h.G + h.W + h.F * (r != s), x),
                h(h.S, k, {
                    BYTES_PER_ELEMENT: b,
                    from: La,
                    of: Ma
                }),
                X in y || n(y, X, b),
                h(h.P, k, Pa),
                L(k),
                h(h.P + h.F * Da, k, {
                    set: Ra
                }),
                h(h.P + h.F * !G, k, Sa),
                h(h.P + h.F * (y.toString != ra), k, {
                    toString: ra
                }),
                h(h.P + h.F * g(function() {
                    new r(1).slice()
                }), k, {
                    slice: Qa
                }),
                h(h.P + h.F * (g(function() {
                    return [1, 2].toLocaleString() != new r([1, 2]).toLocaleString()
                }) || !g(function() {
                    y.toLocaleString.call([1, 2])
                })), k, {
                    toLocaleString: Oa
                }),
                J[k] = G ? F : H,
                e || G || n(y, ta, H)
            }
        } else
            a.exports = function() {}
    }
    , function(a, b, c) {
        c(236)("Uint8", 1, function(a) {
            return function Uint8Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Uint8", 1, function(a) {
            return function Uint8ClampedArray(b, c, d) {
                return a(this, b, c, d)
            }
        }, !0)
    }
    , function(a, b, c) {
        c(236)("Int16", 2, function(a) {
            return function Int16Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Uint16", 2, function(a) {
            return function Uint16Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Int32", 4, function(a) {
            return function Int32Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Uint32", 4, function(a) {
            return function Uint32Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Float32", 4, function(a) {
            return function Float32Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, c) {
        c(236)("Float64", 8, function(a) {
            return function Float64Array(b, c, d) {
                return a(this, b, c, d)
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(34)(!0);
        e(e.P, "Array", {
            includes: function includes(a) {
                return f(this, a, arguments.length > 1 ? arguments[1] : c)
            }
        }),
        d(178)("includes")
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(125)(!0);
        d(d.P, "String", {
            at: function at(a) {
                return e(this, a)
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(248);
        e(e.P, "String", {
            padStart: function padStart(a) {
                return f(this, a, arguments.length > 1 ? arguments[1] : c, !0)
            }
        })
    }
    , function(a, b, d) {
        var e = d(35)
          , f = d(85)
          , g = d(33);
        a.exports = function(a, b, d, h) {
            var i = String(g(a))
              , j = i.length
              , k = d === c ? " " : String(d)
              , l = e(b);
            if (l <= j || "" == k)
                return i;
            var m = l - j
              , n = f.call(k, Math.ceil(m / k.length));
            return n.length > m && (n = n.slice(0, m)),
            h ? n + i : i + n
        }
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(248);
        e(e.P, "String", {
            padEnd: function padEnd(a) {
                return f(this, a, arguments.length > 1 ? arguments[1] : c, !1)
            }
        })
    }
    , function(a, b, c) {
        c(81)("trimLeft", function(a) {
            return function trimLeft() {
                return a(this, 1)
            }
        }, "trimStart")
    }
    , function(a, b, c) {
        c(81)("trimRight", function(a) {
            return function trimRight() {
                return a(this, 2)
            }
        }, "trimEnd")
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(33)
          , f = c(35)
          , g = c(128)
          , h = c(188)
          , i = RegExp.prototype
          , j = function(a, b) {
            this._r = a,
            this._s = b
        };
        c(136)(j, "RegExp String", function next() {
            var a = this._r.exec(this._s);
            return {
                value: a,
                done: null === a
            }
        }),
        d(d.P, "String", {
            matchAll: function matchAll(a) {
                if (e(this),
                !g(a))
                    throw TypeError(a + " is not a regexp!");
                var b = String(this)
                  , c = "flags"in i ? String(a.flags) : h.call(a)
                  , d = new RegExp(a.source,~c.indexOf("g") ? c : "g" + c);
                return d.lastIndex = f(a.lastIndex),
                new j(d,b)
            }
        })
    }
    , function(a, b, c) {
        c(25)("asyncIterator")
    }
    , function(a, b, c) {
        c(25)("observable")
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(221)
          , f = c(30)
          , g = c(49)
          , h = c(155);
        d(d.S, "Object", {
            getOwnPropertyDescriptors: function getOwnPropertyDescriptors(a) {
                for (var b, c = f(a), d = g.f, i = e(c), j = {}, k = 0; i.length > k; )
                    h(j, b = i[k++], d(c, b));
                return j
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(257)(!1);
        d(d.S, "Object", {
            values: function values(a) {
                return e(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(28)
          , e = c(30)
          , f = c(42).f;
        a.exports = function(a) {
            return function(b) {
                for (var c, g = e(b), h = d(g), i = h.length, j = 0, k = []; i > j; )
                    f.call(g, c = h[j++]) && k.push(a ? [c, g[c]] : g[c]);
                return k
            }
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(257)(!0);
        d(d.S, "Object", {
            entries: function entries(a) {
                return e(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(56)
          , f = c(19)
          , g = c(9);
        c(4) && d(d.P + c(260), "Object", {
            __defineGetter__: function __defineGetter__(a, b) {
                g.f(e(this), a, {
                    get: f(b),
                    enumerable: !0,
                    configurable: !0
                })
            }
        })
    }
    , function(a, b, c) {
        a.exports = c(26) || !c(5)(function() {
            var a = Math.random();
            __defineSetter__.call(null, a, function() {}),
            delete c(2)[a]
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(56)
          , f = c(19)
          , g = c(9);
        c(4) && d(d.P + c(260), "Object", {
            __defineSetter__: function __defineSetter__(a, b) {
                g.f(e(this), a, {
                    set: f(b),
                    enumerable: !0,
                    configurable: !0
                })
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(56)
          , f = c(14)
          , g = c(57)
          , h = c(49).f;
        c(4) && d(d.P + c(260), "Object", {
            __lookupGetter__: function __lookupGetter__(a) {
                var b, c = e(this), d = f(a, !0);
                do
                    if (b = h(c, d))
                        return b.get;
                while (c = g(c))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(56)
          , f = c(14)
          , g = c(57)
          , h = c(49).f;
        c(4) && d(d.P + c(260), "Object", {
            __lookupSetter__: function __lookupSetter__(a) {
                var b, c = e(this), d = f(a, !0);
                do
                    if (b = h(c, d))
                        return b.set;
                while (c = g(c))
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P + d.R, "Map", {
            toJSON: c(265)("Map")
        })
    }
    , function(a, b, c) {
        var d = c(73)
          , e = c(266);
        a.exports = function(a) {
            return function toJSON() {
                if (d(this) != a)
                    throw TypeError(a + "#toJSON isn't generic");
                return e(this)
            }
        }
    }
    , function(a, b, c) {
        var d = c(198);
        a.exports = function(a, b) {
            var c = [];
            return d(a, !1, c.push, c, b),
            c
        }
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.P + d.R, "Set", {
            toJSON: c(265)("Set")
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "System", {
            global: c(2)
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(32);
        d(d.S, "Error", {
            isError: function isError(a) {
                return "Error" === e(a)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            iaddh: function iaddh(a, b, c, d) {
                var e = a >>> 0
                  , f = b >>> 0
                  , g = c >>> 0;
                return f + (d >>> 0) + ((e & g | (e | g) & ~(e + g >>> 0)) >>> 31) | 0
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            isubh: function isubh(a, b, c, d) {
                var e = a >>> 0
                  , f = b >>> 0
                  , g = c >>> 0;
                return f - (d >>> 0) - ((~e & g | ~(e ^ g) & e - g >>> 0) >>> 31) | 0
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            imulh: function imulh(a, b) {
                var c = 65535
                  , d = +a
                  , e = +b
                  , f = d & c
                  , g = e & c
                  , h = d >> 16
                  , i = e >> 16
                  , j = (h * g >>> 0) + (f * g >>> 16);
                return h * i + (j >> 16) + ((f * i >>> 0) + (j & c) >> 16)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S, "Math", {
            umulh: function umulh(a, b) {
                var c = 65535
                  , d = +a
                  , e = +b
                  , f = d & c
                  , g = e & c
                  , h = d >>> 16
                  , i = e >>> 16
                  , j = (h * g >>> 0) + (f * g >>> 16);
                return h * i + (j >>> 16) + ((f * i >>> 0) + (j & c) >>> 16)
            }
        })
    }
    , function(a, b, c) {
        var d = c(275)
          , e = c(10)
          , f = d.key
          , g = d.set;
        d.exp({
            defineMetadata: function defineMetadata(a, b, c, d) {
                g(a, b, e(c), f(d))
            }
        })
    }
    , function(a, b, d) {
        var e = d(203)
          , f = d(6)
          , g = d(21)("metadata")
          , h = g.store || (g.store = new (d(207)))
          , i = function(a, b, d) {
            var f = h.get(a);
            if (!f) {
                if (!d)
                    return c;
                h.set(a, f = new e)
            }
            var g = f.get(b);
            if (!g) {
                if (!d)
                    return c;
                f.set(b, g = new e)
            }
            return g
        }
          , j = function(a, b, d) {
            var e = i(b, d, !1);
            return e !== c && e.has(a)
        }
          , k = function(a, b, d) {
            var e = i(b, d, !1);
            return e === c ? c : e.get(a)
        }
          , l = function(a, b, c, d) {
            i(c, d, !0).set(a, b)
        }
          , m = function(a, b) {
            var c = i(a, b, !1)
              , d = [];
            return c && c.forEach(function(a, b) {
                d.push(b)
            }),
            d
        }
          , n = function(a) {
            return a === c || "symbol" == typeof a ? a : String(a)
        }
          , o = function(a) {
            f(f.S, "Reflect", a)
        };
        a.exports = {
            store: h,
            map: i,
            has: j,
            get: k,
            set: l,
            keys: m,
            key: n,
            exp: o
        }
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = e.key
          , h = e.map
          , i = e.store;
        e.exp({
            deleteMetadata: function deleteMetadata(a, b) {
                var d = arguments.length < 3 ? c : g(arguments[2])
                  , e = h(f(b), d, !1);
                if (e === c || !e["delete"](a))
                    return !1;
                if (e.size)
                    return !0;
                var j = i.get(b);
                return j["delete"](d),
                !!j.size || i["delete"](b)
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = d(57)
          , h = e.has
          , i = e.get
          , j = e.key
          , k = function(a, b, d) {
            var e = h(a, b, d);
            if (e)
                return i(a, b, d);
            var f = g(b);
            return null !== f ? k(a, f, d) : c
        };
        e.exp({
            getMetadata: function getMetadata(a, b) {
                return k(a, f(b), arguments.length < 3 ? c : j(arguments[2]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(206)
          , f = d(266)
          , g = d(275)
          , h = d(10)
          , i = d(57)
          , j = g.keys
          , k = g.key
          , l = function(a, b) {
            var c = j(a, b)
              , d = i(a);
            if (null === d)
                return c;
            var g = l(d, b);
            return g.length ? c.length ? f(new e(c.concat(g))) : g : c
        };
        g.exp({
            getMetadataKeys: function getMetadataKeys(a) {
                return l(h(a), arguments.length < 2 ? c : k(arguments[1]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = e.get
          , h = e.key;
        e.exp({
            getOwnMetadata: function getOwnMetadata(a, b) {
                return g(a, f(b), arguments.length < 3 ? c : h(arguments[2]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = e.keys
          , h = e.key;
        e.exp({
            getOwnMetadataKeys: function getOwnMetadataKeys(a) {
                return g(f(a), arguments.length < 2 ? c : h(arguments[1]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = d(57)
          , h = e.has
          , i = e.key
          , j = function(a, b, c) {
            var d = h(a, b, c);
            if (d)
                return !0;
            var e = g(b);
            return null !== e && j(a, e, c)
        };
        e.exp({
            hasMetadata: function hasMetadata(a, b) {
                return j(a, f(b), arguments.length < 3 ? c : i(arguments[2]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = e.has
          , h = e.key;
        e.exp({
            hasOwnMetadata: function hasOwnMetadata(a, b) {
                return g(a, f(b), arguments.length < 3 ? c : h(arguments[2]))
            }
        })
    }
    , function(a, b, d) {
        var e = d(275)
          , f = d(10)
          , g = d(19)
          , h = e.key
          , i = e.set;
        e.exp({
            metadata: function metadata(a, b) {
                return function decorator(d, e) {
                    i(a, b, (e !== c ? f : g)(d), h(e))
                }
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(201)()
          , f = c(2).process
          , g = "process" == c(32)(f);
        d(d.G, {
            asap: function asap(a) {
                var b = g && f.domain;
                e(b ? b.bind(a) : a)
            }
        })
    }
    , function(a, b, d) {
        var e = d(6)
          , f = d(2)
          , g = d(7)
          , h = d(201)()
          , i = d(23)("observable")
          , j = d(19)
          , k = d(10)
          , l = d(197)
          , m = d(202)
          , n = d(8)
          , o = d(198)
          , p = o.RETURN
          , q = function(a) {
            return null == a ? c : j(a)
        }
          , r = function(a) {
            var b = a._c;
            b && (a._c = c,
            b())
        }
          , s = function(a) {
            return a._o === c
        }
          , t = function(a) {
            s(a) || (a._o = c,
            r(a))
        }
          , u = function(a, b) {
            k(a),
            this._c = c,
            this._o = a,
            a = new v(this);
            try {
                var d = b(a)
                  , e = d;
                null != d && ("function" == typeof d.unsubscribe ? d = function() {
                    e.unsubscribe()
                }
                : j(d),
                this._c = d)
            } catch (f) {
                return void a.error(f)
            }
            s(this) && r(this)
        };
        u.prototype = m({}, {
            unsubscribe: function unsubscribe() {
                t(this)
            }
        });
        var v = function(a) {
            this._s = a
        };
        v.prototype = m({}, {
            next: function next(a) {
                var b = this._s;
                if (!s(b)) {
                    var c = b._o;
                    try {
                        var d = q(c.next);
                        if (d)
                            return d.call(c, a)
                    } catch (e) {
                        try {
                            t(b)
                        } finally {
                            throw e
                        }
                    }
                }
            },
            error: function error(a) {
                var b = this._s;
                if (s(b))
                    throw a;
                var d = b._o;
                b._o = c;
                try {
                    var e = q(d.error);
                    if (!e)
                        throw a;
                    a = e.call(d, a)
                } catch (f) {
                    try {
                        r(b)
                    } finally {
                        throw f
                    }
                }
                return r(b),
                a
            },
            complete: function complete(a) {
                var b = this._s;
                if (!s(b)) {
                    var d = b._o;
                    b._o = c;
                    try {
                        var e = q(d.complete);
                        a = e ? e.call(d, a) : c
                    } catch (f) {
                        try {
                            r(b)
                        } finally {
                            throw f
                        }
                    }
                    return r(b),
                    a
                }
            }
        });
        var w = function Observable(a) {
            l(this, w, "Observable", "_f")._f = j(a)
        };
        m(w.prototype, {
            subscribe: function subscribe(a) {
                return new u(a,this._f)
            },
            forEach: function forEach(a) {
                var b = this;
                return new (g.Promise || f.Promise)(function(c, d) {
                    j(a);
                    var e = b.subscribe({
                        next: function(b) {
                            try {
                                return a(b)
                            } catch (c) {
                                d(c),
                                e.unsubscribe()
                            }
                        },
                        error: d,
                        complete: c
                    })
                }
                )
            }
        }),
        m(w, {
            from: function from(a) {
                var b = "function" == typeof this ? this : w
                  , c = q(k(a)[i]);
                if (c) {
                    var d = k(c.call(a));
                    return d.constructor === b ? d : new b(function(a) {
                        return d.subscribe(a)
                    }
                    )
                }
                return new b(function(b) {
                    var c = !1;
                    return h(function() {
                        if (!c) {
                            try {
                                if (o(a, !1, function(a) {
                                    if (b.next(a),
                                    c)
                                        return p
                                }) === p)
                                    return
                            } catch (d) {
                                if (c)
                                    throw d;
                                return void b.error(d)
                            }
                            b.complete()
                        }
                    }),
                    function() {
                        c = !0
                    }
                }
                )
            },
            of: function of() {
                for (var a = 0, b = arguments.length, c = Array(b); a < b; )
                    c[a] = arguments[a++];
                return new ("function" == typeof this ? this : w)(function(a) {
                    var b = !1;
                    return h(function() {
                        if (!b) {
                            for (var d = 0; d < c.length; ++d)
                                if (a.next(c[d]),
                                b)
                                    return;
                            a.complete()
                        }
                    }),
                    function() {
                        b = !0
                    }
                }
                )
            }
        }),
        n(w.prototype, i, function() {
            return this
        }),
        e(e.G, {
            Observable: w
        }),
        d(186)("Observable")
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(200);
        d(d.G + d.B, {
            setImmediate: e.set,
            clearImmediate: e.clear
        })
    }
    , function(a, b, c) {
        for (var d = c(183), e = c(16), f = c(2), g = c(8), h = c(135), i = c(23), j = i("iterator"), k = i("toStringTag"), l = h.Array, m = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], n = 0; n < 5; n++) {
            var o, p = m[n], q = f[p], r = q && q.prototype;
            if (r) {
                r[j] || g(r, j, l),
                r[k] || g(r, k, p),
                h[p] = l;
                for (o in d)
                    r[o] || e(r, o, d[o], !0)
            }
        }
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(6)
          , f = c(76)
          , g = c(289)
          , h = d.navigator
          , i = !!h && /MSIE .\./.test(h.userAgent)
          , j = function(a) {
            return i ? function(b, c) {
                return a(f(g, [].slice.call(arguments, 2), "function" == typeof b ? b : Function(b)), c)
            }
            : a
        };
        e(e.G + e.B + e.F * i, {
            setTimeout: j(d.setTimeout),
            setInterval: j(d.setInterval)
        })
    }
    , function(a, b, c) {
        var d = c(290)
          , e = c(76)
          , f = c(19);
        a.exports = function() {
            for (var a = f(this), b = arguments.length, c = Array(b), g = 0, h = d._, i = !1; b > g; )
                (c[g] = arguments[g++]) === h && (i = !0);
            return function() {
                var d, f = this, g = arguments.length, j = 0, k = 0;
                if (!i && !g)
                    return e(a, c, f);
                if (d = c.slice(),
                i)
                    for (; b > j; j++)
                        d[j] === h && (d[j] = arguments[k++]);
                for (; g > k; )
                    d.push(arguments[k++]);
                return e(a, d, f)
            }
        }
    }
    , function(a, b, c) {
        a.exports = c(2)
    }
    , function(a, b, d) {
        function Dict(a) {
            var b = i(null);
            return a != c && (p(a) ? o(a, !0, function(a, c) {
                b[a] = c
            }) : h(b, a)),
            b
        }
        function reduce(a, b, c) {
            n(b);
            var d, e, f = t(a), g = k(f), h = g.length, i = 0;
            if (arguments.length < 3) {
                if (!h)
                    throw TypeError("Reduce of empty object with no initial value");
                d = f[g[i++]]
            } else
                d = Object(c);
            for (; h > i; )
                v(f, e = g[i++]) && (d = b(d, f[e], e, a));
            return d
        }
        function includes(a, b) {
            return (b == b ? m(a, b) : x(a, function(a) {
                return a != a
            })) !== c
        }
        function get(a, b) {
            if (v(a, b))
                return a[b]
        }
        function set(a, b, c) {
            return u && b in Object ? l.f(a, b, g(0, c)) : a[b] = c,
            a
        }
        function isDict(a) {
            return s(a) && j(a) === Dict.prototype
        }
        var e = d(18)
          , f = d(6)
          , g = d(15)
          , h = d(67)
          , i = d(44)
          , j = d(57)
          , k = d(28)
          , l = d(9)
          , m = d(27)
          , n = d(19)
          , o = d(198)
          , p = d(292)
          , q = d(136)
          , r = d(184)
          , s = d(11)
          , t = d(30)
          , u = d(4)
          , v = d(3)
          , w = function(a) {
            var b = 1 == a
              , d = 4 == a;
            return function(f, g, h) {
                var i, j, k, l = e(g, h, 3), m = t(f), n = b || 7 == a || 2 == a ? new ("function" == typeof this ? this : Dict) : c;
                for (i in m)
                    if (v(m, i) && (j = m[i],
                    k = l(j, i, f),
                    a))
                        if (b)
                            n[i] = k;
                        else if (k)
                            switch (a) {
                            case 2:
                                n[i] = j;
                                break;
                            case 3:
                                return !0;
                            case 5:
                                return j;
                            case 6:
                                return i;
                            case 7:
                                n[k[0]] = k[1]
                            }
                        else if (d)
                            return !1;
                return 3 == a || d ? d : n
            }
        }
          , x = w(6)
          , y = function(a) {
            return function(b) {
                return new z(b,a)
            }
        }
          , z = function(a, b) {
            this._t = t(a),
            this._a = k(a),
            this._i = 0,
            this._k = b
        };
        q(z, "Dict", function() {
            var a, b = this, d = b._t, e = b._a, f = b._k;
            do
                if (b._i >= e.length)
                    return b._t = c,
                    r(1);
            while (!v(d, a = e[b._i++]));return "keys" == f ? r(0, a) : "values" == f ? r(0, d[a]) : r(0, [a, d[a]])
        }),
        Dict.prototype = null,
        f(f.G + f.F, {
            Dict: Dict
        }),
        f(f.S, "Dict", {
            keys: y("keys"),
            values: y("values"),
            entries: y("entries"),
            forEach: w(0),
            map: w(1),
            filter: w(2),
            some: w(3),
            every: w(4),
            find: w(5),
            findKey: x,
            mapPairs: w(7),
            reduce: reduce,
            keyOf: m,
            includes: includes,
            has: v,
            get: get,
            set: set,
            isDict: isDict
        })
    }
    , function(a, b, d) {
        var e = d(73)
          , f = d(23)("iterator")
          , g = d(135);
        a.exports = d(7).isIterable = function(a) {
            var b = Object(a);
            return b[f] !== c || "@@iterator"in b || g.hasOwnProperty(e(b))
        }
    }
    , function(a, b, c) {
        var d = c(10)
          , e = c(156);
        a.exports = c(7).getIterator = function(a) {
            var b = e(a);
            if ("function" != typeof b)
                throw TypeError(a + " is not iterable!");
            return d(b.call(a))
        }
    }
    , function(a, b, c) {
        var d = c(2)
          , e = c(7)
          , f = c(6)
          , g = c(289);
        f(f.G + f.F, {
            delay: function delay(a) {
                return new (e.Promise || d.Promise)(function(b) {
                    setTimeout(g.call(b, !0), a)
                }
                )
            }
        })
    }
    , function(a, b, c) {
        var d = c(290)
          , e = c(6);
        c(7)._ = d._ = d._ || {},
        e(e.P + e.F, "Function", {
            part: c(289)
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S + d.F, "Object", {
            isObject: c(11)
        })
    }
    , function(a, b, c) {
        var d = c(6);
        d(d.S + d.F, "Object", {
            classof: c(73)
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(299);
        d(d.S + d.F, "Object", {
            define: e
        })
    }
    , function(a, b, c) {
        var d = c(9)
          , e = c(49)
          , f = c(221)
          , g = c(30);
        a.exports = function define(a, b) {
            for (var c, h = f(g(b)), i = h.length, j = 0; i > j; )
                d.f(a, c = h[j++], e.f(b, c));
            return a
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(299)
          , f = c(44);
        d(d.S + d.F, "Object", {
            make: function(a, b) {
                return e(f(a), b)
            }
        })
    }
    , function(a, b, d) {
        d(134)(Number, "Number", function(a) {
            this._l = +a,
            this._i = 0
        }, function() {
            var a = this._i++
              , b = !(a < this._l);
            return {
                done: b,
                value: b ? c : a
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(303)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
        d(d.S, "RegExp", {
            escape: function escape(a) {
                return e(a)
            }
        })
    }
    , function(a, b) {
        a.exports = function(a, b) {
            var c = b === Object(b) ? function(a) {
                return b[a]
            }
            : b;
            return function(b) {
                return String(b).replace(a, c)
            }
        }
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(303)(/[&<>"']/g, {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&apos;"
        });
        d(d.P + d.F, "String", {
            escapeHTML: function escapeHTML() {
                return e(this)
            }
        })
    }
    , function(a, b, c) {
        var d = c(6)
          , e = c(303)(/&(?:amp|lt|gt|quot|apos);/g, {
            "&amp;": "&",
            "&lt;": "<",
            "&gt;": ">",
            "&quot;": '"',
            "&apos;": "'"
        });
        d(d.P + d.F, "String", {
            unescapeHTML: function unescapeHTML() {
                return e(this)
            }
        })
    }
    ]),
    "undefined" != typeof module && module.exports ? module.exports = a : "function" == typeof define && define.amd ? define(function() {
        return a
    }) : b.core = a
}(1, 1);

;(function(sp) {
    if (!sp.startsWith) {
        sp.startsWith = function(str) {
            return !!(str && this) && !this.lastIndexOf(str, 0)
        }
    }
    if (typeof NodeList.prototype.forEach === "function")
        return false;
    NodeList.prototype.forEach = Array.prototype.forEach;
}
)(String.prototype);

(function(window, document) {
    'use strict';
    if ('IntersectionObserver'in window && 'IntersectionObserverEntry'in window && 'intersectionRatio'in window.IntersectionObserverEntry.prototype) {
        if (!('isIntersecting'in window.IntersectionObserverEntry.prototype)) {
            Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {
                get: function() {
                    return this.intersectionRatio > 0;
                }
            });
        }
        return;
    }
    var registry = [];
    function IntersectionObserverEntry(entry) {
        this.time = entry.time;
        this.target = entry.target;
        this.rootBounds = entry.rootBounds;
        this.boundingClientRect = entry.boundingClientRect;
        this.intersectionRect = entry.intersectionRect || getEmptyRect();
        this.isIntersecting = !!entry.intersectionRect;
        var targetRect = this.boundingClientRect;
        var targetArea = targetRect.width * targetRect.height;
        var intersectionRect = this.intersectionRect;
        var intersectionArea = intersectionRect.width * intersectionRect.height;
        if (targetArea) {
            this.intersectionRatio = intersectionArea / targetArea;
        } else {
            this.intersectionRatio = this.isIntersecting ? 1 : 0;
        }
    }
    function IntersectionObserver(callback, opt_options) {
        var options = opt_options || {};
        if (typeof callback != 'function') {
            throw new Error('callback must be a function');
        }
        if (options.root && options.root.nodeType != 1) {
            throw new Error('root must be an Element');
        }
        this._checkForIntersections = throttle(this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);
        this._callback = callback;
        this._observationTargets = [];
        this._queuedEntries = [];
        this._rootMarginValues = this._parseRootMargin(options.rootMargin);
        this.thresholds = this._initThresholds(options.threshold);
        this.root = options.root || null;
        this.rootMargin = this._rootMarginValues.map(function(margin) {
            return margin.value + margin.unit;
        }).join(' ');
    }
    IntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;
    IntersectionObserver.prototype.POLL_INTERVAL = null;
    IntersectionObserver.prototype.observe = function(target) {
        if (this._observationTargets.some(function(item) {
            return item.element == target;
        })) {
            return;
        }
        if (!(target && target.nodeType == 1)) {
            throw new Error('target must be an Element');
        }
        this._registerInstance();
        this._observationTargets.push({
            element: target,
            entry: null
        });
        this._monitorIntersections();
        this._checkForIntersections();
    }
    ;
    IntersectionObserver.prototype.unobserve = function(target) {
        this._observationTargets = this._observationTargets.filter(function(item) {
            return item.element != target;
        });
        if (!this._observationTargets.length) {
            this._unmonitorIntersections();
            this._unregisterInstance();
        }
    }
    ;
    IntersectionObserver.prototype.disconnect = function() {
        this._observationTargets = [];
        this._unmonitorIntersections();
        this._unregisterInstance();
    }
    ;
    IntersectionObserver.prototype.takeRecords = function() {
        var records = this._queuedEntries.slice();
        this._queuedEntries = [];
        return records;
    }
    ;
    IntersectionObserver.prototype._initThresholds = function(opt_threshold) {
        var threshold = opt_threshold || [0];
        if (!Array.isArray(threshold))
            threshold = [threshold];
        return threshold.sort().filter(function(t, i, a) {
            if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {
                throw new Error('threshold must be a number between 0 and 1 inclusively');
            }
            return t !== a[i - 1];
        });
    }
    ;
    IntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {
        var marginString = opt_rootMargin || '0px';
        var margins = marginString.split(/\s+/).map(function(margin) {
            var parts = /^(-?\d*\.?\d+)(px|%)$/.exec(margin);
            if (!parts) {
                throw new Error('rootMargin must be specified in pixels or percent');
            }
            return {
                value: parseFloat(parts[1]),
                unit: parts[2]
            };
        });
        margins[1] = margins[1] || margins[0];
        margins[2] = margins[2] || margins[0];
        margins[3] = margins[3] || margins[1];
        return margins;
    }
    ;
    IntersectionObserver.prototype._monitorIntersections = function() {
        if (!this._monitoringIntersections) {
            this._monitoringIntersections = true;
            if (this.POLL_INTERVAL) {
                this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL);
            } else {
                addEvent(window, 'resize', this._checkForIntersections, true);
                addEvent(document, 'scroll', this._checkForIntersections, true);
                if ('MutationObserver'in window) {
                    this._domObserver = new MutationObserver(this._checkForIntersections);
                    this._domObserver.observe(document, {
                        attributes: true,
                        childList: true,
                        characterData: true,
                        subtree: true
                    });
                }
            }
        }
    }
    ;
    IntersectionObserver.prototype._unmonitorIntersections = function() {
        if (this._monitoringIntersections) {
            this._monitoringIntersections = false;
            clearInterval(this._monitoringInterval);
            this._monitoringInterval = null;
            removeEvent(window, 'resize', this._checkForIntersections, true);
            removeEvent(document, 'scroll', this._checkForIntersections, true);
            if (this._domObserver) {
                this._domObserver.disconnect();
                this._domObserver = null;
            }
        }
    }
    ;
    IntersectionObserver.prototype._checkForIntersections = function() {
        var rootIsInDom = this._rootIsInDom();
        var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();
        this._observationTargets.forEach(function(item) {
            var target = item.element;
            var targetRect = getBoundingClientRect(target);
            var rootContainsTarget = this._rootContainsTarget(target);
            var oldEntry = item.entry;
            var intersectionRect = rootIsInDom && rootContainsTarget && this._computeTargetAndRootIntersection(target, rootRect);
            var newEntry = item.entry = new IntersectionObserverEntry({
                time: now(),
                target: target,
                boundingClientRect: targetRect,
                rootBounds: rootRect,
                intersectionRect: intersectionRect
            });
            if (!oldEntry) {
                this._queuedEntries.push(newEntry);
            } else if (rootIsInDom && rootContainsTarget) {
                if (this._hasCrossedThreshold(oldEntry, newEntry)) {
                    this._queuedEntries.push(newEntry);
                }
            } else {
                if (oldEntry && oldEntry.isIntersecting) {
                    this._queuedEntries.push(newEntry);
                }
            }
        }, this);
        if (this._queuedEntries.length) {
            this._callback(this.takeRecords(), this);
        }
    }
    ;
    IntersectionObserver.prototype._computeTargetAndRootIntersection = function(target, rootRect) {
        if (window.getComputedStyle(target).display == 'none')
            return;
        var targetRect = getBoundingClientRect(target);
        var intersectionRect = targetRect;
        var parent = getParentNode(target);
        var atRoot = false;
        while (!atRoot) {
            var parentRect = null;
            var parentComputedStyle = parent.nodeType == 1 ? window.getComputedStyle(parent) : {};
            if (parentComputedStyle.display == 'none')
                return;
            if (parent == this.root || parent == document) {
                atRoot = true;
                parentRect = rootRect;
            } else {
                if (parent != document.body && parent != document.documentElement && parentComputedStyle.overflow != 'visible') {
                    parentRect = getBoundingClientRect(parent);
                }
            }
            if (parentRect) {
                intersectionRect = computeRectIntersection(parentRect, intersectionRect);
                if (!intersectionRect)
                    break;
            }
            parent = getParentNode(parent);
        }
        return intersectionRect;
    }
    ;
    IntersectionObserver.prototype._getRootRect = function() {
        var rootRect;
        if (this.root) {
            rootRect = getBoundingClientRect(this.root);
        } else {
            var html = document.documentElement;
            var body = document.body;
            rootRect = {
                top: 0,
                left: 0,
                right: html.clientWidth || body.clientWidth,
                width: html.clientWidth || body.clientWidth,
                bottom: html.clientHeight || body.clientHeight,
                height: html.clientHeight || body.clientHeight
            };
        }
        return this._expandRectByRootMargin(rootRect);
    }
    ;
    IntersectionObserver.prototype._expandRectByRootMargin = function(rect) {
        var margins = this._rootMarginValues.map(function(margin, i) {
            return margin.unit == 'px' ? margin.value : margin.value * (i % 2 ? rect.width : rect.height) / 100;
        });
        var newRect = {
            top: rect.top - margins[0],
            right: rect.right + margins[1],
            bottom: rect.bottom + margins[2],
            left: rect.left - margins[3]
        };
        newRect.width = newRect.right - newRect.left;
        newRect.height = newRect.bottom - newRect.top;
        return newRect;
    }
    ;
    IntersectionObserver.prototype._hasCrossedThreshold = function(oldEntry, newEntry) {
        var oldRatio = oldEntry && oldEntry.isIntersecting ? oldEntry.intersectionRatio || 0 : -1;
        var newRatio = newEntry.isIntersecting ? newEntry.intersectionRatio || 0 : -1;
        if (oldRatio === newRatio)
            return;
        for (var i = 0; i < this.thresholds.length; i++) {
            var threshold = this.thresholds[i];
            if (threshold == oldRatio || threshold == newRatio || threshold < oldRatio !== threshold < newRatio) {
                return true;
            }
        }
    }
    ;
    IntersectionObserver.prototype._rootIsInDom = function() {
        return !this.root || containsDeep(document, this.root);
    }
    ;
    IntersectionObserver.prototype._rootContainsTarget = function(target) {
        return containsDeep(this.root || document, target);
    }
    ;
    IntersectionObserver.prototype._registerInstance = function() {
        if (registry.indexOf(this) < 0) {
            registry.push(this);
        }
    }
    ;
    IntersectionObserver.prototype._unregisterInstance = function() {
        var index = registry.indexOf(this);
        if (index != -1)
            registry.splice(index, 1);
    }
    ;
    function now() {
        return window.performance && performance.now && performance.now();
    }
    function throttle(fn, timeout) {
        var timer = null;
        return function() {
            if (!timer) {
                timer = setTimeout(function() {
                    fn();
                    timer = null;
                }, timeout);
            }
        }
        ;
    }
    function addEvent(node, event, fn, opt_useCapture) {
        if (typeof node.addEventListener == 'function') {
            node.addEventListener(event, fn, opt_useCapture || false);
        } else if (typeof node.attachEvent == 'function') {
            node.attachEvent('on' + event, fn);
        }
    }
    function removeEvent(node, event, fn, opt_useCapture) {
        if (typeof node.removeEventListener == 'function') {
            node.removeEventListener(event, fn, opt_useCapture || false);
        } else if (typeof node.detatchEvent == 'function') {
            node.detatchEvent('on' + event, fn);
        }
    }
    function computeRectIntersection(rect1, rect2) {
        var top = Math.max(rect1.top, rect2.top);
        var bottom = Math.min(rect1.bottom, rect2.bottom);
        var left = Math.max(rect1.left, rect2.left);
        var right = Math.min(rect1.right, rect2.right);
        var width = right - left;
        var height = bottom - top;
        return (width >= 0 && height >= 0) && {
            top: top,
            bottom: bottom,
            left: left,
            right: right,
            width: width,
            height: height
        };
    }
    function getBoundingClientRect(el) {
        var rect;
        try {
            rect = el.getBoundingClientRect();
        } catch (err) {}
        if (!rect)
            return getEmptyRect();
        if (!(rect.width && rect.height)) {
            rect = {
                top: rect.top,
                right: rect.right,
                bottom: rect.bottom,
                left: rect.left,
                width: rect.right - rect.left,
                height: rect.bottom - rect.top
            };
        }
        return rect;
    }
    function getEmptyRect() {
        return {
            top: 0,
            bottom: 0,
            left: 0,
            right: 0,
            width: 0,
            height: 0
        };
    }
    function containsDeep(parent, child) {
        var node = child;
        while (node) {
            if (node == parent)
                return true;
            node = getParentNode(node);
        }
        return false;
    }
    function getParentNode(node) {
        var parent = node.parentNode;
        if (parent && parent.nodeType == 11 && parent.host) {
            return parent.host;
        }
        return parent;
    }
    window.IntersectionObserver = IntersectionObserver;
    window.IntersectionObserverEntry = IntersectionObserverEntry;
}(window, document));
/*!
 * enquire.js v2.1.2 - Awesome Media Queries in JavaScript
 * Copyright (c) 2014 Nick Williams - http://wicky.nillia.ms/enquire.js
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */

!function(a, b, c) {
    var d = window.matchMedia;
    "undefined" != typeof module && module.exports ? module.exports = c(d) : "function" == typeof define && define.amd ? define(function() {
        return b[a] = c(d)
    }) : b[a] = c(d)
}("enquire", this, function(a) {
    "use strict";
    function b(a, b) {
        var c, d = 0, e = a.length;
        for (d; e > d && (c = b(a[d], d),
        c !== !1); d++)
            ;
    }
    function c(a) {
        return "[object Array]" === Object.prototype.toString.apply(a)
    }
    function d(a) {
        return "function" == typeof a
    }
    function e(a) {
        this.options = a,
        !a.deferSetup && this.setup()
    }
    function f(b, c) {
        this.query = b,
        this.isUnconditional = c,
        this.handlers = [],
        this.mql = a(b);
        var d = this;
        this.listener = function(a) {
            d.mql = a,
            d.assess()
        }
        ,
        this.mql.addListener(this.listener)
    }
    function g() {
        if (!a)
            throw new Error("matchMedia not present, legacy browsers require a polyfill");
        this.queries = {},
        this.browserIsIncapable = !a("only all").matches
    }
    return e.prototype = {
        setup: function() {
            this.options.setup && this.options.setup(),
            this.initialised = !0
        },
        on: function() {
            !this.initialised && this.setup(),
            this.options.match && this.options.match()
        },
        off: function() {
            this.options.unmatch && this.options.unmatch()
        },
        destroy: function() {
            this.options.destroy ? this.options.destroy() : this.off()
        },
        equals: function(a) {
            return this.options === a || this.options.match === a
        }
    },
    f.prototype = {
        addHandler: function(a) {
            var b = new e(a);
            this.handlers.push(b),
            this.matches() && b.on()
        },
        removeHandler: function(a) {
            var c = this.handlers;
            b(c, function(b, d) {
                return b.equals(a) ? (b.destroy(),
                !c.splice(d, 1)) : void 0
            })
        },
        matches: function() {
            return this.mql.matches || this.isUnconditional
        },
        clear: function() {
            b(this.handlers, function(a) {
                a.destroy()
            }),
            this.mql.removeListener(this.listener),
            this.handlers.length = 0
        },
        assess: function() {
            var a = this.matches() ? "on" : "off";
            b(this.handlers, function(b) {
                b[a]()
            })
        }
    },
    g.prototype = {
        register: function(a, e, g) {
            var h = this.queries
              , i = g && this.browserIsIncapable;
            return h[a] || (h[a] = new f(a,i)),
            d(e) && (e = {
                match: e
            }),
            c(e) || (e = [e]),
            b(e, function(b) {
                d(b) && (b = {
                    match: b
                }),
                h[a].addHandler(b)
            }),
            this
        },
        unregister: function(a, b) {
            var c = this.queries[a];
            return c && (b ? c.removeHandler(b) : (c.clear(),
            delete this.queries[a])),
            this
        }
    },
    new g
});
;(function(window, document) {
    'use strict';
    var nextTick, addEvent;
    nextTick = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function(callback) {
        window.setTimeout(callback, 1000 / 60);
    }
    ;
    addEvent = (function() {
        if (document.addEventListener) {
            return function addStandardEventListener(el, eventName, fn) {
                return el.addEventListener(eventName, fn, false);
            }
            ;
        } else {
            return function addIEEventListener(el, eventName, fn) {
                return el.attachEvent('on' + eventName, fn);
            }
            ;
        }
    }
    )();
    function Imager(elements, opts) {
        var self = this
          , doc = document;
        opts = opts || {};
        this.elements = elements || '.js-responsive-image';
        this.className = opts.className || 'js-responsive-image-replaced';
        this.onResize = opts.hasOwnProperty('onResize') ? opts.onResize : true;
        this.onImagesReplaced = opts.onImagesReplaced || function() {}
        ;
        this.eles = $(elements);
        nextTick(function() {
            self.init();
        });
    }
    Imager.prototype.init = function() {
        this.checkImagesNeedReplacing(this.eles);
        if (this.onResize) {
            this.registerResizeEvent();
        }
    }
    ;
    Imager.prototype.checkImagesNeedReplacing = function(images) {
        var self = this;
        if (!this.isResizing) {
            this.isResizing = true;
            images.each(function() {
                self.replaceImagesBasedOnScreenDimensions(this);
            });
            this.isResizing = false;
            this.onImagesReplaced(images);
        }
    }
    ;
    Imager.prototype.replaceImagesBasedOnScreenDimensions = function(image) {
        var src, availableWidths = [], srcARRAY, cwidth;
        if ($(image).attr("data-media") != undefined) {
            var eMedia = $(image).attr("data-media")
            $(image).removeAttr("data-media")
            eMedia = $.parseJSON(eMedia)
            $.each(eMedia, function(key, value) {
                availableWidths.push(parseInt(key));
            });
            $(image).data("width", availableWidths);
            $(image).data("media", eMedia);
        }
        srcARRAY = $(image).data("media");
        cwidth = Imager.getClosestValue($(image).parent().width(), $.extend([], $(image).data("width")));
        if (image.src == srcARRAY[cwidth]) {
            return;
        }
        image.src = srcARRAY[cwidth];
    }
    ;
    Imager.getClosestValue = function getClosestValue(baseValue, candidates) {
        if (baseValue >= candidates[0]) {
            candidates.shift()
            if (candidates.length > 1) {
                getClosestValue(baseValue, candidates)
            }
        }
        return candidates[0];
    }
    Imager.prototype.registerResizeEvent = function() {
        var self = this;
        addEvent(window, 'resize', function() {
            self.checkImagesNeedReplacing(self.eles);
        });
    }
    ;
    if (typeof module === 'object' && typeof module.exports === 'object') {
        module.exports = exports = Imager;
    } else if (typeof define === 'function' && define.amd) {
        define(function() {
            return Imager;
        });
    } else if (typeof window === 'object') {
        window.Imager = Imager;
    }
}(window, document));
;(function() {
    "use strict";
    function setup($) {
        $.fn._fadeIn = $.fn.fadeIn;
        var noOp = $.noop || function() {}
        ;
        var msie = /MSIE/.test(navigator.userAgent);
        var ie6 = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent);
        var mode = document.documentMode || 0;
        var setExpr = $.isFunction(document.createElement('div').style.setExpression);
        $.blockUI = function(opts) {
            install(window, opts);
        }
        ;
        $.unblockUI = function(opts) {
            remove(window, opts);
        }
        ;
        $.growlUI = function(title, message, timeout, onClose) {
            var $m = $('<div class="growlUI"></div>');
            if (title)
                $m.append('<h1>' + title + '</h1>');
            if (message)
                $m.append('<h2>' + message + '</h2>');
            if (timeout === undefined)
                timeout = 3000;
            var callBlock = function(opts) {
                opts = opts || {};
                $.blockUI({
                    message: $m,
                    fadeIn: typeof opts.fadeIn !== 'undefined' ? opts.fadeIn : 700,
                    fadeOut: typeof opts.fadeOut !== 'undefined' ? opts.fadeOut : 1000,
                    timeout: typeof opts.timeout !== 'undefined' ? opts.timeout : timeout,
                    centerY: false,
                    showOverlay: false,
                    onUnblock: onClose,
                    css: $.blockUI.defaults.growlCSS
                });
            };
            callBlock();
            var nonmousedOpacity = $m.css('opacity');
            $m.mouseover(function() {
                callBlock({
                    fadeIn: 0,
                    timeout: 30000
                });
                var displayBlock = $('.blockMsg');
                displayBlock.stop();
                displayBlock.fadeTo(300, 1);
            }).mouseout(function() {
                $('.blockMsg').fadeOut(1000);
            });
        }
        ;
        $.fn.block = function(opts) {
            if (this[0] === window) {
                $.blockUI(opts);
                return this;
            }
            var fullOpts = $.extend({}, $.blockUI.defaults, opts || {});
            this.each(function() {
                var $el = $(this);
                if (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))
                    return;
                $el.unblock({
                    fadeOut: 0
                });
            });
            return this.each(function() {
                if ($.css(this, 'position') == 'static') {
                    this.style.position = 'relative';
                    $(this).data('blockUI.static', true);
                }
                this.style.zoom = 1;
                install(this, opts);
            });
        }
        ;
        $.fn.unblock = function(opts) {
            if (this[0] === window) {
                $.unblockUI(opts);
                return this;
            }
            return this.each(function() {
                remove(this, opts);
            });
        }
        ;
        $.blockUI.version = 2.66;
        $.blockUI.defaults = {
            message: '<h1>Please wait...</h1>',
            title: null,
            draggable: true,
            theme: false,
            css: {
                padding: 0,
                margin: 0,
                width: '30%',
                top: '40%',
                left: '35%',
                textAlign: 'center',
                color: '#000',
                border: '3px solid #aaa',
                backgroundColor: '#fff',
                cursor: 'wait'
            },
            themedCSS: {
                width: '30%',
                top: '40%',
                left: '35%'
            },
            overlayCSS: {
                backgroundColor: '#000',
                opacity: 0.6,
                cursor: 'wait'
            },
            cursorReset: 'default',
            growlCSS: {
                width: '350px',
                top: '10px',
                left: '',
                right: '10px',
                border: 'none',
                padding: '5px',
                opacity: 0.6,
                cursor: 'default',
                color: '#fff',
                backgroundColor: '#000',
                '-webkit-border-radius': '10px',
                '-moz-border-radius': '10px',
                'border-radius': '10px'
            },
            iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',
            forceIframe: false,
            baseZ: 1000,
            centerX: true,
            centerY: true,
            allowBodyStretch: true,
            bindEvents: true,
            constrainTabKey: true,
            fadeIn: 200,
            fadeOut: 400,
            timeout: 0,
            showOverlay: true,
            focusInput: true,
            focusableElements: ':input:enabled:visible',
            onBlock: null,
            onUnblock: null,
            onOverlayClick: null,
            quirksmodeOffsetHack: 4,
            blockMsgClass: 'blockMsg',
            ignoreIfBlocked: false
        };
        var pageBlock = null;
        var pageBlockEls = [];
        function install(el, opts) {
            var css, themedCSS;
            var full = (el == window);
            var msg = (opts && opts.message !== undefined ? opts.message : undefined);
            opts = $.extend({}, $.blockUI.defaults, opts || {});
            if (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))
                return;
            opts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});
            css = $.extend({}, $.blockUI.defaults.css, opts.css || {});
            if (opts.onOverlayClick)
                opts.overlayCSS.cursor = 'pointer';
            themedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});
            msg = msg === undefined ? opts.message : msg;
            if (full && pageBlock)
                remove(window, {
                    fadeOut: 0
                });
            if (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {
                var node = msg.jquery ? msg[0] : msg;
                var data = {};
                $(el).data('blockUI.history', data);
                data.el = node;
                data.parent = node.parentNode;
                data.display = node.style.display;
                data.position = node.style.position;
                if (data.parent)
                    data.parent.removeChild(node);
            }
            $(el).data('blockUI.onUnblock', opts.onUnblock);
            var z = opts.baseZ;
            var lyr1, lyr2, lyr3, s;
            if (msie || opts.forceIframe)
                lyr1 = $('<iframe class="blockUI" style="z-index:' + (z++) + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + opts.iframeSrc + '"></iframe>');
            else
                lyr1 = $('<div class="blockUI" style="display:none"></div>');
            if (opts.theme)
                lyr2 = $('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + (z++) + ';display:none"></div>');
            else
                lyr2 = $('<div class="blockUI blockOverlay" style="z-index:' + (z++) + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');
            if (opts.theme && full) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (z + 10) + ';display:none;position:fixed">';
                if (opts.title) {
                    s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (opts.title || '&nbsp;') + '</div>';
                }
                s += '<div class="ui-widget-content ui-dialog-content"></div>';
                s += '</div>';
            } else if (opts.theme) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (z + 10) + ';display:none;position:absolute">';
                if (opts.title) {
                    s += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (opts.title || '&nbsp;') + '</div>';
                }
                s += '<div class="ui-widget-content ui-dialog-content"></div>';
                s += '</div>';
            } else if (full) {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockPage" style="z-index:' + (z + 10) + ';display:none;position:fixed"></div>';
            } else {
                s = '<div class="blockUI ' + opts.blockMsgClass + ' blockElement" style="z-index:' + (z + 10) + ';display:none;position:absolute"></div>';
            }
            lyr3 = $(s);
            if (msg) {
                if (opts.theme) {
                    lyr3.css(themedCSS);
                    lyr3.addClass('ui-widget-content');
                } else
                    lyr3.css(css);
            }
            if (!opts.theme)
                lyr2.css(opts.overlayCSS);
            lyr2.css('position', full ? 'fixed' : 'absolute');
            if (msie || opts.forceIframe)
                lyr1.css('opacity', 0.0);
            var layers = [lyr1, lyr2, lyr3]
              , $par = full ? $('body') : $(el);
            $.each(layers, function() {
                this.appendTo($par);
            });
            if (opts.theme && opts.draggable && $.fn.draggable) {
                lyr3.draggable({
                    handle: '.ui-dialog-titlebar',
                    cancel: 'li'
                });
            }
            var expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);
            if (ie6 || expr) {
                if (full && opts.allowBodyStretch && $.support.boxModel)
                    $('html,body').css('height', '100%');
                if ((ie6 || !$.support.boxModel) && !full) {
                    var t = sz(el, 'borderTopWidth')
                      , l = sz(el, 'borderLeftWidth');
                    var fixT = t ? '(0 - ' + t + ')' : 0;
                    var fixL = l ? '(0 - ' + l + ')' : 0;
                }
                $.each(layers, function(i, o) {
                    var s = o[0].style;
                    s.position = 'absolute';
                    if (i < 2) {
                        if (full)
                            s.setExpression('height', 'Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:' + opts.quirksmodeOffsetHack + ') + "px"');
                        else
                            s.setExpression('height', 'this.parentNode.offsetHeight + "px"');
                        if (full)
                            s.setExpression('width', 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');
                        else
                            s.setExpression('width', 'this.parentNode.offsetWidth + "px"');
                        if (fixL)
                            s.setExpression('left', fixL);
                        if (fixT)
                            s.setExpression('top', fixT);
                    } else if (opts.centerY) {
                        if (full)
                            s.setExpression('top', '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');
                        s.marginTop = 0;
                    } else if (!opts.centerY && full) {
                        var top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;
                        var expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + ' + top + ') + "px"';
                        s.setExpression('top', expression);
                    }
                });
            }
            if (msg) {
                if (opts.theme)
                    lyr3.find('.ui-widget-content').append(msg);
                else
                    lyr3.append(msg);
                if (msg.jquery || msg.nodeType)
                    $(msg).show();
            }
            if ((msie || opts.forceIframe) && opts.showOverlay)
                lyr1.show();
            if (opts.fadeIn) {
                var cb = opts.onBlock ? opts.onBlock : noOp;
                var cb1 = (opts.showOverlay && !msg) ? cb : noOp;
                var cb2 = msg ? cb : noOp;
                if (opts.showOverlay)
                    lyr2._fadeIn(opts.fadeIn, cb1);
                if (msg)
                    lyr3._fadeIn(opts.fadeIn, cb2);
            } else {
                if (opts.showOverlay)
                    lyr2.show();
                if (msg)
                    lyr3.show();
                if (opts.onBlock)
                    opts.onBlock();
            }
            bind(1, el, opts);
            if (full) {
                pageBlock = lyr3[0];
                pageBlockEls = $(opts.focusableElements, pageBlock);
                if (opts.focusInput)
                    setTimeout(focus, 20);
            } else
                center(lyr3[0], opts.centerX, opts.centerY);
            if (opts.timeout) {
                var to = setTimeout(function() {
                    if (full)
                        $.unblockUI(opts);
                    else
                        $(el).unblock(opts);
                }, opts.timeout);
                $(el).data('blockUI.timeout', to);
            }
        }
        function remove(el, opts) {
            var count;
            var full = (el == window);
            var $el = $(el);
            var data = $el.data('blockUI.history');
            var to = $el.data('blockUI.timeout');
            if (to) {
                clearTimeout(to);
                $el.removeData('blockUI.timeout');
            }
            opts = $.extend({}, $.blockUI.defaults, opts || {});
            bind(0, el, opts);
            if (opts.onUnblock === null) {
                opts.onUnblock = $el.data('blockUI.onUnblock');
                $el.removeData('blockUI.onUnblock');
            }
            var els;
            if (full)
                els = $('body').children().filter('.blockUI').add('body > .blockUI');
            else
                els = $el.find('>.blockUI');
            if (opts.cursorReset) {
                if (els.length > 1)
                    els[1].style.cursor = opts.cursorReset;
                if (els.length > 2)
                    els[2].style.cursor = opts.cursorReset;
            }
            if (full)
                pageBlock = pageBlockEls = null;
            if (opts.fadeOut) {
                count = els.length;
                els.stop().fadeOut(opts.fadeOut, function() {
                    if (--count === 0)
                        reset(els, data, opts, el);
                });
            } else
                reset(els, data, opts, el);
        }
        function reset(els, data, opts, el) {
            var $el = $(el);
            if ($el.data('blockUI.isBlocked'))
                return;
            els.each(function(i, o) {
                if (this.parentNode)
                    this.parentNode.removeChild(this);
            });
            if (data && data.el) {
                data.el.style.display = data.display;
                data.el.style.position = data.position;
                if (data.parent)
                    data.parent.appendChild(data.el);
                $el.removeData('blockUI.history');
            }
            if ($el.data('blockUI.static')) {
                $el.css('position', 'static');
            }
            if (typeof opts.onUnblock == 'function')
                opts.onUnblock(el, opts);
            var body = $(document.body)
              , w = body.width()
              , cssW = body[0].style.width;
            body.width(w - 1).width(w);
            body[0].style.width = cssW;
        }
        function bind(b, el, opts) {
            var full = el == window
              , $el = $(el);
            if (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))
                return;
            $el.data('blockUI.isBlocked', b);
            if (!full || !opts.bindEvents || (b && !opts.showOverlay))
                return;
            var events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';
            if (b)
                $(document).bind(events, opts, handler);
            else
                $(document).unbind(events, handler);
        }
        function handler(e) {
            if (e.type === 'keydown' && e.keyCode && e.keyCode == 9) {
                if (pageBlock && e.data.constrainTabKey) {
                    var els = pageBlockEls;
                    var fwd = !e.shiftKey && e.target === els[els.length - 1];
                    var back = e.shiftKey && e.target === els[0];
                    if (fwd || back) {
                        setTimeout(function() {
                            focus(back);
                        }, 10);
                        return false;
                    }
                }
            }
            var opts = e.data;
            var target = $(e.target);
            if (target.hasClass('blockOverlay') && opts.onOverlayClick)
                opts.onOverlayClick(e);
            if (target.parents('div.' + opts.blockMsgClass).length > 0)
                return true;
            return target.parents().children().filter('div.blockUI').length === 0;
        }
        function focus(back) {
            if (!pageBlockEls)
                return;
            var e = pageBlockEls[back === true ? pageBlockEls.length - 1 : 0];
            if (e)
                e.focus();
        }
        function center(el, x, y) {
            var p = el.parentNode
              , s = el.style;
            var l = ((p.offsetWidth - el.offsetWidth) / 2) - sz(p, 'borderLeftWidth');
            var t = ((p.offsetHeight - el.offsetHeight) / 2) - sz(p, 'borderTopWidth');
            if (x)
                s.left = l > 0 ? (l + 'px') : '0';
            if (y)
                s.top = t > 0 ? (t + 'px') : '0';
        }
        function sz(el, p) {
            return parseInt($.css(el, p), 10) || 0;
        }
    }
    if (typeof define === 'function' && define.amd && define.amd.jQuery) {
        define(['jquery'], setup);
    } else {
        setup(jQuery);
    }
}
)();
/*!
 * jQuery Form Plugin
 * version: 3.51.0-2014.06.20
 * Requires jQuery v1.5 or later
 * Copyright (c) 2014 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
!function(e) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], e) : e("undefined" != typeof jQuery ? jQuery : window.Zepto)
}(function(e) {
    "use strict";
    function t(t) {
        var r = t.data;
        t.isDefaultPrevented() || (t.preventDefault(),
        e(t.target).ajaxSubmit(r))
    }
    function r(t) {
        var r = t.target
          , a = e(r);
        if (!a.is("[type=submit],[type=image]")) {
            var n = a.closest("[type=submit]");
            if (0 === n.length)
                return;
            r = n[0]
        }
        var i = this;
        if (i.clk = r,
        "image" == r.type)
            if (void 0 !== t.offsetX)
                i.clk_x = t.offsetX,
                i.clk_y = t.offsetY;
            else if ("function" == typeof e.fn.offset) {
                var o = a.offset();
                i.clk_x = t.pageX - o.left,
                i.clk_y = t.pageY - o.top
            } else
                i.clk_x = t.pageX - r.offsetLeft,
                i.clk_y = t.pageY - r.offsetTop;
        setTimeout(function() {
            i.clk = i.clk_x = i.clk_y = null
        }, 100)
    }
    function a() {
        if (e.fn.ajaxSubmit.debug) {
            var t = "[jquery.form] " + Array.prototype.join.call(arguments, "");
            window.console && window.console.log ? window.console.log(t) : window.opera && window.opera.postError && window.opera.postError(t)
        }
    }
    var n = {};
    n.fileapi = void 0 !== e("<input type='file'/>").get(0).files,
    n.formdata = void 0 !== window.FormData;
    var i = !!e.fn.prop;
    e.fn.attr2 = function() {
        if (!i)
            return this.attr.apply(this, arguments);
        var e = this.prop.apply(this, arguments);
        return e && e.jquery || "string" == typeof e ? e : this.attr.apply(this, arguments)
    }
    ,
    e.fn.ajaxSubmit = function(t) {
        function r(r) {
            var a, n, i = e.param(r, t.traditional).split("&"), o = i.length, s = [];
            for (a = 0; o > a; a++)
                i[a] = i[a].replace(/\+/g, " "),
                n = i[a].split("="),
                s.push([decodeURIComponent(n[0]), decodeURIComponent(n[1])]);
            return s
        }
        function o(a) {
            for (var n = new FormData, i = 0; i < a.length; i++)
                n.append(a[i].name, a[i].value);
            if (t.extraData) {
                var o = r(t.extraData);
                for (i = 0; i < o.length; i++)
                    o[i] && n.append(o[i][0], o[i][1])
            }
            t.data = null;
            var s = e.extend(!0, {}, e.ajaxSettings, t, {
                contentType: !1,
                processData: !1,
                cache: !1,
                type: u || "POST"
            });
            t.uploadProgress && (s.xhr = function() {
                var r = e.ajaxSettings.xhr();
                return r.upload && r.upload.addEventListener("progress", function(e) {
                    var r = 0
                      , a = e.loaded || e.position
                      , n = e.total;
                    e.lengthComputable && (r = Math.ceil(a / n * 100)),
                    t.uploadProgress(e, a, n, r)
                }, !1),
                r
            }
            ),
            s.data = null;
            var c = s.beforeSend;
            return s.beforeSend = function(e, r) {
                r.data = t.formData ? t.formData : n,
                c && c.call(this, e, r)
            }
            ,
            e.ajax(s)
        }
        function s(r) {
            function n(e) {
                var t = null;
                try {
                    e.contentWindow && (t = e.contentWindow.document)
                } catch (r) {
                    a("cannot get iframe.contentWindow document: " + r)
                }
                if (t)
                    return t;
                try {
                    t = e.contentDocument ? e.contentDocument : e.document
                } catch (r) {
                    a("cannot get iframe.contentDocument: " + r),
                    t = e.document
                }
                return t
            }
            function o() {
                function t() {
                    try {
                        var e = n(g).readyState;
                        a("state = " + e),
                        e && "uninitialized" == e.toLowerCase() && setTimeout(t, 50)
                    } catch (r) {
                        a("Server abort: ", r, " (", r.name, ")"),
                        s(k),
                        j && clearTimeout(j),
                        j = void 0
                    }
                }
                var r = f.attr2("target")
                  , i = f.attr2("action")
                  , o = "multipart/form-data"
                  , c = f.attr("enctype") || f.attr("encoding") || o;
                w.setAttribute("target", p),
                (!u || /post/i.test(u)) && w.setAttribute("method", "POST"),
                i != m.url && w.setAttribute("action", m.url),
                m.skipEncodingOverride || u && !/post/i.test(u) || f.attr({
                    encoding: "multipart/form-data",
                    enctype: "multipart/form-data"
                }),
                m.timeout && (j = setTimeout(function() {
                    T = !0,
                    s(D)
                }, m.timeout));
                var l = [];
                try {
                    if (m.extraData)
                        for (var d in m.extraData)
                            m.extraData.hasOwnProperty(d) && l.push(e.isPlainObject(m.extraData[d]) && m.extraData[d].hasOwnProperty("name") && m.extraData[d].hasOwnProperty("value") ? e('<input type="hidden" name="' + m.extraData[d].name + '">').val(m.extraData[d].value).appendTo(w)[0] : e('<input type="hidden" name="' + d + '">').val(m.extraData[d]).appendTo(w)[0]);
                    m.iframeTarget || v.appendTo("body"),
                    g.attachEvent ? g.attachEvent("onload", s) : g.addEventListener("load", s, !1),
                    setTimeout(t, 15);
                    try {
                        w.submit()
                    } catch (h) {
                        var x = document.createElement("form").submit;
                        x.apply(w)
                    }
                } finally {
                    w.setAttribute("action", i),
                    w.setAttribute("enctype", c),
                    r ? w.setAttribute("target", r) : f.removeAttr("target"),
                    e(l).remove()
                }
            }
            function s(t) {
                if (!x.aborted && !F) {
                    if (M = n(g),
                    M || (a("cannot access response document"),
                    t = k),
                    t === D && x)
                        return x.abort("timeout"),
                        void S.reject(x, "timeout");
                    if (t == k && x)
                        return x.abort("server abort"),
                        void S.reject(x, "error", "server abort");
                    if (M && M.location.href != m.iframeSrc || T) {
                        g.detachEvent ? g.detachEvent("onload", s) : g.removeEventListener("load", s, !1);
                        var r, i = "success";
                        try {
                            if (T)
                                throw "timeout";
                            var o = "xml" == m.dataType || M.XMLDocument || e.isXMLDoc(M);
                            if (a("isXml=" + o),
                            !o && window.opera && (null === M.body || !M.body.innerHTML) && --O)
                                return a("requeing onLoad callback, DOM not available"),
                                void setTimeout(s, 250);
                            var u = M.body ? M.body : M.documentElement;
                            x.responseText = u ? u.innerHTML : null,
                            x.responseXML = M.XMLDocument ? M.XMLDocument : M,
                            o && (m.dataType = "xml"),
                            x.getResponseHeader = function(e) {
                                var t = {
                                    "content-type": m.dataType
                                };
                                return t[e.toLowerCase()]
                            }
                            ,
                            u && (x.status = Number(u.getAttribute("status")) || x.status,
                            x.statusText = u.getAttribute("statusText") || x.statusText);
                            var c = (m.dataType || "").toLowerCase()
                              , l = /(json|script|text)/.test(c);
                            if (l || m.textarea) {
                                var f = M.getElementsByTagName("textarea")[0];
                                if (f)
                                    x.responseText = f.value,
                                    x.status = Number(f.getAttribute("status")) || x.status,
                                    x.statusText = f.getAttribute("statusText") || x.statusText;
                                else if (l) {
                                    var p = M.getElementsByTagName("pre")[0]
                                      , h = M.getElementsByTagName("body")[0];
                                    p ? x.responseText = p.textContent ? p.textContent : p.innerText : h && (x.responseText = h.textContent ? h.textContent : h.innerText)
                                }
                            } else
                                "xml" == c && !x.responseXML && x.responseText && (x.responseXML = X(x.responseText));
                            try {
                                E = _(x, c, m)
                            } catch (y) {
                                i = "parsererror",
                                x.error = r = y || i
                            }
                        } catch (y) {
                            a("error caught: ", y),
                            i = "error",
                            x.error = r = y || i
                        }
                        x.aborted && (a("upload aborted"),
                        i = null),
                        x.status && (i = x.status >= 200 && x.status < 300 || 304 === x.status ? "success" : "error"),
                        "success" === i ? (m.success && m.success.call(m.context, E, "success", x),
                        S.resolve(x.responseText, "success", x),
                        d && e.event.trigger("ajaxSuccess", [x, m])) : i && (void 0 === r && (r = x.statusText),
                        m.error && m.error.call(m.context, x, i, r),
                        S.reject(x, "error", r),
                        d && e.event.trigger("ajaxError", [x, m, r])),
                        d && e.event.trigger("ajaxComplete", [x, m]),
                        d && !--e.active && e.event.trigger("ajaxStop"),
                        m.complete && m.complete.call(m.context, x, i),
                        F = !0,
                        m.timeout && clearTimeout(j),
                        setTimeout(function() {
                            m.iframeTarget ? v.attr("src", m.iframeSrc) : v.remove(),
                            x.responseXML = null
                        }, 100)
                    }
                }
            }
            var c, l, m, d, p, v, g, x, y, b, T, j, w = f[0], S = e.Deferred();
            if (S.abort = function(e) {
                x.abort(e)
            }
            ,
            r)
                for (l = 0; l < h.length; l++)
                    c = e(h[l]),
                    i ? c.prop("disabled", !1) : c.removeAttr("disabled");
            if (m = e.extend(!0, {}, e.ajaxSettings, t),
            m.context = m.context || m,
            p = "jqFormIO" + (new Date).getTime(),
            m.iframeTarget ? (v = e(m.iframeTarget),
            b = v.attr2("name"),
            b ? p = b : v.attr2("name", p)) : (v = e('<iframe name="' + p + '" src="' + m.iframeSrc + '" />'),
            v.css({
                position: "absolute",
                top: "-1000px",
                left: "-1000px"
            })),
            g = v[0],
            x = {
                aborted: 0,
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: "n/a",
                getAllResponseHeaders: function() {},
                getResponseHeader: function() {},
                setRequestHeader: function() {},
                abort: function(t) {
                    var r = "timeout" === t ? "timeout" : "aborted";
                    a("aborting upload... " + r),
                    this.aborted = 1;
                    try {
                        g.contentWindow.document.execCommand && g.contentWindow.document.execCommand("Stop")
                    } catch (n) {}
                    v.attr("src", m.iframeSrc),
                    x.error = r,
                    m.error && m.error.call(m.context, x, r, t),
                    d && e.event.trigger("ajaxError", [x, m, r]),
                    m.complete && m.complete.call(m.context, x, r)
                }
            },
            d = m.global,
            d && 0 === e.active++ && e.event.trigger("ajaxStart"),
            d && e.event.trigger("ajaxSend", [x, m]),
            m.beforeSend && m.beforeSend.call(m.context, x, m) === !1)
                return m.global && e.active--,
                S.reject(),
                S;
            if (x.aborted)
                return S.reject(),
                S;
            y = w.clk,
            y && (b = y.name,
            b && !y.disabled && (m.extraData = m.extraData || {},
            m.extraData[b] = y.value,
            "image" == y.type && (m.extraData[b + ".x"] = w.clk_x,
            m.extraData[b + ".y"] = w.clk_y)));
            var D = 1
              , k = 2
              , A = e("meta[name=csrf-token]").attr("content")
              , L = e("meta[name=csrf-param]").attr("content");
            L && A && (m.extraData = m.extraData || {},
            m.extraData[L] = A),
            m.forceSync ? o() : setTimeout(o, 10);
            var E, M, F, O = 50, X = e.parseXML || function(e, t) {
                return window.ActiveXObject ? (t = new ActiveXObject("Microsoft.XMLDOM"),
                t.async = "false",
                t.loadXML(e)) : t = (new DOMParser).parseFromString(e, "text/xml"),
                t && t.documentElement && "parsererror" != t.documentElement.nodeName ? t : null
            }
            , C = e.parseJSON || function(e) {
                return window.eval("(" + e + ")")
            }
            , _ = function(t, r, a) {
                var n = t.getResponseHeader("content-type") || ""
                  , i = "xml" === r || !r && n.indexOf("xml") >= 0
                  , o = i ? t.responseXML : t.responseText;
                return i && "parsererror" === o.documentElement.nodeName && e.error && e.error("parsererror"),
                a && a.dataFilter && (o = a.dataFilter(o, r)),
                "string" == typeof o && ("json" === r || !r && n.indexOf("json") >= 0 ? o = C(o) : ("script" === r || !r && n.indexOf("javascript") >= 0) && e.globalEval(o)),
                o
            };
            return S
        }
        if (!this.length)
            return a("ajaxSubmit: skipping submit process - no element selected"),
            this;
        var u, c, l, f = this;
        "function" == typeof t ? t = {
            success: t
        } : void 0 === t && (t = {}),
        u = t.type || this.attr2("method"),
        c = t.url || this.attr2("action"),
        l = "string" == typeof c ? e.trim(c) : "",
        l = l || window.location.href || "",
        l && (l = (l.match(/^([^#]+)/) || [])[1]),
        t = e.extend(!0, {
            url: l,
            success: e.ajaxSettings.success,
            type: u || e.ajaxSettings.type,
            iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank"
        }, t);
        var m = {};
        if (this.trigger("form-pre-serialize", [this, t, m]),
        m.veto)
            return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
            this;
        if (t.beforeSerialize && t.beforeSerialize(this, t) === !1)
            return a("ajaxSubmit: submit aborted via beforeSerialize callback"),
            this;
        var d = t.traditional;
        void 0 === d && (d = e.ajaxSettings.traditional);
        var p, h = [], v = this.formToArray(t.semantic, h);
        if (t.data && (t.extraData = t.data,
        p = e.param(t.data, d)),
        t.beforeSubmit && t.beforeSubmit(v, this, t) === !1)
            return a("ajaxSubmit: submit aborted via beforeSubmit callback"),
            this;
        if (this.trigger("form-submit-validate", [v, this, t, m]),
        m.veto)
            return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
            this;
        var g = e.param(v, d);
        p && (g = g ? g + "&" + p : p),
        "GET" == t.type.toUpperCase() ? (t.url += (t.url.indexOf("?") >= 0 ? "&" : "?") + g,
        t.data = null) : t.data = g;
        var x = [];
        if (t.resetForm && x.push(function() {
            f.resetForm()
        }),
        t.clearForm && x.push(function() {
            f.clearForm(t.includeHidden)
        }),
        !t.dataType && t.target) {
            var y = t.success || function() {}
            ;
            x.push(function(r) {
                var a = t.replaceTarget ? "replaceWith" : "html";
                e(t.target)[a](r).each(y, arguments)
            })
        } else
            t.success && x.push(t.success);
        if (t.success = function(e, r, a) {
            for (var n = t.context || this, i = 0, o = x.length; o > i; i++)
                x[i].apply(n, [e, r, a || f, f])
        }
        ,
        t.error) {
            var b = t.error;
            t.error = function(e, r, a) {
                var n = t.context || this;
                b.apply(n, [e, r, a, f])
            }
        }
        if (t.complete) {
            var T = t.complete;
            t.complete = function(e, r) {
                var a = t.context || this;
                T.apply(a, [e, r, f])
            }
        }
        var j = e("input[type=file]:enabled", this).filter(function() {
            return "" !== e(this).val()
        })
          , w = j.length > 0
          , S = "multipart/form-data"
          , D = f.attr("enctype") == S || f.attr("encoding") == S
          , k = n.fileapi && n.formdata;
        a("fileAPI :" + k);
        var A, L = (w || D) && !k;
        t.iframe !== !1 && (t.iframe || L) ? t.closeKeepAlive ? e.get(t.closeKeepAlive, function() {
            A = s(v)
        }) : A = s(v) : A = (w || D) && k ? o(v) : e.ajax(t),
        f.removeData("jqxhr").data("jqxhr", A);
        for (var E = 0; E < h.length; E++)
            h[E] = null;
        return this.trigger("form-submit-notify", [this, t]),
        this
    }
    ,
    e.fn.ajaxForm = function(n) {
        if (n = n || {},
        n.delegation = n.delegation && e.isFunction(e.fn.on),
        !n.delegation && 0 === this.length) {
            var i = {
                s: this.selector,
                c: this.context
            };
            return !e.isReady && i.s ? (a("DOM not ready, queuing ajaxForm"),
            e(function() {
                e(i.s, i.c).ajaxForm(n)
            }),
            this) : (a("terminating; zero elements found by selector" + (e.isReady ? "" : " (DOM not ready)")),
            this)
        }
        return n.delegation ? (e(document).off("submit.form-plugin", this.selector, t).off("click.form-plugin", this.selector, r).on("submit.form-plugin", this.selector, n, t).on("click.form-plugin", this.selector, n, r),
        this) : this.ajaxFormUnbind().bind("submit.form-plugin", n, t).bind("click.form-plugin", n, r)
    }
    ,
    e.fn.ajaxFormUnbind = function() {
        return this.unbind("submit.form-plugin click.form-plugin")
    }
    ,
    e.fn.formToArray = function(t, r) {
        var a = [];
        if (0 === this.length)
            return a;
        var i, o = this[0], s = this.attr("id"), u = t ? o.getElementsByTagName("*") : o.elements;
        if (u && !/MSIE [678]/.test(navigator.userAgent) && (u = e(u).get()),
        s && (i = e(':input[form="' + s + '"]').get(),
        i.length && (u = (u || []).concat(i))),
        !u || !u.length)
            return a;
        var c, l, f, m, d, p, h;
        for (c = 0,
        p = u.length; p > c; c++)
            if (d = u[c],
            f = d.name,
            f && !d.disabled)
                if (t && o.clk && "image" == d.type)
                    o.clk == d && (a.push({
                        name: f,
                        value: e(d).val(),
                        type: d.type
                    }),
                    a.push({
                        name: f + ".x",
                        value: o.clk_x
                    }, {
                        name: f + ".y",
                        value: o.clk_y
                    }));
                else if (m = e.fieldValue(d, !0),
                m && m.constructor == Array)
                    for (r && r.push(d),
                    l = 0,
                    h = m.length; h > l; l++)
                        a.push({
                            name: f,
                            value: m[l]
                        });
                else if (n.fileapi && "file" == d.type) {
                    r && r.push(d);
                    var v = d.files;
                    if (v.length)
                        for (l = 0; l < v.length; l++)
                            a.push({
                                name: f,
                                value: v[l],
                                type: d.type
                            });
                    else
                        a.push({
                            name: f,
                            value: "",
                            type: d.type
                        })
                } else
                    null !== m && "undefined" != typeof m && (r && r.push(d),
                    a.push({
                        name: f,
                        value: m,
                        type: d.type,
                        required: d.required
                    }));
        if (!t && o.clk) {
            var g = e(o.clk)
              , x = g[0];
            f = x.name,
            f && !x.disabled && "image" == x.type && (a.push({
                name: f,
                value: g.val()
            }),
            a.push({
                name: f + ".x",
                value: o.clk_x
            }, {
                name: f + ".y",
                value: o.clk_y
            }))
        }
        return a
    }
    ,
    e.fn.formSerialize = function(t) {
        return e.param(this.formToArray(t))
    }
    ,
    e.fn.fieldSerialize = function(t) {
        var r = [];
        return this.each(function() {
            var a = this.name;
            if (a) {
                var n = e.fieldValue(this, t);
                if (n && n.constructor == Array)
                    for (var i = 0, o = n.length; o > i; i++)
                        r.push({
                            name: a,
                            value: n[i]
                        });
                else
                    null !== n && "undefined" != typeof n && r.push({
                        name: this.name,
                        value: n
                    })
            }
        }),
        e.param(r)
    }
    ,
    e.fn.fieldValue = function(t) {
        for (var r = [], a = 0, n = this.length; n > a; a++) {
            var i = this[a]
              , o = e.fieldValue(i, t);
            null === o || "undefined" == typeof o || o.constructor == Array && !o.length || (o.constructor == Array ? e.merge(r, o) : r.push(o))
        }
        return r
    }
    ,
    e.fieldValue = function(t, r) {
        var a = t.name
          , n = t.type
          , i = t.tagName.toLowerCase();
        if (void 0 === r && (r = !0),
        r && (!a || t.disabled || "reset" == n || "button" == n || ("checkbox" == n || "radio" == n) && !t.checked || ("submit" == n || "image" == n) && t.form && t.form.clk != t || "select" == i && -1 == t.selectedIndex))
            return null;
        if ("select" == i) {
            var o = t.selectedIndex;
            if (0 > o)
                return null;
            for (var s = [], u = t.options, c = "select-one" == n, l = c ? o + 1 : u.length, f = c ? o : 0; l > f; f++) {
                var m = u[f];
                if (m.selected) {
                    var d = m.value;
                    if (d || (d = m.attributes && m.attributes.value && !m.attributes.value.specified ? m.text : m.value),
                    c)
                        return d;
                    s.push(d)
                }
            }
            return s
        }
        return e(t).val()
    }
    ,
    e.fn.clearForm = function(t) {
        return this.each(function() {
            e("input,select,textarea", this).clearFields(t)
        })
    }
    ,
    e.fn.clearFields = e.fn.clearInputs = function(t) {
        var r = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
        return this.each(function() {
            var a = this.type
              , n = this.tagName.toLowerCase();
            r.test(a) || "textarea" == n ? this.value = "" : "checkbox" == a || "radio" == a ? this.checked = !1 : "select" == n ? this.selectedIndex = -1 : "file" == a ? /MSIE/.test(navigator.userAgent) ? e(this).replaceWith(e(this).clone(!0)) : e(this).val("") : t && (t === !0 && /hidden/.test(a) || "string" == typeof t && e(this).is(t)) && (this.value = "")
        })
    }
    ,
    e.fn.resetForm = function() {
        return this.each(function() {
            ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset()
        })
    }
    ,
    e.fn.enable = function(e) {
        return void 0 === e && (e = !0),
        this.each(function() {
            this.disabled = !e
        })
    }
    ,
    e.fn.selected = function(t) {
        return void 0 === t && (t = !0),
        this.each(function() {
            var r = this.type;
            if ("checkbox" == r || "radio" == r)
                this.checked = t;
            else if ("option" == this.tagName.toLowerCase()) {
                var a = e(this).parent("select");
                t && a[0] && "select-one" == a[0].type && a.find("option").selected(!1),
                this.selected = t
            }
        })
    }
    ,
    e.fn.ajaxSubmit.debug = !1
});

(function($) {
    $.fn.hoverIntent = function(handlerIn, handlerOut, selector) {
        var cfg = {
            interval: 100,
            sensitivity: 6,
            timeout: 0
        };
        if (typeof handlerIn === "object") {
            cfg = $.extend(cfg, handlerIn);
        } else if ($.isFunction(handlerOut)) {
            cfg = $.extend(cfg, {
                over: handlerIn,
                out: handlerOut,
                selector: selector
            });
        } else {
            cfg = $.extend(cfg, {
                over: handlerIn,
                out: handlerIn,
                selector: handlerOut
            });
        }
        var cX, cY, pX, pY;
        var track = function(ev) {
            cX = ev.pageX;
            cY = ev.pageY;
        };
        var compare = function(ev, ob) {
            ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
            if (Math.sqrt((pX - cX) * (pX - cX) + (pY - cY) * (pY - cY)) < cfg.sensitivity) {
                $(ob).off("mousemove.hoverIntent", track);
                ob.hoverIntent_s = true;
                return cfg.over.apply(ob, [ev]);
            } else {
                pX = cX;
                pY = cY;
                ob.hoverIntent_t = setTimeout(function() {
                    compare(ev, ob);
                }, cfg.interval);
            }
        };
        var delay = function(ev, ob) {
            ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
            ob.hoverIntent_s = false;
            return cfg.out.apply(ob, [ev]);
        };
        var handleHover = function(e) {
            var ev = $.extend({}, e);
            var ob = this;
            if (ob.hoverIntent_t) {
                ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
            }
            if (e.type === "mouseenter") {
                pX = ev.pageX;
                pY = ev.pageY;
                $(ob).on("mousemove.hoverIntent", track);
                if (!ob.hoverIntent_s) {
                    ob.hoverIntent_t = setTimeout(function() {
                        compare(ev, ob);
                    }, cfg.interval);
                }
            } else {
                $(ob).off("mousemove.hoverIntent", track);
                if (ob.hoverIntent_s) {
                    ob.hoverIntent_t = setTimeout(function() {
                        delay(ev, ob);
                    }, cfg.timeout);
                }
            }
        };
        return this.on({
            'mouseenter.hoverIntent': handleHover,
            'mouseleave.hoverIntent': handleHover
        }, cfg.selector);
    }
    ;
}
)(jQuery);

(function($) {
    $.extend($.fn, {
        pstrength: function(options) {
            var options = $.extend({
                verdicts: ["Too Short!", "Very Weak", "Weak", "Medium", "Strong", "Very Strong"],
                colors: ["#ccc", "#f00", "#c06", "#f60", "#3c0", "#3f0"],
                values: [20, 30, 40, 60, 80, 100],
                scores: [10, 15, 30, 40],
                minchar: 7,
                minCharText: "Minimum length is %d characters"
            }, options);
            return this.each(function() {
                var infoarea = $(this).attr('id');
                $(this).after('<div id="' + infoarea + '_bar" class="progress" style="display: none;"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"><span  id="' + infoarea + '_text">0%<span></div></div>');
                options.$ctlBar = $("#" + infoarea + "_bar .progress-bar");
                options.$ctlText = $("#" + infoarea + "_text");
                $(this).keyup(function() {
                    if (options.minchar <= $(this).val().length && $("#" + infoarea + '_bar:hidden')) {
                        $("#" + infoarea + '_bar').show()
                    }
                    $.fn.runPassword($(this).val(), infoarea, options);
                });
            });
        },
        runPassword: function(password, infoarea, options) {
            nPerc = $.fn.checkPassword(password, options);
            var statusNum;
            if (nPerc < 0) {
                statusNum = 0
            } else if (nPerc <= options.scores[0]) {
                statusNum = 1
            } else if (nPerc > options.scores[0] && nPerc <= options.scores[1]) {
                statusNum = 2
            } else if (nPerc > options.scores[1] && nPerc <= options.scores[2]) {
                statusNum = 3
            } else if (nPerc > options.scores[2] && nPerc <= options.scores[3]) {
                statusNum = 4
            } else {
                statusNum = 5
            }
            options.$ctlBar.css({
                width: options.values[statusNum] + "%"
            });
            options.$ctlBar.attr("aria-valuenow", options.values[statusNum]);
            options.$ctlBar.css({
                backgroundColor: options.colors[statusNum]
            });
            options.$ctlText.html(options.verdicts[statusNum]);
        },
        checkPassword: function(password, options) {
            var intScore = 0;
            var strVerdict = options.verdicts[0];
            if (password.length < options.minchar) {
                intScore = (intScore - 100)
            } else if (password.length > options.minchar + 1 && password.length < options.minchar + 3) {
                intScore = (intScore + 6)
            } else if (password.length > options.minchar + 2 && password.length < options.minchar + 4) {
                intScore = (intScore + 12)
            } else if (password.length > options.minchar * 2) {
                intScore = (intScore + 18)
            }
            if (password.match(/[a-z]/)) {
                intScore = (intScore + 1)
            }
            if (password.match(/[A-Z]/)) {
                intScore = (intScore + 5)
            }
            if (password.match(/\d+/)) {
                intScore = (intScore + 5)
            }
            if (password.match(/(.*[0-9].*[0-9].*[0-9])/)) {
                intScore = (intScore + 5)
            }
            if (password.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)) {
                intScore = (intScore + 5)
            }
            if (password.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)) {
                intScore = (intScore + 5)
            }
            if (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)) {
                intScore = (intScore + 2)
            }
            if (password.match(/([a-zA-Z])/) && password.match(/([0-9])/)) {
                intScore = (intScore + 2)
            }
            if (password.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)) {
                intScore = (intScore + 2)
            }
            return intScore;
        }
    });
}
)(jQuery);

(function($) {
    var getHeightProperty = function() {
        var browser_id = 0;
        var property = [['min-height', '0px'], ['height', '1%']];
        var bMatch = /(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase()) || []
          , browser = bMatch[1] || ""
          , browserVersion = bMatch[2] || "0";
        if (browser === 'msie' && browserVersion < 7) {
            browser_id = 1;
        }
        return {
            'name': property[browser_id][0],
            'autoheightVal': property[browser_id][1]
        };
    };
    $.getSyncedHeight = function(selector) {
        var max = 0;
        var heightProperty = getHeightProperty();
        $(selector).each(function() {
            $(this).css(heightProperty.name, heightProperty.autoheightVal);
            var val = parseInt($(this).css('height'), 10);
            if (val > max) {
                max = val;
            }
        });
        return max;
    }
    ;
    $.fn.syncHeight = function(config) {
        var defaults = {
            updateOnResize: false,
            height: false
        };
        var options = $.extend(defaults, config);
        var e = this;
        var max = 0;
        var heightPropertyName = getHeightProperty().name;
        if (options.parent == true) {
            $(this).each(function() {
                $(this).css(heightPropertyName, 0 + 'px');
            });
            $(this).each(function() {
                $(this).css(heightPropertyName, $(this).parent().innerHeight() + 'px');
            });
        } else {
            if (typeof (options.height) === "number") {
                max = options.height;
            } else {
                max = $.getSyncedHeight(this);
            }
            $(this).each(function() {
                $(this).css(heightPropertyName, max + 'px');
            });
        }
        if (options.updateOnResize === true) {
            $(window).bind('resize.syncHeight', function() {
                options["updateOnResize"] = false;
                $(e).syncHeight(options);
            });
        }
        return this;
    }
    ;
    $.fn.unSyncHeight = function() {
        $(window).unbind('resize.syncHeight');
        var heightPropertyName = getHeightProperty().name;
        $(this).each(function() {
            $(this).css(heightPropertyName, '');
        });
    }
    ;
}
)(jQuery);

(function($) {
    var debugMode = false;
    $.fn.extend({
        getUniqueId: function(p, q, r) {
            if (r === undefined) {
                r = '';
            } else {
                r = '-' + r;
            }
            return p + q + r;
        },
        accessibleTabs: function(config) {
            var defaults = {
                wrapperClass: 'content',
                currentClass: 'current',
                tabhead: 'h4',
                tabheadClass: 'tabhead',
                tabbody: '.tabbody',
                fx: 'show',
                fxspeed: 'normal',
                currentInfoText: 'current tab: ',
                currentInfoPosition: 'prepend',
                currentInfoClass: 'current-info',
                tabsListClass: 'tabs-list',
                syncheights: false,
                syncHeightMethodName: 'syncHeight',
                cssClassAvailable: false,
                saveState: false,
                autoAnchor: false,
                pagination: false,
                position: 'top',
                wrapInnerNavLinks: '',
                firstNavItemClass: 'first',
                lastNavItemClass: 'last',
                clearfixClass: 'clearfix'
            };
            var keyCodes = {
                37: -1,
                38: -1,
                39: +1,
                40: +1
            };
            var positions = {
                top: 'prepend',
                bottom: 'append'
            };
            this.options = $.extend(defaults, config);
            var tabsCount = 0;
            if ($("body").data('accessibleTabsCount') !== undefined) {
                tabsCount = $("body").data('accessibleTabsCount');
            }
            $("body").data('accessibleTabsCount', this.size() + tabsCount);
            var o = this;
            return this.each(function(t) {
                var el = $(this);
                var list = '';
                var tabCount = 0;
                var ids = [];
                $(el).wrapInner('<div class="' + o.options.wrapperClass + '"></div>');
                debug($(el).find(o.options.tabhead).children("a"))
                $(el).find(o.options.tabhead).each(function(i) {
                    debug($(this))
                    var id = '';
                    var elId = $(this).attr('id');
                    if (elId) {
                        if (elId.indexOf('accessibletabscontent') === 0) {
                            return;
                        }
                        id = ' id="' + elId + '"';
                    }
                    var tabId = o.getUniqueId('accessibletabscontent', tabsCount + t, i);
                    var navItemId = o.getUniqueId('accessibletabsnavigation', tabsCount + t, i);
                    ids.push(tabId);
                    var navItemText = ($(this).children("a").length > 0) ? $(this).children("a").html() : $(this).html();
                    var ariaLabel = "";
                    if ($(this).attr("aria-label")) {
                        ariaLabel = 'aria-label="' + $(this).attr("aria-label") + '"'
                    }
                    if (o.options.cssClassAvailable === true) {
                        var cssClass = '';
                        if ($(this).attr('class')) {
                            cssClass = $(this).attr('class');
                            cssClass = ' class="' + cssClass + '"';
                        }
                        list += '<li id="' + navItemId + '"><a' + id + '' + cssClass + ' href="#' + tabId + '" ' + ariaLabel + '>' + navItemText + '</a></li>';
                    } else {
                        list += '<li id="' + navItemId + '"><a' + id + ' href="#' + tabId + '" ' + ariaLabel + '>' + navItemText + '</a></li>';
                    }
                    $(this).attr({
                        "id": tabId,
                        "class": o.options.tabheadClass,
                        "tabindex": "-1"
                    });
                    tabCount++;
                });
                if (o.options.syncheights && $.fn[o.options.syncHeightMethodName]) {
                    $(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();
                    $(window).resize(function() {
                        $(el).find(o.options.tabbody)[o.options.syncHeightMethodName]();
                    });
                }
                var tabs_selector = '.' + o.options.tabsListClass;
                if (!$(el).find(tabs_selector).length) {
                    $(el)[positions[o.options.position]]('<ul class="' + o.options.clearfixClass + ' ' + o.options.tabsListClass + ' tabamount' + tabCount + '"></ul>');
                }
                $(el).find(tabs_selector).append(list);
                var content = $(el).find(o.options.tabbody);
                if (content.length > 0) {
                    $(content).hide();
                    $(content[0]).show();
                }
                $(el).find("ul." + o.options.tabsListClass + ">li:first").addClass(o.options.currentClass).addClass(o.options.firstNavItemClass).find('a')[o.options.currentInfoPosition]('<span class="' + o.options.currentInfoClass + '">' + o.options.currentInfoText + '</span>').parents("ul." + o.options.tabsListClass).children('li:last').addClass(o.options.lastNavItemClass);
                var tabheads = $(el).find(o.options.tabhead);
                if (tabheads.length > 0) {
                    $(tabheads[0]).addClass(o.options.currentClass).addClass(o.options.firstNavItemClass);
                    $(tabheads[tabheads.length - 1]).addClass(o.options.lastNavItemClass);
                }
                if (o.options.wrapInnerNavLinks) {
                    $(el).find('ul.' + o.options.tabsListClass + '>li>a').wrapInner(o.options.wrapInnerNavLinks);
                }
                $(el).find('ul.' + o.options.tabsListClass + '>li>a').each(function(i) {
                    $(this).click(function(event) {
                        event.preventDefault();
                        el.trigger("showTab.accessibleTabs", [$(event.target)]);
                        if (o.options.saveState && $.cookie) {
                            $.cookie('accessibletab_' + el.attr('id') + '_active', i);
                        }
                        $(el).find('ul.' + o.options.tabsListClass + '>li.' + o.options.currentClass).removeClass(o.options.currentClass).find("span." + o.options.currentInfoClass).remove();
                        $(el).find(o.options.tabhead).removeClass(o.options.currentClass);
                        $(this).blur();
                        $(el).find(o.options.tabbody + ':visible').hide();
                        $(el).find(o.options.tabbody).eq(i)[o.options.fx](o.options.fxspeed);
                        $(this)[o.options.currentInfoPosition]('<span class="' + o.options.currentInfoClass + '">' + o.options.currentInfoText + '</span>').parent().addClass(o.options.currentClass);
                        $($(this).attr("href")).addClass(o.options.currentClass);
                        $($(this).attr("href")).focus().keyup(function(event) {
                            if (keyCodes[event.keyCode]) {
                                o.showAccessibleTab(i + keyCodes[event.keyCode]);
                                $(this).unbind("keyup");
                            }
                        });
                    });
                    $(this).focus(function() {
                        $(document).keyup(function(event) {
                            if (keyCodes[event.keyCode]) {
                                o.showAccessibleTab(i + keyCodes[event.keyCode]);
                            }
                        });
                    });
                    $(this).blur(function() {
                        $(document).unbind("keyup");
                    });
                });
                if (o.options.saveState && $.cookie) {
                    var savedState = $.cookie('accessibletab_' + el.attr('id') + '_active');
                    debug($.cookie('accessibletab_' + el.attr('id') + '_active'));
                    if (savedState !== null) {
                        o.showAccessibleTab(savedState, el.attr('id'));
                    }
                }
                if (o.options.autoAnchor && window.location.hash) {
                    var anchorTab = $('.' + o.options.tabsListClass).find(window.location.hash);
                    if (anchorTab.size()) {
                        anchorTab.click();
                    }
                }
                if (o.options.pagination) {
                    var m = '<ul class="pagination">';
                    m += '    <li class="previous"><a href="#{previousAnchor}"><span>{previousHeadline}</span></a></li>';
                    m += '    <li class="next"><a href="#{nextAnchor}"><span>{nextHeadline}</span></a></li>';
                    m += '</ul>';
                    var tabs = $(el).find('.tabbody');
                    var tabcount = tabs.size();
                    tabs.each(function(idx) {
                        $(this).append(m);
                        var next = idx + 1;
                        if (next >= tabcount) {
                            next = 0;
                        }
                        var previous = idx - 1;
                        if (previous < 0) {
                            previous = tabcount - 1;
                        }
                        var p = $(this).find('.pagination');
                        var previousEl = p.find('.previous');
                        previousEl.find('span').text($('#' + ids[previous]).text());
                        previousEl.find('a').attr('href', '#' + ids[previous]).click(function(event) {
                            event.preventDefault();
                            $(el).find('.tabs-list a').eq(previous).click();
                        });
                        var nextEl = p.find('.next');
                        nextEl.find('span').text($('#' + ids[next]).text());
                        nextEl.find('a').attr('href', '#' + ids[next]).click(function(event) {
                            event.preventDefault();
                            $(el).find('.tabs-list a').eq(next).click();
                        });
                    });
                }
            });
        },
        showAccessibleTab: function(index, id) {
            debug('showAccessibleTab');
            var o = this;
            if (id) {
                var el = $('#' + id);
                var links = el.find('ul.' + o.options.tabsListClass + '>li>a');
                el.trigger("showTab.accessibleTabs", [links.eq(index)]);
                links.eq(index).click();
            } else {
                return this.each(function() {
                    var el = $(this);
                    el.trigger("showTab.accessibleTabs");
                    var links = el.find('ul.' + o.options.tabsListClass + '>li>a');
                    el.trigger("showTab.accessibleTabs", [links.eq(index)]);
                    links.eq(index).click();
                });
            }
        },
        showAccessibleTabSelector: function(selector) {
            debug('showAccessibleTabSelector');
            var el = $(selector);
            if (el) {
                if (el.get(0).nodeName.toLowerCase() === 'a') {
                    el.click();
                } else {
                    debug('the selector of a showAccessibleTabSelector() call needs to point to a tabs headline!');
                }
            }
        }
    });
    function debug(msg, info) {
        if (debugMode && window.console && window.console.log) {
            if (info) {
                window.console.log(info + ': ', msg);
            } else {
                window.console.log(msg);
            }
        }
    }
}
)(jQuery);
/*! jQuery UI - v1.11.2 - 2015-01-04
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
}
)(function(e) {
    function t(t, s) {
        var n, a, o, r = t.nodeName.toLowerCase();
        return "area" === r ? (n = t.parentNode,
        a = n.name,
        t.href && a && "map" === n.nodeName.toLowerCase() ? (o = e("img[usemap='#" + a + "']")[0],
        !!o && i(o)) : !1) : (/input|select|textarea|button|object/.test(r) ? !t.disabled : "a" === r ? t.href || s : s) && i(t)
    }
    function i(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    function s(e) {
        for (var t, i; e.length && e[0] !== document; ) {
            if (t = e.css("position"),
            ("absolute" === t || "relative" === t || "fixed" === t) && (i = parseInt(e.css("zIndex"), 10),
            !isNaN(i) && 0 !== i))
                return i;
            e = e.parent()
        }
        return 0
    }
    function n() {
        this._curInst = null,
        this._keyEvent = !1,
        this._disabledInputs = [],
        this._datepickerShowing = !1,
        this._inDialog = !1,
        this._mainDivId = "ui-datepicker-div",
        this._inlineClass = "ui-datepicker-inline",
        this._appendClass = "ui-datepicker-append",
        this._triggerClass = "ui-datepicker-trigger",
        this._dialogClass = "ui-datepicker-dialog",
        this._disableClass = "ui-datepicker-disabled",
        this._unselectableClass = "ui-datepicker-unselectable",
        this._currentClass = "ui-datepicker-current-day",
        this._dayOverClass = "ui-datepicker-days-cell-over",
        this.regional = [],
        this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        },
        this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        },
        e.extend(this._defaults, this.regional[""]),
        this.regional.en = e.extend(!0, {}, this.regional[""]),
        this.regional["en-US"] = e.extend(!0, {}, this.regional.en),
        this.dpDiv = a(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }
    function a(t) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return t.delegate(i, "mouseout", function() {
            e(this).removeClass("ui-state-hover"),
            -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"),
            -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", o)
    }
    function o() {
        e.datepicker._isDisabledDatepicker(v.inline ? v.dpDiv.parent()[0] : v.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
        e(this).addClass("ui-state-hover"),
        -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"),
        -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
    }
    function r(t, i) {
        e.extend(t, i);
        for (var s in i)
            null == i[s] && (t[s] = i[s]);
        return t
    }
    function h(e) {
        return function() {
            var t = this.element.val();
            e.apply(this, arguments),
            this._refresh(),
            t !== this.element.val() && this._trigger("change")
        }
    }
    e.ui = e.ui || {},
    e.extend(e.ui, {
        version: "1.11.2",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }),
    e.fn.extend({
        scrollParent: function(t) {
            var i = this.css("position")
              , s = "absolute" === i
              , n = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/
              , a = this.parents().filter(function() {
                var t = e(this);
                return s && "static" === t.css("position") ? !1 : n.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
            }).eq(0);
            return "fixed" !== i && a.length ? a : e(this[0].ownerDocument || document)
        },
        uniqueId: function() {
            var e = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++e)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id")
            })
        }
    }),
    e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(i) {
                return !!e.data(i, t)
            }
        }) : function(t, i, s) {
            return !!e.data(t, s[3])
        }
        ,
        focusable: function(i) {
            return t(i, !isNaN(e.attr(i, "tabindex")))
        },
        tabbable: function(i) {
            var s = e.attr(i, "tabindex")
              , n = isNaN(s);
            return (n || s >= 0) && t(i, !n)
        }
    }),
    e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(t, i) {
        function s(t, i, s, a) {
            return e.each(n, function() {
                i -= parseFloat(e.css(t, "padding" + this)) || 0,
                s && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
                a && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
            }),
            i
        }
        var n = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"]
          , a = i.toLowerCase()
          , o = {
            innerWidth: e.fn.innerWidth,
            innerHeight: e.fn.innerHeight,
            outerWidth: e.fn.outerWidth,
            outerHeight: e.fn.outerHeight
        };
        e.fn["inner" + i] = function(t) {
            return void 0 === t ? o["inner" + i].call(this) : this.each(function() {
                e(this).css(a, s(this, t) + "px")
            })
        }
        ,
        e.fn["outer" + i] = function(t, n) {
            return "number" != typeof t ? o["outer" + i].call(this, t) : this.each(function() {
                e(this).css(a, s(this, t, !0, n) + "px")
            })
        }
    }),
    e.fn.addBack || (e.fn.addBack = function(e) {
        return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }
    ),
    e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(i) {
            return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
        }
    }(e.fn.removeData)),
    e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
    e.fn.extend({
        focus: function(t) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var t = this;
                    setTimeout(function() {
                        e(t).focus(),
                        s && s.call(t)
                    }, i)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),
        disableSelection: function() {
            var e = "onselectstart"in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(e + ".ui-disableSelection", function(e) {
                    e.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(t) {
            if (void 0 !== t)
                return this.css("zIndex", t);
            if (this.length)
                for (var i, s, n = e(this[0]); n.length && n[0] !== document; ) {
                    if (i = n.css("position"),
                    ("absolute" === i || "relative" === i || "fixed" === i) && (s = parseInt(n.css("zIndex"), 10),
                    !isNaN(s) && 0 !== s))
                        return s;
                    n = n.parent()
                }
            return 0
        }
    }),
    e.ui.plugin = {
        add: function(t, i, s) {
            var n, a = e.ui[t].prototype;
            for (n in s)
                a.plugins[n] = a.plugins[n] || [],
                a.plugins[n].push([i, s[n]])
        },
        call: function(e, t, i, s) {
            var n, a = e.plugins[t];
            if (a && (s || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType))
                for (n = 0; a.length > n; n++)
                    e.options[a[n][0]] && a[n][1].apply(e.element, i)
        }
    };
    var l = 0
      , u = Array.prototype.slice;
    e.cleanData = function(t) {
        return function(i) {
            var s, n, a;
            for (a = 0; null != (n = i[a]); a++)
                try {
                    s = e._data(n, "events"),
                    s && s.remove && e(n).triggerHandler("remove")
                } catch (o) {}
            t(i)
        }
    }(e.cleanData),
    e.widget = function(t, i, s) {
        var n, a, o, r, h = {}, l = t.split(".")[0];
        return t = t.split(".")[1],
        n = l + "-" + t,
        s || (s = i,
        i = e.Widget),
        e.expr[":"][n.toLowerCase()] = function(t) {
            return !!e.data(t, n)
        }
        ,
        e[l] = e[l] || {},
        a = e[l][t],
        o = e[l][t] = function(e, t) {
            return this._createWidget ? (arguments.length && this._createWidget(e, t),
            void 0) : new o(e,t)
        }
        ,
        e.extend(o, a, {
            version: s.version,
            _proto: e.extend({}, s),
            _childConstructors: []
        }),
        r = new i,
        r.options = e.widget.extend({}, r.options),
        e.each(s, function(t, s) {
            return e.isFunction(s) ? (h[t] = function() {
                var e = function() {
                    return i.prototype[t].apply(this, arguments)
                }
                  , n = function(e) {
                    return i.prototype[t].apply(this, e)
                };
                return function() {
                    var t, i = this._super, a = this._superApply;
                    return this._super = e,
                    this._superApply = n,
                    t = s.apply(this, arguments),
                    this._super = i,
                    this._superApply = a,
                    t
                }
            }(),
            void 0) : (h[t] = s,
            void 0)
        }),
        o.prototype = e.widget.extend(r, {
            widgetEventPrefix: a ? r.widgetEventPrefix || t : t
        }, h, {
            constructor: o,
            namespace: l,
            widgetName: t,
            widgetFullName: n
        }),
        a ? (e.each(a._childConstructors, function(t, i) {
            var s = i.prototype;
            e.widget(s.namespace + "." + s.widgetName, o, i._proto)
        }),
        delete a._childConstructors) : i._childConstructors.push(o),
        e.widget.bridge(t, o),
        o
    }
    ,
    e.widget.extend = function(t) {
        for (var i, s, n = u.call(arguments, 1), a = 0, o = n.length; o > a; a++)
            for (i in n[a])
                s = n[a][i],
                n[a].hasOwnProperty(i) && void 0 !== s && (t[i] = e.isPlainObject(s) ? e.isPlainObject(t[i]) ? e.widget.extend({}, t[i], s) : e.widget.extend({}, s) : s);
        return t
    }
    ,
    e.widget.bridge = function(t, i) {
        var s = i.prototype.widgetFullName || t;
        e.fn[t] = function(n) {
            var a = "string" == typeof n
              , o = u.call(arguments, 1)
              , r = this;
            return n = !a && o.length ? e.widget.extend.apply(null, [n].concat(o)) : n,
            a ? this.each(function() {
                var i, a = e.data(this, s);
                return "instance" === n ? (r = a,
                !1) : a ? e.isFunction(a[n]) && "_" !== n.charAt(0) ? (i = a[n].apply(a, o),
                i !== a && void 0 !== i ? (r = i && i.jquery ? r.pushStack(i.get()) : i,
                !1) : void 0) : e.error("no such method '" + n + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; " + "attempted to call method '" + n + "'")
            }) : this.each(function() {
                var t = e.data(this, s);
                t ? (t.option(n || {}),
                t._init && t._init()) : e.data(this, s, new i(n,this))
            }),
            r
        }
    }
    ,
    e.Widget = function() {}
    ,
    e.Widget._childConstructors = [],
    e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(t, i) {
            i = e(i || this.defaultElement || this)[0],
            this.element = e(i),
            this.uuid = l++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.bindings = e(),
            this.hoverable = e(),
            this.focusable = e(),
            i !== this && (e.data(i, this.widgetFullName, this),
            this._on(!0, this.element, {
                remove: function(e) {
                    e.target === i && this.destroy()
                }
            }),
            this.document = e(i.style ? i.ownerDocument : i.document || i),
            this.window = e(this.document[0].defaultView || this.document[0].parentWindow)),
            this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(t, i) {
            var s, n, a, o = t;
            if (0 === arguments.length)
                return e.widget.extend({}, this.options);
            if ("string" == typeof t)
                if (o = {},
                s = t.split("."),
                t = s.shift(),
                s.length) {
                    for (n = o[t] = e.widget.extend({}, this.options[t]),
                    a = 0; s.length - 1 > a; a++)
                        n[s[a]] = n[s[a]] || {},
                        n = n[s[a]];
                    if (t = s.pop(),
                    1 === arguments.length)
                        return void 0 === n[t] ? null : n[t];
                    n[t] = i
                } else {
                    if (1 === arguments.length)
                        return void 0 === this.options[t] ? null : this.options[t];
                    o[t] = i
                }
            return this._setOptions(o),
            this
        },
        _setOptions: function(e) {
            var t;
            for (t in e)
                this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t,
            "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t),
            t && (this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus"))),
            this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(t, i, s) {
            var n, a = this;
            "boolean" != typeof t && (s = i,
            i = t,
            t = !1),
            s ? (i = n = e(i),
            this.bindings = this.bindings.add(i)) : (s = i,
            i = this.element,
            n = this.widget()),
            e.each(s, function(s, o) {
                function r() {
                    return t || a.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof o ? a[o] : o).apply(a, arguments) : void 0
                }
                "string" != typeof o && (r.guid = o.guid = o.guid || r.guid || e.guid++);
                var h = s.match(/^([\w:-]*)\s*(.*)$/)
                  , l = h[1] + a.eventNamespace
                  , u = h[2];
                u ? n.delegate(u, l, r) : i.bind(l, r)
            })
        },
        _off: function(t, i) {
            i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            t.unbind(i).undelegate(i),
            this.bindings = e(this.bindings.not(t).get()),
            this.focusable = e(this.focusable.not(t).get()),
            this.hoverable = e(this.hoverable.not(t).get())
        },
        _delay: function(e, t) {
            function i() {
                return ("string" == typeof e ? s[e] : e).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, t || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t),
            this._on(t, {
                mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t),
            this._on(t, {
                focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, i, s) {
            var n, a, o = this.options[t];
            if (s = s || {},
            i = e.Event(i),
            i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(),
            i.target = this.element[0],
            a = i.originalEvent)
                for (n in a)
                    n in i || (i[n] = a[n]);
            return this.element.trigger(i, s),
            !(e.isFunction(o) && o.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    },
    e.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(t, i) {
        e.Widget.prototype["_" + t] = function(s, n, a) {
            "string" == typeof n && (n = {
                effect: n
            });
            var o, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : t;
            n = n || {},
            "number" == typeof n && (n = {
                duration: n
            }),
            o = !e.isEmptyObject(n),
            n.complete = a,
            n.delay && s.delay(n.delay),
            o && e.effects && e.effects.effect[r] ? s[t](n) : r !== t && s[r] ? s[r](n.duration, n.easing, a) : s.queue(function(i) {
                e(this)[t](),
                a && a.call(s[0]),
                i()
            })
        }
    }),
    e.widget;
    var d = !1;
    e(document).mouseup(function() {
        d = !1
    }),
    e.widget("ui.mouse", {
        version: "1.11.2",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName, function(i) {
                return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"),
                i.stopImmediatePropagation(),
                !1) : void 0
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(t) {
            if (!d) {
                this._mouseMoved = !1,
                this._mouseStarted && this._mouseUp(t),
                this._mouseDownEvent = t;
                var i = this
                  , s = 1 === t.which
                  , n = "string" == typeof this.options.cancel && t.target.nodeName ? e(t.target).closest(this.options.cancel).length : !1;
                return s && !n && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay,
                this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    i.mouseDelayMet = !0
                }, this.options.delay)),
                this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1,
                !this._mouseStarted) ? (t.preventDefault(),
                !0) : (!0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"),
                this._mouseMoveDelegate = function(e) {
                    return i._mouseMove(e)
                }
                ,
                this._mouseUpDelegate = function(e) {
                    return i._mouseUp(e)
                }
                ,
                this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                t.preventDefault(),
                d = !0,
                !0)) : !0
            }
        },
        _mouseMove: function(t) {
            if (this._mouseMoved) {
                if (e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button)
                    return this._mouseUp(t);
                if (!t.which)
                    return this._mouseUp(t)
            }
            return (t.which || t.button) && (this._mouseMoved = !0),
            this._mouseStarted ? (this._mouseDrag(t),
            t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1,
            this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
            !this._mouseStarted)
        },
        _mouseUp: function(t) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted && (this._mouseStarted = !1,
            t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(t)),
            d = !1,
            !1
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    }),
    function() {
        function t(e, t, i) {
            return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? i / 100 : 1)]
        }
        function i(t, i) {
            return parseInt(e.css(t, i), 10) || 0
        }
        function s(t) {
            var i = t[0];
            return 9 === i.nodeType ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : e.isWindow(i) ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            } : i.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: i.pageY,
                    left: i.pageX
                }
            } : {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }
        }
        e.ui = e.ui || {};
        var n, a, o = Math.max, r = Math.abs, h = Math.round, l = /left|center|right/, u = /top|center|bottom/, d = /[\+\-]\d+(\.[\d]+)?%?/, c = /^\w+/, p = /%$/, f = e.fn.position;
        e.position = {
            scrollbarWidth: function() {
                if (void 0 !== n)
                    return n;
                var t, i, s = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), a = s.children()[0];
                return e("body").append(s),
                t = a.offsetWidth,
                s.css("overflow", "scroll"),
                i = a.offsetWidth,
                t === i && (i = s[0].clientWidth),
                s.remove(),
                n = t - i
            },
            getScrollInfo: function(t) {
                var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x")
                  , s = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y")
                  , n = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth
                  , a = "scroll" === s || "auto" === s && t.height < t.element[0].scrollHeight;
                return {
                    width: a ? e.position.scrollbarWidth() : 0,
                    height: n ? e.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(t) {
                var i = e(t || window)
                  , s = e.isWindow(i[0])
                  , n = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: s,
                    isDocument: n,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: s || n ? i.width() : i.outerWidth(),
                    height: s || n ? i.height() : i.outerHeight()
                }
            }
        },
        e.fn.position = function(n) {
            if (!n || !n.of)
                return f.apply(this, arguments);
            n = e.extend({}, n);
            var p, m, g, v, y, b, _ = e(n.of), x = e.position.getWithinInfo(n.within), w = e.position.getScrollInfo(x), k = (n.collision || "flip").split(" "), T = {};
            return b = s(_),
            _[0].preventDefault && (n.at = "left top"),
            m = b.width,
            g = b.height,
            v = b.offset,
            y = e.extend({}, v),
            e.each(["my", "at"], function() {
                var e, t, i = (n[this] || "").split(" ");
                1 === i.length && (i = l.test(i[0]) ? i.concat(["center"]) : u.test(i[0]) ? ["center"].concat(i) : ["center", "center"]),
                i[0] = l.test(i[0]) ? i[0] : "center",
                i[1] = u.test(i[1]) ? i[1] : "center",
                e = d.exec(i[0]),
                t = d.exec(i[1]),
                T[this] = [e ? e[0] : 0, t ? t[0] : 0],
                n[this] = [c.exec(i[0])[0], c.exec(i[1])[0]]
            }),
            1 === k.length && (k[1] = k[0]),
            "right" === n.at[0] ? y.left += m : "center" === n.at[0] && (y.left += m / 2),
            "bottom" === n.at[1] ? y.top += g : "center" === n.at[1] && (y.top += g / 2),
            p = t(T.at, m, g),
            y.left += p[0],
            y.top += p[1],
            this.each(function() {
                var s, l, u = e(this), d = u.outerWidth(), c = u.outerHeight(), f = i(this, "marginLeft"), b = i(this, "marginTop"), D = d + f + i(this, "marginRight") + w.width, S = c + b + i(this, "marginBottom") + w.height, M = e.extend({}, y), C = t(T.my, u.outerWidth(), u.outerHeight());
                "right" === n.my[0] ? M.left -= d : "center" === n.my[0] && (M.left -= d / 2),
                "bottom" === n.my[1] ? M.top -= c : "center" === n.my[1] && (M.top -= c / 2),
                M.left += C[0],
                M.top += C[1],
                a || (M.left = h(M.left),
                M.top = h(M.top)),
                s = {
                    marginLeft: f,
                    marginTop: b
                },
                e.each(["left", "top"], function(t, i) {
                    e.ui.position[k[t]] && e.ui.position[k[t]][i](M, {
                        targetWidth: m,
                        targetHeight: g,
                        elemWidth: d,
                        elemHeight: c,
                        collisionPosition: s,
                        collisionWidth: D,
                        collisionHeight: S,
                        offset: [p[0] + C[0], p[1] + C[1]],
                        my: n.my,
                        at: n.at,
                        within: x,
                        elem: u
                    })
                }),
                n.using && (l = function(e) {
                    var t = v.left - M.left
                      , i = t + m - d
                      , s = v.top - M.top
                      , a = s + g - c
                      , h = {
                        target: {
                            element: _,
                            left: v.left,
                            top: v.top,
                            width: m,
                            height: g
                        },
                        element: {
                            element: u,
                            left: M.left,
                            top: M.top,
                            width: d,
                            height: c
                        },
                        horizontal: 0 > i ? "left" : t > 0 ? "right" : "center",
                        vertical: 0 > a ? "top" : s > 0 ? "bottom" : "middle"
                    };
                    d > m && m > r(t + i) && (h.horizontal = "center"),
                    c > g && g > r(s + a) && (h.vertical = "middle"),
                    h.important = o(r(t), r(i)) > o(r(s), r(a)) ? "horizontal" : "vertical",
                    n.using.call(this, e, h)
                }
                ),
                u.offset(e.extend(M, {
                    using: l
                }))
            })
        }
        ,
        e.ui.position = {
            fit: {
                left: function(e, t) {
                    var i, s = t.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = e.left - t.collisionPosition.marginLeft, h = n - r, l = r + t.collisionWidth - a - n;
                    t.collisionWidth > a ? h > 0 && 0 >= l ? (i = e.left + h + t.collisionWidth - a - n,
                    e.left += h - i) : e.left = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionWidth : n : h > 0 ? e.left += h : l > 0 ? e.left -= l : e.left = o(e.left - r, e.left)
                },
                top: function(e, t) {
                    var i, s = t.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = t.within.height, r = e.top - t.collisionPosition.marginTop, h = n - r, l = r + t.collisionHeight - a - n;
                    t.collisionHeight > a ? h > 0 && 0 >= l ? (i = e.top + h + t.collisionHeight - a - n,
                    e.top += h - i) : e.top = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionHeight : n : h > 0 ? e.top += h : l > 0 ? e.top -= l : e.top = o(e.top - r, e.top)
                }
            },
            flip: {
                left: function(e, t) {
                    var i, s, n = t.within, a = n.offset.left + n.scrollLeft, o = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = e.left - t.collisionPosition.marginLeft, u = l - h, d = l + t.collisionWidth - o - h, c = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0, p = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0, f = -2 * t.offset[0];
                    0 > u ? (i = e.left + c + p + f + t.collisionWidth - o - a,
                    (0 > i || r(u) > i) && (e.left += c + p + f)) : d > 0 && (s = e.left - t.collisionPosition.marginLeft + c + p + f - h,
                    (s > 0 || d > r(s)) && (e.left += c + p + f))
                },
                top: function(e, t) {
                    var i, s, n = t.within, a = n.offset.top + n.scrollTop, o = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = e.top - t.collisionPosition.marginTop, u = l - h, d = l + t.collisionHeight - o - h, c = "top" === t.my[1], p = c ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0, f = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0, m = -2 * t.offset[1];
                    0 > u ? (s = e.top + p + f + m + t.collisionHeight - o - a,
                    e.top + p + f + m > u && (0 > s || r(u) > s) && (e.top += p + f + m)) : d > 0 && (i = e.top - t.collisionPosition.marginTop + p + f + m - h,
                    e.top + p + f + m > d && (i > 0 || d > r(i)) && (e.top += p + f + m))
                }
            },
            flipfit: {
                left: function() {
                    e.ui.position.flip.left.apply(this, arguments),
                    e.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    e.ui.position.flip.top.apply(this, arguments),
                    e.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function() {
            var t, i, s, n, o, r = document.getElementsByTagName("body")[0], h = document.createElement("div");
            t = document.createElement(r ? "div" : "body"),
            s = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            },
            r && e.extend(s, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (o in s)
                t.style[o] = s[o];
            t.appendChild(h),
            i = r || document.documentElement,
            i.insertBefore(t, i.firstChild),
            h.style.cssText = "position: absolute; left: 10.7432222px;",
            n = e(h).offset().left,
            a = n > 10 && 11 > n,
            t.innerHTML = "",
            i.removeChild(t)
        }()
    }(),
    e.ui.position,
    e.widget("ui.draggable", e.ui.mouse, {
        version: "1.11.2",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(),
            this.options.addClasses && this.element.addClass("ui-draggable"),
            this.options.disabled && this.element.addClass("ui-draggable-disabled"),
            this._setHandleClassName(),
            this._mouseInit()
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "handle" === e && (this._removeHandleClassName(),
            this._setHandleClassName())
        },
        _destroy: function() {
            return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0,
            void 0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
            this._removeHandleClassName(),
            this._mouseDestroy(),
            void 0)
        },
        _mouseCapture: function(t) {
            var i = this.options;
            return this._blurActiveElement(t),
            this.helper || i.disabled || e(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t),
            this.handle ? (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix),
            !0) : !1)
        },
        _blockFrames: function(t) {
            this.iframeBlocks = this.document.find(t).map(function() {
                var t = e(this);
                return e("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _blurActiveElement: function(t) {
            var i = this.document[0];
            if (this.handleElement.is(t.target))
                try {
                    i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && e(i.activeElement).blur()
                } catch (s) {}
        },
        _mouseStart: function(t) {
            var i = this.options;
            return this.helper = this._createHelper(t),
            this.helper.addClass("ui-draggable-dragging"),
            this._cacheHelperProportions(),
            e.ui.ddmanager && (e.ui.ddmanager.current = this),
            this._cacheMargins(),
            this.cssPosition = this.helper.css("position"),
            this.scrollParent = this.helper.scrollParent(!0),
            this.offsetParent = this.helper.offsetParent(),
            this.hasFixedAncestor = this.helper.parents().filter(function() {
                return "fixed" === e(this).css("position")
            }).length > 0,
            this.positionAbs = this.element.offset(),
            this._refreshOffsets(t),
            this.originalPosition = this.position = this._generatePosition(t, !1),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
            this._setContainment(),
            this._trigger("start", t) === !1 ? (this._clear(),
            !1) : (this._cacheHelperProportions(),
            e.ui.ddmanager && !i.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this._normalizeRightBottom(),
            this._mouseDrag(t, !0),
            e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t),
            !0)
        },
        _refreshOffsets: function(e) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            },
            this.offset.click = {
                left: e.pageX - this.offset.left,
                top: e.pageY - this.offset.top
            }
        },
        _mouseDrag: function(t, i) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()),
            this.position = this._generatePosition(t, !0),
            this.positionAbs = this._convertPositionTo("absolute"),
            !i) {
                var s = this._uiHash();
                if (this._trigger("drag", t, s) === !1)
                    return this._mouseUp({}),
                    !1;
                this.position = s.position
            }
            return this.helper[0].style.left = this.position.left + "px",
            this.helper[0].style.top = this.position.top + "px",
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            !1
        },
        _mouseStop: function(t) {
            var i = this
              , s = !1;
            return e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)),
            this.dropped && (s = this.dropped,
            this.dropped = !1),
            "invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                i._trigger("stop", t) !== !1 && i._clear()
            }) : this._trigger("stop", t) !== !1 && this._clear(),
            !1
        },
        _mouseUp: function(t) {
            return this._unblockFrames(),
            e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
            this.handleElement.is(t.target) && this.element.focus(),
            e.ui.mouse.prototype._mouseUp.call(this, t)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(),
            this
        },
        _getHandle: function(t) {
            return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element,
            this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(t) {
            var i = this.options
              , s = e.isFunction(i.helper)
              , n = s ? e(i.helper.apply(this.element[0], [t])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return n.parents("body").length || n.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo),
            s && n[0] === this.element[0] && this._setPositionRelative(),
            n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"),
            n
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _isRootNode: function(e) {
            return /(html|body)/i.test(e.tagName) || e === this.document[0]
        },
        _getParentOffset: function() {
            var t = this.offsetParent.offset()
              , i = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== i && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            this._isRootNode(this.offsetParent[0]) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            var e = this.element.position()
              , t = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()),
                left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, i, s, n = this.options, a = this.document[0];
            return this.relativeContainer = null,
            n.containment ? "window" === n.containment ? (this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
            void 0) : "document" === n.containment ? (this.containment = [0, 0, e(a).width() - this.helperProportions.width - this.margins.left, (e(a).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
            void 0) : n.containment.constructor === Array ? (this.containment = n.containment,
            void 0) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode),
            i = e(n.containment),
            s = i[0],
            s && (t = /(scroll|auto)/.test(i.css("overflow")),
            this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (t ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
            this.relativeContainer = i),
            void 0) : (this.containment = null,
            void 0)
        },
        _convertPositionTo: function(e, t) {
            t || (t = this.position);
            var i = "absolute" === e ? 1 : -1
              , s = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i,
                left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i
            }
        },
        _generatePosition: function(e, t) {
            var i, s, n, a, o = this.options, r = this._isRootNode(this.scrollParent[0]), h = e.pageX, l = e.pageY;
            return r && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }),
            t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(),
            i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment,
            e.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left),
            e.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top),
            e.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left),
            e.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)),
            o.grid && (n = o.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY,
            l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - o.grid[1] : n + o.grid[1] : n,
            a = o.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX,
            h = i ? a - this.offset.click.left >= i[0] || a - this.offset.click.left > i[2] ? a : a - this.offset.click.left >= i[0] ? a - o.grid[0] : a + o.grid[0] : a),
            "y" === o.axis && (h = this.originalPageX),
            "x" === o.axis && (l = this.originalPageY)),
            {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top),
                left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"),
            this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
            this.helper = null,
            this.cancelHelperRemoval = !1,
            this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()),
            this.helper.css("right", "auto")),
            "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()),
            this.helper.css("bottom", "auto"))
        },
        _trigger: function(t, i, s) {
            return s = s || this._uiHash(),
            e.ui.plugin.call(this, t, [i, s, this], !0),
            /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"),
            s.offset = this.positionAbs),
            e.Widget.prototype._trigger.call(this, t, i, s)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }),
    e.ui.plugin.add("draggable", "connectToSortable", {
        start: function(t, i, s) {
            var n = e.extend({}, i, {
                item: s.element
            });
            s.sortables = [],
            e(s.options.connectToSortable).each(function() {
                var i = e(this).sortable("instance");
                i && !i.options.disabled && (s.sortables.push(i),
                i.refreshPositions(),
                i._trigger("activate", t, n))
            })
        },
        stop: function(t, i, s) {
            var n = e.extend({}, i, {
                item: s.element
            });
            s.cancelHelperRemoval = !1,
            e.each(s.sortables, function() {
                var e = this;
                e.isOver ? (e.isOver = 0,
                s.cancelHelperRemoval = !0,
                e.cancelHelperRemoval = !1,
                e._storedCSS = {
                    position: e.placeholder.css("position"),
                    top: e.placeholder.css("top"),
                    left: e.placeholder.css("left")
                },
                e._mouseStop(t),
                e.options.helper = e.options._helper) : (e.cancelHelperRemoval = !0,
                e._trigger("deactivate", t, n))
            })
        },
        drag: function(t, i, s) {
            e.each(s.sortables, function() {
                var n = !1
                  , a = this;
                a.positionAbs = s.positionAbs,
                a.helperProportions = s.helperProportions,
                a.offset.click = s.offset.click,
                a._intersectsWith(a.containerCache) && (n = !0,
                e.each(s.sortables, function() {
                    return this.positionAbs = s.positionAbs,
                    this.helperProportions = s.helperProportions,
                    this.offset.click = s.offset.click,
                    this !== a && this._intersectsWith(this.containerCache) && e.contains(a.element[0], this.element[0]) && (n = !1),
                    n
                })),
                n ? (a.isOver || (a.isOver = 1,
                a.currentItem = i.helper.appendTo(a.element).data("ui-sortable-item", !0),
                a.options._helper = a.options.helper,
                a.options.helper = function() {
                    return i.helper[0]
                }
                ,
                t.target = a.currentItem[0],
                a._mouseCapture(t, !0),
                a._mouseStart(t, !0, !0),
                a.offset.click.top = s.offset.click.top,
                a.offset.click.left = s.offset.click.left,
                a.offset.parent.left -= s.offset.parent.left - a.offset.parent.left,
                a.offset.parent.top -= s.offset.parent.top - a.offset.parent.top,
                s._trigger("toSortable", t),
                s.dropped = a.element,
                e.each(s.sortables, function() {
                    this.refreshPositions()
                }),
                s.currentItem = s.element,
                a.fromOutside = s),
                a.currentItem && (a._mouseDrag(t),
                i.position = a.position)) : a.isOver && (a.isOver = 0,
                a.cancelHelperRemoval = !0,
                a.options._revert = a.options.revert,
                a.options.revert = !1,
                a._trigger("out", t, a._uiHash(a)),
                a._mouseStop(t, !0),
                a.options.revert = a.options._revert,
                a.options.helper = a.options._helper,
                a.placeholder && a.placeholder.remove(),
                s._refreshOffsets(t),
                i.position = s._generatePosition(t, !0),
                s._trigger("fromSortable", t),
                s.dropped = !1,
                e.each(s.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    }),
    e.ui.plugin.add("draggable", "cursor", {
        start: function(t, i, s) {
            var n = e("body")
              , a = s.options;
            n.css("cursor") && (a._cursor = n.css("cursor")),
            n.css("cursor", a.cursor)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._cursor && e("body").css("cursor", n._cursor)
        }
    }),
    e.ui.plugin.add("draggable", "opacity", {
        start: function(t, i, s) {
            var n = e(i.helper)
              , a = s.options;
            n.css("opacity") && (a._opacity = n.css("opacity")),
            n.css("opacity", a.opacity)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._opacity && e(i.helper).css("opacity", n._opacity)
        }
    }),
    e.ui.plugin.add("draggable", "scroll", {
        start: function(e, t, i) {
            i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)),
            i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
        },
        drag: function(t, i, s) {
            var n = s.options
              , a = !1
              , o = s.scrollParentNotHidden[0]
              , r = s.document[0];
            o !== r && "HTML" !== o.tagName ? (n.axis && "x" === n.axis || (s.overflowOffset.top + o.offsetHeight - t.pageY < n.scrollSensitivity ? o.scrollTop = a = o.scrollTop + n.scrollSpeed : t.pageY - s.overflowOffset.top < n.scrollSensitivity && (o.scrollTop = a = o.scrollTop - n.scrollSpeed)),
            n.axis && "y" === n.axis || (s.overflowOffset.left + o.offsetWidth - t.pageX < n.scrollSensitivity ? o.scrollLeft = a = o.scrollLeft + n.scrollSpeed : t.pageX - s.overflowOffset.left < n.scrollSensitivity && (o.scrollLeft = a = o.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (t.pageY - e(r).scrollTop() < n.scrollSensitivity ? a = e(r).scrollTop(e(r).scrollTop() - n.scrollSpeed) : e(window).height() - (t.pageY - e(r).scrollTop()) < n.scrollSensitivity && (a = e(r).scrollTop(e(r).scrollTop() + n.scrollSpeed))),
            n.axis && "y" === n.axis || (t.pageX - e(r).scrollLeft() < n.scrollSensitivity ? a = e(r).scrollLeft(e(r).scrollLeft() - n.scrollSpeed) : e(window).width() - (t.pageX - e(r).scrollLeft()) < n.scrollSensitivity && (a = e(r).scrollLeft(e(r).scrollLeft() + n.scrollSpeed)))),
            a !== !1 && e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(s, t)
        }
    }),
    e.ui.plugin.add("draggable", "snap", {
        start: function(t, i, s) {
            var n = s.options;
            s.snapElements = [],
            e(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function() {
                var t = e(this)
                  , i = t.offset();
                this !== s.element[0] && s.snapElements.push({
                    item: this,
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    top: i.top,
                    left: i.left
                })
            })
        },
        drag: function(t, i, s) {
            var n, a, o, r, h, l, u, d, c, p, f = s.options, m = f.snapTolerance, g = i.offset.left, v = g + s.helperProportions.width, y = i.offset.top, b = y + s.helperProportions.height;
            for (c = s.snapElements.length - 1; c >= 0; c--)
                h = s.snapElements[c].left - s.margins.left,
                l = h + s.snapElements[c].width,
                u = s.snapElements[c].top - s.margins.top,
                d = u + s.snapElements[c].height,
                h - m > v || g > l + m || u - m > b || y > d + m || !e.contains(s.snapElements[c].item.ownerDocument, s.snapElements[c].item) ? (s.snapElements[c].snapping && s.options.snap.release && s.options.snap.release.call(s.element, t, e.extend(s._uiHash(), {
                    snapItem: s.snapElements[c].item
                })),
                s.snapElements[c].snapping = !1) : ("inner" !== f.snapMode && (n = m >= Math.abs(u - b),
                a = m >= Math.abs(d - y),
                o = m >= Math.abs(h - v),
                r = m >= Math.abs(l - g),
                n && (i.position.top = s._convertPositionTo("relative", {
                    top: u - s.helperProportions.height,
                    left: 0
                }).top),
                a && (i.position.top = s._convertPositionTo("relative", {
                    top: d,
                    left: 0
                }).top),
                o && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: h - s.helperProportions.width
                }).left),
                r && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left)),
                p = n || a || o || r,
                "outer" !== f.snapMode && (n = m >= Math.abs(u - y),
                a = m >= Math.abs(d - b),
                o = m >= Math.abs(h - g),
                r = m >= Math.abs(l - v),
                n && (i.position.top = s._convertPositionTo("relative", {
                    top: u,
                    left: 0
                }).top),
                a && (i.position.top = s._convertPositionTo("relative", {
                    top: d - s.helperProportions.height,
                    left: 0
                }).top),
                o && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: h
                }).left),
                r && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: l - s.helperProportions.width
                }).left)),
                !s.snapElements[c].snapping && (n || a || o || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, t, e.extend(s._uiHash(), {
                    snapItem: s.snapElements[c].item
                })),
                s.snapElements[c].snapping = n || a || o || r || p)
        }
    }),
    e.ui.plugin.add("draggable", "stack", {
        start: function(t, i, s) {
            var n, a = s.options, o = e.makeArray(e(a.stack)).sort(function(t, i) {
                return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(i).css("zIndex"), 10) || 0)
            });
            o.length && (n = parseInt(e(o[0]).css("zIndex"), 10) || 0,
            e(o).each(function(t) {
                e(this).css("zIndex", n + t)
            }),
            this.css("zIndex", n + o.length))
        }
    }),
    e.ui.plugin.add("draggable", "zIndex", {
        start: function(t, i, s) {
            var n = e(i.helper)
              , a = s.options;
            n.css("zIndex") && (a._zIndex = n.css("zIndex")),
            n.css("zIndex", a.zIndex)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._zIndex && e(i.helper).css("zIndex", n._zIndex)
        }
    }),
    e.ui.draggable,
    e.widget("ui.droppable", {
        version: "1.11.2",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var t, i = this.options, s = i.accept;
            this.isover = !1,
            this.isout = !0,
            this.accept = e.isFunction(s) ? s : function(e) {
                return e.is(s)
            }
            ,
            this.proportions = function() {
                return arguments.length ? (t = arguments[0],
                void 0) : t ? t : t = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                }
            }
            ,
            this._addToManager(i.scope),
            i.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function(t) {
            e.ui.ddmanager.droppables[t] = e.ui.ddmanager.droppables[t] || [],
            e.ui.ddmanager.droppables[t].push(this)
        },
        _splice: function(e) {
            for (var t = 0; e.length > t; t++)
                e[t] === this && e.splice(t, 1)
        },
        _destroy: function() {
            var t = e.ui.ddmanager.droppables[this.options.scope];
            this._splice(t),
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(t, i) {
            if ("accept" === t)
                this.accept = e.isFunction(i) ? i : function(e) {
                    return e.is(i)
                }
                ;
            else if ("scope" === t) {
                var s = e.ui.ddmanager.droppables[this.options.scope];
                this._splice(s),
                this._addToManager(i)
            }
            this._super(t, i)
        },
        _activate: function(t) {
            var i = e.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass),
            i && this._trigger("activate", t, this.ui(i))
        },
        _deactivate: function(t) {
            var i = e.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass),
            i && this._trigger("deactivate", t, this.ui(i))
        },
        _over: function(t) {
            var i = e.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass),
            this._trigger("over", t, this.ui(i)))
        },
        _out: function(t) {
            var i = e.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("out", t, this.ui(i)))
        },
        _drop: function(t, i) {
            var s = i || e.ui.ddmanager.current
              , n = !1;
            return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var i = e(this).droppable("instance");
                return i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && e.ui.intersect(s, e.extend(i, {
                    offset: i.element.offset()
                }), i.options.tolerance, t) ? (n = !0,
                !1) : void 0
            }),
            n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass),
            this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("drop", t, this.ui(s)),
            this.element) : !1) : !1
        },
        ui: function(e) {
            return {
                draggable: e.currentItem || e.element,
                helper: e.helper,
                position: e.position,
                offset: e.positionAbs
            }
        }
    }),
    e.ui.intersect = function() {
        function e(e, t, i) {
            return e >= t && t + i > e
        }
        return function(t, i, s, n) {
            if (!i.offset)
                return !1;
            var a = (t.positionAbs || t.position.absolute).left + t.margins.left
              , o = (t.positionAbs || t.position.absolute).top + t.margins.top
              , r = a + t.helperProportions.width
              , h = o + t.helperProportions.height
              , l = i.offset.left
              , u = i.offset.top
              , d = l + i.proportions().width
              , c = u + i.proportions().height;
            switch (s) {
            case "fit":
                return a >= l && d >= r && o >= u && c >= h;
            case "intersect":
                return a + t.helperProportions.width / 2 > l && d > r - t.helperProportions.width / 2 && o + t.helperProportions.height / 2 > u && c > h - t.helperProportions.height / 2;
            case "pointer":
                return e(n.pageY, u, i.proportions().height) && e(n.pageX, l, i.proportions().width);
            case "touch":
                return (o >= u && c >= o || h >= u && c >= h || u > o && h > c) && (a >= l && d >= a || r >= l && d >= r || l > a && r > d);
            default:
                return !1
            }
        }
    }(),
    e.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(t, i) {
            var s, n, a = e.ui.ddmanager.droppables[t.options.scope] || [], o = i ? i.type : null, r = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
            e: for (s = 0; a.length > s; s++)
                if (!(a[s].options.disabled || t && !a[s].accept.call(a[s].element[0], t.currentItem || t.element))) {
                    for (n = 0; r.length > n; n++)
                        if (r[n] === a[s].element[0]) {
                            a[s].proportions().height = 0;
                            continue e
                        }
                    a[s].visible = "none" !== a[s].element.css("display"),
                    a[s].visible && ("mousedown" === o && a[s]._activate.call(a[s], i),
                    a[s].offset = a[s].element.offset(),
                    a[s].proportions({
                        width: a[s].element[0].offsetWidth,
                        height: a[s].element[0].offsetHeight
                    }))
                }
        },
        drop: function(t, i) {
            var s = !1;
            return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s),
                !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0,
                this.isover = !1,
                this._deactivate.call(this, i)))
            }),
            s
        },
        dragStart: function(t, i) {
            t.element.parentsUntil("body").bind("scroll.droppable", function() {
                t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i)
            })
        },
        drag: function(t, i) {
            t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, i),
            e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, a, o = e.ui.intersect(t, this, this.options.tolerance, i), r = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope,
                    a = this.element.parents(":data(ui-droppable)").filter(function() {
                        return e(this).droppable("instance").options.scope === n
                    }),
                    a.length && (s = e(a[0]).droppable("instance"),
                    s.greedyChild = "isover" === r)),
                    s && "isover" === r && (s.isover = !1,
                    s.isout = !0,
                    s._out.call(s, i)),
                    this[r] = !0,
                    this["isout" === r ? "isover" : "isout"] = !1,
                    this["isover" === r ? "_over" : "_out"].call(this, i),
                    s && "isout" === r && (s.isout = !1,
                    s.isover = !0,
                    s._over.call(s, i)))
                }
            })
        },
        dragStop: function(t, i) {
            t.element.parentsUntil("body").unbind("scroll.droppable"),
            t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i)
        }
    },
    e.ui.droppable,
    e.widget("ui.resizable", e.ui.mouse, {
        version: "1.11.2",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(e) {
            return parseInt(e, 10) || 0
        },
        _isNumber: function(e) {
            return !isNaN(parseInt(e, 10))
        },
        _hasScroll: function(t, i) {
            if ("hidden" === e(t).css("overflow"))
                return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop"
              , n = !1;
            return t[s] > 0 ? !0 : (t[s] = 1,
            n = t[s] > 0,
            t[s] = 0,
            n)
        },
        _create: function() {
            var t, i, s, n, a, o = this, r = this.options;
            if (this.element.addClass("ui-resizable"),
            e.extend(this, {
                _aspectRatio: !!r.aspectRatio,
                aspectRatio: r.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
            }),
            this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })),
            this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")),
            this.elementIsWrapper = !0,
            this.element.css({
                marginLeft: this.originalElement.css("marginLeft"),
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom")
            }),
            this.originalElement.css({
                marginLeft: 0,
                marginTop: 0,
                marginRight: 0,
                marginBottom: 0
            }),
            this.originalResizeStyle = this.originalElement.css("resize"),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })),
            this.originalElement.css({
                margin: this.originalElement.css("margin")
            }),
            this._proportionallyResize()),
            this.handles = r.handles || (e(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se"),
            this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
                t = this.handles.split(","),
                this.handles = {},
                i = 0; t.length > i; i++)
                    s = e.trim(t[i]),
                    a = "ui-resizable-" + s,
                    n = e("<div class='ui-resizable-handle " + a + "'></div>"),
                    n.css({
                        zIndex: r.zIndex
                    }),
                    "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
                    this.handles[s] = ".ui-resizable-" + s,
                    this.element.append(n);
            this._renderAxis = function(t) {
                var i, s, n, a;
                t = t || this.element;
                for (i in this.handles)
                    this.handles[i].constructor === String && (this.handles[i] = this.element.children(this.handles[i]).first().show()),
                    this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (s = e(this.handles[i], this.element),
                    a = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(),
                    n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""),
                    t.css(n, a),
                    this._proportionallyResize()),
                    e(this.handles[i]).length
            }
            ,
            this._renderAxis(this.element),
            this._handles = e(".ui-resizable-handle", this.element).disableSelection(),
            this._handles.mouseover(function() {
                o.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
                o.axis = n && n[1] ? n[1] : "se")
            }),
            r.autoHide && (this._handles.hide(),
            e(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                r.disabled || (e(this).removeClass("ui-resizable-autohide"),
                o._handles.show())
            }).mouseleave(function() {
                r.disabled || o.resizing || (e(this).addClass("ui-resizable-autohide"),
                o._handles.hide())
            })),
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var t, i = function(t) {
                e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element),
            t = this.element,
            this.originalElement.css({
                position: t.css("position"),
                width: t.outerWidth(),
                height: t.outerHeight(),
                top: t.css("top"),
                left: t.css("left")
            }).insertAfter(t),
            t.remove()),
            this.originalElement.css("resize", this.originalResizeStyle),
            i(this.originalElement),
            this
        },
        _mouseCapture: function(t) {
            var i, s, n = !1;
            for (i in this.handles)
                s = e(this.handles[i])[0],
                (s === t.target || e.contains(s, t.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(t) {
            var i, s, n, a = this.options, o = this.element;
            return this.resizing = !0,
            this._renderProxy(),
            i = this._num(this.helper.css("left")),
            s = this._num(this.helper.css("top")),
            a.containment && (i += e(a.containment).scrollLeft() || 0,
            s += e(a.containment).scrollTop() || 0),
            this.offset = this.helper.offset(),
            this.position = {
                left: i,
                top: s
            },
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: o.width(),
                height: o.height()
            },
            this.originalSize = this._helper ? {
                width: o.outerWidth(),
                height: o.outerHeight()
            } : {
                width: o.width(),
                height: o.height()
            },
            this.sizeDiff = {
                width: o.outerWidth() - o.width(),
                height: o.outerHeight() - o.height()
            },
            this.originalPosition = {
                left: i,
                top: s
            },
            this.originalMousePosition = {
                left: t.pageX,
                top: t.pageY
            },
            this.aspectRatio = "number" == typeof a.aspectRatio ? a.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
            n = e(".ui-resizable-" + this.axis).css("cursor"),
            e("body").css("cursor", "auto" === n ? this.axis + "-resize" : n),
            o.addClass("ui-resizable-resizing"),
            this._propagate("start", t),
            !0
        },
        _mouseDrag: function(t) {
            var i, s, n = this.originalMousePosition, a = this.axis, o = t.pageX - n.left || 0, r = t.pageY - n.top || 0, h = this._change[a];
            return this._updatePrevProperties(),
            h ? (i = h.apply(this, [t, o, r]),
            this._updateVirtualBoundaries(t.shiftKey),
            (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)),
            i = this._respectSize(i, t),
            this._updateCache(i),
            this._propagate("resize", t),
            s = this._applyChanges(),
            !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(),
            e.isEmptyObject(s) || (this._updatePrevProperties(),
            this._trigger("resize", t, this.ui()),
            this._applyChanges()),
            !1) : !1
        },
        _mouseStop: function(t) {
            this.resizing = !1;
            var i, s, n, a, o, r, h, l = this.options, u = this;
            return this._helper && (i = this._proportionallyResizeElements,
            s = i.length && /textarea/i.test(i[0].nodeName),
            n = s && this._hasScroll(i[0], "left") ? 0 : u.sizeDiff.height,
            a = s ? 0 : u.sizeDiff.width,
            o = {
                width: u.helper.width() - a,
                height: u.helper.height() - n
            },
            r = parseInt(u.element.css("left"), 10) + (u.position.left - u.originalPosition.left) || null,
            h = parseInt(u.element.css("top"), 10) + (u.position.top - u.originalPosition.top) || null,
            l.animate || this.element.css(e.extend(o, {
                top: h,
                left: r
            })),
            u.helper.height(u.size.height),
            u.helper.width(u.size.width),
            this._helper && !l.animate && this._proportionallyResize()),
            e("body").css("cursor", "auto"),
            this.element.removeClass("ui-resizable-resizing"),
            this._propagate("stop", t),
            this._helper && this.helper.remove(),
            !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            },
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var e = {};
            return this.position.top !== this.prevPosition.top && (e.top = this.position.top + "px"),
            this.position.left !== this.prevPosition.left && (e.left = this.position.left + "px"),
            this.size.width !== this.prevSize.width && (e.width = this.size.width + "px"),
            this.size.height !== this.prevSize.height && (e.height = this.size.height + "px"),
            this.helper.css(e),
            e
        },
        _updateVirtualBoundaries: function(e) {
            var t, i, s, n, a, o = this.options;
            a = {
                minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
                maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : 1 / 0,
                minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
                maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : 1 / 0
            },
            (this._aspectRatio || e) && (t = a.minHeight * this.aspectRatio,
            s = a.minWidth / this.aspectRatio,
            i = a.maxHeight * this.aspectRatio,
            n = a.maxWidth / this.aspectRatio,
            t > a.minWidth && (a.minWidth = t),
            s > a.minHeight && (a.minHeight = s),
            a.maxWidth > i && (a.maxWidth = i),
            a.maxHeight > n && (a.maxHeight = n)),
            this._vBoundaries = a
        },
        _updateCache: function(e) {
            this.offset = this.helper.offset(),
            this._isNumber(e.left) && (this.position.left = e.left),
            this._isNumber(e.top) && (this.position.top = e.top),
            this._isNumber(e.height) && (this.size.height = e.height),
            this._isNumber(e.width) && (this.size.width = e.width)
        },
        _updateRatio: function(e) {
            var t = this.position
              , i = this.size
              , s = this.axis;
            return this._isNumber(e.height) ? e.width = e.height * this.aspectRatio : this._isNumber(e.width) && (e.height = e.width / this.aspectRatio),
            "sw" === s && (e.left = t.left + (i.width - e.width),
            e.top = null),
            "nw" === s && (e.top = t.top + (i.height - e.height),
            e.left = t.left + (i.width - e.width)),
            e
        },
        _respectSize: function(e) {
            var t = this._vBoundaries
              , i = this.axis
              , s = this._isNumber(e.width) && t.maxWidth && t.maxWidth < e.width
              , n = this._isNumber(e.height) && t.maxHeight && t.maxHeight < e.height
              , a = this._isNumber(e.width) && t.minWidth && t.minWidth > e.width
              , o = this._isNumber(e.height) && t.minHeight && t.minHeight > e.height
              , r = this.originalPosition.left + this.originalSize.width
              , h = this.position.top + this.size.height
              , l = /sw|nw|w/.test(i)
              , u = /nw|ne|n/.test(i);
            return a && (e.width = t.minWidth),
            o && (e.height = t.minHeight),
            s && (e.width = t.maxWidth),
            n && (e.height = t.maxHeight),
            a && l && (e.left = r - t.minWidth),
            s && l && (e.left = r - t.maxWidth),
            o && u && (e.top = h - t.minHeight),
            n && u && (e.top = h - t.maxHeight),
            e.width || e.height || e.left || !e.top ? e.width || e.height || e.top || !e.left || (e.left = null) : e.top = null,
            e
        },
        _getPaddingPlusBorderDimensions: function(e) {
            for (var t = 0, i = [], s = [e.css("borderTopWidth"), e.css("borderRightWidth"), e.css("borderBottomWidth"), e.css("borderLeftWidth")], n = [e.css("paddingTop"), e.css("paddingRight"), e.css("paddingBottom"), e.css("paddingLeft")]; 4 > t; t++)
                i[t] = parseInt(s[t], 10) || 0,
                i[t] += parseInt(n[t], 10) || 0;
            return {
                height: i[0] + i[2],
                width: i[1] + i[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var e, t = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > t; t++)
                    e = this._proportionallyResizeElements[t],
                    this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(e)),
                    e.css({
                        height: i.height() - this.outerDimensions.height || 0,
                        width: i.width() - this.outerDimensions.width || 0
                    })
        },
        _renderProxy: function() {
            var t = this.element
              , i = this.options;
            this.elementOffset = t.offset(),
            this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"),
            this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }),
            this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(e, t) {
                return {
                    width: this.originalSize.width + t
                }
            },
            w: function(e, t) {
                var i = this.originalSize
                  , s = this.originalPosition;
                return {
                    left: s.left + t,
                    width: i.width - t
                }
            },
            n: function(e, t, i) {
                var s = this.originalSize
                  , n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function(e, t, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            sw: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            },
            ne: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            nw: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            }
        },
        _propagate: function(t, i) {
            e.ui.plugin.call(this, t, [i, this.ui()]),
            "resize" !== t && this._trigger(t, i, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }),
    e.ui.plugin.add("resizable", "animate", {
        stop: function(t) {
            var i = e(this).resizable("instance")
              , s = i.options
              , n = i._proportionallyResizeElements
              , a = n.length && /textarea/i.test(n[0].nodeName)
              , o = a && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height
              , r = a ? 0 : i.sizeDiff.width
              , h = {
                width: i.size.width - r,
                height: i.size.height - o
            }
              , l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null
              , u = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(e.extend(h, u && l ? {
                top: u,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function() {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && e(n[0]).css({
                        width: s.width,
                        height: s.height
                    }),
                    i._updateCache(s),
                    i._propagate("resize", t)
                }
            })
        }
    }),
    e.ui.plugin.add("resizable", "containment", {
        start: function() {
            var t, i, s, n, a, o, r, h = e(this).resizable("instance"), l = h.options, u = h.element, d = l.containment, c = d instanceof e ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
            c && (h.containerElement = e(c),
            /document/.test(d) || d === document ? (h.containerOffset = {
                left: 0,
                top: 0
            },
            h.containerPosition = {
                left: 0,
                top: 0
            },
            h.parentData = {
                element: e(document),
                left: 0,
                top: 0,
                width: e(document).width(),
                height: e(document).height() || document.body.parentNode.scrollHeight
            }) : (t = e(c),
            i = [],
            e(["Top", "Right", "Left", "Bottom"]).each(function(e, s) {
                i[e] = h._num(t.css("padding" + s))
            }),
            h.containerOffset = t.offset(),
            h.containerPosition = t.position(),
            h.containerSize = {
                height: t.innerHeight() - i[3],
                width: t.innerWidth() - i[1]
            },
            s = h.containerOffset,
            n = h.containerSize.height,
            a = h.containerSize.width,
            o = h._hasScroll(c, "left") ? c.scrollWidth : a,
            r = h._hasScroll(c) ? c.scrollHeight : n,
            h.parentData = {
                element: c,
                left: s.left,
                top: s.top,
                width: o,
                height: r
            }))
        },
        resize: function(t) {
            var i, s, n, a, o = e(this).resizable("instance"), r = o.options, h = o.containerOffset, l = o.position, u = o._aspectRatio || t.shiftKey, d = {
                top: 0,
                left: 0
            }, c = o.containerElement, p = !0;
            c[0] !== document && /static/.test(c.css("position")) && (d = h),
            l.left < (o._helper ? h.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - h.left : o.position.left - d.left),
            u && (o.size.height = o.size.width / o.aspectRatio,
            p = !1),
            o.position.left = r.helper ? h.left : 0),
            l.top < (o._helper ? h.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - h.top : o.position.top),
            u && (o.size.width = o.size.height * o.aspectRatio,
            p = !1),
            o.position.top = o._helper ? h.top : 0),
            n = o.containerElement.get(0) === o.element.parent().get(0),
            a = /relative|absolute/.test(o.containerElement.css("position")),
            n && a ? (o.offset.left = o.parentData.left + o.position.left,
            o.offset.top = o.parentData.top + o.position.top) : (o.offset.left = o.element.offset().left,
            o.offset.top = o.element.offset().top),
            i = Math.abs(o.sizeDiff.width + (o._helper ? o.offset.left - d.left : o.offset.left - h.left)),
            s = Math.abs(o.sizeDiff.height + (o._helper ? o.offset.top - d.top : o.offset.top - h.top)),
            i + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - i,
            u && (o.size.height = o.size.width / o.aspectRatio,
            p = !1)),
            s + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - s,
            u && (o.size.width = o.size.height * o.aspectRatio,
            p = !1)),
            p || (o.position.left = o.prevPosition.left,
            o.position.top = o.prevPosition.top,
            o.size.width = o.prevSize.width,
            o.size.height = o.prevSize.height)
        },
        stop: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = t.containerOffset
              , n = t.containerPosition
              , a = t.containerElement
              , o = e(t.helper)
              , r = o.offset()
              , h = o.outerWidth() - t.sizeDiff.width
              , l = o.outerHeight() - t.sizeDiff.height;
            t._helper && !i.animate && /relative/.test(a.css("position")) && e(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            }),
            t._helper && !i.animate && /static/.test(a.css("position")) && e(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            })
        }
    }),
    e.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = function(t) {
                e(t).each(function() {
                    var t = e(this);
                    t.data("ui-resizable-alsoresize", {
                        width: parseInt(t.width(), 10),
                        height: parseInt(t.height(), 10),
                        left: parseInt(t.css("left"), 10),
                        top: parseInt(t.css("top"), 10)
                    })
                })
            };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0],
            s(i.alsoResize)) : e.each(i.alsoResize, function(e) {
                s(e)
            })
        },
        resize: function(t, i) {
            var s = e(this).resizable("instance")
              , n = s.options
              , a = s.originalSize
              , o = s.originalPosition
              , r = {
                height: s.size.height - a.height || 0,
                width: s.size.width - a.width || 0,
                top: s.position.top - o.top || 0,
                left: s.position.left - o.left || 0
            }
              , h = function(t, s) {
                e(t).each(function() {
                    var t = e(this)
                      , n = e(this).data("ui-resizable-alsoresize")
                      , a = {}
                      , o = s && s.length ? s : t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                    e.each(o, function(e, t) {
                        var i = (n[t] || 0) + (r[t] || 0);
                        i && i >= 0 && (a[t] = i || null)
                    }),
                    t.css(a)
                })
            };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? h(n.alsoResize) : e.each(n.alsoResize, function(e, t) {
                h(e, t)
            })
        },
        stop: function() {
            e(this).removeData("resizable-alsoresize")
        }
    }),
    e.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = t.size;
            t.ghost = t.originalElement.clone(),
            t.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""),
            t.ghost.appendTo(t.helper)
        },
        resize: function() {
            var t = e(this).resizable("instance");
            t.ghost && t.ghost.css({
                position: "relative",
                height: t.size.height,
                width: t.size.width
            })
        },
        stop: function() {
            var t = e(this).resizable("instance");
            t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
        }
    }),
    e.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var t, i = e(this).resizable("instance"), s = i.options, n = i.size, a = i.originalSize, o = i.originalPosition, r = i.axis, h = "number" == typeof s.grid ? [s.grid, s.grid] : s.grid, l = h[0] || 1, u = h[1] || 1, d = Math.round((n.width - a.width) / l) * l, c = Math.round((n.height - a.height) / u) * u, p = a.width + d, f = a.height + c, m = s.maxWidth && p > s.maxWidth, g = s.maxHeight && f > s.maxHeight, v = s.minWidth && s.minWidth > p, y = s.minHeight && s.minHeight > f;
            s.grid = h,
            v && (p += l),
            y && (f += u),
            m && (p -= l),
            g && (f -= u),
            /^(se|s|e)$/.test(r) ? (i.size.width = p,
            i.size.height = f) : /^(ne)$/.test(r) ? (i.size.width = p,
            i.size.height = f,
            i.position.top = o.top - c) : /^(sw)$/.test(r) ? (i.size.width = p,
            i.size.height = f,
            i.position.left = o.left - d) : ((0 >= f - u || 0 >= p - l) && (t = i._getPaddingPlusBorderDimensions(this)),
            f - u > 0 ? (i.size.height = f,
            i.position.top = o.top - c) : (f = u - t.height,
            i.size.height = f,
            i.position.top = o.top + a.height - f),
            p - l > 0 ? (i.size.width = p,
            i.position.left = o.left - d) : (p = u - t.height,
            i.size.width = p,
            i.position.left = o.left + a.width - p))
        }
    }),
    e.ui.resizable,
    e.widget("ui.selectable", e.ui.mouse, {
        version: "1.11.2",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var t, i = this;
            this.element.addClass("ui-selectable"),
            this.dragged = !1,
            this.refresh = function() {
                t = e(i.options.filter, i.element[0]),
                t.addClass("ui-selectee"),
                t.each(function() {
                    var t = e(this)
                      , i = t.offset();
                    e.data(this, "selectable-item", {
                        element: this,
                        $element: t,
                        left: i.left,
                        top: i.top,
                        right: i.left + t.outerWidth(),
                        bottom: i.top + t.outerHeight(),
                        startselected: !1,
                        selected: t.hasClass("ui-selected"),
                        selecting: t.hasClass("ui-selecting"),
                        unselecting: t.hasClass("ui-unselecting")
                    })
                })
            }
            ,
            this.refresh(),
            this.selectees = t.addClass("ui-selectee"),
            this._mouseInit(),
            this.helper = e("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
            this.element.removeClass("ui-selectable ui-selectable-disabled"),
            this._mouseDestroy()
        },
        _mouseStart: function(t) {
            var i = this
              , s = this.options;
            this.opos = [t.pageX, t.pageY],
            this.options.disabled || (this.selectees = e(s.filter, this.element[0]),
            this._trigger("start", t),
            e(s.appendTo).append(this.helper),
            this.helper.css({
                left: t.pageX,
                top: t.pageY,
                width: 0,
                height: 0
            }),
            s.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function() {
                var s = e.data(this, "selectable-item");
                s.startselected = !0,
                t.metaKey || t.ctrlKey || (s.$element.removeClass("ui-selected"),
                s.selected = !1,
                s.$element.addClass("ui-unselecting"),
                s.unselecting = !0,
                i._trigger("unselecting", t, {
                    unselecting: s.element
                }))
            }),
            e(t.target).parents().addBack().each(function() {
                var s, n = e.data(this, "selectable-item");
                return n ? (s = !t.metaKey && !t.ctrlKey || !n.$element.hasClass("ui-selected"),
                n.$element.removeClass(s ? "ui-unselecting" : "ui-selected").addClass(s ? "ui-selecting" : "ui-unselecting"),
                n.unselecting = !s,
                n.selecting = s,
                n.selected = s,
                s ? i._trigger("selecting", t, {
                    selecting: n.element
                }) : i._trigger("unselecting", t, {
                    unselecting: n.element
                }),
                !1) : void 0
            }))
        },
        _mouseDrag: function(t) {
            if (this.dragged = !0,
            !this.options.disabled) {
                var i, s = this, n = this.options, a = this.opos[0], o = this.opos[1], r = t.pageX, h = t.pageY;
                return a > r && (i = r,
                r = a,
                a = i),
                o > h && (i = h,
                h = o,
                o = i),
                this.helper.css({
                    left: a,
                    top: o,
                    width: r - a,
                    height: h - o
                }),
                this.selectees.each(function() {
                    var i = e.data(this, "selectable-item")
                      , l = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? l = !(i.left > r || a > i.right || i.top > h || o > i.bottom) : "fit" === n.tolerance && (l = i.left > a && r > i.right && i.top > o && h > i.bottom),
                    l ? (i.selected && (i.$element.removeClass("ui-selected"),
                    i.selected = !1),
                    i.unselecting && (i.$element.removeClass("ui-unselecting"),
                    i.unselecting = !1),
                    i.selecting || (i.$element.addClass("ui-selecting"),
                    i.selecting = !0,
                    s._trigger("selecting", t, {
                        selecting: i.element
                    }))) : (i.selecting && ((t.metaKey || t.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"),
                    i.selecting = !1,
                    i.$element.addClass("ui-selected"),
                    i.selected = !0) : (i.$element.removeClass("ui-selecting"),
                    i.selecting = !1,
                    i.startselected && (i.$element.addClass("ui-unselecting"),
                    i.unselecting = !0),
                    s._trigger("unselecting", t, {
                        unselecting: i.element
                    }))),
                    i.selected && (t.metaKey || t.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"),
                    i.selected = !1,
                    i.$element.addClass("ui-unselecting"),
                    i.unselecting = !0,
                    s._trigger("unselecting", t, {
                        unselecting: i.element
                    })))))
                }),
                !1
            }
        },
        _mouseStop: function(t) {
            var i = this;
            return this.dragged = !1,
            e(".ui-unselecting", this.element[0]).each(function() {
                var s = e.data(this, "selectable-item");
                s.$element.removeClass("ui-unselecting"),
                s.unselecting = !1,
                s.startselected = !1,
                i._trigger("unselected", t, {
                    unselected: s.element
                })
            }),
            e(".ui-selecting", this.element[0]).each(function() {
                var s = e.data(this, "selectable-item");
                s.$element.removeClass("ui-selecting").addClass("ui-selected"),
                s.selecting = !1,
                s.selected = !0,
                s.startselected = !0,
                i._trigger("selected", t, {
                    selected: s.element
                })
            }),
            this._trigger("stop", t),
            this.helper.remove(),
            !1
        }
    }),
    e.widget("ui.sortable", e.ui.mouse, {
        version: "1.11.2",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(e, t, i) {
            return e >= t && t + i > e
        },
        _isFloating: function(e) {
            return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
        },
        _create: function() {
            var e = this.options;
            this.containerCache = {},
            this.element.addClass("ui-sortable"),
            this.refresh(),
            this.floating = this.items.length ? "x" === e.axis || this._isFloating(this.items[0].item) : !1,
            this.offset = this.element.offset(),
            this._mouseInit(),
            this._setHandleClassName(),
            this.ready = !0
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "handle" === e && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            e.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            this._mouseDestroy();
            for (var e = this.items.length - 1; e >= 0; e--)
                this.items[e].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(t, i) {
            var s = null
              , n = !1
              , a = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(t),
            e(t.target).parents().each(function() {
                return e.data(this, a.widgetName + "-item") === a ? (s = e(this),
                !1) : void 0
            }),
            e.data(t.target, a.widgetName + "-item") === a && (s = e(t.target)),
            s ? !this.options.handle || i || (e(this.options.handle, s).find("*").addBack().each(function() {
                this === t.target && (n = !0)
            }),
            n) ? (this.currentItem = s,
            this._removeCurrentsFromItems(),
            !0) : !1 : !1)
        },
        _mouseStart: function(t, i, s) {
            var n, a, o = this.options;
            if (this.currentContainer = this,
            this.refreshPositions(),
            this.helper = this._createHelper(t),
            this._cacheHelperProportions(),
            this._cacheMargins(),
            this.scrollParent = this.helper.scrollParent(),
            this.offset = this.currentItem.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            e.extend(this.offset, {
                click: {
                    left: t.pageX - this.offset.left,
                    top: t.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.helper.css("position", "absolute"),
            this.cssPosition = this.helper.css("position"),
            this.originalPosition = this._generatePosition(t),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt),
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            },
            this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
            this._createPlaceholder(),
            o.containment && this._setContainment(),
            o.cursor && "auto" !== o.cursor && (a = this.document.find("body"),
            this.storedCursor = a.css("cursor"),
            a.css("cursor", o.cursor),
            this.storedStylesheet = e("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(a)),
            o.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", o.opacity)),
            o.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", o.zIndex)),
            this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()),
            this._trigger("start", t, this._uiHash()),
            this._preserveHelperProportions || this._cacheHelperProportions(),
            !s)
                for (n = this.containers.length - 1; n >= 0; n--)
                    this.containers[n]._trigger("activate", t, this._uiHash(this));
            return e.ui.ddmanager && (e.ui.ddmanager.current = this),
            e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this.dragging = !0,
            this.helper.addClass("ui-sortable-helper"),
            this._mouseDrag(t),
            !0
        },
        _mouseDrag: function(t) {
            var i, s, n, a, o = this.options, r = !1;
            for (this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
            this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < o.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + o.scrollSpeed : t.pageY - this.overflowOffset.top < o.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - o.scrollSpeed),
            this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < o.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + o.scrollSpeed : t.pageX - this.overflowOffset.left < o.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - o.scrollSpeed)) : (t.pageY - e(document).scrollTop() < o.scrollSensitivity ? r = e(document).scrollTop(e(document).scrollTop() - o.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < o.scrollSensitivity && (r = e(document).scrollTop(e(document).scrollTop() + o.scrollSpeed)),
            t.pageX - e(document).scrollLeft() < o.scrollSensitivity ? r = e(document).scrollLeft(e(document).scrollLeft() - o.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < o.scrollSensitivity && (r = e(document).scrollLeft(e(document).scrollLeft() + o.scrollSpeed))),
            r !== !1 && e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
            i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i],
                n = s.item[0],
                a = this._intersectsWithPointer(s),
                a && s.instance === this.currentContainer && n !== this.currentItem[0] && this.placeholder[1 === a ? "next" : "prev"]()[0] !== n && !e.contains(this.placeholder[0], n) && ("semi-dynamic" === this.options.type ? !e.contains(this.element[0], n) : !0)) {
                    if (this.direction = 1 === a ? "down" : "up",
                    "pointer" !== this.options.tolerance && !this._intersectsWithSides(s))
                        break;
                    this._rearrange(t, s),
                    this._trigger("change", t, this._uiHash());
                    break
                }
            return this._contactContainers(t),
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            this._trigger("sort", t, this._uiHash()),
            this.lastPositionAbs = this.positionAbs,
            !1
        },
        _mouseStop: function(t, i) {
            if (t) {
                if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t),
                this.options.revert) {
                    var s = this
                      , n = this.placeholder.offset()
                      , a = this.options.axis
                      , o = {};
                    a && "x" !== a || (o.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)),
                    a && "y" !== a || (o.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)),
                    this.reverting = !0,
                    e(this.helper).animate(o, parseInt(this.options.revert, 10) || 500, function() {
                        s._clear(t)
                    })
                } else
                    this._clear(t, i);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }),
                "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var t = this.containers.length - 1; t >= 0; t--)
                    this.containers[t]._trigger("deactivate", null, this._uiHash(this)),
                    this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)),
                    this.containers[t].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(),
            e.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }),
            this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)),
            this
        },
        serialize: function(t) {
            var i = this._getItemsAsjQuery(t && t.connected)
              , s = [];
            return t = t || {},
            e(i).each(function() {
                var i = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                i && s.push((t.key || i[1] + "[]") + "=" + (t.key && t.expression ? i[1] : i[2]))
            }),
            !s.length && t.key && s.push(t.key + "="),
            s.join("&")
        },
        toArray: function(t) {
            var i = this._getItemsAsjQuery(t && t.connected)
              , s = [];
            return t = t || {},
            i.each(function() {
                s.push(e(t.item || this).attr(t.attribute || "id") || "")
            }),
            s
        },
        _intersectsWith: function(e) {
            var t = this.positionAbs.left
              , i = t + this.helperProportions.width
              , s = this.positionAbs.top
              , n = s + this.helperProportions.height
              , a = e.left
              , o = a + e.width
              , r = e.top
              , h = r + e.height
              , l = this.offset.click.top
              , u = this.offset.click.left
              , d = "x" === this.options.axis || s + l > r && h > s + l
              , c = "y" === this.options.axis || t + u > a && o > t + u
              , p = d && c;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? p : t + this.helperProportions.width / 2 > a && o > i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function(e) {
            var t = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height)
              , i = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width)
              , s = t && i
              , n = this._getDragVerticalDirection()
              , a = this._getDragHorizontalDirection();
            return s ? this.floating ? a && "right" === a || "down" === n ? 2 : 1 : n && ("down" === n ? 2 : 1) : !1
        },
        _intersectsWithSides: function(e) {
            var t = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height)
              , i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width)
              , s = this._getDragVerticalDirection()
              , n = this._getDragHorizontalDirection();
            return this.floating && n ? "right" === n && i || "left" === n && !i : s && ("down" === s && t || "up" === s && !t)
        },
        _getDragVerticalDirection: function() {
            var e = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== e && (e > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var e = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== e && (e > 0 ? "right" : "left")
        },
        refresh: function(e) {
            return this._refreshItems(e),
            this._setHandleClassName(),
            this.refreshPositions(),
            this
        },
        _connectWith: function() {
            var e = this.options;
            return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
        },
        _getItemsAsjQuery: function(t) {
            function i() {
                r.push(this)
            }
            var s, n, a, o, r = [], h = [], l = this._connectWith();
            if (l && t)
                for (s = l.length - 1; s >= 0; s--)
                    for (a = e(l[s]),
                    n = a.length - 1; n >= 0; n--)
                        o = e.data(a[n], this.widgetFullName),
                        o && o !== this && !o.options.disabled && h.push([e.isFunction(o.options.items) ? o.options.items.call(o.element) : e(o.options.items, o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), o]);
            for (h.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]),
            s = h.length - 1; s >= 0; s--)
                h[s][0].each(i);
            return e(r)
        },
        _removeCurrentsFromItems: function() {
            var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = e.grep(this.items, function(e) {
                for (var i = 0; t.length > i; i++)
                    if (t[i] === e.item[0])
                        return !1;
                return !0
            })
        },
        _refreshItems: function(t) {
            this.items = [],
            this.containers = [this];
            var i, s, n, a, o, r, h, l, u = this.items, d = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                item: this.currentItem
            }) : e(this.options.items, this.element), this]], c = this._connectWith();
            if (c && this.ready)
                for (i = c.length - 1; i >= 0; i--)
                    for (n = e(c[i]),
                    s = n.length - 1; s >= 0; s--)
                        a = e.data(n[s], this.widgetFullName),
                        a && a !== this && !a.options.disabled && (d.push([e.isFunction(a.options.items) ? a.options.items.call(a.element[0], t, {
                            item: this.currentItem
                        }) : e(a.options.items, a.element), a]),
                        this.containers.push(a));
            for (i = d.length - 1; i >= 0; i--)
                for (o = d[i][1],
                r = d[i][0],
                s = 0,
                l = r.length; l > s; s++)
                    h = e(r[s]),
                    h.data(this.widgetName + "-item", o),
                    u.push({
                        item: h,
                        instance: o,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
        },
        refreshPositions: function(t) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, a;
            for (i = this.items.length - 1; i >= 0; i--)
                s = this.items[i],
                s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? e(this.options.toleranceElement, s.item) : s.item,
                t || (s.width = n.outerWidth(),
                s.height = n.outerHeight()),
                a = n.offset(),
                s.left = a.left,
                s.top = a.top);
            if (this.options.custom && this.options.custom.refreshContainers)
                this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--)
                    a = this.containers[i].element.offset(),
                    this.containers[i].containerCache.left = a.left,
                    this.containers[i].containerCache.top = a.top,
                    this.containers[i].containerCache.width = this.containers[i].element.outerWidth(),
                    this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function(t) {
            t = t || this;
            var i, s = t.options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder,
            s.placeholder = {
                element: function() {
                    var s = t.currentItem[0].nodeName.toLowerCase()
                      , n = e("<" + s + ">", t.document[0]).addClass(i || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tr" === s ? t.currentItem.children().each(function() {
                        e("<td>&#160;</td>", t.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(n)
                    }) : "img" === s && n.attr("src", t.currentItem.attr("src")),
                    i || n.css("visibility", "hidden"),
                    n
                },
                update: function(e, n) {
                    (!i || s.forcePlaceholderSize) && (n.height() || n.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)),
                    n.width() || n.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
                }
            }),
            t.placeholder = e(s.placeholder.element.call(t.element, t.currentItem)),
            t.currentItem.after(t.placeholder),
            s.placeholder.update(t, t.placeholder)
        },
        _contactContainers: function(t) {
            var i, s, n, a, o, r, h, l, u, d, c = null, p = null;
            for (i = this.containers.length - 1; i >= 0; i--)
                if (!e.contains(this.currentItem[0], this.containers[i].element[0]))
                    if (this._intersectsWith(this.containers[i].containerCache)) {
                        if (c && e.contains(this.containers[i].element[0], c.element[0]))
                            continue;
                        c = this.containers[i],
                        p = i
                    } else
                        this.containers[i].containerCache.over && (this.containers[i]._trigger("out", t, this._uiHash(this)),
                        this.containers[i].containerCache.over = 0);
            if (c)
                if (1 === this.containers.length)
                    this.containers[p].containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1);
                else {
                    for (n = 1e4,
                    a = null,
                    u = c.floating || this._isFloating(this.currentItem),
                    o = u ? "left" : "top",
                    r = u ? "width" : "height",
                    d = u ? "clientX" : "clientY",
                    s = this.items.length - 1; s >= 0; s--)
                        e.contains(this.containers[p].element[0], this.items[s].item[0]) && this.items[s].item[0] !== this.currentItem[0] && (h = this.items[s].item.offset()[o],
                        l = !1,
                        t[d] - h > this.items[s][r] / 2 && (l = !0),
                        n > Math.abs(t[d] - h) && (n = Math.abs(t[d] - h),
                        a = this.items[s],
                        this.direction = l ? "up" : "down"));
                    if (!a && !this.options.dropOnEmpty)
                        return;
                    if (this.currentContainer === this.containers[p])
                        return this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash()),
                        this.currentContainer.containerCache.over = 1),
                        void 0;
                    a ? this._rearrange(t, a, null, !0) : this._rearrange(t, null, this.containers[p].element, !0),
                    this._trigger("change", t, this._uiHash()),
                    this.containers[p]._trigger("change", t, this._uiHash(this)),
                    this.currentContainer = this.containers[p],
                    this.options.placeholder.update(this.currentContainer, this.placeholder),
                    this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1
                }
        },
        _createHelper: function(t) {
            var i = this.options
              , s = e.isFunction(i.helper) ? e(i.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return s.parents("body").length || e("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]),
            s[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }),
            (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()),
            (!s[0].style.height || i.forceHelperSize) && s.height(this.currentItem.height()),
            s
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var t = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var e = this.currentItem.position();
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode),
            ("document" === n.containment || "window" === n.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e("document" === n.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (e("document" === n.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
            /^(document|window|parent)$/.test(n.containment) || (t = e(n.containment)[0],
            i = e(n.containment).offset(),
            s = "hidden" !== e(t).css("overflow"),
            this.containment = [i.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(t, i) {
            i || (i = this.position);
            var s = "absolute" === t ? 1 : -1
              , n = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent
              , a = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : a ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : a ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function(t) {
            var i, s, n = this.options, a = t.pageX, o = t.pageY, r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()),
            this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (a = this.containment[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < this.containment[1] && (o = this.containment[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > this.containment[2] && (a = this.containment[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > this.containment[3] && (o = this.containment[3] + this.offset.click.top)),
            n.grid && (i = this.originalPageY + Math.round((o - this.originalPageY) / n.grid[1]) * n.grid[1],
            o = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i,
            s = this.originalPageX + Math.round((a - this.originalPageX) / n.grid[0]) * n.grid[0],
            a = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)),
            {
                top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
                left: a - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function(e, t, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling),
            this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function() {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function(e, t) {
            function i(e, t, i) {
                return function(s) {
                    i._trigger(e, s, t._uiHash(t))
                }
            }
            this.reverting = !1;
            var s, n = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem),
            this._noFinalSort = null,
            this.helper[0] === this.currentItem[0]) {
                for (s in this._storedCSS)
                    ("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) && (this._storedCSS[s] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else
                this.currentItem.show();
            for (this.fromOutside && !t && n.push(function(e) {
                this._trigger("receive", e, this._uiHash(this.fromOutside))
            }),
            !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || n.push(function(e) {
                this._trigger("update", e, this._uiHash())
            }),
            this !== this.currentContainer && (t || (n.push(function(e) {
                this._trigger("remove", e, this._uiHash())
            }),
            n.push(function(e) {
                return function(t) {
                    e._trigger("receive", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)),
            n.push(function(e) {
                return function(t) {
                    e._trigger("update", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)))),
            s = this.containers.length - 1; s >= 0; s--)
                t || n.push(i("deactivate", this, this.containers[s])),
                this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])),
                this.containers[s].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove()),
            this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
            this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex),
            this.dragging = !1,
            t || this._trigger("beforeStop", e, this._uiHash()),
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            this.helper = null),
            !t) {
                for (s = 0; n.length > s; s++)
                    n[s].call(this, e);
                this._trigger("stop", e, this._uiHash())
            }
            return this.fromOutside = !1,
            !this.cancelHelperRemoval
        },
        _trigger: function() {
            e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function(t) {
            var i = t || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || e([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: t ? t.element : null
            }
        }
    }),
    e.widget("ui.accordion", {
        version: "1.11.2",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var t = this.options;
            this.prevShow = this.prevHide = e(),
            this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
            t.collapsible || t.active !== !1 && null != t.active || (t.active = 0),
            this._processPanels(),
            0 > t.active && (t.active += this.headers.length),
            this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : e()
            }
        },
        _createIcons: function() {
            var t = this.options.icons;
            t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers),
            this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),
            this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var e;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),
            this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),
            this._destroyIcons(),
            e = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),
            "content" !== this.options.heightStyle && e.css("height", "")
        },
        _setOption: function(e, t) {
            return "active" === e ? (this._activate(t),
            void 0) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event),
            this._setupEvents(t)),
            this._super(e, t),
            "collapsible" !== e || t || this.options.active !== !1 || this._activate(0),
            "icons" === e && (this._destroyIcons(),
            t && this._createIcons()),
            "disabled" === e && (this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)),
            void 0)
        },
        _keydown: function(t) {
            if (!t.altKey && !t.ctrlKey) {
                var i = e.ui.keyCode
                  , s = this.headers.length
                  , n = this.headers.index(t.target)
                  , a = !1;
                switch (t.keyCode) {
                case i.RIGHT:
                case i.DOWN:
                    a = this.headers[(n + 1) % s];
                    break;
                case i.LEFT:
                case i.UP:
                    a = this.headers[(n - 1 + s) % s];
                    break;
                case i.SPACE:
                case i.ENTER:
                    this._eventHandler(t);
                    break;
                case i.HOME:
                    a = this.headers[0];
                    break;
                case i.END:
                    a = this.headers[s - 1]
                }
                a && (e(t.target).attr("tabIndex", -1),
                e(a).attr("tabIndex", 0),
                a.focus(),
                t.preventDefault())
            }
        },
        _panelKeyDown: function(t) {
            t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
        },
        refresh: function() {
            var t = this.options;
            this._processPanels(),
            t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1,
            this.active = e()) : t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1,
            this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active),
            this._destroyIcons(),
            this._refresh()
        },
        _processPanels: function() {
            var e = this.headers
              , t = this.panels;
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),
            this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),
            t && (this._off(e.not(this.headers)),
            this._off(t.not(this.panels)))
        },
        _refresh: function() {
            var t, i = this.options, s = i.heightStyle, n = this.element.parent();
            this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),
            this.active.next().addClass("ui-accordion-content-active").show(),
            this.headers.attr("role", "tab").each(function() {
                var t = e(this)
                  , i = t.uniqueId().attr("id")
                  , s = t.next()
                  , n = s.uniqueId().attr("id");
                t.attr("aria-controls", n),
                s.attr("aria-labelledby", i)
            }).next().attr("role", "tabpanel"),
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(),
            this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0),
            this._createIcons(),
            this._setupEvents(i.event),
            "fill" === s ? (t = n.height(),
            this.element.siblings(":visible").each(function() {
                var i = e(this)
                  , s = i.css("position");
                "absolute" !== s && "fixed" !== s && (t -= i.outerHeight(!0))
            }),
            this.headers.each(function() {
                t -= e(this).outerHeight(!0)
            }),
            this.headers.next().each(function() {
                e(this).height(Math.max(0, t - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === s && (t = 0,
            this.headers.next().each(function() {
                t = Math.max(t, e(this).css("height", "").height())
            }).height(t))
        },
        _activate: function(t) {
            var i = this._findActive(t)[0];
            i !== this.active[0] && (i = i || this.active[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return "number" == typeof t ? this.headers.eq(t) : e()
        },
        _setupEvents: function(t) {
            var i = {
                keydown: "_keydown"
            };
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.headers.add(this.headers.next())),
            this._on(this.headers, i),
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }),
            this._hoverable(this.headers),
            this._focusable(this.headers)
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n[0] === s[0]
              , o = a && i.collapsible
              , r = o ? e() : n.next()
              , h = s.next()
              , l = {
                oldHeader: s,
                oldPanel: h,
                newHeader: o ? e() : n,
                newPanel: r
            };
            t.preventDefault(),
            a && !i.collapsible || this._trigger("beforeActivate", t, l) === !1 || (i.active = o ? !1 : this.headers.index(n),
            this.active = a ? e() : n,
            this._toggle(l),
            s.removeClass("ui-accordion-header-active ui-state-active"),
            i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),
            a || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
            i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),
            n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(t) {
            var i = t.newPanel
              , s = this.prevShow.length ? this.prevShow : t.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0),
            this.prevShow = i,
            this.prevHide = s,
            this.options.animate ? this._animate(i, s, t) : (s.hide(),
            i.show(),
            this._toggleComplete(t)),
            s.attr({
                "aria-hidden": "true"
            }),
            s.prev().attr("aria-selected", "false"),
            i.length && s.length ? s.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function() {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                tabIndex: 0,
                "aria-expanded": "true"
            })
        },
        _animate: function(e, t, i) {
            var s, n, a, o = this, r = 0, h = e.length && (!t.length || e.index() < t.index()), l = this.options.animate || {}, u = h && l.down || l, d = function() {
                o._toggleComplete(i)
            };
            return "number" == typeof u && (a = u),
            "string" == typeof u && (n = u),
            n = n || u.easing || l.easing,
            a = a || u.duration || l.duration,
            t.length ? e.length ? (s = e.show().outerHeight(),
            t.animate(this.hideProps, {
                duration: a,
                easing: n,
                step: function(e, t) {
                    t.now = Math.round(e)
                }
            }),
            e.hide().animate(this.showProps, {
                duration: a,
                easing: n,
                complete: d,
                step: function(e, i) {
                    i.now = Math.round(e),
                    "height" !== i.prop ? r += i.now : "content" !== o.options.heightStyle && (i.now = Math.round(s - t.outerHeight() - r),
                    r = 0)
                }
            }),
            void 0) : t.animate(this.hideProps, a, n, d) : e.animate(this.showProps, a, n, d)
        },
        _toggleComplete: function(e) {
            var t = e.oldPanel;
            t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
            t.length && (t.parent()[0].className = t.parent()[0].className),
            this._trigger("activate", null, e)
        }
    }),
    e.widget("ui.menu", {
        version: "1.11.2",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element,
            this.mouseHandled = !1,
            this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }),
            this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"),
            this._on({
                "mousedown .ui-menu-item": function(e) {
                    e.preventDefault()
                },
                "click .ui-menu-item": function(t) {
                    var i = e(t.target);
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t),
                    t.isPropagationStopped() || (this.mouseHandled = !0),
                    i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]),
                    this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(t) {
                    if (!this.previousFilter) {
                        var i = e(t.currentTarget);
                        i.siblings(".ui-state-active").removeClass("ui-state-active"),
                        this.focus(t, i)
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(e, t) {
                    var i = this.active || this.element.find(this.options.items).eq(0);
                    t || this.focus(e, i)
                },
                blur: function(t) {
                    this._delay(function() {
                        e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                    })
                },
                keydown: "_keydown"
            }),
            this.refresh(),
            this._on(this.document, {
                click: function(e) {
                    this._closeOnDocumentClick(e) && this.collapseAll(e),
                    this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
            this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var t = e(this);
                t.data("ui-menu-submenu-carat") && t.remove()
            }),
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(t) {
            var i, s, n, a, o = !0;
            switch (t.keyCode) {
            case e.ui.keyCode.PAGE_UP:
                this.previousPage(t);
                break;
            case e.ui.keyCode.PAGE_DOWN:
                this.nextPage(t);
                break;
            case e.ui.keyCode.HOME:
                this._move("first", "first", t);
                break;
            case e.ui.keyCode.END:
                this._move("last", "last", t);
                break;
            case e.ui.keyCode.UP:
                this.previous(t);
                break;
            case e.ui.keyCode.DOWN:
                this.next(t);
                break;
            case e.ui.keyCode.LEFT:
                this.collapse(t);
                break;
            case e.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                break;
            case e.ui.keyCode.ENTER:
            case e.ui.keyCode.SPACE:
                this._activate(t);
                break;
            case e.ui.keyCode.ESCAPE:
                this.collapse(t);
                break;
            default:
                o = !1,
                s = this.previousFilter || "",
                n = String.fromCharCode(t.keyCode),
                a = !1,
                clearTimeout(this.filterTimer),
                n === s ? a = !0 : n = s + n,
                i = this._filterMenuItems(n),
                i = a && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i,
                i.length || (n = String.fromCharCode(t.keyCode),
                i = this._filterMenuItems(n)),
                i.length ? (this.focus(t, i),
                this.previousFilter = n,
                this.filterTimer = this._delay(function() {
                    delete this.previousFilter
                }, 1e3)) : delete this.previousFilter
            }
            o && t.preventDefault()
        },
        _activate: function(e) {
            this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(e) : this.select(e))
        },
        refresh: function() {
            var t, i, s = this, n = this.options.icons.submenu, a = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length),
            a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var t = e(this)
                  , i = t.parent()
                  , s = e("<span>").addClass("ui-menu-icon ui-icon " + n).data("ui-menu-submenu-carat", !0);
                i.attr("aria-haspopup", "true").prepend(s),
                t.attr("aria-labelledby", i.attr("id"))
            }),
            t = a.add(this.element),
            i = t.find(this.options.items),
            i.not(".ui-menu-item").each(function() {
                var t = e(this);
                s._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider")
            }),
            i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }),
            i.filter(".ui-state-disabled").attr("aria-disabled", "true"),
            this.active && !e.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(e, t) {
            "icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),
            "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this._super(e, t)
        },
        focus: function(e, t) {
            var i, s;
            this.blur(e, e && "focus" === e.type),
            this._scrollIntoView(t),
            this.active = t.first(),
            s = this.active.addClass("ui-state-focus").removeClass("ui-state-active"),
            this.options.role && this.element.attr("aria-activedescendant", s.attr("id")),
            this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),
            e && "keydown" === e.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay),
            i = t.children(".ui-menu"),
            i.length && e && /^mouse/.test(e.type) && this._startOpening(i),
            this.activeMenu = t.parent(),
            this._trigger("focus", e, {
                item: t
            })
        },
        _scrollIntoView: function(t) {
            var i, s, n, a, o, r;
            this._hasScroll() && (i = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0,
            s = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0,
            n = t.offset().top - this.activeMenu.offset().top - i - s,
            a = this.activeMenu.scrollTop(),
            o = this.activeMenu.height(),
            r = t.outerHeight(),
            0 > n ? this.activeMenu.scrollTop(a + n) : n + r > o && this.activeMenu.scrollTop(a + n - o + r))
        },
        blur: function(e, t) {
            t || clearTimeout(this.timer),
            this.active && (this.active.removeClass("ui-state-focus"),
            this.active = null,
            this._trigger("blur", e, {
                item: this.active
            }))
        },
        _startOpening: function(e) {
            clearTimeout(this.timer),
            "true" === e.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(),
                this._open(e)
            }, this.delay))
        },
        _open: function(t) {
            var i = e.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer),
            this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
            t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(t, i) {
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                var s = i ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element),
                this._close(s),
                this.blur(t),
                this.activeMenu = s
            }, this.delay)
        },
        _close: function(e) {
            e || (e = this.active ? this.active.parent() : this.element),
            e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
        },
        _closeOnDocumentClick: function(t) {
            return !e(t.target).closest(".ui-menu").length
        },
        _isDivider: function(e) {
            return !/[^\-\u2014\u2013\s]/.test(e.text())
        },
        collapse: function(e) {
            var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            t && t.length && (this._close(),
            this.focus(e, t))
        },
        expand: function(e) {
            var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            t && t.length && (this._open(t.parent()),
            this._delay(function() {
                this.focus(e, t)
            }))
        },
        next: function(e) {
            this._move("next", "first", e)
        },
        previous: function(e) {
            this._move("prev", "last", e)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(e, t, i) {
            var s;
            this.active && (s = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)),
            s && s.length && this.active || (s = this.activeMenu.find(this.options.items)[t]()),
            this.focus(i, s)
        },
        nextPage: function(t) {
            var i, s, n;
            return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.nextAll(".ui-menu-item").each(function() {
                return i = e(this),
                0 > i.offset().top - s - n
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())),
            void 0) : (this.next(t),
            void 0)
        },
        previousPage: function(t) {
            var i, s, n;
            return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.prevAll(".ui-menu-item").each(function() {
                return i = e(this),
                i.offset().top - s + n > 0
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items).first())),
            void 0) : (this.next(t),
            void 0)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(t) {
            this.active = this.active || e(t.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(t, !0),
            this._trigger("select", t, i)
        },
        _filterMenuItems: function(t) {
            var i = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
              , s = RegExp("^" + i, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
                return s.test(e.trim(e(this).text()))
            })
        }
    }),
    e.widget("ui.autocomplete", {
        version: "1.11.2",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var t, i, s, n = this.element[0].nodeName.toLowerCase(), a = "textarea" === n, o = "input" === n;
            this.isMultiLine = a ? !0 : o ? !1 : this.element.prop("isContentEditable"),
            this.valueMethod = this.element[a || o ? "val" : "text"],
            this.isNewMenu = !0,
            this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
            this._on(this.element, {
                keydown: function(n) {
                    if (this.element.prop("readOnly"))
                        return t = !0,
                        s = !0,
                        i = !0,
                        void 0;
                    t = !1,
                    s = !1,
                    i = !1;
                    var a = e.ui.keyCode;
                    switch (n.keyCode) {
                    case a.PAGE_UP:
                        t = !0,
                        this._move("previousPage", n);
                        break;
                    case a.PAGE_DOWN:
                        t = !0,
                        this._move("nextPage", n);
                        break;
                    case a.UP:
                        t = !0,
                        this._keyEvent("previous", n);
                        break;
                    case a.DOWN:
                        t = !0,
                        this._keyEvent("next", n);
                        break;
                    case a.ENTER:
                        this.menu.active && (t = !0,
                        n.preventDefault(),
                        this.menu.select(n));
                        break;
                    case a.TAB:
                        this.menu.active && this.menu.select(n);
                        break;
                    case a.ESCAPE:
                        this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term),
                        this.close(n),
                        n.preventDefault());
                        break;
                    default:
                        i = !0,
                        this._searchTimeout(n)
                    }
                },
                keypress: function(s) {
                    if (t)
                        return t = !1,
                        (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(),
                        void 0;
                    if (!i) {
                        var n = e.ui.keyCode;
                        switch (s.keyCode) {
                        case n.PAGE_UP:
                            this._move("previousPage", s);
                            break;
                        case n.PAGE_DOWN:
                            this._move("nextPage", s);
                            break;
                        case n.UP:
                            this._keyEvent("previous", s);
                            break;
                        case n.DOWN:
                            this._keyEvent("next", s)
                        }
                    }
                },
                input: function(e) {
                    return s ? (s = !1,
                    e.preventDefault(),
                    void 0) : (this._searchTimeout(e),
                    void 0)
                },
                focus: function() {
                    this.selectedItem = null,
                    this.previous = this._value()
                },
                blur: function(e) {
                    return this.cancelBlur ? (delete this.cancelBlur,
                    void 0) : (clearTimeout(this.searching),
                    this.close(e),
                    this._change(e),
                    void 0)
                }
            }),
            this._initSource(),
            this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"),
            this._on(this.menu.element, {
                mousedown: function(t) {
                    t.preventDefault(),
                    this.cancelBlur = !0,
                    this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    e(t.target).closest(".ui-menu-item").length || this._delay(function() {
                        var t = this;
                        this.document.one("mousedown", function(s) {
                            s.target === t.element[0] || s.target === i || e.contains(i, s.target) || t.close()
                        })
                    })
                },
                menufocus: function(t, i) {
                    var s, n;
                    return this.isNewMenu && (this.isNewMenu = !1,
                    t.originalEvent && /^mouse/.test(t.originalEvent.type)) ? (this.menu.blur(),
                    this.document.one("mousemove", function() {
                        e(t.target).trigger(t.originalEvent)
                    }),
                    void 0) : (n = i.item.data("ui-autocomplete-item"),
                    !1 !== this._trigger("focus", t, {
                        item: n
                    }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(n.value),
                    s = i.item.attr("aria-label") || n.value,
                    s && e.trim(s).length && (this.liveRegion.children().hide(),
                    e("<div>").text(s).appendTo(this.liveRegion)),
                    void 0)
                },
                menuselect: function(e, t) {
                    var i = t.item.data("ui-autocomplete-item")
                      , s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(),
                    this.previous = s,
                    this._delay(function() {
                        this.previous = s,
                        this.selectedItem = i
                    })),
                    !1 !== this._trigger("select", e, {
                        item: i
                    }) && this._value(i.value),
                    this.term = this._value(),
                    this.close(e),
                    this.selectedItem = i
                }
            }),
            this.liveRegion = e("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching),
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove()
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "source" === e && this._initSource(),
            "appendTo" === e && this.menu.element.appendTo(this._appendTo()),
            "disabled" === e && t && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _initSource: function() {
            var t, i, s = this;
            e.isArray(this.options.source) ? (t = this.options.source,
            this.source = function(i, s) {
                s(e.ui.autocomplete.filter(t, i.term))
            }
            ) : "string" == typeof this.options.source ? (i = this.options.source,
            this.source = function(t, n) {
                s.xhr && s.xhr.abort(),
                s.xhr = e.ajax({
                    url: i,
                    data: t,
                    dataType: "json",
                    success: function(e) {
                        n(e)
                    },
                    error: function() {
                        n([])
                    }
                })
            }
            ) : this.source = this.options.source
        },
        _searchTimeout: function(e) {
            clearTimeout(this.searching),
            this.searching = this._delay(function() {
                var t = this.term === this._value()
                  , i = this.menu.element.is(":visible")
                  , s = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
                (!t || t && !i && !s) && (this.selectedItem = null,
                this.search(null, e))
            }, this.options.delay)
        },
        search: function(e, t) {
            return e = null != e ? e : this._value(),
            this.term = this._value(),
            e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : void 0
        },
        _search: function(e) {
            this.pending++,
            this.element.addClass("ui-autocomplete-loading"),
            this.cancelSearch = !1,
            this.source({
                term: e
            }, this._response())
        },
        _response: function() {
            var t = ++this.requestIndex;
            return e.proxy(function(e) {
                t === this.requestIndex && this.__response(e),
                this.pending--,
                this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(e) {
            e && (e = this._normalize(e)),
            this._trigger("response", null, {
                content: e
            }),
            !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e),
            this._trigger("open")) : this._close()
        },
        close: function(e) {
            this.cancelSearch = !0,
            this._close(e)
        },
        _close: function(e) {
            this.menu.element.is(":visible") && (this.menu.element.hide(),
            this.menu.blur(),
            this.isNewMenu = !0,
            this._trigger("close", e))
        },
        _change: function(e) {
            this.previous !== this._value() && this._trigger("change", e, {
                item: this.selectedItem
            })
        },
        _normalize: function(t) {
            return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
                return "string" == typeof t ? {
                    label: t,
                    value: t
                } : e.extend({}, t, {
                    label: t.label || t.value,
                    value: t.value || t.label
                })
            })
        },
        _suggest: function(t) {
            var i = this.menu.element.empty();
            this._renderMenu(i, t),
            this.isNewMenu = !0,
            this.menu.refresh(),
            i.show(),
            this._resizeMenu(),
            i.position(e.extend({
                of: this.element
            }, this.options.position)),
            this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var e = this.menu.element;
            e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(t, i) {
            var s = this;
            e.each(i, function(e, i) {
                s._renderItemData(t, i)
            })
        },
        _renderItemData: function(e, t) {
            return this._renderItem(e, t).data("ui-autocomplete-item", t)
        },
        _renderItem: function(t, i) {
            return e("<li>").text(i.label).appendTo(t)
        },
        _move: function(e, t) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this.isMultiLine || this._value(this.term),
            this.menu.blur(),
            void 0) : (this.menu[e](t),
            void 0) : (this.search(null, t),
            void 0)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(e, t) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t),
            t.preventDefault())
        }
    }),
    e.extend(e.ui.autocomplete, {
        escapeRegex: function(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(t, i) {
            var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i");
            return e.grep(t, function(e) {
                return s.test(e.label || e.value || e)
            })
        }
    }),
    e.widget("ui.autocomplete", e.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(e) {
                    return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(t) {
            var i;
            this._superApply(arguments),
            this.options.disabled || this.cancelSearch || (i = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults,
            this.liveRegion.children().hide(),
            e("<div>").text(i).appendTo(this.liveRegion))
        }
    }),
    e.ui.autocomplete;
    var c, p = "ui-button ui-widget ui-state-default ui-corner-all", f = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", m = function() {
        var t = e(this);
        setTimeout(function() {
            t.find(":ui-button").button("refresh")
        }, 1)
    }, g = function(t) {
        var i = t.name
          , s = t.form
          , n = e([]);
        return i && (i = i.replace(/'/g, "\\'"),
        n = s ? e(s).find("[name='" + i + "'][type=radio]") : e("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function() {
            return !this.form
        })),
        n
    };
    e.widget("ui.button", {
        version: "1.11.2",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, m),
            "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled),
            this._determineButtonType(),
            this.hasTitle = !!this.buttonElement.attr("title");
            var t = this
              , i = this.options
              , s = "checkbox" === this.type || "radio" === this.type
              , n = s ? "" : "ui-state-active";
            null === i.label && (i.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()),
            this._hoverable(this.buttonElement),
            this.buttonElement.addClass(p).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                i.disabled || this === c && e(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                i.disabled || e(this).removeClass(n)
            }).bind("click" + this.eventNamespace, function(e) {
                i.disabled && (e.preventDefault(),
                e.stopImmediatePropagation())
            }),
            this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }),
            s && this.element.bind("change" + this.eventNamespace, function() {
                t.refresh()
            }),
            "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                return i.disabled ? !1 : void 0
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1;
                e(this).addClass("ui-state-active"),
                t.buttonElement.attr("aria-pressed", "true");
                var s = t.element[0];
                g(s).not(s).map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                return i.disabled ? !1 : (e(this).addClass("ui-state-active"),
                c = this,
                t.document.one("mouseup", function() {
                    c = null
                }),
                void 0)
            }).bind("mouseup" + this.eventNamespace, function() {
                return i.disabled ? !1 : (e(this).removeClass("ui-state-active"),
                void 0)
            }).bind("keydown" + this.eventNamespace, function(t) {
                return i.disabled ? !1 : ((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"),
                void 0)
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                e(this).removeClass("ui-state-active")
            }),
            this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                t.keyCode === e.ui.keyCode.SPACE && e(this).click()
            })),
            this._setOption("disabled", i.disabled),
            this._resetButton()
        },
        _determineButtonType: function() {
            var e, t, i;
            this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button",
            "checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(),
            t = "label[for='" + this.element.attr("id") + "']",
            this.buttonElement = e.find(t),
            this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(),
            this.buttonElement = e.filter(t),
            this.buttonElement.length || (this.buttonElement = e.find(t))),
            this.element.addClass("ui-helper-hidden-accessible"),
            i = this.element.is(":checked"),
            i && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"),
            this.buttonElement.removeClass(p + " ui-state-active " + f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
            this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(e, t) {
            return this._super(e, t),
            "disabled" === e ? (this.widget().toggleClass("ui-state-disabled", !!t),
            this.element.prop("disabled", !!t),
            t && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")),
            void 0) : (this._resetButton(),
            void 0)
        },
        refresh: function() {
            var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOption("disabled", t),
            "radio" === this.type ? g(this.element[0]).each(function() {
                e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type)
                return this.options.label && this.element.val(this.options.label),
                void 0;
            var t = this.buttonElement.removeClass(f)
              , i = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text()
              , s = this.options.icons
              , n = s.primary && s.secondary
              , a = [];
            s.primary || s.secondary ? (this.options.text && a.push("ui-button-text-icon" + (n ? "s" : s.primary ? "-primary" : "-secondary")),
            s.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"),
            s.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"),
            this.options.text || (a.push(n ? "ui-button-icons-only" : "ui-button-icon-only"),
            this.hasTitle || t.attr("title", e.trim(i)))) : a.push("ui-button-text-only"),
            t.addClass(a.join(" "))
        }
    }),
    e.widget("ui.buttonset", {
        version: "1.11.2",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(e, t) {
            "disabled" === e && this.buttons.button("option", e, t),
            this._super(e, t)
        },
        refresh: function() {
            var t = "rtl" === this.element.css("direction")
              , i = this.element.find(this.options.items)
              , s = i.filter(":ui-button");
            i.not(":ui-button").button(),
            s.button("refresh"),
            this.buttons = i.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"),
            this.buttons.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    }),
    e.ui.button,
    e.extend(e.ui, {
        datepicker: {
            version: "1.11.2"
        }
    });
    var v;
    e.extend(n.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(e) {
            return r(this._defaults, e || {}),
            this
        },
        _attachDatepicker: function(t, i) {
            var s, n, a;
            s = t.nodeName.toLowerCase(),
            n = "div" === s || "span" === s,
            t.id || (this.uuid += 1,
            t.id = "dp" + this.uuid),
            a = this._newInst(e(t), n),
            a.settings = e.extend({}, i || {}),
            "input" === s ? this._connectDatepicker(t, a) : n && this._inlineDatepicker(t, a)
        },
        _newInst: function(t, i) {
            var s = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: s,
                input: t,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? a(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(t, i) {
            var s = e(t);
            i.append = e([]),
            i.trigger = e([]),
            s.hasClass(this.markerClassName) || (this._attachments(s, i),
            s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),
            this._autoSize(i),
            e.data(t, "datepicker", i),
            i.settings.disabled && this._disableDatepicker(t))
        },
        _attachments: function(t, i) {
            var s, n, a, o = this._get(i, "appendText"), r = this._get(i, "isRTL");
            i.append && i.append.remove(),
            o && (i.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"),
            t[r ? "before" : "after"](i.append)),
            t.unbind("focus", this._showDatepicker),
            i.trigger && i.trigger.remove(),
            s = this._get(i, "showOn"),
            ("focus" === s || "both" === s) && t.focus(this._showDatepicker),
            ("button" === s || "both" === s) && (n = this._get(i, "buttonText"),
            a = this._get(i, "buttonImage"),
            i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                src: a,
                alt: n,
                title: n
            }) : e("<button type='button'></button>").addClass(this._triggerClass).html(a ? e("<img/>").attr({
                src: a,
                alt: n,
                title: n
            }) : n)),
            t[r ? "before" : "after"](i.trigger),
            i.trigger.click(function() {
                return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(),
                e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]),
                !1
            }))
        },
        _autoSize: function(e) {
            if (this._get(e, "autoSize") && !e.inline) {
                var t, i, s, n, a = new Date(2009,11,20), o = this._get(e, "dateFormat");
                o.match(/[DM]/) && (t = function(e) {
                    for (i = 0,
                    s = 0,
                    n = 0; e.length > n; n++)
                        e[n].length > i && (i = e[n].length,
                        s = n);
                    return s
                }
                ,
                a.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))),
                a.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - a.getDay())),
                e.input.attr("size", this._formatDate(e, a).length)
            }
        },
        _inlineDatepicker: function(t, i) {
            var s = e(t);
            s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv),
            e.data(t, "datepicker", i),
            this._setDate(i, this._getDefaultDate(i), !0),
            this._updateDatepicker(i),
            this._updateAlternate(i),
            i.settings.disabled && this._disableDatepicker(t),
            i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(t, i, s, n, a) {
            var o, h, l, u, d, c = this._dialogInst;
            return c || (this.uuid += 1,
            o = "dp" + this.uuid,
            this._dialogInput = e("<input type='text' id='" + o + "' style='position: absolute; top: -100px; width: 0px;'/>"),
            this._dialogInput.keydown(this._doKeyDown),
            e("body").append(this._dialogInput),
            c = this._dialogInst = this._newInst(this._dialogInput, !1),
            c.settings = {},
            e.data(this._dialogInput[0], "datepicker", c)),
            r(c.settings, n || {}),
            i = i && i.constructor === Date ? this._formatDate(c, i) : i,
            this._dialogInput.val(i),
            this._pos = a ? a.length ? a : [a.pageX, a.pageY] : null,
            this._pos || (h = document.documentElement.clientWidth,
            l = document.documentElement.clientHeight,
            u = document.documentElement.scrollLeft || document.body.scrollLeft,
            d = document.documentElement.scrollTop || document.body.scrollTop,
            this._pos = [h / 2 - 100 + u, l / 2 - 150 + d]),
            this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
            c.settings.onSelect = s,
            this._inDialog = !0,
            this.dpDiv.addClass(this._dialogClass),
            this._showDatepicker(this._dialogInput[0]),
            e.blockUI && e.blockUI(this.dpDiv),
            e.data(this._dialogInput[0], "datepicker", c),
            this
        },
        _destroyDatepicker: function(t) {
            var i, s = e(t), n = e.data(t, "datepicker");
            s.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            e.removeData(t, "datepicker"),
            "input" === i ? (n.append.remove(),
            n.trigger.remove(),
            s.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName).empty())
        },
        _enableDatepicker: function(t) {
            var i, s, n = e(t), a = e.data(t, "datepicker");
            n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            "input" === i ? (t.disabled = !1,
            a.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().removeClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)),
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            }))
        },
        _disableDatepicker: function(t) {
            var i, s, n = e(t), a = e.data(t, "datepicker");
            n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            "input" === i ? (t.disabled = !0,
            a.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().addClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)),
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            }),
            this._disabledInputs[this._disabledInputs.length] = t)
        },
        _isDisabledDatepicker: function(e) {
            if (!e)
                return !1;
            for (var t = 0; this._disabledInputs.length > t; t++)
                if (this._disabledInputs[t] === e)
                    return !0;
            return !1
        },
        _getInst: function(t) {
            try {
                return e.data(t, "datepicker")
            } catch (i) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(t, i, s) {
            var n, a, o, h, l = this._getInst(t);
            return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? e.extend({}, e.datepicker._defaults) : l ? "all" === i ? e.extend({}, l.settings) : this._get(l, i) : null : (n = i || {},
            "string" == typeof i && (n = {},
            n[i] = s),
            l && (this._curInst === l && this._hideDatepicker(),
            a = this._getDateDatepicker(t, !0),
            o = this._getMinMaxDate(l, "min"),
            h = this._getMinMaxDate(l, "max"),
            r(l.settings, n),
            null !== o && void 0 !== n.dateFormat && void 0 === n.minDate && (l.settings.minDate = this._formatDate(l, o)),
            null !== h && void 0 !== n.dateFormat && void 0 === n.maxDate && (l.settings.maxDate = this._formatDate(l, h)),
            "disabled"in n && (n.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)),
            this._attachments(e(t), l),
            this._autoSize(l),
            this._setDate(l, a),
            this._updateAlternate(l),
            this._updateDatepicker(l)),
            void 0)
        },
        _changeDatepicker: function(e, t, i) {
            this._optionDatepicker(e, t, i)
        },
        _refreshDatepicker: function(e) {
            var t = this._getInst(e);
            t && this._updateDatepicker(t)
        },
        _setDateDatepicker: function(e, t) {
            var i = this._getInst(e);
            i && (this._setDate(i, t),
            this._updateDatepicker(i),
            this._updateAlternate(i))
        },
        _getDateDatepicker: function(e, t) {
            var i = this._getInst(e);
            return i && !i.inline && this._setDateFromField(i, t),
            i ? this._getDate(i) : null
        },
        _doKeyDown: function(t) {
            var i, s, n, a = e.datepicker._getInst(t.target), o = !0, r = a.dpDiv.is(".ui-datepicker-rtl");
            if (a._keyEvent = !0,
            e.datepicker._datepickerShowing)
                switch (t.keyCode) {
                case 9:
                    e.datepicker._hideDatepicker(),
                    o = !1;
                    break;
                case 13:
                    return n = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", a.dpDiv),
                    n[0] && e.datepicker._selectDay(t.target, a.selectedMonth, a.selectedYear, n[0]),
                    i = e.datepicker._get(a, "onSelect"),
                    i ? (s = e.datepicker._formatDate(a),
                    i.apply(a.input ? a.input[0] : null, [s, a])) : e.datepicker._hideDatepicker(),
                    !1;
                case 27:
                    e.datepicker._hideDatepicker();
                    break;
                case 33:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 34:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 35:
                    (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? 1 : -1, "D"),
                    o = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 38:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? -1 : 1, "D"),
                    o = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 40:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"),
                    o = t.ctrlKey || t.metaKey;
                    break;
                default:
                    o = !1
                }
            else
                36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1;
            o && (t.preventDefault(),
            t.stopPropagation())
        },
        _doKeyPress: function(t) {
            var i, s, n = e.datepicker._getInst(t.target);
            return e.datepicker._get(n, "constrainInput") ? (i = e.datepicker._possibleChars(e.datepicker._get(n, "dateFormat")),
            s = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode),
            t.ctrlKey || t.metaKey || " " > s || !i || i.indexOf(s) > -1) : void 0
        },
        _doKeyUp: function(t) {
            var i, s = e.datepicker._getInst(t.target);
            if (s.input.val() !== s.lastVal)
                try {
                    i = e.datepicker.parseDate(e.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, e.datepicker._getFormatConfig(s)),
                    i && (e.datepicker._setDateFromField(s),
                    e.datepicker._updateAlternate(s),
                    e.datepicker._updateDatepicker(s))
                } catch (n) {}
            return !0
        },
        _showDatepicker: function(t) {
            if (t = t.target || t,
            "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]),
            !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
                var i, n, a, o, h, l, u;
                i = e.datepicker._getInst(t),
                e.datepicker._curInst && e.datepicker._curInst !== i && (e.datepicker._curInst.dpDiv.stop(!0, !0),
                i && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),
                n = e.datepicker._get(i, "beforeShow"),
                a = n ? n.apply(t, [t, i]) : {},
                a !== !1 && (r(i.settings, a),
                i.lastVal = null,
                e.datepicker._lastInput = t,
                e.datepicker._setDateFromField(i),
                e.datepicker._inDialog && (t.value = ""),
                e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t),
                e.datepicker._pos[1] += t.offsetHeight),
                o = !1,
                e(t).parents().each(function() {
                    return o |= "fixed" === e(this).css("position"),
                    !o
                }),
                h = {
                    left: e.datepicker._pos[0],
                    top: e.datepicker._pos[1]
                },
                e.datepicker._pos = null,
                i.dpDiv.empty(),
                i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }),
                e.datepicker._updateDatepicker(i),
                h = e.datepicker._checkOffset(i, h, o),
                i.dpDiv.css({
                    position: e.datepicker._inDialog && e.blockUI ? "static" : o ? "fixed" : "absolute",
                    display: "none",
                    left: h.left + "px",
                    top: h.top + "px"
                }),
                i.inline || (l = e.datepicker._get(i, "showAnim"),
                u = e.datepicker._get(i, "duration"),
                i.dpDiv.css("z-index", s(e(t)) + 1),
                e.datepicker._datepickerShowing = !0,
                e.effects && e.effects.effect[l] ? i.dpDiv.show(l, e.datepicker._get(i, "showOptions"), u) : i.dpDiv[l || "show"](l ? u : null),
                e.datepicker._shouldFocusInput(i) && i.input.focus(),
                e.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function(t) {
            this.maxRows = 4,
            v = t,
            t.dpDiv.empty().append(this._generateHTML(t)),
            this._attachHandlers(t);
            var i, s = this._getNumberOfMonths(t), n = s[1], a = 17, r = t.dpDiv.find("." + this._dayOverClass + " a");
            r.length > 0 && o.apply(r.get(0)),
            t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
            n > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", a * n + "em"),
            t.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
            t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
            t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(),
            t.yearshtml && (i = t.yearshtml,
            setTimeout(function() {
                i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),
                i = t.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(e) {
            return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
        },
        _checkOffset: function(t, i, s) {
            var n = t.dpDiv.outerWidth()
              , a = t.dpDiv.outerHeight()
              , o = t.input ? t.input.outerWidth() : 0
              , r = t.input ? t.input.outerHeight() : 0
              , h = document.documentElement.clientWidth + (s ? 0 : e(document).scrollLeft())
              , l = document.documentElement.clientHeight + (s ? 0 : e(document).scrollTop());
            return i.left -= this._get(t, "isRTL") ? n - o : 0,
            i.left -= s && i.left === t.input.offset().left ? e(document).scrollLeft() : 0,
            i.top -= s && i.top === t.input.offset().top + r ? e(document).scrollTop() : 0,
            i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0),
            i.top -= Math.min(i.top, i.top + a > l && l > a ? Math.abs(a + r) : 0),
            i
        },
        _findPos: function(t) {
            for (var i, s = this._getInst(t), n = this._get(s, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t)); )
                t = t[n ? "previousSibling" : "nextSibling"];
            return i = e(t).offset(),
            [i.left, i.top]
        },
        _hideDatepicker: function(t) {
            var i, s, n, a, o = this._curInst;
            !o || t && o !== e.data(t, "datepicker") || this._datepickerShowing && (i = this._get(o, "showAnim"),
            s = this._get(o, "duration"),
            n = function() {
                e.datepicker._tidyDialog(o)
            }
            ,
            e.effects && (e.effects.effect[i] || e.effects[i]) ? o.dpDiv.hide(i, e.datepicker._get(o, "showOptions"), s, n) : o.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n),
            i || n(),
            this._datepickerShowing = !1,
            a = this._get(o, "onClose"),
            a && a.apply(o.input ? o.input[0] : null, [o.input ? o.input.val() : "", o]),
            this._lastInput = null,
            this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }),
            e.blockUI && (e.unblockUI(),
            e("body").append(this.dpDiv))),
            this._inDialog = !1)
        },
        _tidyDialog: function(e) {
            e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(t) {
            if (e.datepicker._curInst) {
                var i = e(t.target)
                  , s = e.datepicker._getInst(i[0]);
                (i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== s) && e.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(t, i, s) {
            var n = e(t)
              , a = this._getInst(n[0]);
            this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(a, i + ("M" === s ? this._get(a, "showCurrentAtPos") : 0), s),
            this._updateDatepicker(a))
        },
        _gotoToday: function(t) {
            var i, s = e(t), n = this._getInst(s[0]);
            this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay,
            n.drawMonth = n.selectedMonth = n.currentMonth,
            n.drawYear = n.selectedYear = n.currentYear) : (i = new Date,
            n.selectedDay = i.getDate(),
            n.drawMonth = n.selectedMonth = i.getMonth(),
            n.drawYear = n.selectedYear = i.getFullYear()),
            this._notifyChange(n),
            this._adjustDate(s)
        },
        _selectMonthYear: function(t, i, s) {
            var n = e(t)
              , a = this._getInst(n[0]);
            a["selected" + ("M" === s ? "Month" : "Year")] = a["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10),
            this._notifyChange(a),
            this._adjustDate(n)
        },
        _selectDay: function(t, i, s, n) {
            var a, o = e(t);
            e(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0]) || (a = this._getInst(o[0]),
            a.selectedDay = a.currentDay = e("a", n).html(),
            a.selectedMonth = a.currentMonth = i,
            a.selectedYear = a.currentYear = s,
            this._selectDate(t, this._formatDate(a, a.currentDay, a.currentMonth, a.currentYear)))
        },
        _clearDate: function(t) {
            var i = e(t);
            this._selectDate(i, "")
        },
        _selectDate: function(t, i) {
            var s, n = e(t), a = this._getInst(n[0]);
            i = null != i ? i : this._formatDate(a),
            a.input && a.input.val(i),
            this._updateAlternate(a),
            s = this._get(a, "onSelect"),
            s ? s.apply(a.input ? a.input[0] : null, [i, a]) : a.input && a.input.trigger("change"),
            a.inline ? this._updateDatepicker(a) : (this._hideDatepicker(),
            this._lastInput = a.input[0],
            "object" != typeof a.input[0] && a.input.focus(),
            this._lastInput = null)
        },
        _updateAlternate: function(t) {
            var i, s, n, a = this._get(t, "altField");
            a && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"),
            s = this._getDate(t),
            n = this.formatDate(i, s, this._getFormatConfig(t)),
            e(a).each(function() {
                e(this).val(n)
            }))
        },
        noWeekends: function(e) {
            var t = e.getDay();
            return [t > 0 && 6 > t, ""]
        },
        iso8601Week: function(e) {
            var t, i = new Date(e.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
            t = i.getTime(),
            i.setMonth(0),
            i.setDate(1),
            Math.floor(Math.round((t - i) / 864e5) / 7) + 1
        },
        parseDate: function(t, i, s) {
            if (null == t || null == i)
                throw "Invalid arguments";
            if (i = "object" == typeof i ? "" + i : i + "",
            "" === i)
                return null;
            var n, a, o, r, h = 0, l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff, u = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10), d = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort, c = (s ? s.dayNames : null) || this._defaults.dayNames, p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort, f = (s ? s.monthNames : null) || this._defaults.monthNames, m = -1, g = -1, v = -1, y = -1, b = !1, _ = function(e) {
                var i = t.length > n + 1 && t.charAt(n + 1) === e;
                return i && n++,
                i
            }, x = function(e) {
                var t = _(e)
                  , s = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2
                  , n = "y" === e ? s : 1
                  , a = RegExp("^\\d{" + n + "," + s + "}")
                  , o = i.substring(h).match(a);
                if (!o)
                    throw "Missing number at position " + h;
                return h += o[0].length,
                parseInt(o[0], 10)
            }, w = function(t, s, n) {
                var a = -1
                  , o = e.map(_(t) ? n : s, function(e, t) {
                    return [[t, e]]
                }).sort(function(e, t) {
                    return -(e[1].length - t[1].length)
                });
                if (e.each(o, function(e, t) {
                    var s = t[1];
                    return i.substr(h, s.length).toLowerCase() === s.toLowerCase() ? (a = t[0],
                    h += s.length,
                    !1) : void 0
                }),
                -1 !== a)
                    return a + 1;
                throw "Unknown name at position " + h
            }, k = function() {
                if (i.charAt(h) !== t.charAt(n))
                    throw "Unexpected literal at position " + h;
                h++
            };
            for (n = 0; t.length > n; n++)
                if (b)
                    "'" !== t.charAt(n) || _("'") ? k() : b = !1;
                else
                    switch (t.charAt(n)) {
                    case "d":
                        v = x("d");
                        break;
                    case "D":
                        w("D", d, c);
                        break;
                    case "o":
                        y = x("o");
                        break;
                    case "m":
                        g = x("m");
                        break;
                    case "M":
                        g = w("M", p, f);
                        break;
                    case "y":
                        m = x("y");
                        break;
                    case "@":
                        r = new Date(x("@")),
                        m = r.getFullYear(),
                        g = r.getMonth() + 1,
                        v = r.getDate();
                        break;
                    case "!":
                        r = new Date((x("!") - this._ticksTo1970) / 1e4),
                        m = r.getFullYear(),
                        g = r.getMonth() + 1,
                        v = r.getDate();
                        break;
                    case "'":
                        _("'") ? k() : b = !0;
                        break;
                    default:
                        k()
                    }
            if (i.length > h && (o = i.substr(h),
            !/^\s+/.test(o)))
                throw "Extra/unparsed characters found in date: " + o;
            if (-1 === m ? m = (new Date).getFullYear() : 100 > m && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (u >= m ? 0 : -100)),
            y > -1)
                for (g = 1,
                v = y; ; ) {
                    if (a = this._getDaysInMonth(m, g - 1),
                    a >= v)
                        break;
                    g++,
                    v -= a
                }
            if (r = this._daylightSavingAdjust(new Date(m,g - 1,v)),
            r.getFullYear() !== m || r.getMonth() + 1 !== g || r.getDate() !== v)
                throw "Invalid date";
            return r
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
        formatDate: function(e, t, i) {
            if (!t)
                return "";
            var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, a = (i ? i.dayNames : null) || this._defaults.dayNames, o = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, r = (i ? i.monthNames : null) || this._defaults.monthNames, h = function(t) {
                var i = e.length > s + 1 && e.charAt(s + 1) === t;
                return i && s++,
                i
            }, l = function(e, t, i) {
                var s = "" + t;
                if (h(e))
                    for (; i > s.length; )
                        s = "0" + s;
                return s
            }, u = function(e, t, i, s) {
                return h(e) ? s[t] : i[t]
            }, d = "", c = !1;
            if (t)
                for (s = 0; e.length > s; s++)
                    if (c)
                        "'" !== e.charAt(s) || h("'") ? d += e.charAt(s) : c = !1;
                    else
                        switch (e.charAt(s)) {
                        case "d":
                            d += l("d", t.getDate(), 2);
                            break;
                        case "D":
                            d += u("D", t.getDay(), n, a);
                            break;
                        case "o":
                            d += l("o", Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime() - new Date(t.getFullYear(),0,0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            d += l("m", t.getMonth() + 1, 2);
                            break;
                        case "M":
                            d += u("M", t.getMonth(), o, r);
                            break;
                        case "y":
                            d += h("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100;
                            break;
                        case "@":
                            d += t.getTime();
                            break;
                        case "!":
                            d += 1e4 * t.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            h("'") ? d += "'" : c = !0;
                            break;
                        default:
                            d += e.charAt(s)
                        }
            return d
        },
        _possibleChars: function(e) {
            var t, i = "", s = !1, n = function(i) {
                var s = e.length > t + 1 && e.charAt(t + 1) === i;
                return s && t++,
                s
            };
            for (t = 0; e.length > t; t++)
                if (s)
                    "'" !== e.charAt(t) || n("'") ? i += e.charAt(t) : s = !1;
                else
                    switch (e.charAt(t)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        n("'") ? i += "'" : s = !0;
                        break;
                    default:
                        i += e.charAt(t)
                    }
            return i
        },
        _get: function(e, t) {
            return void 0 !== e.settings[t] ? e.settings[t] : this._defaults[t]
        },
        _setDateFromField: function(e, t) {
            if (e.input.val() !== e.lastVal) {
                var i = this._get(e, "dateFormat")
                  , s = e.lastVal = e.input ? e.input.val() : null
                  , n = this._getDefaultDate(e)
                  , a = n
                  , o = this._getFormatConfig(e);
                try {
                    a = this.parseDate(i, s, o) || n
                } catch (r) {
                    s = t ? "" : s
                }
                e.selectedDay = a.getDate(),
                e.drawMonth = e.selectedMonth = a.getMonth(),
                e.drawYear = e.selectedYear = a.getFullYear(),
                e.currentDay = s ? a.getDate() : 0,
                e.currentMonth = s ? a.getMonth() : 0,
                e.currentYear = s ? a.getFullYear() : 0,
                this._adjustInstDate(e)
            }
        },
        _getDefaultDate: function(e) {
            return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
        },
        _determineDate: function(t, i, s) {
            var n = function(e) {
                var t = new Date;
                return t.setDate(t.getDate() + e),
                t
            }
              , a = function(i) {
                try {
                    return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t))
                } catch (s) {}
                for (var n = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, a = n.getFullYear(), o = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l; ) {
                    switch (l[2] || "d") {
                    case "d":
                    case "D":
                        r += parseInt(l[1], 10);
                        break;
                    case "w":
                    case "W":
                        r += 7 * parseInt(l[1], 10);
                        break;
                    case "m":
                    case "M":
                        o += parseInt(l[1], 10),
                        r = Math.min(r, e.datepicker._getDaysInMonth(a, o));
                        break;
                    case "y":
                    case "Y":
                        a += parseInt(l[1], 10),
                        r = Math.min(r, e.datepicker._getDaysInMonth(a, o))
                    }
                    l = h.exec(i)
                }
                return new Date(a,o,r)
            }
              , o = null == i || "" === i ? s : "string" == typeof i ? a(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime());
            return o = o && "Invalid Date" == "" + o ? s : o,
            o && (o.setHours(0),
            o.setMinutes(0),
            o.setSeconds(0),
            o.setMilliseconds(0)),
            this._daylightSavingAdjust(o)
        },
        _daylightSavingAdjust: function(e) {
            return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0),
            e) : null
        },
        _setDate: function(e, t, i) {
            var s = !t
              , n = e.selectedMonth
              , a = e.selectedYear
              , o = this._restrictMinMax(e, this._determineDate(e, t, new Date));
            e.selectedDay = e.currentDay = o.getDate(),
            e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(),
            e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(),
            n === e.selectedMonth && a === e.selectedYear || i || this._notifyChange(e),
            this._adjustInstDate(e),
            e.input && e.input.val(s ? "" : this._formatDate(e))
        },
        _getDate: function(e) {
            var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));
            return t
        },
        _attachHandlers: function(t) {
            var i = this._get(t, "stepMonths")
              , s = "#" + t.id.replace(/\\\\/g, "\\");
            t.dpDiv.find("[data-handler]").map(function() {
                var t = {
                    prev: function() {
                        e.datepicker._adjustDate(s, -i, "M")
                    },
                    next: function() {
                        e.datepicker._adjustDate(s, +i, "M")
                    },
                    hide: function() {
                        e.datepicker._hideDatepicker()
                    },
                    today: function() {
                        e.datepicker._gotoToday(s)
                    },
                    selectDay: function() {
                        return e.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                        !1
                    },
                    selectMonth: function() {
                        return e.datepicker._selectMonthYear(s, this, "M"),
                        !1
                    },
                    selectYear: function() {
                        return e.datepicker._selectMonthYear(s, this, "Y"),
                        !1
                    }
                };
                e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(e) {
            var t, i, s, n, a, o, r, h, l, u, d, c, p, f, m, g, v, y, b, _, x, w, k, T, D, S, M, C, N, A, P, I, z, H, F, E, O, j, W, L = new Date, R = this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())), Y = this._get(e, "isRTL"), B = this._get(e, "showButtonPanel"), J = this._get(e, "hideIfNoPrevNext"), q = this._get(e, "navigationAsDateFormat"), K = this._getNumberOfMonths(e), V = this._get(e, "showCurrentAtPos"), U = this._get(e, "stepMonths"), Q = 1 !== K[0] || 1 !== K[1], G = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear,e.currentMonth,e.currentDay) : new Date(9999,9,9)), X = this._getMinMaxDate(e, "min"), $ = this._getMinMaxDate(e, "max"), Z = e.drawMonth - V, et = e.drawYear;
            if (0 > Z && (Z += 12,
            et--),
            $)
                for (t = this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth() - K[0] * K[1] + 1,$.getDate())),
                t = X && X > t ? X : t; this._daylightSavingAdjust(new Date(et,Z,1)) > t; )
                    Z--,
                    0 > Z && (Z = 11,
                    et--);
            for (e.drawMonth = Z,
            e.drawYear = et,
            i = this._get(e, "prevText"),
            i = q ? this.formatDate(i, this._daylightSavingAdjust(new Date(et,Z - U,1)), this._getFormatConfig(e)) : i,
            s = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : J ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>",
            n = this._get(e, "nextText"),
            n = q ? this.formatDate(n, this._daylightSavingAdjust(new Date(et,Z + U,1)), this._getFormatConfig(e)) : n,
            a = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : J ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>",
            o = this._get(e, "currentText"),
            r = this._get(e, "gotoCurrent") && e.currentDay ? G : R,
            o = q ? this.formatDate(o, r, this._getFormatConfig(e)) : o,
            h = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>",
            l = B ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(e, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (Y ? "" : h) + "</div>" : "",
            u = parseInt(this._get(e, "firstDay"), 10),
            u = isNaN(u) ? 0 : u,
            d = this._get(e, "showWeek"),
            c = this._get(e, "dayNames"),
            p = this._get(e, "dayNamesMin"),
            f = this._get(e, "monthNames"),
            m = this._get(e, "monthNamesShort"),
            g = this._get(e, "beforeShowDay"),
            v = this._get(e, "showOtherMonths"),
            y = this._get(e, "selectOtherMonths"),
            b = this._getDefaultDate(e),
            _ = "",
            w = 0; K[0] > w; w++) {
                for (k = "",
                this.maxRows = 4,
                T = 0; K[1] > T; T++) {
                    if (D = this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),
                    S = " ui-corner-all",
                    M = "",
                    Q) {
                        if (M += "<div class='ui-datepicker-group",
                        K[1] > 1)
                            switch (T) {
                            case 0:
                                M += " ui-datepicker-group-first",
                                S = " ui-corner-" + (Y ? "right" : "left");
                                break;
                            case K[1] - 1:
                                M += " ui-datepicker-group-last",
                                S = " ui-corner-" + (Y ? "left" : "right");
                                break;
                            default:
                                M += " ui-datepicker-group-middle",
                                S = ""
                            }
                        M += "'>"
                    }
                    for (M += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === w ? Y ? a : s : "") + (/all|right/.test(S) && 0 === w ? Y ? s : a : "") + this._generateMonthYearHeader(e, Z, et, X, $, w > 0 || T > 0, f, m) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>",
                    C = d ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "",
                    x = 0; 7 > x; x++)
                        N = (x + u) % 7,
                        C += "<th scope='col'" + ((x + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + c[N] + "'>" + p[N] + "</span></th>";
                    for (M += C + "</tr></thead><tbody>",
                    A = this._getDaysInMonth(et, Z),
                    et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, A)),
                    P = (this._getFirstDayOfMonth(et, Z) - u + 7) % 7,
                    I = Math.ceil((P + A) / 7),
                    z = Q ? this.maxRows > I ? this.maxRows : I : I,
                    this.maxRows = z,
                    H = this._daylightSavingAdjust(new Date(et,Z,1 - P)),
                    F = 0; z > F; F++) {
                        for (M += "<tr>",
                        E = d ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(H) + "</td>" : "",
                        x = 0; 7 > x; x++)
                            O = g ? g.apply(e.input ? e.input[0] : null, [H]) : [!0, ""],
                            j = H.getMonth() !== Z,
                            W = j && !y || !O[0] || X && X > H || $ && H > $,
                            E += "<td class='" + ((x + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (j ? " ui-datepicker-other-month" : "") + (H.getTime() === D.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === H.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (W ? " " + this._unselectableClass + " ui-state-disabled" : "") + (j && !v ? "" : " " + O[1] + (H.getTime() === G.getTime() ? " " + this._currentClass : "") + (H.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + (j && !v || !O[2] ? "" : " title='" + O[2].replace(/'/g, "&#39;") + "'") + (W ? "" : " data-handler='selectDay' data-event='click' data-month='" + H.getMonth() + "' data-year='" + H.getFullYear() + "'") + ">" + (j && !v ? "&#xa0;" : W ? "<span class='ui-state-default'>" + H.getDate() + "</span>" : "<a class='ui-state-default" + (H.getTime() === R.getTime() ? " ui-state-highlight" : "") + (H.getTime() === G.getTime() ? " ui-state-active" : "") + (j ? " ui-priority-secondary" : "") + "' href='#'>" + H.getDate() + "</a>") + "</td>",
                            H.setDate(H.getDate() + 1),
                            H = this._daylightSavingAdjust(H);
                        M += E + "</tr>"
                    }
                    Z++,
                    Z > 11 && (Z = 0,
                    et++),
                    M += "</tbody></table>" + (Q ? "</div>" + (K[0] > 0 && T === K[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""),
                    k += M
                }
                _ += k
            }
            return _ += l,
            e._keyEvent = !1,
            _
        },
        _generateMonthYearHeader: function(e, t, i, s, n, a, o, r) {
            var h, l, u, d, c, p, f, m, g = this._get(e, "changeMonth"), v = this._get(e, "changeYear"), y = this._get(e, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", _ = "";
            if (a || !g)
                _ += "<span class='ui-datepicker-month'>" + o[t] + "</span>";
            else {
                for (h = s && s.getFullYear() === i,
                l = n && n.getFullYear() === i,
                _ += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                u = 0; 12 > u; u++)
                    (!h || u >= s.getMonth()) && (!l || n.getMonth() >= u) && (_ += "<option value='" + u + "'" + (u === t ? " selected='selected'" : "") + ">" + r[u] + "</option>");
                _ += "</select>"
            }
            if (y || (b += _ + (!a && g && v ? "" : "&#xa0;")),
            !e.yearshtml)
                if (e.yearshtml = "",
                a || !v)
                    b += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (d = this._get(e, "yearRange").split(":"),
                    c = (new Date).getFullYear(),
                    p = function(e) {
                        var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? c + parseInt(e, 10) : parseInt(e, 10);
                        return isNaN(t) ? c : t
                    }
                    ,
                    f = p(d[0]),
                    m = Math.max(f, p(d[1] || "")),
                    f = s ? Math.max(f, s.getFullYear()) : f,
                    m = n ? Math.min(m, n.getFullYear()) : m,
                    e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= f; f++)
                        e.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                    e.yearshtml += "</select>",
                    b += e.yearshtml,
                    e.yearshtml = null
                }
            return b += this._get(e, "yearSuffix"),
            y && (b += (!a && g && v ? "" : "&#xa0;") + _),
            b += "</div>"
        },
        _adjustInstDate: function(e, t, i) {
            var s = e.drawYear + ("Y" === i ? t : 0)
              , n = e.drawMonth + ("M" === i ? t : 0)
              , a = Math.min(e.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? t : 0)
              , o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(s,n,a)));
            e.selectedDay = o.getDate(),
            e.drawMonth = e.selectedMonth = o.getMonth(),
            e.drawYear = e.selectedYear = o.getFullYear(),
            ("M" === i || "Y" === i) && this._notifyChange(e)
        },
        _restrictMinMax: function(e, t) {
            var i = this._getMinMaxDate(e, "min")
              , s = this._getMinMaxDate(e, "max")
              , n = i && i > t ? i : t;
            return s && n > s ? s : n
        },
        _notifyChange: function(e) {
            var t = this._get(e, "onChangeMonthYear");
            t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
        },
        _getNumberOfMonths: function(e) {
            var t = this._get(e, "numberOfMonths");
            return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
        },
        _getMinMaxDate: function(e, t) {
            return this._determineDate(e, this._get(e, t + "Date"), null)
        },
        _getDaysInMonth: function(e, t) {
            return 32 - this._daylightSavingAdjust(new Date(e,t,32)).getDate()
        },
        _getFirstDayOfMonth: function(e, t) {
            return new Date(e,t,1).getDay()
        },
        _canAdjustMonth: function(e, t, i, s) {
            var n = this._getNumberOfMonths(e)
              , a = this._daylightSavingAdjust(new Date(i,s + (0 > t ? t : n[0] * n[1]),1));
            return 0 > t && a.setDate(this._getDaysInMonth(a.getFullYear(), a.getMonth())),
            this._isInRange(e, a)
        },
        _isInRange: function(e, t) {
            var i, s, n = this._getMinMaxDate(e, "min"), a = this._getMinMaxDate(e, "max"), o = null, r = null, h = this._get(e, "yearRange");
            return h && (i = h.split(":"),
            s = (new Date).getFullYear(),
            o = parseInt(i[0], 10),
            r = parseInt(i[1], 10),
            i[0].match(/[+\-].*/) && (o += s),
            i[1].match(/[+\-].*/) && (r += s)),
            (!n || t.getTime() >= n.getTime()) && (!a || t.getTime() <= a.getTime()) && (!o || t.getFullYear() >= o) && (!r || r >= t.getFullYear())
        },
        _getFormatConfig: function(e) {
            var t = this._get(e, "shortYearCutoff");
            return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10),
            {
                shortYearCutoff: t,
                dayNamesShort: this._get(e, "dayNamesShort"),
                dayNames: this._get(e, "dayNames"),
                monthNamesShort: this._get(e, "monthNamesShort"),
                monthNames: this._get(e, "monthNames")
            }
        },
        _formatDate: function(e, t, i, s) {
            t || (e.currentDay = e.selectedDay,
            e.currentMonth = e.selectedMonth,
            e.currentYear = e.selectedYear);
            var n = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(s,i,t)) : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));
            return this.formatDate(this._get(e, "dateFormat"), n, this._getFormatConfig(e))
        }
    }),
    e.fn.datepicker = function(t) {
        if (!this.length)
            return this;
        e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick),
        e.datepicker.initialized = !0),
        0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) : this.each(function() {
            "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t)
        }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i))
    }
    ,
    e.datepicker = new n,
    e.datepicker.initialized = !1,
    e.datepicker.uuid = (new Date).getTime(),
    e.datepicker.version = "1.11.2",
    e.datepicker,
    e.widget("ui.dialog", {
        version: "1.11.2",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "Close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(t) {
                    var i = e(this).css(t).offset().top;
                    0 > i && e(this).css("top", t.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            },
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            },
            this.originalTitle = this.element.attr("title"),
            this.options.title = this.options.title || this.originalTitle,
            this._createWrapper(),
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && e.fn.draggable && this._makeDraggable(),
            this.options.resizable && e.fn.resizable && this._makeResizable(),
            this._isOpen = !1,
            this._trackFocus()
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
        },
        _destroy: function() {
            var e, t = this.originalPosition;
            this._destroyOverlay(),
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
            this.uiDialog.stop(!0, !0).remove(),
            this.originalTitle && this.element.attr("title", this.originalTitle),
            e = t.parent.children().eq(t.index),
            e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: e.noop,
        enable: e.noop,
        close: function(t) {
            var i, s = this;
            if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                if (this._isOpen = !1,
                this._focusedElement = null,
                this._destroyOverlay(),
                this._untrackInstance(),
                !this.opener.filter(":focusable").focus().length)
                    try {
                        i = this.document[0].activeElement,
                        i && "body" !== i.nodeName.toLowerCase() && e(i).blur()
                    } catch (n) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    s._trigger("close", t)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(t, i) {
            var s = !1
              , n = this.uiDialog.siblings(".ui-front:visible").map(function() {
                return +e(this).css("z-index")
            }).get()
              , a = Math.max.apply(null, n);
            return a >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", a + 1),
            s = !0),
            s && !i && this._trigger("focus", t),
            s
        },
        open: function() {
            var t = this;
            return this._isOpen ? (this._moveToTop() && this._focusTabbable(),
            void 0) : (this._isOpen = !0,
            this.opener = e(this.document[0].activeElement),
            this._size(),
            this._position(),
            this._createOverlay(),
            this._moveToTop(null, !0),
            this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
            this._show(this.uiDialog, this.options.show, function() {
                t._focusTabbable(),
                t._trigger("focus")
            }),
            this._makeFocusTarget(),
            this._trigger("open"),
            void 0)
        },
        _focusTabbable: function() {
            var e = this._focusedElement;
            e || (e = this.element.find("[autofocus]")),
            e.length || (e = this.element.find(":tabbable")),
            e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
            e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")),
            e.length || (e = this.uiDialog),
            e.eq(0).focus()
        },
        _keepFocus: function(t) {
            function i() {
                var t = this.document[0].activeElement
                  , i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                i || this._focusTabbable()
            }
            t.preventDefault(),
            i.call(this),
            this._delay(i)
        },
        _createWrapper: function() {
            this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()),
            this._on(this.uiDialog, {
                keydown: function(t) {
                    if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE)
                        return t.preventDefault(),
                        this.close(t),
                        void 0;
                    if (t.keyCode === e.ui.keyCode.TAB && !t.isDefaultPrevented()) {
                        var i = this.uiDialog.find(":tabbable")
                          , s = i.filter(":first")
                          , n = i.filter(":last");
                        t.target !== n[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== s[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
                            n.focus()
                        }),
                        t.preventDefault()) : (this._delay(function() {
                            s.focus()
                        }),
                        t.preventDefault())
                    }
                },
                mousedown: function(e) {
                    this._moveToTop(e) && this._focusTabbable()
                }
            }),
            this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var t;
            this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
            this._on(this.uiDialogTitlebar, {
                mousedown: function(t) {
                    e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }),
            this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
            this._on(this.uiDialogTitlebarClose, {
                click: function(e) {
                    e.preventDefault(),
                    this.close(e)
                }
            }),
            t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
            this._title(t),
            this.uiDialog.attr({
                "aria-labelledby": t.attr("id")
            })
        },
        _title: function(e) {
            this.options.title || e.html("&#160;"),
            e.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
            this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
            this._createButtons()
        },
        _createButtons: function() {
            var t = this
              , i = this.options.buttons;
            return this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            e.isEmptyObject(i) || e.isArray(i) && !i.length ? (this.uiDialog.removeClass("ui-dialog-buttons"),
            void 0) : (e.each(i, function(i, s) {
                var n, a;
                s = e.isFunction(s) ? {
                    click: s,
                    text: i
                } : s,
                s = e.extend({
                    type: "button"
                }, s),
                n = s.click,
                s.click = function() {
                    n.apply(t.element[0], arguments)
                }
                ,
                a = {
                    icons: s.icons,
                    text: s.showText
                },
                delete s.icons,
                delete s.showText,
                e("<button></button>", s).button(a).appendTo(t.uiButtonSet)
            }),
            this.uiDialog.addClass("ui-dialog-buttons"),
            this.uiDialogButtonPane.appendTo(this.uiDialog),
            void 0)
        },
        _makeDraggable: function() {
            function t(e) {
                return {
                    position: e.position,
                    offset: e.offset
                }
            }
            var i = this
              , s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(s, n) {
                    e(this).addClass("ui-dialog-dragging"),
                    i._blockFrames(),
                    i._trigger("dragStart", s, t(n))
                },
                drag: function(e, s) {
                    i._trigger("drag", e, t(s))
                },
                stop: function(n, a) {
                    var o = a.offset.left - i.document.scrollLeft()
                      , r = a.offset.top - i.document.scrollTop();
                    s.position = {
                        my: "left top",
                        at: "left" + (o >= 0 ? "+" : "") + o + " " + "top" + (r >= 0 ? "+" : "") + r,
                        of: i.window
                    },
                    e(this).removeClass("ui-dialog-dragging"),
                    i._unblockFrames(),
                    i._trigger("dragStop", n, t(a))
                }
            })
        },
        _makeResizable: function() {
            function t(e) {
                return {
                    originalPosition: e.originalPosition,
                    originalSize: e.originalSize,
                    position: e.position,
                    size: e.size
                }
            }
            var i = this
              , s = this.options
              , n = s.resizable
              , a = this.uiDialog.css("position")
              , o = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: s.maxWidth,
                maxHeight: s.maxHeight,
                minWidth: s.minWidth,
                minHeight: this._minHeight(),
                handles: o,
                start: function(s, n) {
                    e(this).addClass("ui-dialog-resizing"),
                    i._blockFrames(),
                    i._trigger("resizeStart", s, t(n))
                },
                resize: function(e, s) {
                    i._trigger("resize", e, t(s))
                },
                stop: function(n, a) {
                    var o = i.uiDialog.offset()
                      , r = o.left - i.document.scrollLeft()
                      , h = o.top - i.document.scrollTop();
                    s.height = i.uiDialog.height(),
                    s.width = i.uiDialog.width(),
                    s.position = {
                        my: "left top",
                        at: "left" + (r >= 0 ? "+" : "") + r + " " + "top" + (h >= 0 ? "+" : "") + h,
                        of: i.window
                    },
                    e(this).removeClass("ui-dialog-resizing"),
                    i._unblockFrames(),
                    i._trigger("resizeStop", n, t(a))
                }
            }).css("position", a)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(t) {
                    this._makeFocusTarget(),
                    this._focusedElement = e(t.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(),
            this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var t = this._trackingInstances()
              , i = e.inArray(this, t);
            -1 !== i && t.splice(i, 1)
        },
        _trackingInstances: function() {
            var e = this.document.data("ui-dialog-instances");
            return e || (e = [],
            this.document.data("ui-dialog-instances", e)),
            e
        },
        _minHeight: function() {
            var e = this.options;
            return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
        },
        _position: function() {
            var e = this.uiDialog.is(":visible");
            e || this.uiDialog.show(),
            this.uiDialog.position(this.options.position),
            e || this.uiDialog.hide()
        },
        _setOptions: function(t) {
            var i = this
              , s = !1
              , n = {};
            e.each(t, function(e, t) {
                i._setOption(e, t),
                e in i.sizeRelatedOptions && (s = !0),
                e in i.resizableRelatedOptions && (n[e] = t)
            }),
            s && (this._size(),
            this._position()),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", n)
        },
        _setOption: function(e, t) {
            var i, s, n = this.uiDialog;
            "dialogClass" === e && n.removeClass(this.options.dialogClass).addClass(t),
            "disabled" !== e && (this._super(e, t),
            "appendTo" === e && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === e && this._createButtons(),
            "closeText" === e && this.uiDialogTitlebarClose.button({
                label: "" + t
            }),
            "draggable" === e && (i = n.is(":data(ui-draggable)"),
            i && !t && n.draggable("destroy"),
            !i && t && this._makeDraggable()),
            "position" === e && this._position(),
            "resizable" === e && (s = n.is(":data(ui-resizable)"),
            s && !t && n.resizable("destroy"),
            s && "string" == typeof t && n.resizable("option", "handles", t),
            s || t === !1 || this._makeResizable()),
            "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var e, t, i, s = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }),
            s.minWidth > s.width && (s.width = s.minWidth),
            e = this.uiDialog.css({
                height: "auto",
                width: s.width
            }).outerHeight(),
            t = Math.max(0, s.minHeight - e),
            i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - e) : "none",
            "auto" === s.height ? this.element.css({
                minHeight: t,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, s.height - e)),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var t = e(this);
                return e("<div>").css({
                    position: "absolute",
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }).appendTo(t.parent()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _allowInteraction: function(t) {
            return e(t.target).closest(".ui-dialog").length ? !0 : !!e(t.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var t = !0;
                this._delay(function() {
                    t = !1
                }),
                this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function(e) {
                        t || this._allowInteraction(e) || (e.preventDefault(),
                        this._trackingInstances()[0]._focusTabbable())
                    }
                }),
                this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
                this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }),
                this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (this.options.modal && this.overlay) {
                var e = this.document.data("ui-dialog-overlays") - 1;
                e ? this.document.data("ui-dialog-overlays", e) : this.document.unbind("focusin").removeData("ui-dialog-overlays"),
                this.overlay.remove(),
                this.overlay = null
            }
        }
    }),
    e.widget("ui.progressbar", {
        version: "1.11.2",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(),
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }),
            this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.valueDiv.remove()
        },
        value: function(e) {
            return void 0 === e ? this.options.value : (this.options.value = this._constrainedValue(e),
            this._refreshValue(),
            void 0)
        },
        _constrainedValue: function(e) {
            return void 0 === e && (e = this.options.value),
            this.indeterminate = e === !1,
            "number" != typeof e && (e = 0),
            this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
        },
        _setOptions: function(e) {
            var t = e.value;
            delete e.value,
            this._super(e),
            this.options.value = this._constrainedValue(t),
            this._refreshValue()
        },
        _setOption: function(e, t) {
            "max" === e && (t = Math.max(this.min, t)),
            "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this._super(e, t)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var t = this.options.value
              , i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(i.toFixed(0) + "%"),
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate),
            this.indeterminate ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": t
            }),
            this.overlayDiv && (this.overlayDiv.remove(),
            this.overlayDiv = null)),
            this.oldValue !== t && (this.oldValue = t,
            this._trigger("change")),
            t === this.options.max && this._trigger("complete")
        }
    }),
    e.widget("ui.selectmenu", {
        version: "1.11.2",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var e = this.element.uniqueId().attr("id");
            this.ids = {
                element: e,
                button: e + "-button",
                menu: e + "-menu"
            },
            this._drawButton(),
            this._drawMenu(),
            this.options.disabled && this.disable()
        },
        _drawButton: function() {
            var t = this
              , i = this.element.attr("tabindex");
            this.label = e("label[for='" + this.ids.element + "']").attr("for", this.ids.button),
            this._on(this.label, {
                click: function(e) {
                    this.button.focus(),
                    e.preventDefault()
                }
            }),
            this.element.hide(),
            this.button = e("<span>", {
                "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: i || this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element),
            e("<span>", {
                "class": "ui-icon " + this.options.icons.button
            }).prependTo(this.button),
            this.buttonText = e("<span>", {
                "class": "ui-selectmenu-text"
            }).appendTo(this.button),
            this._setText(this.buttonText, this.element.find("option:selected").text()),
            this._resizeButton(),
            this._on(this.button, this._buttonEvents),
            this.button.one("focusin", function() {
                t.menuItems || t._refreshMenu()
            }),
            this._hoverable(this.button),
            this._focusable(this.button)
        },
        _drawMenu: function() {
            var t = this;
            this.menu = e("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }),
            this.menuWrap = e("<div>", {
                "class": "ui-selectmenu-menu ui-front"
            }).append(this.menu).appendTo(this._appendTo()),
            this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function(e, i) {
                    e.preventDefault(),
                    t._setSelection(),
                    t._select(i.item.data("ui-selectmenu-item"), e)
                },
                focus: function(e, i) {
                    var s = i.item.data("ui-selectmenu-item");
                    null != t.focusIndex && s.index !== t.focusIndex && (t._trigger("focus", e, {
                        item: s
                    }),
                    t.isOpen || t._select(s, e)),
                    t.focusIndex = s.index,
                    t.button.attr("aria-activedescendant", t.menuItems.eq(s.index).attr("id"))
                }
            }).menu("instance"),
            this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),
            this.menuInstance._off(this.menu, "mouseleave"),
            this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }
            ,
            this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            this._refreshMenu(),
            this._setText(this.buttonText, this._getSelectedItem().text()),
            this.options.width || this._resizeButton()
        },
        _refreshMenu: function() {
            this.menu.empty();
            var e, t = this.element.find("option");
            t.length && (this._parseOptions(t),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"),
            e = this._getSelectedItem(),
            this.menuInstance.focus(null, e),
            this._setAria(e.data("ui-selectmenu-item")),
            this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function(e) {
            this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),
            this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(),
            this.isOpen = !0,
            this._toggleAttr(),
            this._resizeMenu(),
            this._position(),
            this._on(this.document, this._documentClick),
            this._trigger("open", e))
        },
        _position: function() {
            this.menuWrap.position(e.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(e) {
            this.isOpen && (this.isOpen = !1,
            this._toggleAttr(),
            this.range = null,
            this._off(this.document),
            this._trigger("close", e))
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderMenu: function(t, i) {
            var s = this
              , n = "";
            e.each(i, function(i, a) {
                a.optgroup !== n && (e("<li>", {
                    "class": "ui-selectmenu-optgroup ui-menu-divider" + (a.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                    text: a.optgroup
                }).appendTo(t),
                n = a.optgroup),
                s._renderItemData(t, a)
            })
        },
        _renderItemData: function(e, t) {
            return this._renderItem(e, t).data("ui-selectmenu-item", t)
        },
        _renderItem: function(t, i) {
            var s = e("<li>");
            return i.disabled && s.addClass("ui-state-disabled"),
            this._setText(s, i.label),
            s.appendTo(t)
        },
        _setText: function(e, t) {
            t ? e.text(t) : e.html("&#160;")
        },
        _move: function(e, t) {
            var i, s, n = ".ui-menu-item";
            this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex),
            n += ":not(.ui-state-disabled)"),
            s = "first" === e || "last" === e ? i["first" === e ? "prevAll" : "nextAll"](n).eq(-1) : i[e + "All"](n).eq(0),
            s.length && this.menuInstance.focus(t, s)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex)
        },
        _toggle: function(e) {
            this[this.isOpen ? "close" : "open"](e)
        },
        _setSelection: function() {
            var e;
            this.range && (window.getSelection ? (e = window.getSelection(),
            e.removeAllRanges(),
            e.addRange(this.range)) : this.range.select(),
            this.button.focus())
        },
        _documentClick: {
            mousedown: function(t) {
                this.isOpen && (e(t.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(t))
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var e;
                window.getSelection ? (e = window.getSelection(),
                e.rangeCount && (this.range = e.getRangeAt(0))) : this.range = document.selection.createRange()
            },
            click: function(e) {
                this._setSelection(),
                this._toggle(e)
            },
            keydown: function(t) {
                var i = !0;
                switch (t.keyCode) {
                case e.ui.keyCode.TAB:
                case e.ui.keyCode.ESCAPE:
                    this.close(t),
                    i = !1;
                    break;
                case e.ui.keyCode.ENTER:
                    this.isOpen && this._selectFocusedItem(t);
                    break;
                case e.ui.keyCode.UP:
                    t.altKey ? this._toggle(t) : this._move("prev", t);
                    break;
                case e.ui.keyCode.DOWN:
                    t.altKey ? this._toggle(t) : this._move("next", t);
                    break;
                case e.ui.keyCode.SPACE:
                    this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
                    break;
                case e.ui.keyCode.LEFT:
                    this._move("prev", t);
                    break;
                case e.ui.keyCode.RIGHT:
                    this._move("next", t);
                    break;
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.PAGE_UP:
                    this._move("first", t);
                    break;
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_DOWN:
                    this._move("last", t);
                    break;
                default:
                    this.menu.trigger(t),
                    i = !1
                }
                i && t.preventDefault()
            }
        },
        _selectFocusedItem: function(e) {
            var t = this.menuItems.eq(this.focusIndex);
            t.hasClass("ui-state-disabled") || this._select(t.data("ui-selectmenu-item"), e)
        },
        _select: function(e, t) {
            var i = this.element[0].selectedIndex;
            this.element[0].selectedIndex = e.index,
            this._setText(this.buttonText, e.label),
            this._setAria(e),
            this._trigger("select", t, {
                item: e
            }),
            e.index !== i && this._trigger("change", t, {
                item: e
            }),
            this.close(t)
        },
        _setAria: function(e) {
            var t = this.menuItems.eq(e.index).attr("id");
            this.button.attr({
                "aria-labelledby": t,
                "aria-activedescendant": t
            }),
            this.menu.attr("aria-activedescendant", t)
        },
        _setOption: function(e, t) {
            "icons" === e && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),
            this._super(e, t),
            "appendTo" === e && this.menuWrap.appendTo(this._appendTo()),
            "disabled" === e && (this.menuInstance.option("disabled", t),
            this.button.toggleClass("ui-state-disabled", t).attr("aria-disabled", t),
            this.element.prop("disabled", t),
            t ? (this.button.attr("tabindex", -1),
            this.close()) : this.button.attr("tabindex", 0)),
            "width" === e && this._resizeButton()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _toggleAttr: function() {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen),
            this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen),
            this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var e = this.options.width;
            e || (e = this.element.show().outerWidth(),
            this.element.hide()),
            this.button.outerWidth(e)
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            }
        },
        _parseOptions: function(t) {
            var i = [];
            t.each(function(t, s) {
                var n = e(s)
                  , a = n.parent("optgroup");
                i.push({
                    element: n,
                    index: t,
                    value: n.attr("value"),
                    label: n.text(),
                    optgroup: a.attr("label") || "",
                    disabled: a.prop("disabled") || n.prop("disabled")
                })
            }),
            this.items = i
        },
        _destroy: function() {
            this.menuWrap.remove(),
            this.button.remove(),
            this.element.show(),
            this.element.removeUniqueId(),
            this.label.attr("for", this.ids.element)
        }
    }),
    e.widget("ui.slider", e.ui.mouse, {
        version: "1.11.2",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this._calculateNewMax(),
            this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"),
            this._refresh(),
            this._setOption("disabled", this.options.disabled),
            this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(),
            this._createHandles(),
            this._setupEvents(),
            this._refreshValue()
        },
        _createHandles: function() {
            var t, i, s = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), a = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>", o = [];
            for (i = s.values && s.values.length || 1,
            n.length > i && (n.slice(i).remove(),
            n = n.slice(0, i)),
            t = n.length; i > t; t++)
                o.push(a);
            this.handles = n.add(e(o.join("")).appendTo(this.element)),
            this.handle = this.handles.eq(0),
            this.handles.each(function(t) {
                e(this).data("ui-slider-handle-index", t)
            })
        },
        _createRange: function() {
            var t = this.options
              , i = "";
            t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]),
            this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = e("<div></div>").appendTo(this.element),
            i = "ui-slider-range ui-widget-header ui-corner-all"),
            this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(),
            this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles),
            this._on(this.handles, this._handleEvents),
            this._hoverable(this.handles),
            this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(),
            this.range && this.range.remove(),
            this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
            this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var i, s, n, a, o, r, h, l, u = this, d = this.options;
            return d.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            },
            this.elementOffset = this.element.offset(),
            i = {
                x: t.pageX,
                y: t.pageY
            },
            s = this._normValueFromMouse(i),
            n = this._valueMax() - this._valueMin() + 1,
            this.handles.each(function(t) {
                var i = Math.abs(s - u.values(t));
                (n > i || n === i && (t === u._lastChangedValue || u.values(t) === d.min)) && (n = i,
                a = e(this),
                o = t)
            }),
            r = this._start(t, o),
            r === !1 ? !1 : (this._mouseSliding = !0,
            this._handleIndex = o,
            a.addClass("ui-state-active").focus(),
            h = a.offset(),
            l = !e(t.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = l ? {
                left: 0,
                top: 0
            } : {
                left: t.pageX - h.left - a.width() / 2,
                top: t.pageY - h.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
            },
            this.handles.hasClass("ui-state-hover") || this._slide(t, o, s),
            this._animateOff = !0,
            !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(e) {
            var t = {
                x: e.pageX,
                y: e.pageY
            }
              , i = this._normValueFromMouse(t);
            return this._slide(e, this._handleIndex, i),
            !1
        },
        _mouseStop: function(e) {
            return this.handles.removeClass("ui-state-active"),
            this._mouseSliding = !1,
            this._stop(e, this._handleIndex),
            this._change(e, this._handleIndex),
            this._handleIndex = null,
            this._clickOffset = null,
            this._animateOff = !1,
            !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(e) {
            var t, i, s, n, a;
            return "horizontal" === this.orientation ? (t = this.elementSize.width,
            i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height,
            i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
            s = i / t,
            s > 1 && (s = 1),
            0 > s && (s = 0),
            "vertical" === this.orientation && (s = 1 - s),
            n = this._valueMax() - this._valueMin(),
            a = this._valueMin() + s * n,
            this._trimAlignValue(a)
        },
        _start: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("start", e, i)
        },
        _slide: function(e, t, i) {
            var s, n, a;
            this.options.values && this.options.values.length ? (s = this.values(t ? 0 : 1),
            2 === this.options.values.length && this.options.range === !0 && (0 === t && i > s || 1 === t && s > i) && (i = s),
            i !== this.values(t) && (n = this.values(),
            n[t] = i,
            a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i,
                values: n
            }),
            s = this.values(t ? 0 : 1),
            a !== !1 && this.values(t, i))) : i !== this.value() && (a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i
            }),
            a !== !1 && this.value(i))
        },
        _stop: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("stop", e, i)
        },
        _change: function(e, t) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(t),
                i.values = this.values()),
                this._lastChangedValue = t,
                this._trigger("change", e, i)
            }
        },
        value: function(e) {
            return arguments.length ? (this.options.value = this._trimAlignValue(e),
            this._refreshValue(),
            this._change(null, 0),
            void 0) : this._value()
        },
        values: function(t, i) {
            var s, n, a;
            if (arguments.length > 1)
                return this.options.values[t] = this._trimAlignValue(i),
                this._refreshValue(),
                this._change(null, t),
                void 0;
            if (!arguments.length)
                return this._values();
            if (!e.isArray(arguments[0]))
                return this.options.values && this.options.values.length ? this._values(t) : this.value();
            for (s = this.options.values,
            n = arguments[0],
            a = 0; s.length > a; a += 1)
                s[a] = this._trimAlignValue(n[a]),
                this._change(null, a);
            this._refreshValue()
        },
        _setOption: function(t, i) {
            var s, n = 0;
            switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0),
            this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1),
            this.options.values = null)),
            e.isArray(this.options.values) && (n = this.options.values.length),
            "disabled" === t && this.element.toggleClass("ui-state-disabled", !!i),
            this._super(t, i),
            t) {
            case "orientation":
                this._detectOrientation(),
                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
                this._refreshValue(),
                this.handles.css("horizontal" === i ? "bottom" : "left", "");
                break;
            case "value":
                this._animateOff = !0,
                this._refreshValue(),
                this._change(null, 0),
                this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0,
                this._refreshValue(),
                s = 0; n > s; s += 1)
                    this._change(null, s);
                this._animateOff = !1;
                break;
            case "step":
            case "min":
            case "max":
                this._animateOff = !0,
                this._calculateNewMax(),
                this._refreshValue(),
                this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0,
                this._refresh(),
                this._animateOff = !1
            }
        },
        _value: function() {
            var e = this.options.value;
            return e = this._trimAlignValue(e)
        },
        _values: function(e) {
            var t, i, s;
            if (arguments.length)
                return t = this.options.values[e],
                t = this._trimAlignValue(t);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(),
                s = 0; i.length > s; s += 1)
                    i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function(e) {
            if (this._valueMin() >= e)
                return this._valueMin();
            if (e >= this._valueMax())
                return this._valueMax();
            var t = this.options.step > 0 ? this.options.step : 1
              , i = (e - this._valueMin()) % t
              , s = e - i;
            return 2 * Math.abs(i) >= t && (s += i > 0 ? t : -t),
            parseFloat(s.toFixed(5))
        },
        _calculateNewMax: function() {
            var e = (this.options.max - this._valueMin()) % this.options.step;
            this.max = this.options.max - e
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshValue: function() {
            var t, i, s, n, a, o = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, u = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())),
                u["horizontal" === h.orientation ? "left" : "bottom"] = i + "%",
                e(this).stop(1, 1)[l ? "animate" : "css"](u, r.animate),
                h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: i + "%"
                }, r.animate),
                1 === s && h.range[l ? "animate" : "css"]({
                    width: i - t + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: i + "%"
                }, r.animate),
                1 === s && h.range[l ? "animate" : "css"]({
                    height: i - t + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))),
                t = i
            }) : (s = this.value(),
            n = this._valueMin(),
            a = this._valueMax(),
            i = a !== n ? 100 * ((s - n) / (a - n)) : 0,
            u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%",
            this.handle.stop(1, 1)[l ? "animate" : "css"](u, r.animate),
            "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: i + "%"
            }, r.animate),
            "max" === o && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }),
            "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: i + "%"
            }, r.animate),
            "max" === o && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }))
        },
        _handleEvents: {
            keydown: function(t) {
                var i, s, n, a, o = e(t.target).data("ui-slider-handle-index");
                switch (t.keyCode) {
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_UP:
                case e.ui.keyCode.PAGE_DOWN:
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (t.preventDefault(),
                    !this._keySliding && (this._keySliding = !0,
                    e(t.target).addClass("ui-state-active"),
                    i = this._start(t, o),
                    i === !1))
                        return
                }
                switch (a = this.options.step,
                s = n = this.options.values && this.options.values.length ? this.values(o) : this.value(),
                t.keyCode) {
                case e.ui.keyCode.HOME:
                    n = this._valueMin();
                    break;
                case e.ui.keyCode.END:
                    n = this._valueMax();
                    break;
                case e.ui.keyCode.PAGE_UP:
                    n = this._trimAlignValue(s + (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case e.ui.keyCode.PAGE_DOWN:
                    n = this._trimAlignValue(s - (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                    if (s === this._valueMax())
                        return;
                    n = this._trimAlignValue(s + a);
                    break;
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (s === this._valueMin())
                        return;
                    n = this._trimAlignValue(s - a)
                }
                this._slide(t, o, n)
            },
            keyup: function(t) {
                var i = e(t.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1,
                this._stop(t, i),
                this._change(t, i),
                e(t.target).removeClass("ui-state-active"))
            }
        }
    }),
    e.widget("ui.spinner", {
        version: "1.11.2",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max),
            this._setOption("min", this.options.min),
            this._setOption("step", this.options.step),
            "" !== this.value() && this._value(this.element.val(), !0),
            this._draw(),
            this._on(this._events),
            this._refresh(),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var t = {}
              , i = this.element;
            return e.each(["min", "max", "step"], function(e, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (t[s] = n)
            }),
            t
        },
        _events: {
            keydown: function(e) {
                this._start(e) && this._keydown(e) && e.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(e) {
                return this.cancelBlur ? (delete this.cancelBlur,
                void 0) : (this._stop(),
                this._refresh(),
                this.previous !== this.element.val() && this._trigger("change", e),
                void 0)
            },
            mousewheel: function(e, t) {
                if (t) {
                    if (!this.spinning && !this._start(e))
                        return !1;
                    this._spin((t > 0 ? 1 : -1) * this.options.step, e),
                    clearTimeout(this.mousewheelTimer),
                    this.mousewheelTimer = this._delay(function() {
                        this.spinning && this._stop(e)
                    }, 100),
                    e.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(t) {
                function i() {
                    var e = this.element[0] === this.document[0].activeElement;
                    e || (this.element.focus(),
                    this.previous = s,
                    this._delay(function() {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(),
                t.preventDefault(),
                i.call(this),
                this.cancelBlur = !0,
                this._delay(function() {
                    delete this.cancelBlur,
                    i.call(this)
                }),
                this._start(t) !== !1 && this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(t) {
                return e(t.currentTarget).hasClass("ui-state-active") ? this._start(t) === !1 ? !1 : (this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t),
                void 0) : void 0
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"),
            this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"),
            this.buttons.height() > Math.ceil(.5 * e.height()) && e.height() > 0 && e.height(e.height()),
            this.options.disabled && this.disable()
        },
        _keydown: function(t) {
            var i = this.options
              , s = e.ui.keyCode;
            switch (t.keyCode) {
            case s.UP:
                return this._repeat(null, 1, t),
                !0;
            case s.DOWN:
                return this._repeat(null, -1, t),
                !0;
            case s.PAGE_UP:
                return this._repeat(null, i.page, t),
                !0;
            case s.PAGE_DOWN:
                return this._repeat(null, -i.page, t),
                !0
            }
            return !1
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function() {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>"
        },
        _start: function(e) {
            return this.spinning || this._trigger("start", e) !== !1 ? (this.counter || (this.counter = 1),
            this.spinning = !0,
            !0) : !1
        },
        _repeat: function(e, t, i) {
            e = e || 500,
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                this._repeat(40, t, i)
            }, e),
            this._spin(t * this.options.step, i)
        },
        _spin: function(e, t) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1),
            i = this._adjustValue(i + e * this._increment(this.counter)),
            this.spinning && this._trigger("spin", t, {
                value: i
            }) === !1 || (this._value(i),
            this.counter++)
        },
        _increment: function(t) {
            var i = this.options.incremental;
            return i ? e.isFunction(i) ? i(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))),
            e
        },
        _precisionOf: function(e) {
            var t = "" + e
              , i = t.indexOf(".");
            return -1 === i ? 0 : t.length - i - 1
        },
        _adjustValue: function(e) {
            var t, i, s = this.options;
            return t = null !== s.min ? s.min : 0,
            i = e - t,
            i = Math.round(i / s.step) * s.step,
            e = t + i,
            e = parseFloat(e.toFixed(this._precision())),
            null !== s.max && e > s.max ? s.max : null !== s.min && s.min > e ? s.min : e
        },
        _stop: function(e) {
            this.spinning && (clearTimeout(this.timer),
            clearTimeout(this.mousewheelTimer),
            this.counter = 0,
            this.spinning = !1,
            this._trigger("stop", e))
        },
        _setOption: function(e, t) {
            if ("culture" === e || "numberFormat" === e) {
                var i = this._parse(this.element.val());
                return this.options[e] = t,
                this.element.val(this._format(i)),
                void 0
            }
            ("max" === e || "min" === e || "step" === e) && "string" == typeof t && (t = this._parse(t)),
            "icons" === e && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),
            this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),
            this._super(e, t),
            "disabled" === e && (this.widget().toggleClass("ui-state-disabled", !!t),
            this.element.prop("disabled", !!t),
            this.buttons.button(t ? "disable" : "enable"))
        },
        _setOptions: h(function(e) {
            this._super(e)
        }),
        _parse: function(e) {
            return "string" == typeof e && "" !== e && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e),
            "" === e || isNaN(e) ? null : e
        },
        _format: function(e) {
            return "" === e ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var e = this.value();
            return null === e ? !1 : e === this._adjustValue(e)
        },
        _value: function(e, t) {
            var i;
            "" !== e && (i = this._parse(e),
            null !== i && (t || (i = this._adjustValue(i)),
            e = this._format(i))),
            this.element.val(e),
            this._refresh()
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.uiSpinner.replaceWith(this.element)
        },
        stepUp: h(function(e) {
            this._stepUp(e)
        }),
        _stepUp: function(e) {
            this._start() && (this._spin((e || 1) * this.options.step),
            this._stop())
        },
        stepDown: h(function(e) {
            this._stepDown(e)
        }),
        _stepDown: function(e) {
            this._start() && (this._spin((e || 1) * -this.options.step),
            this._stop())
        },
        pageUp: h(function(e) {
            this._stepUp((e || 1) * this.options.page)
        }),
        pageDown: h(function(e) {
            this._stepDown((e || 1) * this.options.page)
        }),
        value: function(e) {
            return arguments.length ? (h(this._value).call(this, e),
            void 0) : this._parse(this.element.val())
        },
        widget: function() {
            return this.uiSpinner
        }
    }),
    e.widget("ui.tabs", {
        version: "1.11.2",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function() {
            var e = /#.*$/;
            return function(t) {
                var i, s;
                t = t.cloneNode(!1),
                i = t.href.replace(e, ""),
                s = location.href.replace(e, "");
                try {
                    i = decodeURIComponent(i)
                } catch (n) {}
                try {
                    s = decodeURIComponent(s)
                } catch (n) {}
                return t.hash.length > 1 && i === s
            }
        }(),
        _create: function() {
            var t = this
              , i = this.options;
            this.running = !1,
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible),
            this._processTabs(),
            i.active = this._initialActive(),
            e.isArray(i.disabled) && (i.disabled = e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                return t.tabs.index(e)
            }))).sort()),
            this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : e(),
            this._refresh(),
            this.active.length && this.load(i.active)
        },
        _initialActive: function() {
            var t = this.options.active
              , i = this.options.collapsible
              , s = location.hash.substring(1);
            return null === t && (s && this.tabs.each(function(i, n) {
                return e(n).attr("aria-controls") === s ? (t = i,
                !1) : void 0
            }),
            null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            (null === t || -1 === t) && (t = this.tabs.length ? 0 : !1)),
            t !== !1 && (t = this.tabs.index(this.tabs.eq(t)),
            -1 === t && (t = i ? !1 : 0)),
            !i && t === !1 && this.anchors.length && (t = 0),
            t
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : e()
            }
        },
        _tabKeydown: function(t) {
            var i = e(this.document[0].activeElement).closest("li")
              , s = this.tabs.index(i)
              , n = !0;
            if (!this._handlePageNav(t)) {
                switch (t.keyCode) {
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                    s++;
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.LEFT:
                    n = !1,
                    s--;
                    break;
                case e.ui.keyCode.END:
                    s = this.anchors.length - 1;
                    break;
                case e.ui.keyCode.HOME:
                    s = 0;
                    break;
                case e.ui.keyCode.SPACE:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(s),
                    void 0;
                case e.ui.keyCode.ENTER:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(s === this.options.active ? !1 : s),
                    void 0;
                default:
                    return
                }
                t.preventDefault(),
                clearTimeout(this.activating),
                s = this._focusNextTab(s, n),
                t.ctrlKey || (i.attr("aria-selected", "false"),
                this.tabs.eq(s).attr("aria-selected", "true"),
                this.activating = this._delay(function() {
                    this.option("active", s)
                }, this.delay))
            }
        },
        _panelKeydown: function(t) {
            this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(),
            this.active.focus())
        },
        _handlePageNav: function(t) {
            return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
            !0) : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0) : void 0
        },
        _findNextTab: function(t, i) {
            function s() {
                return t > n && (t = 0),
                0 > t && (t = n),
                t
            }
            for (var n = this.tabs.length - 1; -1 !== e.inArray(s(), this.options.disabled); )
                t = i ? t + 1 : t - 1;
            return t
        },
        _focusNextTab: function(e, t) {
            return e = this._findNextTab(e, t),
            this.tabs.eq(e).focus(),
            e
        },
        _setOption: function(e, t) {
            return "active" === e ? (this._activate(t),
            void 0) : "disabled" === e ? (this._setupDisabled(t),
            void 0) : (this._super(e, t),
            "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", t),
            t || this.options.active !== !1 || this._activate(0)),
            "event" === e && this._setupEvents(t),
            "heightStyle" === e && this._setupHeightStyle(t),
            void 0)
        },
        _sanitizeSelector: function(e) {
            return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var t = this.options
              , i = this.tablist.children(":has(a[href])");
            t.disabled = e.map(i.filter(".ui-state-disabled"), function(e) {
                return i.index(e)
            }),
            this._processTabs(),
            t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1,
            this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1,
            this.active = e()),
            this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }),
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }),
            this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }),
            this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var t = this
              , i = this.tabs
              , s = this.anchors
              , n = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(t) {
                e(this).is(".ui-state-disabled") && t.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                e(this).closest("li").is(".ui-state-disabled") && this.blur()
            }),
            this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }),
            this.anchors = this.tabs.map(function() {
                return e("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }),
            this.panels = e(),
            this.anchors.each(function(i, s) {
                var n, a, o, r = e(s).uniqueId().attr("id"), h = e(s).closest("li"), l = h.attr("aria-controls");
                t._isLocal(s) ? (n = s.hash,
                o = n.substring(1),
                a = t.element.find(t._sanitizeSelector(n))) : (o = h.attr("aria-controls") || e({}).uniqueId()[0].id,
                n = "#" + o,
                a = t.element.find(n),
                a.length || (a = t._createPanel(o),
                a.insertAfter(t.panels[i - 1] || t.tablist)),
                a.attr("aria-live", "polite")),
                a.length && (t.panels = t.panels.add(a)),
                l && h.data("ui-tabs-aria-controls", l),
                h.attr({
                    "aria-controls": o,
                    "aria-labelledby": r
                }),
                a.attr("aria-labelledby", r)
            }),
            this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"),
            i && (this._off(i.not(this.tabs)),
            this._off(s.not(this.anchors)),
            this._off(n.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(t) {
            return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(t) {
            e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
            for (var i, s = 0; i = this.tabs[s]; s++)
                t === !0 || -1 !== e.inArray(s, t) ? e(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = t
        },
        _setupEvents: function(t) {
            var i = {};
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(!0, this.anchors, {
                click: function(e) {
                    e.preventDefault()
                }
            }),
            this._on(this.anchors, i),
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            }),
            this._on(this.panels, {
                keydown: "_panelKeydown"
            }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(t) {
            var i, s = this.element.parent();
            "fill" === t ? (i = s.height(),
            i -= this.element.outerHeight() - this.element.height(),
            this.element.siblings(":visible").each(function() {
                var t = e(this)
                  , s = t.css("position");
                "absolute" !== s && "fixed" !== s && (i -= t.outerHeight(!0))
            }),
            this.element.children().not(this.panels).each(function() {
                i -= e(this).outerHeight(!0)
            }),
            this.panels.each(function() {
                e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === t && (i = 0,
            this.panels.each(function() {
                i = Math.max(i, e(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n.closest("li")
              , o = a[0] === s[0]
              , r = o && i.collapsible
              , h = r ? e() : this._getPanelForTab(a)
              , l = s.length ? this._getPanelForTab(s) : e()
              , u = {
                oldTab: s,
                oldPanel: l,
                newTab: r ? e() : a,
                newPanel: h
            };
            t.preventDefault(),
            a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || this._trigger("beforeActivate", t, u) === !1 || (i.active = r ? !1 : this.tabs.index(a),
            this.active = o ? e() : a,
            this.xhr && this.xhr.abort(),
            l.length || h.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."),
            h.length && this.load(this.tabs.index(a), t),
            this._toggle(t, u))
        },
        _toggle: function(t, i) {
            function s() {
                a.running = !1,
                a._trigger("activate", t, i)
            }
            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
                o.length && a.options.show ? a._show(o, a.options.show, s) : (o.show(),
                s())
            }
            var a = this
              , o = i.newPanel
              , r = i.oldPanel;
            this.running = !0,
            r.length && this.options.hide ? this._hide(r, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
            r.hide(),
            n()),
            r.attr("aria-hidden", "true"),
            i.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            o.length && r.length ? i.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function() {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            o.attr("aria-hidden", "false"),
            i.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(t) {
            var i, s = this._findActive(t);
            s[0] !== this.active[0] && (s.length || (s = this.active),
            i = s.find(".ui-tabs-anchor")[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return t === !1 ? e() : this.tabs.eq(t)
        },
        _getIndex: function(e) {
            return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))),
            e
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(),
            this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),
            this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
            this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),
            this.tablist.unbind(this.eventNamespace),
            this.tabs.add(this.panels).each(function() {
                e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }),
            this.tabs.each(function() {
                var t = e(this)
                  , i = t.data("ui-tabs-aria-controls");
                i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(t) {
            var i = this.options.disabled;
            i !== !1 && (void 0 === t ? i = !1 : (t = this._getIndex(t),
            i = e.isArray(i) ? e.map(i, function(e) {
                return e !== t ? e : null
            }) : e.map(this.tabs, function(e, i) {
                return i !== t ? i : null
            })),
            this._setupDisabled(i))
        },
        disable: function(t) {
            var i = this.options.disabled;
            if (i !== !0) {
                if (void 0 === t)
                    i = !0;
                else {
                    if (t = this._getIndex(t),
                    -1 !== e.inArray(t, i))
                        return;
                    i = e.isArray(i) ? e.merge([t], i).sort() : [t]
                }
                this._setupDisabled(i)
            }
        },
        load: function(t, i) {
            t = this._getIndex(t);
            var s = this
              , n = this.tabs.eq(t)
              , a = n.find(".ui-tabs-anchor")
              , o = this._getPanelForTab(n)
              , r = {
                tab: n,
                panel: o
            };
            this._isLocal(a[0]) || (this.xhr = e.ajax(this._ajaxSettings(a, i, r)),
            this.xhr && "canceled" !== this.xhr.statusText && (n.addClass("ui-tabs-loading"),
            o.attr("aria-busy", "true"),
            this.xhr.success(function(e) {
                setTimeout(function() {
                    o.html(e),
                    s._trigger("load", i, r)
                }, 1)
            }).complete(function(e, t) {
                setTimeout(function() {
                    "abort" === t && s.panels.stop(!1, !0),
                    n.removeClass("ui-tabs-loading"),
                    o.removeAttr("aria-busy"),
                    e === s.xhr && delete s.xhr
                }, 1)
            })))
        },
        _ajaxSettings: function(t, i, s) {
            var n = this;
            return {
                url: t.attr("href"),
                beforeSend: function(t, a) {
                    return n._trigger("beforeLoad", i, e.extend({
                        jqXHR: t,
                        ajaxSettings: a
                    }, s))
                }
            }
        },
        _getPanelForTab: function(t) {
            var i = e(t).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    }),
    e.widget("ui.tooltip", {
        version: "1.11.2",
        options: {
            content: function() {
                var t = e(this).attr("title") || "";
                return e("<a>").text(t).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(t, i) {
            var s = (t.attr("aria-describedby") || "").split(/\s+/);
            s.push(i),
            t.data("ui-tooltip-id", i).attr("aria-describedby", e.trim(s.join(" ")))
        },
        _removeDescribedBy: function(t) {
            var i = t.data("ui-tooltip-id")
              , s = (t.attr("aria-describedby") || "").split(/\s+/)
              , n = e.inArray(i, s);
            -1 !== n && s.splice(n, 1),
            t.removeData("ui-tooltip-id"),
            s = e.trim(s.join(" ")),
            s ? t.attr("aria-describedby", s) : t.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }),
            this.tooltips = {},
            this.parents = {},
            this.options.disabled && this._disable(),
            this.liveRegion = e("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
        },
        _setOption: function(t, i) {
            var s = this;
            return "disabled" === t ? (this[i ? "_disable" : "_enable"](),
            this.options[t] = i,
            void 0) : (this._super(t, i),
            "content" === t && e.each(this.tooltips, function(e, t) {
                s._updateContent(t.element)
            }),
            void 0)
        },
        _disable: function() {
            var t = this;
            e.each(this.tooltips, function(i, s) {
                var n = e.Event("blur");
                n.target = n.currentTarget = s.element[0],
                t.close(n, !0)
            }),
            this.element.find(this.options.items).addBack().each(function() {
                var t = e(this);
                t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).removeAttr("title")
            })
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var t = e(this);
                t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
            })
        },
        open: function(t) {
            var i = this
              , s = e(t ? t.target : this.element).closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")),
            s.data("ui-tooltip-open", !0),
            t && "mouseover" === t.type && s.parents().each(function() {
                var t, s = e(this);
                s.data("ui-tooltip-open") && (t = e.Event("blur"),
                t.target = t.currentTarget = this,
                i.close(t, !0)),
                s.attr("title") && (s.uniqueId(),
                i.parents[this.id] = {
                    element: this,
                    title: s.attr("title")
                },
                s.attr("title", ""))
            }),
            this._updateContent(s, t))
        },
        _updateContent: function(e, t) {
            var i, s = this.options.content, n = this, a = t ? t.type : null;
            return "string" == typeof s ? this._open(t, e, s) : (i = s.call(e[0], function(i) {
                e.data("ui-tooltip-open") && n._delay(function() {
                    t && (t.type = a),
                    this._open(t, e, i)
                })
            }),
            i && this._open(t, e, i),
            void 0)
        },
        _open: function(t, i, s) {
            function n(e) {
                u.of = e,
                o.is(":hidden") || o.position(u)
            }
            var a, o, r, h, l, u = e.extend({}, this.options.position);
            if (s) {
                if (a = this._find(i))
                    return a.tooltip.find(".ui-tooltip-content").html(s),
                    void 0;
                i.is("[title]") && (t && "mouseover" === t.type ? i.attr("title", "") : i.removeAttr("title")),
                a = this._tooltip(i),
                o = a.tooltip,
                this._addDescribedBy(i, o.attr("id")),
                o.find(".ui-tooltip-content").html(s),
                this.liveRegion.children().hide(),
                s.clone ? (l = s.clone(),
                l.removeAttr("id").find("[id]").removeAttr("id")) : l = s,
                e("<div>").html(l).appendTo(this.liveRegion),
                this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
                    mousemove: n
                }),
                n(t)) : o.position(e.extend({
                    of: i
                }, this.options.position)),
                o.hide(),
                this._show(o, this.options.show),
                this.options.show && this.options.show.delay && (h = this.delayedShow = setInterval(function() {
                    o.is(":visible") && (n(u.of),
                    clearInterval(h))
                }, e.fx.interval)),
                this._trigger("open", t, {
                    tooltip: o
                }),
                r = {
                    keyup: function(t) {
                        if (t.keyCode === e.ui.keyCode.ESCAPE) {
                            var s = e.Event(t);
                            s.currentTarget = i[0],
                            this.close(s, !0)
                        }
                    }
                },
                i[0] !== this.element[0] && (r.remove = function() {
                    this._removeTooltip(o)
                }
                ),
                t && "mouseover" !== t.type || (r.mouseleave = "close"),
                t && "focusin" !== t.type || (r.focusout = "close"),
                this._on(!0, i, r)
            }
        },
        close: function(t) {
            var i, s = this, n = e(t ? t.currentTarget : this.element), a = this._find(n);
            a && (i = a.tooltip,
            a.closing || (clearInterval(this.delayedShow),
            n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")),
            this._removeDescribedBy(n),
            a.hiding = !0,
            i.stop(!0),
            this._hide(i, this.options.hide, function() {
                s._removeTooltip(e(this))
            }),
            n.removeData("ui-tooltip-open"),
            this._off(n, "mouseleave focusout keyup"),
            n[0] !== this.element[0] && this._off(n, "remove"),
            this._off(this.document, "mousemove"),
            t && "mouseleave" === t.type && e.each(this.parents, function(t, i) {
                e(i.element).attr("title", i.title),
                delete s.parents[t]
            }),
            a.closing = !0,
            this._trigger("close", t, {
                tooltip: i
            }),
            a.hiding || (a.closing = !1)))
        },
        _tooltip: function(t) {
            var i = e("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""))
              , s = i.uniqueId().attr("id");
            return e("<div>").addClass("ui-tooltip-content").appendTo(i),
            i.appendTo(this.document[0].body),
            this.tooltips[s] = {
                element: t,
                tooltip: i
            }
        },
        _find: function(e) {
            var t = e.data("ui-tooltip-id");
            return t ? this.tooltips[t] : null
        },
        _removeTooltip: function(e) {
            e.remove(),
            delete this.tooltips[e.attr("id")]
        },
        _destroy: function() {
            var t = this;
            e.each(this.tooltips, function(i, s) {
                var n = e.Event("blur")
                  , a = s.element;
                n.target = n.currentTarget = a[0],
                t.close(n, !0),
                e("#" + i).remove(),
                a.data("ui-tooltip-title") && (a.attr("title") || a.attr("title", a.data("ui-tooltip-title")),
                a.removeData("ui-tooltip-title"))
            }),
            this.liveRegion.remove()
        }
    });
    var y = "ui-effects-"
      , b = e;
    e.effects = {
        effect: {}
    },
    function(e, t) {
        function i(e, t, i) {
            var s = d[t.type] || {};
            return null == e ? i || !t.def ? null : t.def : (e = s.floor ? ~~e : parseFloat(e),
            isNaN(e) ? t.def : s.mod ? (e + s.mod) % s.mod : 0 > e ? 0 : e > s.max ? s.max : e)
        }
        function s(i) {
            var s = l()
              , n = s._rgba = [];
            return i = i.toLowerCase(),
            f(h, function(e, a) {
                var o, r = a.re.exec(i), h = r && a.parse(r), l = a.space || "rgba";
                return h ? (o = s[l](h),
                s[u[l].cache] = o[u[l].cache],
                n = s._rgba = o._rgba,
                !1) : t
            }),
            n.length ? ("0,0,0,0" === n.join() && e.extend(n, a.transparent),
            s) : a[i]
        }
        function n(e, t, i) {
            return i = (i + 1) % 1,
            1 > 6 * i ? e + 6 * (t - e) * i : 1 > 2 * i ? t : 2 > 3 * i ? e + 6 * (t - e) * (2 / 3 - i) : e
        }
        var a, o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", r = /^([\-+])=\s*(\d+\.?\d*)/, h = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1], e[2], e[3], e[4]]
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(e) {
                return [e[1], e[2] / 100, e[3] / 100, e[4]]
            }
        }], l = e.Color = function(t, i, s, n) {
            return new e.Color.fn.parse(t,i,s,n)
        }
        , u = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, d = {
            "byte": {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        }, c = l.support = {}, p = e("<p>")[0], f = e.each;
        p.style.cssText = "background-color:rgba(1,1,1,.5)",
        c.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
        f(u, function(e, t) {
            t.cache = "_" + e,
            t.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        l.fn = e.extend(l.prototype, {
            parse: function(n, o, r, h) {
                if (n === t)
                    return this._rgba = [null, null, null, null],
                    this;
                (n.jquery || n.nodeType) && (n = e(n).css(o),
                o = t);
                var d = this
                  , c = e.type(n)
                  , p = this._rgba = [];
                return o !== t && (n = [n, o, r, h],
                c = "array"),
                "string" === c ? this.parse(s(n) || a._default) : "array" === c ? (f(u.rgba.props, function(e, t) {
                    p[t.idx] = i(n[t.idx], t)
                }),
                this) : "object" === c ? (n instanceof l ? f(u, function(e, t) {
                    n[t.cache] && (d[t.cache] = n[t.cache].slice())
                }) : f(u, function(t, s) {
                    var a = s.cache;
                    f(s.props, function(e, t) {
                        if (!d[a] && s.to) {
                            if ("alpha" === e || null == n[e])
                                return;
                            d[a] = s.to(d._rgba)
                        }
                        d[a][t.idx] = i(n[e], t, !0)
                    }),
                    d[a] && 0 > e.inArray(null, d[a].slice(0, 3)) && (d[a][3] = 1,
                    s.from && (d._rgba = s.from(d[a])))
                }),
                this) : t
            },
            is: function(e) {
                var i = l(e)
                  , s = !0
                  , n = this;
                return f(u, function(e, a) {
                    var o, r = i[a.cache];
                    return r && (o = n[a.cache] || a.to && a.to(n._rgba) || [],
                    f(a.props, function(e, i) {
                        return null != r[i.idx] ? s = r[i.idx] === o[i.idx] : t
                    })),
                    s
                }),
                s
            },
            _space: function() {
                var e = []
                  , t = this;
                return f(u, function(i, s) {
                    t[s.cache] && e.push(i)
                }),
                e.pop()
            },
            transition: function(e, t) {
                var s = l(e)
                  , n = s._space()
                  , a = u[n]
                  , o = 0 === this.alpha() ? l("transparent") : this
                  , r = o[a.cache] || a.to(o._rgba)
                  , h = r.slice();
                return s = s[a.cache],
                f(a.props, function(e, n) {
                    var a = n.idx
                      , o = r[a]
                      , l = s[a]
                      , u = d[n.type] || {};
                    null !== l && (null === o ? h[a] = l : (u.mod && (l - o > u.mod / 2 ? o += u.mod : o - l > u.mod / 2 && (o -= u.mod)),
                    h[a] = i((l - o) * t + o, n)))
                }),
                this[n](h)
            },
            blend: function(t) {
                if (1 === this._rgba[3])
                    return this;
                var i = this._rgba.slice()
                  , s = i.pop()
                  , n = l(t)._rgba;
                return l(e.map(i, function(e, t) {
                    return (1 - s) * n[t] + s * e
                }))
            },
            toRgbaString: function() {
                var t = "rgba("
                  , i = e.map(this._rgba, function(e, t) {
                    return null == e ? t > 2 ? 1 : 0 : e
                });
                return 1 === i[3] && (i.pop(),
                t = "rgb("),
                t + i.join() + ")"
            },
            toHslaString: function() {
                var t = "hsla("
                  , i = e.map(this.hsla(), function(e, t) {
                    return null == e && (e = t > 2 ? 1 : 0),
                    t && 3 > t && (e = Math.round(100 * e) + "%"),
                    e
                });
                return 1 === i[3] && (i.pop(),
                t = "hsl("),
                t + i.join() + ")"
            },
            toHexString: function(t) {
                var i = this._rgba.slice()
                  , s = i.pop();
                return t && i.push(~~(255 * s)),
                "#" + e.map(i, function(e) {
                    return e = (e || 0).toString(16),
                    1 === e.length ? "0" + e : e
                }).join("")
            },
            toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }),
        l.fn.parse.prototype = l.fn,
        u.hsla.to = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t, i, s = e[0] / 255, n = e[1] / 255, a = e[2] / 255, o = e[3], r = Math.max(s, n, a), h = Math.min(s, n, a), l = r - h, u = r + h, d = .5 * u;
            return t = h === r ? 0 : s === r ? 60 * (n - a) / l + 360 : n === r ? 60 * (a - s) / l + 120 : 60 * (s - n) / l + 240,
            i = 0 === l ? 0 : .5 >= d ? l / u : l / (2 - u),
            [Math.round(t) % 360, i, d, null == o ? 1 : o]
        }
        ,
        u.hsla.from = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t = e[0] / 360
              , i = e[1]
              , s = e[2]
              , a = e[3]
              , o = .5 >= s ? s * (1 + i) : s + i - s * i
              , r = 2 * s - o;
            return [Math.round(255 * n(r, o, t + 1 / 3)), Math.round(255 * n(r, o, t)), Math.round(255 * n(r, o, t - 1 / 3)), a]
        }
        ,
        f(u, function(s, n) {
            var a = n.props
              , o = n.cache
              , h = n.to
              , u = n.from;
            l.fn[s] = function(s) {
                if (h && !this[o] && (this[o] = h(this._rgba)),
                s === t)
                    return this[o].slice();
                var n, r = e.type(s), d = "array" === r || "object" === r ? s : arguments, c = this[o].slice();
                return f(a, function(e, t) {
                    var s = d["object" === r ? e : t.idx];
                    null == s && (s = c[t.idx]),
                    c[t.idx] = i(s, t)
                }),
                u ? (n = l(u(c)),
                n[o] = c,
                n) : l(c)
            }
            ,
            f(a, function(t, i) {
                l.fn[t] || (l.fn[t] = function(n) {
                    var a, o = e.type(n), h = "alpha" === t ? this._hsla ? "hsla" : "rgba" : s, l = this[h](), u = l[i.idx];
                    return "undefined" === o ? u : ("function" === o && (n = n.call(this, u),
                    o = e.type(n)),
                    null == n && i.empty ? this : ("string" === o && (a = r.exec(n),
                    a && (n = u + parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))),
                    l[i.idx] = n,
                    this[h](l)))
                }
                )
            })
        }),
        l.hook = function(t) {
            var i = t.split(" ");
            f(i, function(t, i) {
                e.cssHooks[i] = {
                    set: function(t, n) {
                        var a, o, r = "";
                        if ("transparent" !== n && ("string" !== e.type(n) || (a = s(n)))) {
                            if (n = l(a || n),
                            !c.rgba && 1 !== n._rgba[3]) {
                                for (o = "backgroundColor" === i ? t.parentNode : t; ("" === r || "transparent" === r) && o && o.style; )
                                    try {
                                        r = e.css(o, "backgroundColor"),
                                        o = o.parentNode
                                    } catch (h) {}
                                n = n.blend(r && "transparent" !== r ? r : "_default")
                            }
                            n = n.toRgbaString()
                        }
                        try {
                            t.style[i] = n
                        } catch (h) {}
                    }
                },
                e.fx.step[i] = function(t) {
                    t.colorInit || (t.start = l(t.elem, i),
                    t.end = l(t.end),
                    t.colorInit = !0),
                    e.cssHooks[i].set(t.elem, t.start.transition(t.end, t.pos))
                }
            })
        }
        ,
        l.hook(o),
        e.cssHooks.borderColor = {
            expand: function(e) {
                var t = {};
                return f(["Top", "Right", "Bottom", "Left"], function(i, s) {
                    t["border" + s + "Color"] = e
                }),
                t
            }
        },
        a = e.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(b),
    function() {
        function t(t) {
            var i, s, n = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, a = {};
            if (n && n.length && n[0] && n[n[0]])
                for (s = n.length; s--; )
                    i = n[s],
                    "string" == typeof n[i] && (a[e.camelCase(i)] = n[i]);
            else
                for (i in n)
                    "string" == typeof n[i] && (a[i] = n[i]);
            return a
        }
        function i(t, i) {
            var s, a, o = {};
            for (s in i)
                a = i[s],
                t[s] !== a && (n[s] || (e.fx.step[s] || !isNaN(parseFloat(a))) && (o[s] = a));
            return o
        }
        var s = ["add", "remove", "toggle"]
          , n = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, i) {
            e.fx.step[i] = function(e) {
                ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (b.style(e.elem, i, e.end),
                e.setAttr = !0)
            }
        }),
        e.fn.addBack || (e.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
        ),
        e.effects.animateClass = function(n, a, o, r) {
            var h = e.speed(a, o, r);
            return this.queue(function() {
                var a, o = e(this), r = o.attr("class") || "", l = h.children ? o.find("*").addBack() : o;
                l = l.map(function() {
                    var i = e(this);
                    return {
                        el: i,
                        start: t(this)
                    }
                }),
                a = function() {
                    e.each(s, function(e, t) {
                        n[t] && o[t + "Class"](n[t])
                    })
                }
                ,
                a(),
                l = l.map(function() {
                    return this.end = t(this.el[0]),
                    this.diff = i(this.start, this.end),
                    this
                }),
                o.attr("class", r),
                l = l.map(function() {
                    var t = this
                      , i = e.Deferred()
                      , s = e.extend({}, h, {
                        queue: !1,
                        complete: function() {
                            i.resolve(t)
                        }
                    });
                    return this.el.animate(this.diff, s),
                    i.promise()
                }),
                e.when.apply(e, l.get()).done(function() {
                    a(),
                    e.each(arguments, function() {
                        var t = this.el;
                        e.each(this.diff, function(e) {
                            t.css(e, "")
                        })
                    }),
                    h.complete.call(o[0])
                })
            })
        }
        ,
        e.fn.extend({
            addClass: function(t) {
                return function(i, s, n, a) {
                    return s ? e.effects.animateClass.call(this, {
                        add: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.addClass),
            removeClass: function(t) {
                return function(i, s, n, a) {
                    return arguments.length > 1 ? e.effects.animateClass.call(this, {
                        remove: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.removeClass),
            toggleClass: function(t) {
                return function(i, s, n, a, o) {
                    return "boolean" == typeof s || void 0 === s ? n ? e.effects.animateClass.call(this, s ? {
                        add: i
                    } : {
                        remove: i
                    }, n, a, o) : t.apply(this, arguments) : e.effects.animateClass.call(this, {
                        toggle: i
                    }, s, n, a)
                }
            }(e.fn.toggleClass),
            switchClass: function(t, i, s, n, a) {
                return e.effects.animateClass.call(this, {
                    add: i,
                    remove: t
                }, s, n, a)
            }
        })
    }(),
    function() {
        function t(t, i, s, n) {
            return e.isPlainObject(t) && (i = t,
            t = t.effect),
            t = {
                effect: t
            },
            null == i && (i = {}),
            e.isFunction(i) && (n = i,
            s = null,
            i = {}),
            ("number" == typeof i || e.fx.speeds[i]) && (n = s,
            s = i,
            i = {}),
            e.isFunction(s) && (n = s,
            s = null),
            i && e.extend(t, i),
            s = s || i.duration,
            t.duration = e.fx.off ? 0 : "number" == typeof s ? s : s in e.fx.speeds ? e.fx.speeds[s] : e.fx.speeds._default,
            t.complete = n || i.complete,
            t
        }
        function i(t) {
            return !t || "number" == typeof t || e.fx.speeds[t] ? !0 : "string" != typeof t || e.effects.effect[t] ? e.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0
        }
        e.extend(e.effects, {
            version: "1.11.2",
            save: function(e, t) {
                for (var i = 0; t.length > i; i++)
                    null !== t[i] && e.data(y + t[i], e[0].style[t[i]])
            },
            restore: function(e, t) {
                var i, s;
                for (s = 0; t.length > s; s++)
                    null !== t[s] && (i = e.data(y + t[s]),
                    void 0 === i && (i = ""),
                    e.css(t[s], i))
            },
            setMode: function(e, t) {
                return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"),
                t
            },
            getBaseline: function(e, t) {
                var i, s;
                switch (e[0]) {
                case "top":
                    i = 0;
                    break;
                case "middle":
                    i = .5;
                    break;
                case "bottom":
                    i = 1;
                    break;
                default:
                    i = e[0] / t.height
                }
                switch (e[1]) {
                case "left":
                    s = 0;
                    break;
                case "center":
                    s = .5;
                    break;
                case "right":
                    s = 1;
                    break;
                default:
                    s = e[1] / t.width
                }
                return {
                    x: s,
                    y: i
                }
            },
            createWrapper: function(t) {
                if (t.parent().is(".ui-effects-wrapper"))
                    return t.parent();
                var i = {
                    width: t.outerWidth(!0),
                    height: t.outerHeight(!0),
                    "float": t.css("float")
                }
                  , s = e("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , n = {
                    width: t.width(),
                    height: t.height()
                }
                  , a = document.activeElement;
                try {
                    a.id
                } catch (o) {
                    a = document.body
                }
                return t.wrap(s),
                (t[0] === a || e.contains(t[0], a)) && e(a).focus(),
                s = t.parent(),
                "static" === t.css("position") ? (s.css({
                    position: "relative"
                }),
                t.css({
                    position: "relative"
                })) : (e.extend(i, {
                    position: t.css("position"),
                    zIndex: t.css("z-index")
                }),
                e.each(["top", "left", "bottom", "right"], function(e, s) {
                    i[s] = t.css(s),
                    isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                }),
                t.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })),
                t.css(n),
                s.css(i).show()
            },
            removeWrapper: function(t) {
                var i = document.activeElement;
                return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t),
                (t[0] === i || e.contains(t[0], i)) && e(i).focus()),
                t
            },
            setTransition: function(t, i, s, n) {
                return n = n || {},
                e.each(i, function(e, i) {
                    var a = t.cssUnit(i);
                    a[0] > 0 && (n[i] = a[0] * s + a[1])
                }),
                n
            }
        }),
        e.fn.extend({
            effect: function() {
                function i(t) {
                    function i() {
                        e.isFunction(a) && a.call(n[0]),
                        e.isFunction(t) && t()
                    }
                    var n = e(this)
                      , a = s.complete
                      , r = s.mode;
                    (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](),
                    i()) : o.call(n[0], s, i)
                }
                var s = t.apply(this, arguments)
                  , n = s.mode
                  , a = s.queue
                  , o = e.effects.effect[s.effect];
                return e.fx.off || !o ? n ? this[n](s.duration, s.complete) : this.each(function() {
                    s.complete && s.complete.call(this)
                }) : a === !1 ? this.each(i) : this.queue(a || "fx", i)
            },
            show: function(e) {
                return function(s) {
                    if (i(s))
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "show",
                    this.effect.call(this, n)
                }
            }(e.fn.show),
            hide: function(e) {
                return function(s) {
                    if (i(s))
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "hide",
                    this.effect.call(this, n)
                }
            }(e.fn.hide),
            toggle: function(e) {
                return function(s) {
                    if (i(s) || "boolean" == typeof s)
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "toggle",
                    this.effect.call(this, n)
                }
            }(e.fn.toggle),
            cssUnit: function(t) {
                var i = this.css(t)
                  , s = [];
                return e.each(["em", "px", "%", "pt"], function(e, t) {
                    i.indexOf(t) > 0 && (s = [parseFloat(i), t])
                }),
                s
            }
        })
    }(),
    function() {
        var t = {};
        e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(e, i) {
            t[i] = function(t) {
                return Math.pow(t, e + 2)
            }
        }),
        e.extend(t, {
            Sine: function(e) {
                return 1 - Math.cos(e * Math.PI / 2)
            },
            Circ: function(e) {
                return 1 - Math.sqrt(1 - e * e)
            },
            Elastic: function(e) {
                return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
            },
            Back: function(e) {
                return e * e * (3 * e - 2)
            },
            Bounce: function(e) {
                for (var t, i = 4; ((t = Math.pow(2, --i)) - 1) / 11 > e; )
                    ;
                return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
            }
        }),
        e.each(t, function(t, i) {
            e.easing["easeIn" + t] = i,
            e.easing["easeOut" + t] = function(e) {
                return 1 - i(1 - e)
            }
            ,
            e.easing["easeInOut" + t] = function(e) {
                return .5 > e ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2
            }
        })
    }(),
    e.effects,
    e.effects.effect.blind = function(t, i) {
        var s, n, a, o = e(this), r = /up|down|vertical/, h = /up|left|vertical|horizontal/, l = ["position", "top", "bottom", "left", "right", "height", "width"], u = e.effects.setMode(o, t.mode || "hide"), d = t.direction || "up", c = r.test(d), p = c ? "height" : "width", f = c ? "top" : "left", m = h.test(d), g = {}, v = "show" === u;
        o.parent().is(".ui-effects-wrapper") ? e.effects.save(o.parent(), l) : e.effects.save(o, l),
        o.show(),
        s = e.effects.createWrapper(o).css({
            overflow: "hidden"
        }),
        n = s[p](),
        a = parseFloat(s.css(f)) || 0,
        g[p] = v ? n : 0,
        m || (o.css(c ? "bottom" : "right", 0).css(c ? "top" : "left", "auto").css({
            position: "absolute"
        }),
        g[f] = v ? a : n + a),
        v && (s.css(p, 0),
        m || s.css(f, a + n)),
        s.animate(g, {
            duration: t.duration,
            easing: t.easing,
            queue: !1,
            complete: function() {
                "hide" === u && o.hide(),
                e.effects.restore(o, l),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.bounce = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], h = e.effects.setMode(o, t.mode || "effect"), l = "hide" === h, u = "show" === h, d = t.direction || "up", c = t.distance, p = t.times || 5, f = 2 * p + (u || l ? 1 : 0), m = t.duration / f, g = t.easing, v = "up" === d || "down" === d ? "top" : "left", y = "up" === d || "left" === d, b = o.queue(), _ = b.length;
        for ((u || l) && r.push("opacity"),
        e.effects.save(o, r),
        o.show(),
        e.effects.createWrapper(o),
        c || (c = o["top" === v ? "outerHeight" : "outerWidth"]() / 3),
        u && (a = {
            opacity: 1
        },
        a[v] = 0,
        o.css("opacity", 0).css(v, y ? 2 * -c : 2 * c).animate(a, m, g)),
        l && (c /= Math.pow(2, p - 1)),
        a = {},
        a[v] = 0,
        s = 0; p > s; s++)
            n = {},
            n[v] = (y ? "-=" : "+=") + c,
            o.animate(n, m, g).animate(a, m, g),
            c = l ? 2 * c : c / 2;
        l && (n = {
            opacity: 0
        },
        n[v] = (y ? "-=" : "+=") + c,
        o.animate(n, m, g)),
        o.queue(function() {
            l && o.hide(),
            e.effects.restore(o, r),
            e.effects.removeWrapper(o),
            i()
        }),
        _ > 1 && b.splice.apply(b, [1, 0].concat(b.splice(_, f + 1))),
        o.dequeue()
    }
    ,
    e.effects.effect.clip = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], h = e.effects.setMode(o, t.mode || "hide"), l = "show" === h, u = t.direction || "vertical", d = "vertical" === u, c = d ? "height" : "width", p = d ? "top" : "left", f = {};
        e.effects.save(o, r),
        o.show(),
        s = e.effects.createWrapper(o).css({
            overflow: "hidden"
        }),
        n = "IMG" === o[0].tagName ? s : o,
        a = n[c](),
        l && (n.css(c, 0),
        n.css(p, a / 2)),
        f[c] = l ? a : 0,
        f[p] = l ? 0 : a / 2,
        n.animate(f, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                l || o.hide(),
                e.effects.restore(o, r),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.drop = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"], o = e.effects.setMode(n, t.mode || "hide"), r = "show" === o, h = t.direction || "left", l = "up" === h || "down" === h ? "top" : "left", u = "up" === h || "left" === h ? "pos" : "neg", d = {
            opacity: r ? 1 : 0
        };
        e.effects.save(n, a),
        n.show(),
        e.effects.createWrapper(n),
        s = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2,
        r && n.css("opacity", 0).css(l, "pos" === u ? -s : s),
        d[l] = (r ? "pos" === u ? "+=" : "-=" : "pos" === u ? "-=" : "+=") + s,
        n.animate(d, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === o && n.hide(),
                e.effects.restore(n, a),
                e.effects.removeWrapper(n),
                i()
            }
        })
    }
    ,
    e.effects.effect.explode = function(t, i) {
        function s() {
            b.push(this),
            b.length === d * c && n()
        }
        function n() {
            p.css({
                visibility: "visible"
            }),
            e(b).remove(),
            m || p.hide(),
            i()
        }
        var a, o, r, h, l, u, d = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3, c = d, p = e(this), f = e.effects.setMode(p, t.mode || "hide"), m = "show" === f, g = p.show().css("visibility", "hidden").offset(), v = Math.ceil(p.outerWidth() / c), y = Math.ceil(p.outerHeight() / d), b = [];
        for (a = 0; d > a; a++)
            for (h = g.top + a * y,
            u = a - (d - 1) / 2,
            o = 0; c > o; o++)
                r = g.left + o * v,
                l = o - (c - 1) / 2,
                p.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -o * v,
                    top: -a * y
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: v,
                    height: y,
                    left: r + (m ? l * v : 0),
                    top: h + (m ? u * y : 0),
                    opacity: m ? 0 : 1
                }).animate({
                    left: r + (m ? 0 : l * v),
                    top: h + (m ? 0 : u * y),
                    opacity: m ? 1 : 0
                }, t.duration || 500, t.easing, s)
    }
    ,
    e.effects.effect.fade = function(t, i) {
        var s = e(this)
          , n = e.effects.setMode(s, t.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: i
        })
    }
    ,
    e.effects.effect.fold = function(t, i) {
        var s, n, a = e(this), o = ["position", "top", "bottom", "left", "right", "height", "width"], r = e.effects.setMode(a, t.mode || "hide"), h = "show" === r, l = "hide" === r, u = t.size || 15, d = /([0-9]+)%/.exec(u), c = !!t.horizFirst, p = h !== c, f = p ? ["width", "height"] : ["height", "width"], m = t.duration / 2, g = {}, v = {};
        e.effects.save(a, o),
        a.show(),
        s = e.effects.createWrapper(a).css({
            overflow: "hidden"
        }),
        n = p ? [s.width(), s.height()] : [s.height(), s.width()],
        d && (u = parseInt(d[1], 10) / 100 * n[l ? 0 : 1]),
        h && s.css(c ? {
            height: 0,
            width: u
        } : {
            height: u,
            width: 0
        }),
        g[f[0]] = h ? n[0] : u,
        v[f[1]] = h ? n[1] : 0,
        s.animate(g, m, t.easing).animate(v, m, t.easing, function() {
            l && a.hide(),
            e.effects.restore(a, o),
            e.effects.removeWrapper(a),
            i()
        })
    }
    ,
    e.effects.effect.highlight = function(t, i) {
        var s = e(this)
          , n = ["backgroundImage", "backgroundColor", "opacity"]
          , a = e.effects.setMode(s, t.mode || "show")
          , o = {
            backgroundColor: s.css("backgroundColor")
        };
        "hide" === a && (o.opacity = 0),
        e.effects.save(s, n),
        s.show().css({
            backgroundImage: "none",
            backgroundColor: t.color || "#ffff99"
        }).animate(o, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === a && s.hide(),
                e.effects.restore(s, n),
                i()
            }
        })
    }
    ,
    e.effects.effect.size = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"], h = ["position", "top", "bottom", "left", "right", "overflow", "opacity"], l = ["width", "height", "overflow"], u = ["fontSize"], d = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], c = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], p = e.effects.setMode(o, t.mode || "effect"), f = t.restore || "effect" !== p, m = t.scale || "both", g = t.origin || ["middle", "center"], v = o.css("position"), y = f ? r : h, b = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        };
        "show" === p && o.show(),
        s = {
            height: o.height(),
            width: o.width(),
            outerHeight: o.outerHeight(),
            outerWidth: o.outerWidth()
        },
        "toggle" === t.mode && "show" === p ? (o.from = t.to || b,
        o.to = t.from || s) : (o.from = t.from || ("show" === p ? b : s),
        o.to = t.to || ("hide" === p ? b : s)),
        a = {
            from: {
                y: o.from.height / s.height,
                x: o.from.width / s.width
            },
            to: {
                y: o.to.height / s.height,
                x: o.to.width / s.width
            }
        },
        ("box" === m || "both" === m) && (a.from.y !== a.to.y && (y = y.concat(d),
        o.from = e.effects.setTransition(o, d, a.from.y, o.from),
        o.to = e.effects.setTransition(o, d, a.to.y, o.to)),
        a.from.x !== a.to.x && (y = y.concat(c),
        o.from = e.effects.setTransition(o, c, a.from.x, o.from),
        o.to = e.effects.setTransition(o, c, a.to.x, o.to))),
        ("content" === m || "both" === m) && a.from.y !== a.to.y && (y = y.concat(u).concat(l),
        o.from = e.effects.setTransition(o, u, a.from.y, o.from),
        o.to = e.effects.setTransition(o, u, a.to.y, o.to)),
        e.effects.save(o, y),
        o.show(),
        e.effects.createWrapper(o),
        o.css("overflow", "hidden").css(o.from),
        g && (n = e.effects.getBaseline(g, s),
        o.from.top = (s.outerHeight - o.outerHeight()) * n.y,
        o.from.left = (s.outerWidth - o.outerWidth()) * n.x,
        o.to.top = (s.outerHeight - o.to.outerHeight) * n.y,
        o.to.left = (s.outerWidth - o.to.outerWidth) * n.x),
        o.css(o.from),
        ("content" === m || "both" === m) && (d = d.concat(["marginTop", "marginBottom"]).concat(u),
        c = c.concat(["marginLeft", "marginRight"]),
        l = r.concat(d).concat(c),
        o.find("*[width]").each(function() {
            var i = e(this)
              , s = {
                height: i.height(),
                width: i.width(),
                outerHeight: i.outerHeight(),
                outerWidth: i.outerWidth()
            };
            f && e.effects.save(i, l),
            i.from = {
                height: s.height * a.from.y,
                width: s.width * a.from.x,
                outerHeight: s.outerHeight * a.from.y,
                outerWidth: s.outerWidth * a.from.x
            },
            i.to = {
                height: s.height * a.to.y,
                width: s.width * a.to.x,
                outerHeight: s.height * a.to.y,
                outerWidth: s.width * a.to.x
            },
            a.from.y !== a.to.y && (i.from = e.effects.setTransition(i, d, a.from.y, i.from),
            i.to = e.effects.setTransition(i, d, a.to.y, i.to)),
            a.from.x !== a.to.x && (i.from = e.effects.setTransition(i, c, a.from.x, i.from),
            i.to = e.effects.setTransition(i, c, a.to.x, i.to)),
            i.css(i.from),
            i.animate(i.to, t.duration, t.easing, function() {
                f && e.effects.restore(i, l)
            })
        })),
        o.animate(o.to, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                0 === o.to.opacity && o.css("opacity", o.from.opacity),
                "hide" === p && o.hide(),
                e.effects.restore(o, y),
                f || ("static" === v ? o.css({
                    position: "relative",
                    top: o.to.top,
                    left: o.to.left
                }) : e.each(["top", "left"], function(e, t) {
                    o.css(t, function(t, i) {
                        var s = parseInt(i, 10)
                          , n = e ? o.to.left : o.to.top;
                        return "auto" === i ? n + "px" : s + n + "px"
                    })
                })),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.scale = function(t, i) {
        var s = e(this)
          , n = e.extend(!0, {}, t)
          , a = e.effects.setMode(s, t.mode || "effect")
          , o = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === a ? 0 : 100)
          , r = t.direction || "both"
          , h = t.origin
          , l = {
            height: s.height(),
            width: s.width(),
            outerHeight: s.outerHeight(),
            outerWidth: s.outerWidth()
        }
          , u = {
            y: "horizontal" !== r ? o / 100 : 1,
            x: "vertical" !== r ? o / 100 : 1
        };
        n.effect = "size",
        n.queue = !1,
        n.complete = i,
        "effect" !== a && (n.origin = h || ["middle", "center"],
        n.restore = !0),
        n.from = t.from || ("show" === a ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : l),
        n.to = {
            height: l.height * u.y,
            width: l.width * u.x,
            outerHeight: l.outerHeight * u.y,
            outerWidth: l.outerWidth * u.x
        },
        n.fade && ("show" === a && (n.from.opacity = 0,
        n.to.opacity = 1),
        "hide" === a && (n.from.opacity = 1,
        n.to.opacity = 0)),
        s.effect(n)
    }
    ,
    e.effects.effect.puff = function(t, i) {
        var s = e(this)
          , n = e.effects.setMode(s, t.mode || "hide")
          , a = "hide" === n
          , o = parseInt(t.percent, 10) || 150
          , r = o / 100
          , h = {
            height: s.height(),
            width: s.width(),
            outerHeight: s.outerHeight(),
            outerWidth: s.outerWidth()
        };
        e.extend(t, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: a ? o : 100,
            from: a ? h : {
                height: h.height * r,
                width: h.width * r,
                outerHeight: h.outerHeight * r,
                outerWidth: h.outerWidth * r
            }
        }),
        s.effect(t)
    }
    ,
    e.effects.effect.pulsate = function(t, i) {
        var s, n = e(this), a = e.effects.setMode(n, t.mode || "show"), o = "show" === a, r = "hide" === a, h = o || "hide" === a, l = 2 * (t.times || 5) + (h ? 1 : 0), u = t.duration / l, d = 0, c = n.queue(), p = c.length;
        for ((o || !n.is(":visible")) && (n.css("opacity", 0).show(),
        d = 1),
        s = 1; l > s; s++)
            n.animate({
                opacity: d
            }, u, t.easing),
            d = 1 - d;
        n.animate({
            opacity: d
        }, u, t.easing),
        n.queue(function() {
            r && n.hide(),
            i()
        }),
        p > 1 && c.splice.apply(c, [1, 0].concat(c.splice(p, l + 1))),
        n.dequeue()
    }
    ,
    e.effects.effect.shake = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "height", "width"], o = e.effects.setMode(n, t.mode || "effect"), r = t.direction || "left", h = t.distance || 20, l = t.times || 3, u = 2 * l + 1, d = Math.round(t.duration / u), c = "up" === r || "down" === r ? "top" : "left", p = "up" === r || "left" === r, f = {}, m = {}, g = {}, v = n.queue(), y = v.length;
        for (e.effects.save(n, a),
        n.show(),
        e.effects.createWrapper(n),
        f[c] = (p ? "-=" : "+=") + h,
        m[c] = (p ? "+=" : "-=") + 2 * h,
        g[c] = (p ? "-=" : "+=") + 2 * h,
        n.animate(f, d, t.easing),
        s = 1; l > s; s++)
            n.animate(m, d, t.easing).animate(g, d, t.easing);
        n.animate(m, d, t.easing).animate(f, d / 2, t.easing).queue(function() {
            "hide" === o && n.hide(),
            e.effects.restore(n, a),
            e.effects.removeWrapper(n),
            i()
        }),
        y > 1 && v.splice.apply(v, [1, 0].concat(v.splice(y, u + 1))),
        n.dequeue()
    }
    ,
    e.effects.effect.slide = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "width", "height"], o = e.effects.setMode(n, t.mode || "show"), r = "show" === o, h = t.direction || "left", l = "up" === h || "down" === h ? "top" : "left", u = "up" === h || "left" === h, d = {};
        e.effects.save(n, a),
        n.show(),
        s = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0),
        e.effects.createWrapper(n).css({
            overflow: "hidden"
        }),
        r && n.css(l, u ? isNaN(s) ? "-" + s : -s : s),
        d[l] = (r ? u ? "+=" : "-=" : u ? "-=" : "+=") + s,
        n.animate(d, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === o && n.hide(),
                e.effects.restore(n, a),
                e.effects.removeWrapper(n),
                i()
            }
        })
    }
    ,
    e.effects.effect.transfer = function(t, i) {
        var s = e(this)
          , n = e(t.to)
          , a = "fixed" === n.css("position")
          , o = e("body")
          , r = a ? o.scrollTop() : 0
          , h = a ? o.scrollLeft() : 0
          , l = n.offset()
          , u = {
            top: l.top - r,
            left: l.left - h,
            height: n.innerHeight(),
            width: n.innerWidth()
        }
          , d = s.offset()
          , c = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({
            top: d.top - r,
            left: d.left - h,
            height: s.innerHeight(),
            width: s.innerWidth(),
            position: a ? "fixed" : "absolute"
        }).animate(u, t.duration, t.easing, function() {
            c.remove(),
            i()
        })
    }
});

!function(a, b, c, d) {
    function e(b, c) {
        this.settings = null,
        this.options = a.extend({}, e.Defaults, c),
        this.$element = a(b),
        this._handlers = {},
        this._plugins = {},
        this._supress = {},
        this._current = null,
        this._speed = null,
        this._coordinates = [],
        this._breakpoint = null,
        this._width = null,
        this._items = [],
        this._clones = [],
        this._mergers = [],
        this._widths = [],
        this._invalidated = {},
        this._pipe = [],
        this._drag = {
            time: null,
            target: null,
            pointer: null,
            stage: {
                start: null,
                current: null
            },
            direction: null
        },
        this._states = {
            current: {},
            tags: {
                initializing: ["busy"],
                animating: ["busy"],
                dragging: ["interacting"]
            }
        },
        a.each(["onResize", "onThrottledResize"], a.proxy(function(b, c) {
            this._handlers[c] = a.proxy(this[c], this)
        }, this)),
        a.each(e.Plugins, a.proxy(function(a, b) {
            this._plugins[a.charAt(0).toLowerCase() + a.slice(1)] = new b(this)
        }, this)),
        a.each(e.Workers, a.proxy(function(b, c) {
            this._pipe.push({
                filter: c.filter,
                run: a.proxy(c.run, this)
            })
        }, this)),
        this.setup(),
        this.initialize()
    }
    e.Defaults = {
        items: 3,
        loop: !1,
        center: !1,
        rewind: !1,
        mouseDrag: !0,
        touchDrag: !0,
        pullDrag: !0,
        freeDrag: !1,
        margin: 0,
        stagePadding: 0,
        merge: !1,
        mergeFit: !0,
        autoWidth: !1,
        startPosition: 0,
        rtl: !1,
        smartSpeed: 250,
        fluidSpeed: !1,
        dragEndSpeed: !1,
        responsive: {},
        responsiveRefreshRate: 200,
        responsiveBaseElement: b,
        fallbackEasing: "swing",
        info: !1,
        nestedItemSelector: !1,
        itemElement: "div",
        stageElement: "div",
        refreshClass: "owl-refresh",
        loadedClass: "owl-loaded",
        loadingClass: "owl-loading",
        rtlClass: "owl-rtl",
        responsiveClass: "owl-responsive",
        dragClass: "owl-drag",
        itemClass: "owl-item",
        stageClass: "owl-stage",
        stageOuterClass: "owl-stage-outer",
        grabClass: "owl-grab"
    },
    e.Width = {
        Default: "default",
        Inner: "inner",
        Outer: "outer"
    },
    e.Type = {
        Event: "event",
        State: "state"
    },
    e.Plugins = {},
    e.Workers = [{
        filter: ["width", "settings"],
        run: function() {
            this._width = this.$element.width()
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(a) {
            a.current = this._items && this._items[this.relative(this._current)]
        }
    }, {
        filter: ["items", "settings"],
        run: function() {
            this.$stage.children(".cloned").remove()
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(a) {
            var b = this.settings.margin || ""
              , c = !this.settings.autoWidth
              , d = this.settings.rtl
              , e = {
                width: "auto",
                "margin-left": d ? b : "",
                "margin-right": d ? "" : b
            };
            !c && this.$stage.children().css(e),
            a.css = e
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(a) {
            var b = (this.width() / this.settings.items).toFixed(3) - this.settings.margin
              , c = null
              , d = this._items.length
              , e = !this.settings.autoWidth
              , f = [];
            for (a.items = {
                merge: !1,
                width: b
            }; d--; )
                c = this._mergers[d],
                c = this.settings.mergeFit && Math.min(c, this.settings.items) || c,
                a.items.merge = c > 1 || a.items.merge,
                f[d] = e ? b * c : this._items[d].width();
            this._widths = f
        }
    }, {
        filter: ["items", "settings"],
        run: function() {
            var b = []
              , c = this._items
              , d = this.settings
              , e = Math.max(2 * d.items, 4)
              , f = 2 * Math.ceil(c.length / 2)
              , g = d.loop && c.length ? d.rewind ? e : Math.max(e, f) : 0
              , h = ""
              , i = "";
            for (g /= 2; g > 0; )
                b.push(this.normalize(b.length / 2, !0)),
                h += c[b[b.length - 1]][0].outerHTML,
                b.push(this.normalize(c.length - 1 - (b.length - 1) / 2, !0)),
                i = c[b[b.length - 1]][0].outerHTML + i,
                g -= 1;
            this._clones = b,
            a(h).addClass("cloned").appendTo(this.$stage),
            a(i).addClass("cloned").prependTo(this.$stage)
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function() {
            for (var a = this.settings.rtl ? 1 : -1, b = this._clones.length + this._items.length, c = -1, d = 0, e = 0, f = []; ++c < b; )
                d = f[c - 1] || 0,
                e = this._widths[this.relative(c)] + this.settings.margin,
                f.push(d + e * a);
            this._coordinates = f
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function() {
            var a = this.settings.stagePadding
              , b = this._coordinates
              , c = {
                width: Math.ceil(Math.abs(b[b.length - 1])) + 2 * a,
                "padding-left": a || "",
                "padding-right": a || ""
            };
            this.$stage.css(c)
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(a) {
            var b = this._coordinates.length
              , c = !this.settings.autoWidth
              , d = this.$stage.children();
            if (c && a.items.merge)
                for (; b--; )
                    a.css.width = this._widths[this.relative(b)],
                    d.eq(b).css(a.css);
            else
                c && (a.css.width = a.items.width,
                d.css(a.css))
        }
    }, {
        filter: ["items"],
        run: function() {
            this._coordinates.length < 1 && this.$stage.removeAttr("style")
        }
    }, {
        filter: ["width", "items", "settings"],
        run: function(a) {
            a.current = a.current ? this.$stage.children().index(a.current) : 0,
            a.current = Math.max(this.minimum(), Math.min(this.maximum(), a.current)),
            this.reset(a.current)
        }
    }, {
        filter: ["position"],
        run: function() {
            this.animate(this.coordinates(this._current))
        }
    }, {
        filter: ["width", "position", "items", "settings"],
        run: function() {
            var a, b, c, d, e = this.settings.rtl ? 1 : -1, f = 2 * this.settings.stagePadding, g = this.coordinates(this.current()) + f, h = g + this.width() * e, i = [];
            for (c = 0,
            d = this._coordinates.length; c < d; c++)
                a = this._coordinates[c - 1] || 0,
                b = Math.abs(this._coordinates[c]) + f * e,
                (this.op(a, "<=", g) && this.op(a, ">", h) || this.op(b, "<", g) && this.op(b, ">", h)) && i.push(c);
            this.$stage.children(".active").removeClass("active"),
            this.$stage.children(":eq(" + i.join("), :eq(") + ")").addClass("active"),
            this.$stage.children(".center").removeClass("center"),
            this.settings.center && this.$stage.children().eq(this.current()).addClass("center")
        }
    }],
    e.prototype.initializeStage = function() {
        this.$stage = this.$element.find("." + this.settings.stageClass),
        this.$stage.length || (this.$element.addClass(this.options.loadingClass),
        this.$stage = a("<" + this.settings.stageElement + ' class="' + this.settings.stageClass + '"/>').wrap('<div class="' + this.settings.stageOuterClass + '"/>'),
        this.$element.append(this.$stage.parent()))
    }
    ,
    e.prototype.initializeItems = function() {
        var b = this.$element.find(".owl-item");
        if (b.length)
            return this._items = b.get().map(function(b) {
                return a(b)
            }),
            this._mergers = this._items.map(function() {
                return 1
            }),
            void this.refresh();
        this.replace(this.$element.children().not(this.$stage.parent())),
        this.isVisible() ? this.refresh() : this.invalidate("width"),
        this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)
    }
    ,
    e.prototype.initialize = function() {
        if (this.enter("initializing"),
        this.trigger("initialize"),
        this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl),
        this.settings.autoWidth && !this.is("pre-loading")) {
            var a, b, c;
            a = this.$element.find("img"),
            b = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : d,
            c = this.$element.children(b).width(),
            a.length && c <= 0 && this.preloadAutoWidthImages(a)
        }
        this.initializeStage(),
        this.initializeItems(),
        this.registerEventHandlers(),
        this.leave("initializing"),
        this.trigger("initialized")
    }
    ,
    e.prototype.isVisible = function() {
        return !this.settings.checkVisibility || this.$element.is(":visible")
    }
    ,
    e.prototype.setup = function() {
        var b = this.viewport()
          , c = this.options.responsive
          , d = -1
          , e = null;
        c ? (a.each(c, function(a) {
            a <= b && a > d && (d = Number(a))
        }),
        e = a.extend({}, this.options, c[d]),
        "function" == typeof e.stagePadding && (e.stagePadding = e.stagePadding()),
        delete e.responsive,
        e.responsiveClass && this.$element.attr("class", this.$element.attr("class").replace(new RegExp("(" + this.options.responsiveClass + "-)\\S+\\s","g"), "$1" + d))) : e = a.extend({}, this.options),
        this.trigger("change", {
            property: {
                name: "settings",
                value: e
            }
        }),
        this._breakpoint = d,
        this.settings = e,
        this.invalidate("settings"),
        this.trigger("changed", {
            property: {
                name: "settings",
                value: this.settings
            }
        })
    }
    ,
    e.prototype.optionsLogic = function() {
        this.settings.autoWidth && (this.settings.stagePadding = !1,
        this.settings.merge = !1)
    }
    ,
    e.prototype.prepare = function(b) {
        var c = this.trigger("prepare", {
            content: b
        });
        return c.data || (c.data = a("<" + this.settings.itemElement + "/>").addClass(this.options.itemClass).append(b)),
        this.trigger("prepared", {
            content: c.data
        }),
        c.data
    }
    ,
    e.prototype.update = function() {
        for (var b = 0, c = this._pipe.length, d = a.proxy(function(a) {
            return this[a]
        }, this._invalidated), e = {}; b < c; )
            (this._invalidated.all || a.grep(this._pipe[b].filter, d).length > 0) && this._pipe[b].run(e),
            b++;
        this._invalidated = {},
        !this.is("valid") && this.enter("valid")
    }
    ,
    e.prototype.width = function(a) {
        switch (a = a || e.Width.Default) {
        case e.Width.Inner:
        case e.Width.Outer:
            return this._width;
        default:
            return this._width - 2 * this.settings.stagePadding + this.settings.margin
        }
    }
    ,
    e.prototype.refresh = function() {
        this.enter("refreshing"),
        this.trigger("refresh"),
        this.setup(),
        this.optionsLogic(),
        this.$element.addClass(this.options.refreshClass),
        this.update(),
        this.$element.removeClass(this.options.refreshClass),
        this.leave("refreshing"),
        this.trigger("refreshed")
    }
    ,
    e.prototype.onThrottledResize = function() {
        b.clearTimeout(this.resizeTimer),
        this.resizeTimer = b.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate)
    }
    ,
    e.prototype.onResize = function() {
        return !!this._items.length && (this._width !== this.$element.width() && (!!this.isVisible() && (this.enter("resizing"),
        this.trigger("resize").isDefaultPrevented() ? (this.leave("resizing"),
        !1) : (this.invalidate("width"),
        this.refresh(),
        this.leave("resizing"),
        void this.trigger("resized")))))
    }
    ,
    e.prototype.registerEventHandlers = function() {
        a.support.transition && this.$stage.on(a.support.transition.end + ".owl.core", a.proxy(this.onTransitionEnd, this)),
        !1 !== this.settings.responsive && this.on(b, "resize", this._handlers.onThrottledResize),
        this.settings.mouseDrag && (this.$element.addClass(this.options.dragClass),
        this.$stage.on("mousedown.owl.core", a.proxy(this.onDragStart, this)),
        this.$stage.on("dragstart.owl.core selectstart.owl.core", function() {
            return !1
        })),
        this.settings.touchDrag && (this.$stage.on("touchstart.owl.core", a.proxy(this.onDragStart, this)),
        this.$stage.on("touchcancel.owl.core", a.proxy(this.onDragEnd, this)))
    }
    ,
    e.prototype.onDragStart = function(b) {
        var d = null;
        3 !== b.which && (a.support.transform ? (d = this.$stage.css("transform").replace(/.*\(|\)| /g, "").split(","),
        d = {
            x: d[16 === d.length ? 12 : 4],
            y: d[16 === d.length ? 13 : 5]
        }) : (d = this.$stage.position(),
        d = {
            x: this.settings.rtl ? d.left + this.$stage.width() - this.width() + this.settings.margin : d.left,
            y: d.top
        }),
        this.is("animating") && (a.support.transform ? this.animate(d.x) : this.$stage.stop(),
        this.invalidate("position")),
        this.$element.toggleClass(this.options.grabClass, "mousedown" === b.type),
        this.speed(0),
        this._drag.time = (new Date).getTime(),
        this._drag.target = a(b.target),
        this._drag.stage.start = d,
        this._drag.stage.current = d,
        this._drag.pointer = this.pointer(b),
        a(c).on("mouseup.owl.core touchend.owl.core", a.proxy(this.onDragEnd, this)),
        a(c).one("mousemove.owl.core touchmove.owl.core", a.proxy(function(b) {
            var d = this.difference(this._drag.pointer, this.pointer(b));
            a(c).on("mousemove.owl.core touchmove.owl.core", a.proxy(this.onDragMove, this)),
            Math.abs(d.x) < Math.abs(d.y) && this.is("valid") || (b.preventDefault(),
            this.enter("dragging"),
            this.trigger("drag"))
        }, this)))
    }
    ,
    e.prototype.onDragMove = function(a) {
        var b = null
          , c = null
          , d = null
          , e = this.difference(this._drag.pointer, this.pointer(a))
          , f = this.difference(this._drag.stage.start, e);
        this.is("dragging") && (a.preventDefault(),
        this.settings.loop ? (b = this.coordinates(this.minimum()),
        c = this.coordinates(this.maximum() + 1) - b,
        f.x = ((f.x - b) % c + c) % c + b) : (b = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()),
        c = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()),
        d = this.settings.pullDrag ? -1 * e.x / 5 : 0,
        f.x = Math.max(Math.min(f.x, b + d), c + d)),
        this._drag.stage.current = f,
        this.animate(f.x))
    }
    ,
    e.prototype.onDragEnd = function(b) {
        var d = this.difference(this._drag.pointer, this.pointer(b))
          , e = this._drag.stage.current
          , f = d.x > 0 ^ this.settings.rtl ? "left" : "right";
        a(c).off(".owl.core"),
        this.$element.removeClass(this.options.grabClass),
        (0 !== d.x && this.is("dragging") || !this.is("valid")) && (this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed),
        this.current(this.closest(e.x, 0 !== d.x ? f : this._drag.direction)),
        this.invalidate("position"),
        this.update(),
        this._drag.direction = f,
        (Math.abs(d.x) > 3 || (new Date).getTime() - this._drag.time > 300) && this._drag.target.one("click.owl.core", function() {
            return !1
        })),
        this.is("dragging") && (this.leave("dragging"),
        this.trigger("dragged"))
    }
    ,
    e.prototype.closest = function(b, c) {
        var e = -1
          , f = 30
          , g = this.width()
          , h = this.coordinates();
        return this.settings.freeDrag || a.each(h, a.proxy(function(a, i) {
            return "left" === c && b > i - f && b < i + f ? e = a : "right" === c && b > i - g - f && b < i - g + f ? e = a + 1 : this.op(b, "<", i) && this.op(b, ">", h[a + 1] !== d ? h[a + 1] : i - g) && (e = "left" === c ? a + 1 : a),
            -1 === e
        }, this)),
        this.settings.loop || (this.op(b, ">", h[this.minimum()]) ? e = b = this.minimum() : this.op(b, "<", h[this.maximum()]) && (e = b = this.maximum())),
        e
    }
    ,
    e.prototype.animate = function(b) {
        var c = this.speed() > 0;
        this.is("animating") && this.onTransitionEnd(),
        c && (this.enter("animating"),
        this.trigger("translate")),
        a.support.transform3d && a.support.transition ? this.$stage.css({
            transform: "translate3d(" + b + "px,0px,0px)",
            transition: this.speed() / 1e3 + "s"
        }) : c ? this.$stage.animate({
            left: b + "px"
        }, this.speed(), this.settings.fallbackEasing, a.proxy(this.onTransitionEnd, this)) : this.$stage.css({
            left: b + "px"
        })
    }
    ,
    e.prototype.is = function(a) {
        return this._states.current[a] && this._states.current[a] > 0
    }
    ,
    e.prototype.current = function(a) {
        if (a === d)
            return this._current;
        if (0 === this._items.length)
            return d;
        if (a = this.normalize(a),
        this._current !== a) {
            var b = this.trigger("change", {
                property: {
                    name: "position",
                    value: a
                }
            });
            b.data !== d && (a = this.normalize(b.data)),
            this._current = a,
            this.invalidate("position"),
            this.trigger("changed", {
                property: {
                    name: "position",
                    value: this._current
                }
            })
        }
        return this._current
    }
    ,
    e.prototype.invalidate = function(b) {
        return "string" === a.type(b) && (this._invalidated[b] = !0,
        this.is("valid") && this.leave("valid")),
        a.map(this._invalidated, function(a, b) {
            return b
        })
    }
    ,
    e.prototype.reset = function(a) {
        (a = this.normalize(a)) !== d && (this._speed = 0,
        this._current = a,
        this.suppress(["translate", "translated"]),
        this.animate(this.coordinates(a)),
        this.release(["translate", "translated"]))
    }
    ,
    e.prototype.normalize = function(a, b) {
        var c = this._items.length
          , e = b ? 0 : this._clones.length;
        return !this.isNumeric(a) || c < 1 ? a = d : (a < 0 || a >= c + e) && (a = ((a - e / 2) % c + c) % c + e / 2),
        a
    }
    ,
    e.prototype.relative = function(a) {
        return a -= this._clones.length / 2,
        this.normalize(a, !0)
    }
    ,
    e.prototype.maximum = function(a) {
        var b, c, d, e = this.settings, f = this._coordinates.length;
        if (e.loop)
            f = this._clones.length / 2 + this._items.length - 1;
        else if (e.autoWidth || e.merge) {
            if (b = this._items.length)
                for (c = this._items[--b].width(),
                d = this.$element.width(); b-- && !((c += this._items[b].width() + this.settings.margin) > d); )
                    ;
            f = b + 1
        } else
            f = e.center ? this._items.length - 1 : this._items.length - e.items;
        return a && (f -= this._clones.length / 2),
        Math.max(f, 0)
    }
    ,
    e.prototype.minimum = function(a) {
        return a ? 0 : this._clones.length / 2
    }
    ,
    e.prototype.items = function(a) {
        return a === d ? this._items.slice() : (a = this.normalize(a, !0),
        this._items[a])
    }
    ,
    e.prototype.mergers = function(a) {
        return a === d ? this._mergers.slice() : (a = this.normalize(a, !0),
        this._mergers[a])
    }
    ,
    e.prototype.clones = function(b) {
        var c = this._clones.length / 2
          , e = c + this._items.length
          , f = function(a) {
            return a % 2 == 0 ? e + a / 2 : c - (a + 1) / 2
        };
        return b === d ? a.map(this._clones, function(a, b) {
            return f(b)
        }) : a.map(this._clones, function(a, c) {
            return a === b ? f(c) : null
        })
    }
    ,
    e.prototype.speed = function(a) {
        return a !== d && (this._speed = a),
        this._speed
    }
    ,
    e.prototype.coordinates = function(b) {
        var c, e = 1, f = b - 1;
        return b === d ? a.map(this._coordinates, a.proxy(function(a, b) {
            return this.coordinates(b)
        }, this)) : (this.settings.center ? (this.settings.rtl && (e = -1,
        f = b + 1),
        c = this._coordinates[b],
        c += (this.width() - c + (this._coordinates[f] || 0)) / 2 * e) : c = this._coordinates[f] || 0,
        c = Math.ceil(c))
    }
    ,
    e.prototype.duration = function(a, b, c) {
        return 0 === c ? 0 : Math.min(Math.max(Math.abs(b - a), 1), 6) * Math.abs(c || this.settings.smartSpeed)
    }
    ,
    e.prototype.to = function(a, b) {
        var c = this.current()
          , d = null
          , e = a - this.relative(c)
          , f = (e > 0) - (e < 0)
          , g = this._items.length
          , h = this.minimum()
          , i = this.maximum();
        this.settings.loop ? (!this.settings.rewind && Math.abs(e) > g / 2 && (e += -1 * f * g),
        a = c + e,
        (d = ((a - h) % g + g) % g + h) !== a && d - e <= i && d - e > 0 && (c = d - e,
        a = d,
        this.reset(c))) : this.settings.rewind ? (i += 1,
        a = (a % i + i) % i) : a = Math.max(h, Math.min(i, a)),
        this.speed(this.duration(c, a, b)),
        this.current(a),
        this.isVisible() && this.update()
    }
    ,
    e.prototype.next = function(a) {
        a = a || !1,
        this.to(this.relative(this.current()) + 1, a)
    }
    ,
    e.prototype.prev = function(a) {
        a = a || !1,
        this.to(this.relative(this.current()) - 1, a)
    }
    ,
    e.prototype.onTransitionEnd = function(a) {
        if (a !== d && (a.stopPropagation(),
        (a.target || a.srcElement || a.originalTarget) !== this.$stage.get(0)))
            return !1;
        this.leave("animating"),
        this.trigger("translated")
    }
    ,
    e.prototype.viewport = function() {
        var d;
        return this.options.responsiveBaseElement !== b ? d = a(this.options.responsiveBaseElement).width() : b.innerWidth ? d = b.innerWidth : c.documentElement && c.documentElement.clientWidth ? d = c.documentElement.clientWidth : console.warn("Can not detect viewport width."),
        d
    }
    ,
    e.prototype.replace = function(b) {
        this.$stage.empty(),
        this._items = [],
        b && (b = b instanceof jQuery ? b : a(b)),
        this.settings.nestedItemSelector && (b = b.find("." + this.settings.nestedItemSelector)),
        b.filter(function() {
            return 1 === this.nodeType
        }).each(a.proxy(function(a, b) {
            b = this.prepare(b),
            this.$stage.append(b),
            this._items.push(b),
            this._mergers.push(1 * b.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)
        }, this)),
        this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0),
        this.invalidate("items")
    }
    ,
    e.prototype.add = function(b, c) {
        var e = this.relative(this._current);
        c = c === d ? this._items.length : this.normalize(c, !0),
        b = b instanceof jQuery ? b : a(b),
        this.trigger("add", {
            content: b,
            position: c
        }),
        b = this.prepare(b),
        0 === this._items.length || c === this._items.length ? (0 === this._items.length && this.$stage.append(b),
        0 !== this._items.length && this._items[c - 1].after(b),
        this._items.push(b),
        this._mergers.push(1 * b.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)) : (this._items[c].before(b),
        this._items.splice(c, 0, b),
        this._mergers.splice(c, 0, 1 * b.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)),
        this._items[e] && this.reset(this._items[e].index()),
        this.invalidate("items"),
        this.trigger("added", {
            content: b,
            position: c
        })
    }
    ,
    e.prototype.remove = function(a) {
        (a = this.normalize(a, !0)) !== d && (this.trigger("remove", {
            content: this._items[a],
            position: a
        }),
        this._items[a].remove(),
        this._items.splice(a, 1),
        this._mergers.splice(a, 1),
        this.invalidate("items"),
        this.trigger("removed", {
            content: null,
            position: a
        }))
    }
    ,
    e.prototype.preloadAutoWidthImages = function(b) {
        b.each(a.proxy(function(b, c) {
            this.enter("pre-loading"),
            c = a(c),
            a(new Image).one("load", a.proxy(function(a) {
                c.attr("src", a.target.src),
                c.css("opacity", 1),
                this.leave("pre-loading"),
                !this.is("pre-loading") && !this.is("initializing") && this.refresh()
            }, this)).attr("src", c.attr("src") || c.attr("data-src") || c.attr("data-src-retina"))
        }, this))
    }
    ,
    e.prototype.destroy = function() {
        this.$element.off(".owl.core"),
        this.$stage.off(".owl.core"),
        a(c).off(".owl.core"),
        !1 !== this.settings.responsive && (b.clearTimeout(this.resizeTimer),
        this.off(b, "resize", this._handlers.onThrottledResize));
        for (var d in this._plugins)
            this._plugins[d].destroy();
        this.$stage.children(".cloned").remove(),
        this.$stage.unwrap(),
        this.$stage.children().contents().unwrap(),
        this.$stage.children().unwrap(),
        this.$stage.remove(),
        this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class", this.$element.attr("class").replace(new RegExp(this.options.responsiveClass + "-\\S+\\s","g"), "")).removeData("owl.carousel")
    }
    ,
    e.prototype.op = function(a, b, c) {
        var d = this.settings.rtl;
        switch (b) {
        case "<":
            return d ? a > c : a < c;
        case ">":
            return d ? a < c : a > c;
        case ">=":
            return d ? a <= c : a >= c;
        case "<=":
            return d ? a >= c : a <= c
        }
    }
    ,
    e.prototype.on = function(a, b, c, d) {
        a.addEventListener ? a.addEventListener(b, c, d) : a.attachEvent && a.attachEvent("on" + b, c)
    }
    ,
    e.prototype.off = function(a, b, c, d) {
        a.removeEventListener ? a.removeEventListener(b, c, d) : a.detachEvent && a.detachEvent("on" + b, c)
    }
    ,
    e.prototype.trigger = function(b, c, d, f, g) {
        var h = {
            item: {
                count: this._items.length,
                index: this.current()
            }
        }
          , i = a.camelCase(a.grep(["on", b, d], function(a) {
            return a
        }).join("-").toLowerCase())
          , j = a.Event([b, "owl", d || "carousel"].join(".").toLowerCase(), a.extend({
            relatedTarget: this
        }, h, c));
        return this._supress[b] || (a.each(this._plugins, function(a, b) {
            b.onTrigger && b.onTrigger(j)
        }),
        this.register({
            type: e.Type.Event,
            name: b
        }),
        this.$element.trigger(j),
        this.settings && "function" == typeof this.settings[i] && this.settings[i].call(this, j)),
        j
    }
    ,
    e.prototype.enter = function(b) {
        a.each([b].concat(this._states.tags[b] || []), a.proxy(function(a, b) {
            this._states.current[b] === d && (this._states.current[b] = 0),
            this._states.current[b]++
        }, this))
    }
    ,
    e.prototype.leave = function(b) {
        a.each([b].concat(this._states.tags[b] || []), a.proxy(function(a, b) {
            this._states.current[b]--
        }, this))
    }
    ,
    e.prototype.register = function(b) {
        if (b.type === e.Type.Event) {
            if (a.event.special[b.name] || (a.event.special[b.name] = {}),
            !a.event.special[b.name].owl) {
                var c = a.event.special[b.name]._default;
                a.event.special[b.name]._default = function(a) {
                    return !c || !c.apply || a.namespace && -1 !== a.namespace.indexOf("owl") ? a.namespace && a.namespace.indexOf("owl") > -1 : c.apply(this, arguments)
                }
                ,
                a.event.special[b.name].owl = !0
            }
        } else
            b.type === e.Type.State && (this._states.tags[b.name] ? this._states.tags[b.name] = this._states.tags[b.name].concat(b.tags) : this._states.tags[b.name] = b.tags,
            this._states.tags[b.name] = a.grep(this._states.tags[b.name], a.proxy(function(c, d) {
                return a.inArray(c, this._states.tags[b.name]) === d
            }, this)))
    }
    ,
    e.prototype.suppress = function(b) {
        a.each(b, a.proxy(function(a, b) {
            this._supress[b] = !0
        }, this))
    }
    ,
    e.prototype.release = function(b) {
        a.each(b, a.proxy(function(a, b) {
            delete this._supress[b]
        }, this))
    }
    ,
    e.prototype.pointer = function(a) {
        var c = {
            x: null,
            y: null
        };
        return a = a.originalEvent || a || b.event,
        a = a.touches && a.touches.length ? a.touches[0] : a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : a,
        a.pageX ? (c.x = a.pageX,
        c.y = a.pageY) : (c.x = a.clientX,
        c.y = a.clientY),
        c
    }
    ,
    e.prototype.isNumeric = function(a) {
        return !isNaN(parseFloat(a))
    }
    ,
    e.prototype.difference = function(a, b) {
        return {
            x: a.x - b.x,
            y: a.y - b.y
        }
    }
    ,
    a.fn.owlCarousel = function(b) {
        var c = Array.prototype.slice.call(arguments, 1);
        return this.each(function() {
            var d = a(this)
              , f = d.data("owl.carousel");
            f || (f = new e(this,"object" == typeof b && b),
            d.data("owl.carousel", f),
            a.each(["next", "prev", "to", "destroy", "refresh", "replace", "add", "remove"], function(b, c) {
                f.register({
                    type: e.Type.Event,
                    name: c
                }),
                f.$element.on(c + ".owl.carousel.core", a.proxy(function(a) {
                    a.namespace && a.relatedTarget !== this && (this.suppress([c]),
                    f[c].apply(this, [].slice.call(arguments, 1)),
                    this.release([c]))
                }, f))
            })),
            "string" == typeof b && "_" !== b.charAt(0) && f[b].apply(f, c)
        })
    }
    ,
    a.fn.owlCarousel.Constructor = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(b) {
        this._core = b,
        this._interval = null,
        this._visible = null,
        this._handlers = {
            "initialized.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.autoRefresh && this.watch()
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this._core.$element.on(this._handlers)
    };
    e.Defaults = {
        autoRefresh: !0,
        autoRefreshInterval: 500
    },
    e.prototype.watch = function() {
        this._interval || (this._visible = this._core.isVisible(),
        this._interval = b.setInterval(a.proxy(this.refresh, this), this._core.settings.autoRefreshInterval))
    }
    ,
    e.prototype.refresh = function() {
        this._core.isVisible() !== this._visible && (this._visible = !this._visible,
        this._core.$element.toggleClass("owl-hidden", !this._visible),
        this._visible && this._core.invalidate("width") && this._core.refresh())
    }
    ,
    e.prototype.destroy = function() {
        var a, c;
        b.clearInterval(this._interval);
        for (a in this._handlers)
            this._core.$element.off(a, this._handlers[a]);
        for (c in Object.getOwnPropertyNames(this))
            "function" != typeof this[c] && (this[c] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.AutoRefresh = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(b) {
        this._core = b,
        this._loaded = [],
        this._handlers = {
            "initialized.owl.carousel change.owl.carousel resized.owl.carousel": a.proxy(function(b) {
                if (b.namespace && this._core.settings && this._core.settings.lazyLoad && (b.property && "position" == b.property.name || "initialized" == b.type))
                    for (var c = this._core.settings, e = c.center && Math.ceil(c.items / 2) || c.items, f = c.center && -1 * e || 0, g = (b.property && b.property.value !== d ? b.property.value : this._core.current()) + f, h = this._core.clones().length, i = a.proxy(function(a, b) {
                        this.load(b)
                    }, this); f++ < e; )
                        this.load(h / 2 + this._core.relative(g)),
                        h && a.each(this._core.clones(this._core.relative(g)), i),
                        g++
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this._core.$element.on(this._handlers)
    };
    e.Defaults = {
        lazyLoad: !1
    },
    e.prototype.load = function(c) {
        var d = this._core.$stage.children().eq(c)
          , e = d && d.find(".owl-lazy");
        !e || a.inArray(d.get(0), this._loaded) > -1 || (e.each(a.proxy(function(c, d) {
            var e, f = a(d), g = b.devicePixelRatio > 1 && f.attr("data-src-retina") || f.attr("data-src") || f.attr("data-srcset");
            this._core.trigger("load", {
                element: f,
                url: g
            }, "lazy"),
            f.is("img") ? f.one("load.owl.lazy", a.proxy(function() {
                f.css("opacity", 1),
                this._core.trigger("loaded", {
                    element: f,
                    url: g
                }, "lazy")
            }, this)).attr("src", g) : f.is("source") ? f.one("load.owl.lazy", a.proxy(function() {
                this._core.trigger("loaded", {
                    element: f,
                    url: g
                }, "lazy")
            }, this)).attr("srcset", g) : (e = new Image,
            e.onload = a.proxy(function() {
                f.css({
                    "background-image": 'url("' + g + '")',
                    opacity: "1"
                }),
                this._core.trigger("loaded", {
                    element: f,
                    url: g
                }, "lazy")
            }, this),
            e.src = g)
        }, this)),
        this._loaded.push(d.get(0)))
    }
    ,
    e.prototype.destroy = function() {
        var a, b;
        for (a in this.handlers)
            this._core.$element.off(a, this.handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.Lazy = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(c) {
        this._core = c,
        this._handlers = {
            "initialized.owl.carousel refreshed.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.autoHeight && this.update()
            }, this),
            "changed.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.autoHeight && "position" === a.property.name && (console.log("update called"),
                this.update())
            }, this),
            "loaded.owl.lazy": a.proxy(function(a) {
                a.namespace && this._core.settings.autoHeight && a.element.closest("." + this._core.settings.itemClass).index() === this._core.current() && this.update()
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this._core.$element.on(this._handlers),
        this._intervalId = null;
        var d = this;
        a(b).on("load", function() {
            d._core.settings.autoHeight && d.update()
        }),
        a(b).resize(function() {
            d._core.settings.autoHeight && (null != d._intervalId && clearTimeout(d._intervalId),
            d._intervalId = setTimeout(function() {
                d.update()
            }, 250))
        })
    };
    e.Defaults = {
        autoHeight: !1,
        autoHeightClass: "owl-height"
    },
    e.prototype.update = function() {
        var b = this._core._current
          , c = b + this._core.settings.items
          , d = this._core.$stage.children().toArray().slice(b, c)
          , e = []
          , f = 0;
        a.each(d, function(b, c) {
            e.push(a(c).height())
        }),
        f = Math.max.apply(null, e),
        this._core.$stage.parent().height(f).addClass(this._core.settings.autoHeightClass)
    }
    ,
    e.prototype.destroy = function() {
        var a, b;
        for (a in this._handlers)
            this._core.$element.off(a, this._handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.AutoHeight = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(b) {
        this._core = b,
        this._videos = {},
        this._playing = null,
        this._handlers = {
            "initialized.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.register({
                    type: "state",
                    name: "playing",
                    tags: ["interacting"]
                })
            }, this),
            "resize.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.video && this.isInFullScreen() && a.preventDefault()
            }, this),
            "refreshed.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.is("resizing") && this._core.$stage.find(".cloned .owl-video-frame").remove()
            }, this),
            "changed.owl.carousel": a.proxy(function(a) {
                a.namespace && "position" === a.property.name && this._playing && this.stop()
            }, this),
            "prepared.owl.carousel": a.proxy(function(b) {
                if (b.namespace) {
                    var c = a(b.content).find(".owl-video");
                    c.length && (c.css("display", "none"),
                    this.fetch(c, a(b.content)))
                }
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this._core.$element.on(this._handlers),
        this._core.$element.on("click.owl.video", ".owl-video-play-icon", a.proxy(function(a) {
            this.play(a)
        }, this))
    };
    e.Defaults = {
        video: !1,
        videoHeight: !1,
        videoWidth: !1
    },
    e.prototype.fetch = function(a, b) {
        var c = function() {
            return a.attr("data-vimeo-id") ? "vimeo" : a.attr("data-vzaar-id") ? "vzaar" : "youtube"
        }()
          , d = a.attr("data-vimeo-id") || a.attr("data-youtube-id") || a.attr("data-vzaar-id")
          , e = a.attr("data-width") || this._core.settings.videoWidth
          , f = a.attr("data-height") || this._core.settings.videoHeight
          , g = a.attr("href");
        if (!g)
            throw new Error("Missing video URL.");
        if (d = g.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),
        d[3].indexOf("youtu") > -1)
            c = "youtube";
        else if (d[3].indexOf("vimeo") > -1)
            c = "vimeo";
        else {
            if (!(d[3].indexOf("vzaar") > -1))
                throw new Error("Video URL not supported.");
            c = "vzaar"
        }
        d = d[6],
        this._videos[g] = {
            type: c,
            id: d,
            width: e,
            height: f
        },
        b.attr("data-video", g),
        this.thumbnail(a, this._videos[g])
    }
    ,
    e.prototype.thumbnail = function(b, c) {
        var d, e, f, g = c.width && c.height ? 'style="width:' + c.width + "px;height:" + c.height + 'px;"' : "", h = b.find("img"), i = "src", j = "", k = this._core.settings, l = function(a) {
            e = '<div class="owl-video-play-icon"></div>',
            d = k.lazyLoad ? '<div class="owl-video-tn ' + j + '" ' + i + '="' + a + '"></div>' : '<div class="owl-video-tn" style="opacity:1;background-image:url(' + a + ')"></div>',
            b.after(d),
            b.after(e)
        };
        if (b.wrap('<div class="owl-video-wrapper"' + g + "></div>"),
        this._core.settings.lazyLoad && (i = "data-src",
        j = "owl-lazy"),
        h.length)
            return l(h.attr(i)),
            h.remove(),
            !1;
        "youtube" === c.type ? (f = "//img.youtube.com/vi/" + c.id + "/hqdefault.jpg",
        l(f)) : "vimeo" === c.type ? a.ajax({
            type: "GET",
            url: "//vimeo.com/api/v2/video/" + c.id + ".json",
            jsonp: "callback",
            dataType: "jsonp",
            success: function(a) {
                f = a[0].thumbnail_large,
                l(f)
            }
        }) : "vzaar" === c.type && a.ajax({
            type: "GET",
            url: "//vzaar.com/api/videos/" + c.id + ".json",
            jsonp: "callback",
            dataType: "jsonp",
            success: function(a) {
                f = a.framegrab_url,
                l(f)
            }
        })
    }
    ,
    e.prototype.stop = function() {
        this._core.trigger("stop", null, "video"),
        this._playing.find(".owl-video-frame").remove(),
        this._playing.removeClass("owl-video-playing"),
        this._playing = null,
        this._core.leave("playing"),
        this._core.trigger("stopped", null, "video")
    }
    ,
    e.prototype.play = function(b) {
        var c, d = a(b.target), e = d.closest("." + this._core.settings.itemClass), f = this._videos[e.attr("data-video")], g = f.width || "100%", h = f.height || this._core.$stage.height();
        this._playing || (this._core.enter("playing"),
        this._core.trigger("play", null, "video"),
        e = this._core.items(this._core.relative(e.index())),
        this._core.reset(e.index()),
        "youtube" === f.type ? c = '<iframe width="' + g + '" height="' + h + '" src="//www.youtube.com/embed/' + f.id + "?autoplay=1&rel=0&v=" + f.id + '" frameborder="0" allowfullscreen></iframe>' : "vimeo" === f.type ? c = '<iframe src="//player.vimeo.com/video/' + f.id + '?autoplay=1" width="' + g + '" height="' + h + '" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>' : "vzaar" === f.type && (c = '<iframe frameborder="0"height="' + h + '"width="' + g + '" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/' + f.id + '/player?autoplay=true"></iframe>'),
        a('<div class="owl-video-frame">' + c + "</div>").insertAfter(e.find(".owl-video")),
        this._playing = e.addClass("owl-video-playing"))
    }
    ,
    e.prototype.isInFullScreen = function() {
        var b = c.fullscreenElement || c.mozFullScreenElement || c.webkitFullscreenElement;
        return b && a(b).parent().hasClass("owl-video-frame")
    }
    ,
    e.prototype.destroy = function() {
        var a, b;
        this._core.$element.off("click.owl.video");
        for (a in this._handlers)
            this._core.$element.off(a, this._handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.Video = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(b) {
        this.core = b,
        this.core.options = a.extend({}, e.Defaults, this.core.options),
        this.swapping = !0,
        this.previous = d,
        this.next = d,
        this.handlers = {
            "change.owl.carousel": a.proxy(function(a) {
                a.namespace && "position" == a.property.name && (this.previous = this.core.current(),
                this.next = a.property.value)
            }, this),
            "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": a.proxy(function(a) {
                a.namespace && (this.swapping = "translated" == a.type)
            }, this),
            "translate.owl.carousel": a.proxy(function(a) {
                a.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap()
            }, this)
        },
        this.core.$element.on(this.handlers)
    };
    e.Defaults = {
        animateOut: !1,
        animateIn: !1
    },
    e.prototype.swap = function() {
        if (1 === this.core.settings.items && a.support.animation && a.support.transition) {
            this.core.speed(0);
            var b, c = a.proxy(this.clear, this), d = this.core.$stage.children().eq(this.previous), e = this.core.$stage.children().eq(this.next), f = this.core.settings.animateIn, g = this.core.settings.animateOut;
            this.core.current() !== this.previous && (g && (b = this.core.coordinates(this.previous) - this.core.coordinates(this.next),
            d.one(a.support.animation.end, c).css({
                left: b + "px"
            }).addClass("animated owl-animated-out").addClass(g)),
            f && e.one(a.support.animation.end, c).addClass("animated owl-animated-in").addClass(f))
        }
    }
    ,
    e.prototype.clear = function(b) {
        a(b.target).css({
            left: ""
        }).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),
        this.core.onTransitionEnd()
    }
    ,
    e.prototype.destroy = function() {
        var a, b;
        for (a in this.handlers)
            this.core.$element.off(a, this.handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.Animate = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    var e = function(b) {
        this._core = b,
        this._call = null,
        this._time = 0,
        this._timeout = 0,
        this._paused = !0,
        this._handlers = {
            "changed.owl.carousel": a.proxy(function(a) {
                a.namespace && "settings" === a.property.name ? this._core.settings.autoplay ? this.play() : this.stop() : a.namespace && "position" === a.property.name && this._paused && (this._time = 0)
            }, this),
            "initialized.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.autoplay && this.play()
            }, this),
            "play.owl.autoplay": a.proxy(function(a, b, c) {
                a.namespace && this.play(b, c)
            }, this),
            "stop.owl.autoplay": a.proxy(function(a) {
                a.namespace && this.stop()
            }, this),
            "mouseover.owl.autoplay": a.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
            }, this),
            "mouseleave.owl.autoplay": a.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.play()
            }, this),
            "touchstart.owl.core": a.proxy(function() {
                this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause()
            }, this),
            "touchend.owl.core": a.proxy(function() {
                this._core.settings.autoplayHoverPause && this.play()
            }, this)
        },
        this._core.$element.on(this._handlers),
        this._core.options = a.extend({}, e.Defaults, this._core.options)
    };
    e.Defaults = {
        autoplay: !1,
        autoplayTimeout: 5e3,
        autoplayHoverPause: !1,
        autoplaySpeed: !1
    },
    e.prototype._next = function(d) {
        this._call = b.setTimeout(a.proxy(this._next, this, d), this._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()),
        this._core.is("busy") || this._core.is("interacting") || c.hidden || this._core.next(d || this._core.settings.autoplaySpeed)
    }
    ,
    e.prototype.read = function() {
        return (new Date).getTime() - this._time
    }
    ,
    e.prototype.play = function(c, d) {
        var e;
        this._core.is("rotating") || this._core.enter("rotating"),
        c = c || this._core.settings.autoplayTimeout,
        e = Math.min(this._time % (this._timeout || c), c),
        this._paused ? (this._time = this.read(),
        this._paused = !1) : b.clearTimeout(this._call),
        this._time += this.read() % c - e,
        this._timeout = c,
        this._call = b.setTimeout(a.proxy(this._next, this, d), c - e)
    }
    ,
    e.prototype.stop = function() {
        this._core.is("rotating") && (this._time = 0,
        this._paused = !0,
        b.clearTimeout(this._call),
        this._core.leave("rotating"))
    }
    ,
    e.prototype.pause = function() {
        this._core.is("rotating") && !this._paused && (this._time = this.read(),
        this._paused = !0,
        b.clearTimeout(this._call))
    }
    ,
    e.prototype.destroy = function() {
        var a, b;
        this.stop();
        for (a in this._handlers)
            this._core.$element.off(a, this._handlers[a]);
        for (b in Object.getOwnPropertyNames(this))
            "function" != typeof this[b] && (this[b] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.autoplay = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    "use strict";
    var e = function(b) {
        this._core = b,
        this._initialized = !1,
        this._pages = [],
        this._controls = {},
        this._templates = [],
        this.$element = this._core.$element,
        this._overrides = {
            next: this._core.next,
            prev: this._core.prev,
            to: this._core.to
        },
        this._handlers = {
            "prepared.owl.carousel": a.proxy(function(b) {
                b.namespace && this._core.settings.dotsData && this._templates.push('<div class="' + this._core.settings.dotClass + '">' + a(b.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot") + "</div>")
            }, this),
            "added.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.dotsData && this._templates.splice(a.position, 0, this._templates.pop())
            }, this),
            "remove.owl.carousel": a.proxy(function(a) {
                a.namespace && this._core.settings.dotsData && this._templates.splice(a.position, 1)
            }, this),
            "changed.owl.carousel": a.proxy(function(a) {
                a.namespace && "position" == a.property.name && this.draw()
            }, this),
            "initialized.owl.carousel": a.proxy(function(a) {
                a.namespace && !this._initialized && (this._core.trigger("initialize", null, "navigation"),
                this.initialize(),
                this.update(),
                this.draw(),
                this._initialized = !0,
                this._core.trigger("initialized", null, "navigation"))
            }, this),
            "refreshed.owl.carousel": a.proxy(function(a) {
                a.namespace && this._initialized && (this._core.trigger("refresh", null, "navigation"),
                this.update(),
                this.draw(),
                this._core.trigger("refreshed", null, "navigation"))
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this.$element.on(this._handlers)
    };
    e.Defaults = {
        nav: !1,
        navText: ['<span aria-label="Previous">&#x2039;</span>', '<span aria-label="Next">&#x203a;</span>'],
        navSpeed: !1,
        navElement: 'button type="button" role="presentation"',
        navContainer: !1,
        navContainerClass: "owl-nav",
        navClass: ["owl-prev", "owl-next"],
        slideBy: 1,
        dotClass: "owl-dot",
        dotsClass: "owl-dots",
        dots: !0,
        dotsEach: !1,
        dotsData: !1,
        dotsSpeed: !1,
        dotsContainer: !1
    },
    e.prototype.initialize = function() {
        var b, c = this._core.settings;
        this._controls.$relative = (c.navContainer ? a(c.navContainer) : a("<div>").addClass(c.navContainerClass).appendTo(this.$element)).addClass("disabled"),
        this._controls.$previous = a("<" + c.navElement + ">").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on("click", a.proxy(function(a) {
            this.prev(c.navSpeed)
        }, this)),
        this._controls.$next = a("<" + c.navElement + ">").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on("click", a.proxy(function(a) {
            this.next(c.navSpeed)
        }, this)),
        c.dotsData || (this._templates = [a('<button role="button">').addClass(c.dotClass).append(a("<span>")).prop("outerHTML")]),
        this._controls.$absolute = (c.dotsContainer ? a(c.dotsContainer) : a("<div>").addClass(c.dotsClass).appendTo(this.$element)).addClass("disabled"),
        this._controls.$absolute.on("click", "button", a.proxy(function(b) {
            var d = a(b.target).parent().is(this._controls.$absolute) ? a(b.target).index() : a(b.target).parent().index();
            b.preventDefault(),
            this.to(d, c.dotsSpeed)
        }, this));
        for (b in this._overrides)
            this._core[b] = a.proxy(this[b], this)
    }
    ,
    e.prototype.destroy = function() {
        var a, b, c, d, e;
        e = this._core.settings;
        for (a in this._handlers)
            this.$element.off(a, this._handlers[a]);
        for (b in this._controls)
            "$relative" === b && e.navContainer ? this._controls[b].html("") : this._controls[b].remove();
        for (d in this.overides)
            this._core[d] = this._overrides[d];
        for (c in Object.getOwnPropertyNames(this))
            "function" != typeof this[c] && (this[c] = null)
    }
    ,
    e.prototype.update = function() {
        var a, b, c, d = this._core.clones().length / 2, e = d + this._core.items().length, f = this._core.maximum(!0), g = this._core.settings, h = g.center || g.autoWidth || g.dotsData ? 1 : g.dotsEach || g.items;
        if ("page" !== g.slideBy && (g.slideBy = Math.min(g.slideBy, g.items)),
        g.dots || "page" == g.slideBy)
            for (this._pages = [],
            a = d,
            b = 0,
            c = 0; a < e; a++) {
                if (b >= h || 0 === b) {
                    if (this._pages.push({
                        start: Math.min(f, a - d),
                        end: a - d + h - 1
                    }),
                    Math.min(f, a - d) === f)
                        break;
                    b = 0,
                    ++c
                }
                b += this._core.mergers(this._core.relative(a))
            }
    }
    ,
    e.prototype.draw = function() {
        var b, c = this._core.settings, d = this._core.items().length <= c.items, e = this._core.relative(this._core.current()), f = c.loop || c.rewind;
        this._controls.$relative.toggleClass("disabled", !c.nav || d),
        c.nav && (this._controls.$previous.toggleClass("disabled", !f && e <= this._core.minimum(!0)),
        this._controls.$next.toggleClass("disabled", !f && e >= this._core.maximum(!0))),
        this._controls.$absolute.toggleClass("disabled", !c.dots || d),
        c.dots && (b = this._pages.length - this._controls.$absolute.children().length,
        c.dotsData && 0 !== b ? this._controls.$absolute.html(this._templates.join("")) : b > 0 ? this._controls.$absolute.append(new Array(b + 1).join(this._templates[0])) : b < 0 && this._controls.$absolute.children().slice(b).remove(),
        this._controls.$absolute.find(".active").removeClass("active"),
        this._controls.$absolute.children().eq(a.inArray(this.current(), this._pages)).addClass("active"))
    }
    ,
    e.prototype.onTrigger = function(b) {
        var c = this._core.settings;
        b.page = {
            index: a.inArray(this.current(), this._pages),
            count: this._pages.length,
            size: c && (c.center || c.autoWidth || c.dotsData ? 1 : c.dotsEach || c.items)
        }
    }
    ,
    e.prototype.current = function() {
        var b = this._core.relative(this._core.current());
        return a.grep(this._pages, a.proxy(function(a, c) {
            return a.start <= b && a.end >= b
        }, this)).pop()
    }
    ,
    e.prototype.getPosition = function(b) {
        var c, d, e = this._core.settings;
        return "page" == e.slideBy ? (c = a.inArray(this.current(), this._pages),
        d = this._pages.length,
        b ? ++c : --c,
        c = this._pages[(c % d + d) % d].start) : (c = this._core.relative(this._core.current()),
        d = this._core.items().length,
        b ? c += e.slideBy : c -= e.slideBy),
        c
    }
    ,
    e.prototype.next = function(b) {
        a.proxy(this._overrides.to, this._core)(this.getPosition(!0), b)
    }
    ,
    e.prototype.prev = function(b) {
        a.proxy(this._overrides.to, this._core)(this.getPosition(!1), b)
    }
    ,
    e.prototype.to = function(b, c, d) {
        var e;
        !d && this._pages.length ? (e = this._pages.length,
        a.proxy(this._overrides.to, this._core)(this._pages[(b % e + e) % e].start, c)) : a.proxy(this._overrides.to, this._core)(b, c)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.Navigation = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    "use strict";
    var e = function(c) {
        this._core = c,
        this._hashes = {},
        this.$element = this._core.$element,
        this._handlers = {
            "initialized.owl.carousel": a.proxy(function(c) {
                c.namespace && "URLHash" === this._core.settings.startPosition && a(b).trigger("hashchange.owl.navigation")
            }, this),
            "prepared.owl.carousel": a.proxy(function(b) {
                if (b.namespace) {
                    var c = a(b.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");
                    if (!c)
                        return;
                    this._hashes[c] = b.content
                }
            }, this),
            "changed.owl.carousel": a.proxy(function(c) {
                if (c.namespace && "position" === c.property.name) {
                    var d = this._core.items(this._core.relative(this._core.current()))
                      , e = a.map(this._hashes, function(a, b) {
                        return a === d ? b : null
                    }).join();
                    if (!e || b.location.hash.slice(1) === e)
                        return;
                    b.location.hash = e
                }
            }, this)
        },
        this._core.options = a.extend({}, e.Defaults, this._core.options),
        this.$element.on(this._handlers),
        a(b).on("hashchange.owl.navigation", a.proxy(function(a) {
            var c = b.location.hash.substring(1)
              , e = this._core.$stage.children()
              , f = this._hashes[c] && e.index(this._hashes[c]);
            f !== d && f !== this._core.current() && this._core.to(this._core.relative(f), !1, !0)
        }, this))
    };
    e.Defaults = {
        URLhashListener: !1
    },
    e.prototype.destroy = function() {
        var c, d;
        a(b).off("hashchange.owl.navigation");
        for (c in this._handlers)
            this._core.$element.off(c, this._handlers[c]);
        for (d in Object.getOwnPropertyNames(this))
            "function" != typeof this[d] && (this[d] = null)
    }
    ,
    a.fn.owlCarousel.Constructor.Plugins.Hash = e
}(window.Zepto || window.jQuery, window, document),
function(a, b, c, d) {
    function e(b, c) {
        var e = !1
          , f = b.charAt(0).toUpperCase() + b.slice(1);
        return a.each((b + " " + h.join(f + " ") + f).split(" "), function(a, b) {
            if (g[b] !== d)
                return e = !c || b,
                !1
        }),
        e
    }
    function f(a) {
        return e(a, !0)
    }
    var g = a("<support>").get(0).style
      , h = "Webkit Moz O ms".split(" ")
      , i = {
        transition: {
            end: {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd",
                transition: "transitionend"
            }
        },
        animation: {
            end: {
                WebkitAnimation: "webkitAnimationEnd",
                MozAnimation: "animationend",
                OAnimation: "oAnimationEnd",
                animation: "animationend"
            }
        }
    }
      , j = {
        csstransforms: function() {
            return !!e("transform")
        },
        csstransforms3d: function() {
            return !!e("perspective")
        },
        csstransitions: function() {
            return !!e("transition")
        },
        cssanimations: function() {
            return !!e("animation")
        }
    };
    j.csstransitions() && (a.support.transition = new String(f("transition")),
    a.support.transition.end = i.transition.end[a.support.transition]),
    j.cssanimations() && (a.support.animation = new String(f("animation")),
    a.support.animation.end = i.animation.end[a.support.animation]),
    j.csstransforms() && (a.support.transform = new String(f("transform")),
    a.support.transform3d = j.csstransforms3d())
}(window.Zepto || window.jQuery, window, document);
;(function($, window, document) {
    var Owl2A11y = function(carousel) {
        this._core = carousel;
        this._initialized = false;
        this._core._options = $.extend(Owl2A11y.defaults, this._core.options);
        this.$element = this._core.$element;
        var setCurrent = $.proxy(function(e) {
            this.setCurrent(e);
        }, this);
        this._handlers = {
            'initialized.owl.carousel': $.proxy(function(e) {
                this.setupRoot();
                if (e.namespace && !this._initialized) {
                    this.setupFocus();
                    this.setupKeyboard();
                }
                this.setCurrent(e);
            }, this),
            'changed.owl.carousel': setCurrent,
            'translated.owl.carousel': setCurrent,
            'refreshed.owl.carousel': setCurrent,
            'resized.owl.carousel': setCurrent
        };
        this.$element.on(this._handlers);
    };
    Owl2A11y.defaults = {};
    Owl2A11y.eventHandlers = {};
    Owl2A11y.prototype.getDocumentKeyUp = function() {
        var self = this;
        return function(e) {
            var eventTarg = $(e.target)
              , targ = self.focused(eventTarg)
              , action = null;
            if (!!targ) {
                if (e.keyCode == 37 || e.keyCode == 38) {
                    action = 'prev.owl.carousel';
                } else if (e.keyCode == 39 || e.keyCode == 40) {
                    action = 'next.owl.carousel';
                } else if (e.keyCode == 13) {
                    if (eventTarg.hasClass('owl-prev'))
                        action = 'prev.owl.carousel';
                    else if (eventTarg.hasClass('owl-next'))
                        action = 'next.owl.carousel';
                    else if (eventTarg.hasClass('owl-dot'))
                        action = 'click';
                }
                if (!!action)
                    targ.trigger(action);
            }
        }
        ;
    }
    ;
    Owl2A11y.prototype.setupRoot = function() {
        this.$element.attr({
            role: 'listbox',
            tabindex: '0'
        });
    }
    ;
    Owl2A11y.prototype.setupKeyboard = function() {
        if (!this.$element.attr('data-owl-access-keyup')) {
            this.$element.bind('keyup', this.getDocumentKeyUp()).attr('data-owl-access-keyup', '1');
        }
        this.$element.attr('data-owl-carousel-focusable', '1');
    }
    ;
    Owl2A11y.prototype.setupFocus = function() {
        this.$element.bind('focusin', function() {
            $(this).attr({
                'data-owl-carousel-focused': '1',
                'aria-live': 'polite'
            }).trigger('stop.owl.autoplay');
        }).bind('focusout', function() {
            $(this).attr({
                'data-owl-carousel-focused': '0',
                'aria-live': 'off'
            });
        });
        if (!!this._core._plugins.navigation) {
            var navPlugin = this._core._plugins.navigation
              , toFocus = [];
            if (!!navPlugin._controls.$previous) {
                toFocus.push(navPlugin._controls.$previous);
            }
            if (!!navPlugin._controls.$next) {
                toFocus.push(navPlugin._controls.$next);
            }
            if (!!navPlugin._controls.$indicators) {
                toFocus.push(navPlugin._controls.$indicators.children());
            }
            $.each(toFocus, function() {
                this.attr('tabindex', '0');
            });
        }
    }
    ;
    Owl2A11y.prototype.destroy = function() {
        this.$element.removeAttr('data-owl-access-keyup data-owl-carousel-focusable').unbind('focusin focusout');
    }
    ;
    Owl2A11y.prototype.focusableElems = function(elem) {
        return $(elem).find('a, input, select, button, *[tabindex]');
    }
    ;
    Owl2A11y.prototype.adjustFocus = function(elems, enable) {
        elems.each(function() {
            var item = $(this);
            var newTabIndex = '0'
              , storeTabIndex = '0';
            currentTabIndex = item.attr('tabindex'),
            storedTabIndex = item.attr('data-owl-temp-tabindex');
            if (enable) {
                newTabIndex = (typeof (storedTabIndex) != 'undefined' && (storedTabIndex != '-1') ? item.attr('data-owl-temp-tabindex') : '0');
                storedTabIndex = newTabIndex;
            } else {
                newTabIndex = '-1';
                storedTabIndex = ((typeof (currentTabIndex) != 'undefined') || (currentTabIndex != '-1') ? currentTabIndex : '0');
            }
            item.attr({
                tabindex: newTabIndex,
                'data-owl-temp-tabindex': storeTabIndex
            });
        });
    }
    ;
    Owl2A11y.prototype.focused = function(targ) {
        var targ = $(targ);
        if (targ.attr('data-owl-carousel-focused') == 1) {
            return targ;
        }
        var closest = targ.closest('[data-owl-carousel-focused="1"]');
        if (closest.length > 0)
            return closest;
        return null;
    }
    ;
    Owl2A11y.prototype.setCurrent = function(e) {
        var targ = this.focused($(':focus'))
          , element = this._core.$element
          , stage = this._core.$stage
          , focusableElems = this.focusableElems
          , adjustFocus = this.adjustFocus;
        if (!!stage) {
            this._core.$stage.children().each(function(i) {
                var item = $(this);
                var focusable = focusableElems(this);
                if (item.hasClass('active')) {
                    item.attr('aria-hidden', 'false');
                    adjustFocus(focusable, true);
                } else {
                    item.attr('aria-hidden', 'true');
                    adjustFocus(focusable, false);
                }
            });
            if (!!targ) {
                setTimeout(function() {
                    var newFocus = element;
                    if ($(':focus').closest('.owl-controls').length) {
                        newFocus = $(':focus');
                    }
                    newFocus.focus();
                }, 250);
            }
        }
    }
    ;
    $.fn.owlCarousel.Constructor.Plugins['Owl2A11y'] = Owl2A11y;
}
)(window.Zepto || window.jQuery, window, document);
/*
 * jQuery Templates Plugin 1.0.0pre
 * http://github.com/jquery/jquery-tmpl
 * Requires jQuery 1.4.2
 *
 * Copyright 2011, Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(a) {
    var r = a.fn.domManip, d = "_tmplitem", q = /^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /, b = {}, f = {}, e, p = {
        key: 0,
        data: {}
    }, i = 0, c = 0, l = [];
    function g(g, d, h, e) {
        var c = {
            data: e || (e === 0 || e === false) ? e : d ? d.data : {},
            _wrap: d ? d._wrap : null,
            tmpl: null,
            parent: d || null,
            nodes: [],
            calls: u,
            nest: w,
            wrap: x,
            html: v,
            update: t
        };
        g && a.extend(c, g, {
            nodes: [],
            parent: d
        });
        if (h) {
            c.tmpl = h;
            c._ctnt = c._ctnt || c.tmpl(a, c);
            c.key = ++i;
            (l.length ? f : b)[i] = c
        }
        return c
    }
    a.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(f, d) {
        a.fn[f] = function(n) {
            var g = [], i = a(n), k, h, m, l, j = this.length === 1 && this[0].parentNode;
            e = b || {};
            if (j && j.nodeType === 11 && j.childNodes.length === 1 && i.length === 1) {
                i[d](this[0]);
                g = this
            } else {
                for (h = 0,
                m = i.length; h < m; h++) {
                    c = h;
                    k = (h > 0 ? this.clone(true) : this).get();
                    a(i[h])[d](k);
                    g = g.concat(k)
                }
                c = 0;
                g = this.pushStack(g, f, i.selector)
            }
            l = e;
            e = null;
            a.tmpl.complete(l);
            return g
        }
    });
    a.fn.extend({
        tmpl: function(d, c, b) {
            return a.tmpl(this[0], d, c, b)
        },
        tmplItem: function() {
            return a.tmplItem(this[0])
        },
        template: function(b) {
            return a.template(b, this[0])
        },
        domManip: function(d, m, k) {
            if (d[0] && a.isArray(d[0])) {
                var g = a.makeArray(arguments), h = d[0], j = h.length, i = 0, f;
                while (i < j && !(f = a.data(h[i++], "tmplItem")))
                    ;
                if (f && c)
                    g[2] = function(b) {
                        a.tmpl.afterManip(this, b, k)
                    }
                    ;
                r.apply(this, g)
            } else
                r.apply(this, arguments);
            c = 0;
            !e && a.tmpl.complete(b);
            return this
        }
    });
    a.extend({
        tmpl: function(d, h, e, c) {
            var i, k = !c;
            if (k) {
                c = p;
                d = a.template[d] || a.template(null, d);
                f = {}
            } else if (!d) {
                d = c.tmpl;
                b[c.key] = c;
                c.nodes = [];
                c.wrapped && n(c, c.wrapped);
                return a(j(c, null, c.tmpl(a, c)))
            }
            if (!d)
                return [];
            if (typeof h === "function")
                h = h.call(c || {});
            e && e.wrapped && n(e, e.wrapped);
            i = a.isArray(h) ? a.map(h, function(a) {
                return a ? g(e, c, d, a) : null
            }) : [g(e, c, d, h)];
            return k ? a(j(c, null, i)) : i
        },
        tmplItem: function(b) {
            var c;
            if (b instanceof a)
                b = b[0];
            while (b && b.nodeType === 1 && !(c = a.data(b, "tmplItem")) && (b = b.parentNode))
                ;
            return c || p
        },
        template: function(c, b) {
            if (b) {
                if (typeof b === "string")
                    b = o(b);
                else if (b instanceof a)
                    b = b[0] || {};
                if (b.nodeType)
                    b = a.data(b, "tmpl") || a.data(b, "tmpl", o(b.innerHTML));
                return typeof c === "string" ? (a.template[c] = b) : b
            }
            return c ? typeof c !== "string" ? a.template(null, c) : a.template[c] || a.template(null, q.test(c) ? c : a(c)) : null
        },
        encode: function(a) {
            return ("" + a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")
        }
    });
    a.extend(a.tmpl, {
        tag: {
            tmpl: {
                _default: {
                    $2: "null"
                },
                open: "if($notnull_1){__=__.concat($item.nest($1,$2));}"
            },
            wrap: {
                _default: {
                    $2: "null"
                },
                open: "$item.calls(__,$1,$2);__=[];",
                close: "call=$item.calls();__=call._.concat($item.wrap(call,__));"
            },
            each: {
                _default: {
                    $2: "$index, $value"
                },
                open: "if($notnull_1){$.each($1a,function($2){with(this){",
                close: "}});}"
            },
            "if": {
                open: "if(($notnull_1) && $1a){",
                close: "}"
            },
            "else": {
                _default: {
                    $1: "true"
                },
                open: "}else if(($notnull_1) && $1a){"
            },
            html: {
                open: "if($notnull_1){__.push($1a);}"
            },
            "=": {
                _default: {
                    $1: "$data"
                },
                open: "if($notnull_1){__.push($.encode($1a));}"
            },
            "!": {
                open: ""
            }
        },
        complete: function() {
            b = {}
        },
        afterManip: function(f, b, d) {
            var e = b.nodeType === 11 ? a.makeArray(b.childNodes) : b.nodeType === 1 ? [b] : [];
            d.call(f, b);
            m(e);
            c++
        }
    });
    function j(e, g, f) {
        var b, c = f ? a.map(f, function(a) {
            return typeof a === "string" ? e.key ? a.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g, "$1 " + d + '="' + e.key + '" $2') : a : j(a, e, a._ctnt)
        }) : e;
        if (g)
            return c;
        c = c.join("");
        c.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/, function(f, c, e, d) {
            b = a(e).get();
            m(b);
            if (c)
                b = k(c).concat(b);
            if (d)
                b = b.concat(k(d))
        });
        return b ? b : k(c)
    }
    function k(c) {
        var b = document.createElement("div");
        b.innerHTML = c;
        return a.makeArray(b.childNodes)
    }
    function o(b) {
        return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('" + a.trim(b).replace(/([\\'])/g, "\\$1").replace(/[\r\t\n]/g, " ").replace(/\$\{([^\}]*)\}/g, "{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g, function(m, l, k, g, b, c, d) {
            var j = a.tmpl.tag[k], i, e, f;
            if (!j)
                throw "Unknown template tag: " + k;
            i = j._default || [];
            if (c && !/\w$/.test(b)) {
                b += c;
                c = ""
            }
            if (b) {
                b = h(b);
                d = d ? "," + h(d) + ")" : c ? ")" : "";
                e = c ? b.indexOf(".") > -1 ? b + h(c) : "(" + b + ").call($item" + d : b;
                f = c ? e : "(typeof(" + b + ")==='function'?(" + b + ").call($item):(" + b + "))"
            } else
                f = e = i.$1 || "null";
            g = h(g);
            return "');" + j[l ? "close" : "open"].split("$notnull_1").join(b ? "typeof(" + b + ")!=='undefined' && (" + b + ")!=null" : "true").split("$1a").join(f).split("$1").join(e).split("$2").join(g || i.$2 || "") + "__.push('"
        }) + "');}return __;")
    }
    function n(c, b) {
        c._wrap = j(c, true, a.isArray(b) ? b : [q.test(b) ? b : a(b).html()]).join("")
    }
    function h(a) {
        return a ? a.replace(/\\'/g, "'").replace(/\\\\/g, "\\") : null
    }
    function s(b) {
        var a = document.createElement("div");
        a.appendChild(b.cloneNode(true));
        return a.innerHTML
    }
    function m(o) {
        var n = "_" + c, k, j, l = {}, e, p, h;
        for (e = 0,
        p = o.length; e < p; e++) {
            if ((k = o[e]).nodeType !== 1)
                continue;
            j = k.getElementsByTagName("*");
            for (h = j.length - 1; h >= 0; h--)
                m(j[h]);
            m(k)
        }
        function m(j) {
            var p, h = j, k, e, m;
            if (m = j.getAttribute(d)) {
                while (h.parentNode && (h = h.parentNode).nodeType === 1 && !(p = h.getAttribute(d)))
                    ;
                if (p !== m) {
                    h = h.parentNode ? h.nodeType === 11 ? 0 : h.getAttribute(d) || 0 : 0;
                    if (!(e = b[m])) {
                        e = f[m];
                        e = g(e, b[h] || f[h]);
                        e.key = ++i;
                        b[i] = e
                    }
                    c && o(m)
                }
                j.removeAttribute(d)
            } else if (c && (e = a.data(j, "tmplItem"))) {
                o(e.key);
                b[e.key] = e;
                h = a.data(j.parentNode, "tmplItem");
                h = h ? h.key : 0
            }
            if (e) {
                k = e;
                while (k && k.key != h) {
                    k.nodes.push(j);
                    k = k.parent
                }
                delete e._ctnt;
                delete e._wrap;
                a.data(j, "tmplItem", e)
            }
            function o(a) {
                a = a + n;
                e = l[a] = l[a] || g(e, b[e.parent.key + n] || e.parent)
            }
        }
    }
    function u(a, d, c, b) {
        if (!a)
            return l.pop();
        l.push({
            _: a,
            tmpl: d,
            item: this,
            data: c,
            options: b
        })
    }
    function w(d, c, b) {
        return a.tmpl(a.template(d), c, b, this)
    }
    function x(b, d) {
        var c = b.options || {};
        c.wrapped = d;
        return a.tmpl(a.template(b.tmpl), b.data, c, b.item)
    }
    function v(d, c) {
        var b = this._wrap;
        return a.map(a(a.isArray(b) ? b.join("") : b).filter(d || "*"), function(a) {
            return c ? a.innerText || a.textContent : a.outerHTML || s(a)
        })
    }
    function t() {
        var b = this.nodes;
        a.tmpl(null, null, null, this).insertBefore(b[0]);
        a(b).remove()
    }
}
)(jQuery);
/*
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

jQuery.cookie = function(b, j, m) {
    if (typeof j != "undefined") {
        m = m || {};
        if (j === null) {
            j = "";
            m.expires = -1
        }
        var e = "";
        if (m.expires && (typeof m.expires == "number" || m.expires.toUTCString)) {
            var f;
            if (typeof m.expires == "number") {
                f = new Date();
                f.setTime(f.getTime() + (m.expires * 24 * 60 * 60 * 1000))
            } else {
                f = m.expires
            }
            e = "; expires=" + f.toUTCString()
        }
        var l = m.path ? "; path=" + (m.path) : "";
        var g = m.domain ? "; domain=" + (m.domain) : "";
        var a = m.secure ? "; secure" : "";
        document.cookie = [b, "=", encodeURIComponent(j), e, l, g, a].join("")
    } else {
        var d = null;
        if (document.cookie && document.cookie != "") {
            var k = document.cookie.split(";");
            for (var h = 0; h < k.length; h++) {
                var c = jQuery.trim(k[h]);
                if (c.substring(0, b.length + 1) == (b + "=")) {
                    d = decodeURIComponent(c.substring(b.length + 1));
                    break
                }
            }
        }
        return d
    }
}
;

/*
 * Currency tools
 *
 * Copyright (c) 2013 Caroline Schnapp (mllegeorgesand@gmail.com)
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */

if (typeof Currency === "undefined") {
    var Currency = {}
}
Currency.cookie = {
    configuration: {
        expires: 365,
        path: "/",
        domain: window.location.hostname
    },
    name: "currency",
    write: function(a) {
        jQuery.cookie(this.name, a, this.configuration)
    },
    read: function() {
        return jQuery.cookie(this.name)
    },
    destroy: function() {
        jQuery.cookie(this.name, null, this.configuration)
    }
};
Currency.money_with_currency_format = {
    USD: "${{amount}} USD",
    EUR: "&euro;{{amount}} EUR",
    GBP: "&pound;{{amount}} GBP",
    CAD: "${{amount}} CAD",
    ARS: "${{amount_with_comma_separator}} ARS",
    AUD: "${{amount}} AUD",
    BBD: "${{amount}} Bds",
    BDT: "Tk {{amount}} BDT",
    BSD: "BS${{amount}} BSD",
    BHD: "{{amount}}0 BHD",
    BRL: "R$ {{amount_with_comma_separator}} BRL",
    BOB: "Bs{{amount_with_comma_separator}} BOB",
    BND: "${{amount}} BND",
    BGN: "{{amount}} лв BGN",
    MMK: "K{{amount}} MMK",
    KYD: "${{amount}} KYD",
    CLP: "${{amount_no_decimals}} CLP",
    CNY: "&#165;{{amount}} CNY",
    COP: "${{amount_with_comma_separator}} COP",
    CRC: "&#8353; {{amount_with_comma_separator}} CRC",
    HRK: "{{amount_with_comma_separator}} kn HRK",
    CZK: "{{amount_with_comma_separator}} K&#269;",
    DKK: "kr.{{amount_with_comma_separator}}",
    DOP: "RD$ {{amount_with_comma_separator}}",
    XCD: "EC${{amount}}",
    EGP: "LE {{amount}} EGP",
    XPF: "{{amount_no_decimals_with_space_separator}}} XPF",
    FJD: "FJ${{amount}}",
    GHS: "GH&#8373;{{amount}}",
    GTQ: "{{amount}} GTQ",
    GYD: "${{amount}} GYD",
    GEL: "{{amount}} GEL",
    HKD: "HK${{amount}}",
    HUF: "{{amount_no_decimals_with_comma_separator}} Ft",
    ISK: "{{amount_no_decimals}} kr ISK",
    INR: "Rs.{{amount}}",
    IDR: "Rp {{amount_with_comma_separator}}",
    NIS: "{{amount}} NIS",
    JMD: "${{amount}} JMD",
    JPY: "&#165;{{amount_no_decimals}} JPY",
    JOD: "{{amount}}0 JOD",
    KZT: "{{amount}} KZT",
    KES: "KSh{{amount}}",
    KWD: "{{amount}}0 KWD",
    LVL: "Ls {{amount}} LVL",
    LTL: "{{amount}} Lt",
    MXN: "$ {{amount}} MXN",
    MYR: "RM{{amount}} MYR",
    MUR: "Rs {{amount}} MUR",
    MDL: "{{amount}} MDL",
    MAD: "Dh {{amount}} MAD",
    MNT: "{{amount_no_decimals}} MNT",
    MZN: "Mt {{amount}} MZN",
    ANG: "{{amount}} NA&fnof;",
    NZD: "${{amount}} NZD",
    NGN: "&#8358;{{amount}} NGN",
    NOK: "kr {{amount_with_comma_separator}} NOK",
    OMR: "{{amount_with_comma_separator}} OMR",
    PKR: "Rs.{{amount}} PKR",
    PYG: "Gs. {{amount_no_decimals_with_comma_separator}} PYG",
    PEN: "S/. {{amount}} PEN",
    PHP: "&#8369;{{amount}} PHP",
    PLN: "{{amount_with_comma_separator}} zl PLN",
    QAR: "QAR {{amount_with_comma_separator}}",
    RON: "{{amount_with_comma_separator}} lei RON",
    RUB: "&#1088;&#1091;&#1073;{{amount_with_comma_separator}} RUB",
    SAR: "{{amount}} SAR",
    RSD: "{{amount}} RSD",
    SCR: "Rs {{amount}} SCR",
    SGD: "${{amount}} SGD",
    SYP: "S&pound;{{amount}} SYP",
    ZAR: "R {{amount}} ZAR",
    KRW: "&#8361;{{amount_no_decimals}} KRW",
    LKR: "Rs {{amount}} LKR",
    SEK: "{{amount_no_decimals}} kr SEK",
    CHF: "SFr. {{amount}} CHF",
    TWD: "${{amount}} TWD",
    THB: "{{amount}} &#xe3f; THB",
    TZS: "{{amount}} TZS",
    TTD: "${{amount}} TTD",
    TRY: "{{amount}}TL",
    UAH: "₴{{amount}} UAH",
    AED: "Dhs. {{amount}} AED",
    UYU: "${{amount_with_comma_separator}} UYU",
    VEB: "Bs. {{amount_with_comma_separator}} VEB",
    VND: "{{amount_no_decimals_with_comma_separator}} VND",
    ZMK: "ZMK{{amount_no_decimals_with_comma_separator}}"
};
Currency.money_format = {
    USD: "${{amount}}",
    EUR: "&euro;{{amount}}",
    GBP: "&pound;{{amount}}",
    CAD: "${{amount}}",
    ARS: "${{amount_with_comma_separator}}",
    AUD: "${{amount}}",
    BBD: "${{amount}}",
    BDT: "Tk {{amount}}",
    BSD: "BS${{amount}}",
    BHD: "{{amount}}0 BHD",
    BRL: "R$ {{amount_with_comma_separator}}",
    BOB: "Bs{{amount_with_comma_separator}}",
    BND: "${{amount}}",
    BGN: "{{amount}} лв",
    MMK: "K{{amount}}",
    KYD: "${{amount}}",
    CLP: "${{amount_no_decimals}}",
    CNY: "&#165;{{amount}}",
    COP: "${{amount_with_comma_separator}}",
    CRC: "&#8353; {{amount_with_comma_separator}}",
    HRK: "{{amount_with_comma_separator}} kn",
    CZK: "{{amount_with_comma_separator}} K&#269;",
    DKK: "{{amount_with_comma_separator}}",
    DOP: "RD$ {{amount_with_comma_separator}}",
    XCD: "${{amount}}",
    EGP: "LE {{amount}}",
    XPF: "{{amount_no_decimals_with_space_separator}}} XPF",
    FJD: "${{amount}}",
    GHS: "GH&#8373;{{amount}}",
    GTQ: "{{amount}}",
    GYD: "${{amount}}",
    GEL: "{{amount}} GEL",
    HKD: "${{amount}}",
    HUF: "{{amount_no_decimals_with_comma_separator}}",
    ISK: "{{amount_no_decimals}} kr",
    INR: "{{amount}}",
    IDR: "{{amount_with_comma_separator}}",
    NIS: "{{amount}} NIS",
    JMD: "${{amount}}",
    JPY: "&#165;{{amount_no_decimals}}",
    JOD: "{{amount}}0 JD",
    KZT: "{{amount}} KZT",
    KES: "KSh{{amount}}",
    KWD: "{{amount}}0 KD",
    LVL: "Ls {{amount}}",
    LTL: "{{amount}} Lt",
    MXN: "$ {{amount}}",
    MYR: "RM{{amount}} MYR",
    MUR: "Rs {{amount}}",
    MDL: "{{amount}} MDL",
    MAD: "{{amount}} dh",
    MNT: "{{amount_no_decimals}} &#8366",
    MZN: "{{amount}} Mt",
    ANG: "&fnof;{{amount}}",
    NZD: "${{amount}}",
    NGN: "&#8358;{{amount}}",
    NOK: "kr {{amount_with_comma_separator}}",
    OMR: "{{amount_with_comma_separator}} OMR",
    PKR: "Rs.{{amount}}",
    PYG: "Gs. {{amount_no_decimals_with_comma_separator}}",
    PEN: "S/. {{amount}}",
    PHP: "&#8369;{{amount}}",
    PLN: "{{amount_with_comma_separator}} zl",
    QAR: "QAR {{amount_with_comma_separator}}",
    RON: "{{amount_with_comma_separator}} lei",
    RUB: "&#1088;&#1091;&#1073;{{amount_with_comma_separator}}",
    SAR: "{{amount}} SR",
    RSD: "{{amount}} RSD",
    SCR: "Rs {{amount}}",
    SGD: "${{amount}}",
    SYP: "S&pound;{{amount}}",
    ZAR: "R {{amount}}",
    KRW: "&#8361;{{amount_no_decimals}}",
    LKR: "Rs {{amount}}",
    SEK: "{{amount_no_decimals}} kr",
    CHF: "SFr. {{amount}}",
    TWD: "${{amount}}",
    THB: "{{amount}} &#xe3f;",
    TZS: "{{amount}} TZS",
    TTD: "${{amount}}",
    TRY: "{{amount}}TL",
    UAH: "₴{{amount}}",
    AED: "Dhs. {{amount}}",
    UYU: "${{amount_with_comma_separator}}",
    VEB: "Bs. {{amount_with_comma_separator}}",
    VND: "{{amount_no_decimals_with_comma_separator}}₫",
    ZMK: "K{{amount_no_decimals_with_comma_separator}}"
};
Currency.formatMoney = function(b, f) {
    if (typeof b == "string") {
        b = b.replace(".", "")
    }
    var e = "";
    var d = /\{\{\s*(\w+)\s*\}\}/;
    var a = (f || this.money_format);
    function c(g) {
        return g.replace(/(\d+)(\d{3}[\.,]?)/, "$1,$2")
    }
    switch (a.match(d)[1]) {
    case "amount":
        e = c(floatToString(b / 100, 2));
        break;
    case "amount_no_decimals":
        e = c(floatToString(b / 100, 0));
        break;
    case "amount_with_comma_separator":
        e = floatToString(b / 100, 2).replace(/\./, ",");
        break;
    case "amount_no_decimals_with_comma_separator":
        e = c(floatToString(b / 100, 0)).replace(/\./, ",");
        break
    }
    return a.replace(d, e)
}
;
function floatToString(c, a) {
    var b = c.toFixed(a).toString();
    if (b.match(/^\.\d+/)) {
        return "0" + b
    } else {
        return b
    }
}
Currency.currentCurrency = "";
Currency.format = "money_with_currency_format";
Currency.convertAll = function(c, b, a, d) {
    jQuery(a || "span.money").each(function() {
        if (jQuery(this).attr("data-currency") === b) {
            return
        }
        if (jQuery(this).attr("data-currency-" + b)) {
            jQuery(this).html(jQuery(this).attr("data-currency-" + b))
        } else {
            var e = 0;
            var f = Currency[d || Currency.format][c] || "{{amount}}";
            var g = Currency[d || Currency.format][b] || "{{amount}}";
            if (f.indexOf("amount_no_decimals") !== -1) {
                e = Currency.convert(parseInt(jQuery(this).html().replace(/[^0-9]/g, ""), 10) * 100, c, b)
            } else {
                e = Currency.convert(parseInt(jQuery(this).html().replace(/[^0-9]/g, ""), 10), c, b)
            }
            var h = Currency.formatMoney(e, g);
            jQuery(this).html(h);
            jQuery(this).attr("data-currency-" + b, h)
        }
        jQuery(this).attr("data-currency", b)
    });
    this.currentCurrency = b;
    this.cookie.write(b)
}
;
/*!
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit and custom frameworks
 *
 * @version     v0.8.1, built on 2016-07-29 1:10:55 AM
 * @author      https://twitter.com/formvalidation
 * @copyright   (c) 2013 - 2016 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
if (window.FormValidation = {
    AddOn: {},
    Framework: {},
    I18n: {},
    Validator: {}
},
"undefined" == typeof jQuery)
    throw new Error("FormValidation requires jQuery");
!function(a) {
    var b = a.fn.jquery.split(" ")[0].split(".");
    if (+b[0] < 2 && +b[1] < 9 || 1 === +b[0] && 9 === +b[1] && +b[2] < 1)
        throw new Error("FormValidation requires jQuery version 1.9.1 or higher")
}(jQuery),
function(a) {
    FormValidation.Base = function(b, c, d) {
        this.$form = a(b),
        this.options = a.extend({}, a.fn.formValidation.DEFAULT_OPTIONS, c),
        this._namespace = d || "fv",
        this.$invalidFields = a([]),
        this.$submitButton = null,
        this.$hiddenButton = null,
        this.STATUS_NOT_VALIDATED = "NOT_VALIDATED",
        this.STATUS_VALIDATING = "VALIDATING",
        this.STATUS_INVALID = "INVALID",
        this.STATUS_VALID = "VALID",
        this.STATUS_IGNORED = "IGNORED",
        this.DEFAULT_MESSAGE = a.fn.formValidation.DEFAULT_MESSAGE,
        this._ieVersion = function() {
            for (var a = 3, b = document.createElement("div"), c = b.all || []; b.innerHTML = "<!--[if gt IE " + ++a + "]><br><![endif]-->",
            c[0]; )
                ;
            return a > 4 ? a : document.documentMode
        }();
        var e = document.createElement("div");
        this._changeEvent = 9 !== this._ieVersion && "oninput"in e ? "input" : "keyup",
        this._submitIfValid = null,
        this._cacheFields = {},
        this._init()
    }
    ,
    FormValidation.Base.prototype = {
        constructor: FormValidation.Base,
        _exceedThreshold: function(b) {
            var c = this._namespace
              , d = b.attr("data-" + c + "-field")
              , e = this.options.fields[d].threshold || this.options.threshold;
            if (!e)
                return !0;
            var f = -1 !== a.inArray(b.attr("type"), ["button", "checkbox", "file", "hidden", "image", "radio", "reset", "submit"]);
            return f || b.val().length >= e
        },
        _init: function() {
            var b = this
              , c = this._namespace
              , d = {
                addOns: {},
                autoFocus: this.$form.attr("data-" + c + "-autofocus"),
                button: {
                    selector: this.$form.attr("data-" + c + "-button-selector") || this.$form.attr("data-" + c + "-submitbuttons"),
                    disabled: this.$form.attr("data-" + c + "-button-disabled")
                },
                control: {
                    valid: this.$form.attr("data-" + c + "-control-valid"),
                    invalid: this.$form.attr("data-" + c + "-control-invalid")
                },
                err: {
                    clazz: this.$form.attr("data-" + c + "-err-clazz"),
                    container: this.$form.attr("data-" + c + "-err-container") || this.$form.attr("data-" + c + "-container"),
                    parent: this.$form.attr("data-" + c + "-err-parent")
                },
                events: {
                    formInit: this.$form.attr("data-" + c + "-events-form-init"),
                    formPreValidate: this.$form.attr("data-" + c + "-events-form-prevalidate"),
                    formError: this.$form.attr("data-" + c + "-events-form-error"),
                    formReset: this.$form.attr("data-" + c + "-events-form-reset"),
                    formSuccess: this.$form.attr("data-" + c + "-events-form-success"),
                    fieldAdded: this.$form.attr("data-" + c + "-events-field-added"),
                    fieldRemoved: this.$form.attr("data-" + c + "-events-field-removed"),
                    fieldInit: this.$form.attr("data-" + c + "-events-field-init"),
                    fieldError: this.$form.attr("data-" + c + "-events-field-error"),
                    fieldReset: this.$form.attr("data-" + c + "-events-field-reset"),
                    fieldSuccess: this.$form.attr("data-" + c + "-events-field-success"),
                    fieldStatus: this.$form.attr("data-" + c + "-events-field-status"),
                    localeChanged: this.$form.attr("data-" + c + "-events-locale-changed"),
                    validatorError: this.$form.attr("data-" + c + "-events-validator-error"),
                    validatorSuccess: this.$form.attr("data-" + c + "-events-validator-success"),
                    validatorIgnored: this.$form.attr("data-" + c + "-events-validator-ignored")
                },
                excluded: this.$form.attr("data-" + c + "-excluded"),
                icon: {
                    valid: this.$form.attr("data-" + c + "-icon-valid") || this.$form.attr("data-" + c + "-feedbackicons-valid"),
                    invalid: this.$form.attr("data-" + c + "-icon-invalid") || this.$form.attr("data-" + c + "-feedbackicons-invalid"),
                    validating: this.$form.attr("data-" + c + "-icon-validating") || this.$form.attr("data-" + c + "-feedbackicons-validating"),
                    feedback: this.$form.attr("data-" + c + "-icon-feedback")
                },
                live: this.$form.attr("data-" + c + "-live"),
                locale: this.$form.attr("data-" + c + "-locale"),
                message: this.$form.attr("data-" + c + "-message"),
                onPreValidate: this.$form.attr("data-" + c + "-onprevalidate"),
                onError: this.$form.attr("data-" + c + "-onerror"),
                onReset: this.$form.attr("data-" + c + "-onreset"),
                onSuccess: this.$form.attr("data-" + c + "-onsuccess"),
                row: {
                    selector: this.$form.attr("data-" + c + "-row-selector") || this.$form.attr("data-" + c + "-group"),
                    valid: this.$form.attr("data-" + c + "-row-valid"),
                    invalid: this.$form.attr("data-" + c + "-row-invalid"),
                    feedback: this.$form.attr("data-" + c + "-row-feedback")
                },
                threshold: this.$form.attr("data-" + c + "-threshold"),
                trigger: this.$form.attr("data-" + c + "-trigger"),
                verbose: this.$form.attr("data-" + c + "-verbose"),
                fields: {}
            };
            this.$form.attr("novalidate", "novalidate").addClass(this.options.elementClass).on("submit." + c, function(a) {
                a.preventDefault(),
                b.validate()
            }).on("click." + c, this.options.button.selector, function() {
                b.$submitButton = a(this),
                b._submitIfValid = !0
            }),
            (this.options.declarative === !0 || "true" === this.options.declarative) && this.$form.find("[name], [data-" + c + "-field]").each(function() {
                var e = a(this)
                  , f = e.attr("name") || e.attr("data-" + c + "-field")
                  , g = b._parseOptions(e);
                g && (e.attr("data-" + c + "-field", f),
                d.fields[f] = a.extend({}, g, d.fields[f]))
            }),
            this.options = a.extend(!0, this.options, d),
            "string" == typeof this.options.err.parent && (this.options.err.parent = new RegExp(this.options.err.parent)),
            this.options.container && (this.options.err.container = this.options.container,
            delete this.options.container),
            this.options.feedbackIcons && (this.options.icon = a.extend(!0, this.options.icon, this.options.feedbackIcons),
            delete this.options.feedbackIcons),
            this.options.group && (this.options.row.selector = this.options.group,
            delete this.options.group),
            this.options.submitButtons && (this.options.button.selector = this.options.submitButtons,
            delete this.options.submitButtons),
            FormValidation.I18n[this.options.locale] || (this.options.locale = a.fn.formValidation.DEFAULT_OPTIONS.locale),
            (this.options.declarative === !0 || "true" === this.options.declarative) && (this.options = a.extend(!0, this.options, {
                addOns: this._parseAddOnOptions()
            })),
            this.$hiddenButton = a("<button/>").attr("type", "submit").attr("aria-label", "submit").prependTo(this.$form).addClass("fv-hidden-submit").css({
                display: "none",
                width: 0,
                height: 0
            }),
            this.$form.on("click." + this._namespace, '[type="submit"]', function(c) {
                if (!c.isDefaultPrevented()) {
                    var d = a(c.target)
                      , e = d.is('[type="submit"]') ? d.eq(0) : d.parent('[type="submit"]').eq(0);
                    if (b.options.button.selector && !e.is(b.options.button.selector) && !e.is(b.$hiddenButton))
                        return b.$form.off("submit." + b._namespace).submit(),
                        !1
                }
            });
            for (var e in this.options.fields)
                this._initField(e);
            for (var f in this.options.addOns)
                "function" == typeof FormValidation.AddOn[f].init && FormValidation.AddOn[f].init(this, this.options.addOns[f]);
            this.$form.trigger(a.Event(this.options.events.formInit), {
                bv: this,
                fv: this,
                options: this.options
            }),
            this.options.onPreValidate && this.$form.on(this.options.events.formPreValidate, function(a) {
                FormValidation.Helper.call(b.options.onPreValidate, [a])
            }),
            this.options.onSuccess && this.$form.on(this.options.events.formSuccess, function(a) {
                FormValidation.Helper.call(b.options.onSuccess, [a])
            }),
            this.options.onError && this.$form.on(this.options.events.formError, function(a) {
                FormValidation.Helper.call(b.options.onError, [a])
            }),
            this.options.onReset && this.$form.on(this.options.events.formReset, function(a) {
                FormValidation.Helper.call(b.options.onReset, [a])
            })
        },
        _initField: function(b) {
            var c = this._namespace
              , d = a([]);
            switch (typeof b) {
            case "object":
                d = b,
                b = b.attr("data-" + c + "-field");
                break;
            case "string":
                d = this.getFieldElements(b),
                d.attr("data-" + c + "-field", b)
            }
            if (0 !== d.length && null !== this.options.fields[b] && null !== this.options.fields[b].validators) {
                var e, f, g = this.options.fields[b].validators;
                for (e in g)
                    f = g[e].alias || e,
                    FormValidation.Validator[f] || delete this.options.fields[b].validators[e];
                null === this.options.fields[b].enabled && (this.options.fields[b].enabled = !0);
                for (var h = this, i = d.length, j = d.attr("type"), k = 1 === i || "radio" === j || "checkbox" === j, l = this._getFieldTrigger(d.eq(0)), m = this.options.err.clazz.split(" ").join("."), n = a.map(l, function(a) {
                    return a + ".update." + c
                }).join(" "), o = 0; i > o; o++) {
                    var p = d.eq(o)
                      , q = this.options.fields[b].row || this.options.row.selector
                      , r = p.closest(q)
                      , s = "function" == typeof (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container) ? (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container).call(this, p, this) : this.options.fields[b].container || this.options.fields[b].err || this.options.err.container
                      , t = s && "tooltip" !== s && "popover" !== s ? a(s) : this._getMessageContainer(p, q);
                    s && "tooltip" !== s && "popover" !== s && t.addClass(this.options.err.clazz),
                    t.find("." + m + "[data-" + c + "-validator][data-" + c + '-for="' + b + '"]').remove(),
                    r.find("i[data-" + c + '-icon-for="' + b + '"]').remove(),
                    p.off(n).on(n, function() {
                        h.updateStatus(a(this), h.STATUS_NOT_VALIDATED)
                    }),
                    p.data(c + ".messages", t);
                    for (e in g)
                        p.data(c + ".result." + e, this.STATUS_NOT_VALIDATED),
                        k && o !== i - 1 || a("<small/>").css("display", "none").addClass(this.options.err.clazz).attr("data-" + c + "-validator", e).attr("data-" + c + "-for", b).attr("data-" + c + "-result", this.STATUS_NOT_VALIDATED).html(this._getMessage(b, e)).appendTo(t),
                        f = g[e].alias || e,
                        "function" == typeof FormValidation.Validator[f].init && FormValidation.Validator[f].init(this, p, this.options.fields[b].validators[e], e);
                    if (this.options.fields[b].icon !== !1 && "false" !== this.options.fields[b].icon && this.options.icon && this.options.icon.valid && this.options.icon.invalid && this.options.icon.validating && (!k || o === i - 1)) {
                        r.addClass(this.options.row.feedback);
                        var u = a("<i/>").css("display", "none").addClass(this.options.icon.feedback).attr("data-" + c + "-icon-for", b).insertAfter(p);
                        (k ? d : p).data(c + ".icon", u),
                        ("tooltip" === s || "popover" === s) && ((k ? d : p).on(this.options.events.fieldError, function() {
                            r.addClass("fv-has-tooltip")
                        }).on(this.options.events.fieldSuccess, function() {
                            r.removeClass("fv-has-tooltip")
                        }),
                        p.off("focus.container." + c).on("focus.container." + c, function() {
                            h._showTooltip(a(this), s)
                        }).off("blur.container." + c).on("blur.container." + c, function() {
                            h._hideTooltip(a(this), s)
                        })),
                        "string" == typeof this.options.fields[b].icon && "true" !== this.options.fields[b].icon ? u.appendTo(a(this.options.fields[b].icon)) : this._fixIcon(p, u)
                    }
                }
                var v = [];
                for (e in g)
                    f = g[e].alias || e,
                    g[e].priority = parseInt(g[e].priority || FormValidation.Validator[f].priority || 1, 10),
                    v.push({
                        validator: e,
                        priority: g[e].priority
                    });
                v = v.sort(function(a, b) {
                    return a.priority - b.priority
                }),
                d.data(c + ".validators", v).on(this.options.events.fieldSuccess, function(a, b) {
                    var c = h.getOptions(b.field, null, "onSuccess");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.fieldError, function(a, b) {
                    var c = h.getOptions(b.field, null, "onError");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.fieldReset, function(a, b) {
                    var c = h.getOptions(b.field, null, "onReset");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.fieldStatus, function(a, b) {
                    var c = h.getOptions(b.field, null, "onStatus");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.validatorError, function(a, b) {
                    var c = h.getOptions(b.field, b.validator, "onError");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.validatorIgnored, function(a, b) {
                    var c = h.getOptions(b.field, b.validator, "onIgnored");
                    c && FormValidation.Helper.call(c, [a, b])
                }).on(this.options.events.validatorSuccess, function(a, b) {
                    var c = h.getOptions(b.field, b.validator, "onSuccess");
                    c && FormValidation.Helper.call(c, [a, b])
                }),
                this.onLiveChange(d, "live", function() {
                    h._exceedThreshold(a(this)) && h.validateField(a(this))
                }),
                d.trigger(a.Event(this.options.events.fieldInit), {
                    bv: this,
                    fv: this,
                    field: b,
                    element: d
                })
            }
        },
        _isExcluded: function(b) {
            var c = this._namespace
              , d = b.attr("data-" + c + "-excluded")
              , e = b.attr("data-" + c + "-field") || b.attr("name");
            switch (!0) {
            case !!e && this.options.fields && this.options.fields[e] && ("true" === this.options.fields[e].excluded || this.options.fields[e].excluded === !0):
            case "true" === d:
            case "" === d:
                return !0;
            case !!e && this.options.fields && this.options.fields[e] && ("false" === this.options.fields[e].excluded || this.options.fields[e].excluded === !1):
            case "false" === d:
                return !1;
            case !!e && this.options.fields && this.options.fields[e] && "function" == typeof this.options.fields[e].excluded:
                return this.options.fields[e].excluded.call(this, b, this);
            case !!e && this.options.fields && this.options.fields[e] && "string" == typeof this.options.fields[e].excluded:
            case d:
                return FormValidation.Helper.call(this.options.fields[e].excluded, [b, this]);
            default:
                if (this.options.excluded) {
                    "string" == typeof this.options.excluded && (this.options.excluded = a.map(this.options.excluded.split(","), function(b) {
                        return a.trim(b)
                    }));
                    for (var f = this.options.excluded.length, g = 0; f > g; g++)
                        if ("string" == typeof this.options.excluded[g] && b.is(this.options.excluded[g]) || "function" == typeof this.options.excluded[g] && this.options.excluded[g].call(this, b, this) === !0)
                            return !0
                }
                return !1
            }
        },
        _getFieldTrigger: function(a) {
            var b = this._namespace
              , c = a.data(b + ".trigger");
            if (c)
                return c;
            var d = a.attr("type")
              , e = a.attr("data-" + b + "-field")
              , f = "radio" === d || "checkbox" === d || "file" === d || "SELECT" === a.get(0).tagName ? "change" : this._ieVersion >= 10 && a.attr("placeholder") ? "keyup" : this._changeEvent;
            return c = ((this.options.fields[e] ? this.options.fields[e].trigger : null) || this.options.trigger || f).split(" "),
            a.data(b + ".trigger", c),
            c
        },
        _getMessage: function(a, b) {
            if (!this.options.fields[a] || !this.options.fields[a].validators)
                return "";
            var c = this.options.fields[a].validators
              , d = c[b] && c[b].alias ? c[b].alias : b;
            if (!FormValidation.Validator[d])
                return "";
            switch (!0) {
            case !!c[b].message:
                return c[b].message;
            case !!this.options.fields[a].message:
                return this.options.fields[a].message;
            case !!this.options.message:
                return this.options.message;
            case !!FormValidation.I18n[this.options.locale] && !!FormValidation.I18n[this.options.locale][d] && !!FormValidation.I18n[this.options.locale][d]["default"]:
                return FormValidation.I18n[this.options.locale][d]["default"];
            default:
                return this.DEFAULT_MESSAGE
            }
        },
        _getMessageContainer: function(a, b) {
            if (!this.options.err.parent)
                throw new Error("The err.parent option is not defined");
            var c = a.parent();
            if (c.is(b))
                return c;
            var d = c.attr("class");
            return d && this.options.err.parent.test(d) ? c : this._getMessageContainer(c, b)
        },
        _parseAddOnOptions: function() {
            var a = this._namespace
              , b = this.$form.attr("data-" + a + "-addons")
              , c = this.options.addOns || {};
            if (b) {
                b = b.replace(/\s/g, "").split(",");
                for (var d = 0; d < b.length; d++)
                    c[b[d]] || (c[b[d]] = {})
            }
            var e, f, g, h;
            for (e in c)
                if (FormValidation.AddOn[e]) {
                    if (f = FormValidation.AddOn[e].html5Attributes)
                        for (g in f)
                            h = this.$form.attr("data-" + a + "-addons-" + e.toLowerCase() + "-" + g.toLowerCase()),
                            h && (c[e][f[g]] = h)
                } else
                    delete c[e];
            return c
        },
        _parseOptions: function(b) {
            var c, d, e, f, g, h, i, j, k, l = this._namespace, m = b.attr("name") || b.attr("data-" + l + "-field"), n = {}, o = new RegExp("^data-" + l + "-([a-z]+)-alias$"), p = a.extend({}, FormValidation.Validator);
            a.each(b.get(0).attributes, function(a, b) {
                b.value && o.test(b.name) && (d = b.name.split("-")[2],
                p[b.value] && (p[d] = p[b.value],
                p[d].alias = b.value))
            });
            for (d in p)
                if (c = p[d],
                e = "data-" + l + "-" + d.toLowerCase(),
                f = b.attr(e) + "",
                k = "function" == typeof c.enableByHtml5 ? c.enableByHtml5(b) : null,
                k && "false" !== f || k !== !0 && ("" === f || "true" === f || e === f.toLowerCase())) {
                    c.html5Attributes = a.extend({}, {
                        message: "message",
                        onerror: "onError",
                        onreset: "onReset",
                        onsuccess: "onSuccess",
                        priority: "priority",
                        transformer: "transformer"
                    }, c.html5Attributes),
                    n[d] = a.extend({}, k === !0 ? {} : k, n[d]),
                    c.alias && (n[d].alias = c.alias);
                    for (j in c.html5Attributes)
                        g = c.html5Attributes[j],
                        h = "data-" + l + "-" + d.toLowerCase() + "-" + j,
                        i = b.attr(h),
                        i && ("true" === i || h === i.toLowerCase() ? i = !0 : "false" === i && (i = !1),
                        n[d][g] = i)
                }
            var q = {
                autoFocus: b.attr("data-" + l + "-autofocus"),
                err: b.attr("data-" + l + "-err-container") || b.attr("data-" + l + "-container"),
                enabled: b.attr("data-" + l + "-enabled"),
                excluded: b.attr("data-" + l + "-excluded"),
                icon: b.attr("data-" + l + "-icon") || b.attr("data-" + l + "-feedbackicons") || (this.options.fields && this.options.fields[m] ? this.options.fields[m].feedbackIcons : null),
                message: b.attr("data-" + l + "-message"),
                onError: b.attr("data-" + l + "-onerror"),
                onReset: b.attr("data-" + l + "-onreset"),
                onStatus: b.attr("data-" + l + "-onstatus"),
                onSuccess: b.attr("data-" + l + "-onsuccess"),
                row: b.attr("data-" + l + "-row") || b.attr("data-" + l + "-group") || (this.options.fields && this.options.fields[m] ? this.options.fields[m].group : null),
                selector: b.attr("data-" + l + "-selector"),
                threshold: b.attr("data-" + l + "-threshold"),
                transformer: b.attr("data-" + l + "-transformer"),
                trigger: b.attr("data-" + l + "-trigger"),
                verbose: b.attr("data-" + l + "-verbose"),
                validators: n
            }
              , r = a.isEmptyObject(q)
              , s = a.isEmptyObject(n);
            return !s || !r && this.options.fields && this.options.fields[m] ? q : null
        },
        _submit: function() {
            var b = this.isValid();
            if (null !== b) {
                var c = b ? this.options.events.formSuccess : this.options.events.formError
                  , d = a.Event(c);
                this.$form.trigger(d),
                this.$submitButton && (b ? this._onSuccess(d) : this._onError(d))
            }
        },
        _onError: function(b) {
            if (!b.isDefaultPrevented()) {
                if ("submitted" === this.options.live) {
                    this.options.live = "enabled";
                    var c = this;
                    for (var d in this.options.fields)
                        !function(b) {
                            var d = c.getFieldElements(b);
                            d.length && c.onLiveChange(d, "live", function() {
                                c._exceedThreshold(a(this)) && c.validateField(a(this))
                            })
                        }(d)
                }
                for (var e = this._namespace, f = 0; f < this.$invalidFields.length; f++) {
                    var g = this.$invalidFields.eq(f)
                      , h = this.isOptionEnabled(g.attr("data-" + e + "-field"), "autoFocus");
                    if (h) {
                        g.focus();
                        break
                    }
                }
            }
        },
        _onFieldValidated: function(b, c) {
            var d = this._namespace
              , e = b.attr("data-" + d + "-field")
              , f = this.options.fields[e].validators
              , g = {}
              , h = 0
              , i = {
                bv: this,
                fv: this,
                field: e,
                element: b,
                validator: c,
                result: b.data(d + ".response." + c)
            };
            if (c)
                switch (b.data(d + ".result." + c)) {
                case this.STATUS_INVALID:
                    b.trigger(a.Event(this.options.events.validatorError), i);
                    break;
                case this.STATUS_VALID:
                    b.trigger(a.Event(this.options.events.validatorSuccess), i);
                    break;
                case this.STATUS_IGNORED:
                    b.trigger(a.Event(this.options.events.validatorIgnored), i)
                }
            g[this.STATUS_NOT_VALIDATED] = 0,
            g[this.STATUS_VALIDATING] = 0,
            g[this.STATUS_INVALID] = 0,
            g[this.STATUS_VALID] = 0,
            g[this.STATUS_IGNORED] = 0;
            for (var j in f)
                if (f[j].enabled !== !1) {
                    h++;
                    var k = b.data(d + ".result." + j);
                    k && g[k]++
                }
            g[this.STATUS_VALID] + g[this.STATUS_IGNORED] === h ? (this.$invalidFields = this.$invalidFields.not(b),
            b.trigger(a.Event(this.options.events.fieldSuccess), i)) : (0 === g[this.STATUS_NOT_VALIDATED] || !this.isOptionEnabled(e, "verbose")) && 0 === g[this.STATUS_VALIDATING] && g[this.STATUS_INVALID] > 0 && (this.$invalidFields = this.$invalidFields.add(b),
            b.trigger(a.Event(this.options.events.fieldError), i))
        },
        _onSuccess: function(a) {
            a.isDefaultPrevented() || this.disableSubmitButtons(!0).defaultSubmit()
        },
        _fixIcon: function(a, b) {},
        _createTooltip: function(a, b, c) {},
        _destroyTooltip: function(a, b) {},
        _hideTooltip: function(a, b) {},
        _showTooltip: function(a, b) {},
        defaultSubmit: function() {
            var b = this._namespace;
            this.$submitButton && a("<input/>").attr({
                type: "hidden",
                name: this.$submitButton.attr("name")
            }).attr("data-" + b + "-submit-hidden", "").val(this.$submitButton.val()).appendTo(this.$form),
            this.$form.off("submit." + b).submit()
        },
        disableSubmitButtons: function(a) {
            return a ? "disabled" !== this.options.live && this.$form.find(this.options.button.selector).attr("disabled", "disabled").addClass(this.options.button.disabled) : this.$form.find(this.options.button.selector).removeAttr("disabled").removeClass(this.options.button.disabled),
            this
        },
        getFieldElements: function(b) {
            if (!this._cacheFields[b])
                if (this.options.fields[b] && this.options.fields[b].selector) {
                    var c = this.$form.find(this.options.fields[b].selector);
                    this._cacheFields[b] = c.length ? c : a(this.options.fields[b].selector)
                } else
                    this._cacheFields[b] = this.$form.find('[name="' + b + '"]');
            return this._cacheFields[b]
        },
        getFieldValue: function(a, b) {
            var c, d = this._namespace;
            if ("string" == typeof a) {
                if (c = this.getFieldElements(a),
                0 === c.length)
                    return null
            } else
                c = a,
                a = c.attr("data-" + d + "-field");
            if (!a || !this.options.fields[a])
                return c.val();
            var e = (this.options.fields[a].validators && this.options.fields[a].validators[b] ? this.options.fields[a].validators[b].transformer : null) || this.options.fields[a].transformer;
            return e ? FormValidation.Helper.call(e, [c, b, this]) : c.val()
        },
        getNamespace: function() {
            return this._namespace
        },
        getOptions: function(a, b, c) {
            var d = this._namespace;
            if (!a)
                return c ? this.options[c] : this.options;
            if ("object" == typeof a && (a = a.attr("data-" + d + "-field")),
            !this.options.fields[a])
                return null;
            var e = this.options.fields[a];
            return b ? e.validators && e.validators[b] ? c ? e.validators[b][c] : e.validators[b] : null : c ? e[c] : e
        },
        getStatus: function(a, b) {
            var c = this._namespace;
            switch (typeof a) {
            case "object":
                return a.data(c + ".result." + b);
            case "string":
            default:
                return this.getFieldElements(a).eq(0).data(c + ".result." + b)
            }
        },
        isOptionEnabled: function(a, b) {
            return !this.options.fields[a] || "true" !== this.options.fields[a][b] && this.options.fields[a][b] !== !0 ? !this.options.fields[a] || "false" !== this.options.fields[a][b] && this.options.fields[a][b] !== !1 ? "true" === this.options[b] || this.options[b] === !0 : !1 : !0
        },
        isValid: function() {
            for (var a in this.options.fields) {
                var b = this.isValidField(a);
                if (null === b)
                    return null;
                if (b === !1)
                    return !1
            }
            return !0
        },
        isValidContainer: function(b) {
            var c = this
              , d = this._namespace
              , e = []
              , f = "string" == typeof b ? a(b) : b;
            if (0 === f.length)
                return !0;
            f.find("[data-" + d + "-field]").each(function() {
                var b = a(this);
                c._isExcluded(b) || e.push(b)
            });
            for (var g = e.length, h = this.options.err.clazz.split(" ").join("."), i = 0; g > i; i++) {
                var j = e[i]
                  , k = j.attr("data-" + d + "-field")
                  , l = j.data(d + ".messages").find("." + h + "[data-" + d + "-validator][data-" + d + '-for="' + k + '"]');
                if (!this.options.fields || !this.options.fields[k] || "false" !== this.options.fields[k].enabled && this.options.fields[k].enabled !== !1) {
                    if (l.filter("[data-" + d + '-result="' + this.STATUS_INVALID + '"]').length > 0)
                        return !1;
                    if (l.filter("[data-" + d + '-result="' + this.STATUS_NOT_VALIDATED + '"]').length > 0 || l.filter("[data-" + d + '-result="' + this.STATUS_VALIDATING + '"]').length > 0)
                        return null
                }
            }
            return !0
        },
        isValidField: function(b) {
            var c = this._namespace
              , d = a([]);
            switch (typeof b) {
            case "object":
                d = b,
                b = b.attr("data-" + c + "-field");
                break;
            case "string":
                d = this.getFieldElements(b)
            }
            if (0 === d.length || !this.options.fields[b] || "false" === this.options.fields[b].enabled || this.options.fields[b].enabled === !1)
                return !0;
            for (var e, f, g, h = d.attr("type"), i = "radio" === h || "checkbox" === h ? 1 : d.length, j = 0; i > j; j++)
                if (e = d.eq(j),
                !this._isExcluded(e))
                    for (f in this.options.fields[b].validators)
                        if (this.options.fields[b].validators[f].enabled !== !1) {
                            if (g = e.data(c + ".result." + f),
                            g === this.STATUS_VALIDATING || g === this.STATUS_NOT_VALIDATED)
                                return null;
                            if (g === this.STATUS_INVALID)
                                return !1
                        }
            return !0
        },
        offLiveChange: function(b, c) {
            if (null === b || 0 === b.length)
                return this;
            var d = this._namespace
              , e = this._getFieldTrigger(b.eq(0))
              , f = a.map(e, function(a) {
                return a + "." + c + "." + d
            }).join(" ");
            return b.off(f),
            this
        },
        onLiveChange: function(b, c, d) {
            if (null === b || 0 === b.length)
                return this;
            var e = this._namespace
              , f = this._getFieldTrigger(b.eq(0))
              , g = a.map(f, function(a) {
                return a + "." + c + "." + e
            }).join(" ");
            switch (this.options.live) {
            case "submitted":
                break;
            case "disabled":
                b.off(g);
                break;
            case "enabled":
            default:
                b.off(g).on(g, function(a) {
                    d.apply(this, arguments)
                })
            }
            return this
        },
        updateMessage: function(b, c, d) {
            var e = this._namespace
              , f = a([]);
            switch (typeof b) {
            case "object":
                f = b,
                b = b.attr("data-" + e + "-field");
                break;
            case "string":
                f = this.getFieldElements(b)
            }
            var g = this.options.err.clazz.split(" ").join(".");
            return f.each(function() {
                a(this).data(e + ".messages").find("." + g + "[data-" + e + '-validator="' + c + '"][data-' + e + '-for="' + b + '"]').html(d)
            }),
            this
        },
        updateStatus: function(b, c, d) {
            var e = this._namespace
              , f = a([]);
            switch (typeof b) {
            case "object":
                f = b,
                b = b.attr("data-" + e + "-field");
                break;
            case "string":
                f = this.getFieldElements(b)
            }
            if (!b || !this.options.fields[b])
                return this;
            c === this.STATUS_NOT_VALIDATED && (this._submitIfValid = !1);
            for (var g = this, h = f.attr("type"), i = this.options.fields[b].row || this.options.row.selector, j = "radio" === h || "checkbox" === h ? 1 : f.length, k = this.options.err.clazz.split(" ").join("."), l = 0; j > l; l++) {
                var m = f.eq(l);
                if (!this._isExcluded(m)) {
                    var n, o, p = m.closest(i), q = m.data(e + ".messages"), r = q.find("." + k + "[data-" + e + "-validator][data-" + e + '-for="' + b + '"]'), s = d ? r.filter("[data-" + e + '-validator="' + d + '"]') : r, t = m.data(e + ".icon"), u = "function" == typeof (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container) ? (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container).call(this, m, this) : this.options.fields[b].container || this.options.fields[b].err || this.options.err.container, v = null;
                    if (d)
                        m.data(e + ".result." + d, c);
                    else
                        for (var w in this.options.fields[b].validators)
                            m.data(e + ".result." + w, c);
                    switch (s.attr("data-" + e + "-result", c),
                    c) {
                    case this.STATUS_VALIDATING:
                        v = null,
                        this.disableSubmitButtons(!0),
                        m.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),
                        p.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),
                        t && t.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).addClass(this.options.icon.validating).show();
                        break;
                    case this.STATUS_INVALID:
                        v = !1,
                        this.disableSubmitButtons(!0),
                        m.removeClass(this.options.control.valid).addClass(this.options.control.invalid),
                        p.removeClass(this.options.row.valid).addClass(this.options.row.invalid),
                        t && t.removeClass(this.options.icon.valid).removeClass(this.options.icon.validating).addClass(this.options.icon.invalid).show();
                        break;
                    case this.STATUS_IGNORED:
                    case this.STATUS_VALID:
                        n = r.filter("[data-" + e + '-result="' + this.STATUS_VALIDATING + '"]').length > 0,
                        o = r.filter("[data-" + e + '-result="' + this.STATUS_NOT_VALIDATED + '"]').length > 0;
                        var x = r.filter("[data-" + e + '-result="' + this.STATUS_IGNORED + '"]').length;
                        v = n || o ? null : r.filter("[data-" + e + '-result="' + this.STATUS_VALID + '"]').length + x === r.length,
                        m.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),
                        v === !0 ? (this.disableSubmitButtons(this.isValid() === !1),
                        c === this.STATUS_VALID && m.addClass(this.options.control.valid)) : v === !1 && (this.disableSubmitButtons(!0),
                        c === this.STATUS_VALID && m.addClass(this.options.control.invalid)),
                        t && (t.removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).removeClass(this.options.icon.valid),
                        (c === this.STATUS_VALID || x !== r.length) && t.addClass(n ? this.options.icon.validating : null === v ? "" : v ? this.options.icon.valid : this.options.icon.invalid).show());
                        var y = this.isValidContainer(p);
                        null !== y && (p.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),
                        (c === this.STATUS_VALID || x !== r.length) && p.addClass(y ? this.options.row.valid : this.options.row.invalid));
                        break;
                    case this.STATUS_NOT_VALIDATED:
                    default:
                        v = null,
                        this.disableSubmitButtons(!1),
                        m.removeClass(this.options.control.valid).removeClass(this.options.control.invalid),
                        p.removeClass(this.options.row.valid).removeClass(this.options.row.invalid),
                        t && t.removeClass(this.options.icon.valid).removeClass(this.options.icon.invalid).removeClass(this.options.icon.validating).hide()
                    }
                    !t || "tooltip" !== u && "popover" !== u ? c === this.STATUS_INVALID ? s.show() : s.hide() : v === !1 ? this._createTooltip(m, r.filter("[data-" + e + '-result="' + g.STATUS_INVALID + '"]').eq(0).html(), u) : this._destroyTooltip(m, u),
                    m.trigger(a.Event(this.options.events.fieldStatus), {
                        bv: this,
                        fv: this,
                        field: b,
                        element: m,
                        status: c,
                        validator: d
                    }),
                    this._onFieldValidated(m, d)
                }
            }
            return this
        },
        validate: function() {
            if (a.isEmptyObject(this.options.fields))
                return this._submit(),
                this;
            this.$form.trigger(a.Event(this.options.events.formPreValidate)),
            this.disableSubmitButtons(!0),
            this._submitIfValid = !1;
            for (var b in this.options.fields)
                this.validateField(b);
            return this._submit(),
            this._submitIfValid = !0,
            this
        },
        validateField: function(b) {
            var c = this._namespace
              , d = a([]);
            switch (typeof b) {
            case "object":
                d = b,
                b = b.attr("data-" + c + "-field");
                break;
            case "string":
                d = this.getFieldElements(b)
            }
            if (0 === d.length || !this.options.fields[b] || "false" === this.options.fields[b].enabled || this.options.fields[b].enabled === !1)
                return this;
            for (var e, f, g, h = this, i = d.attr("type"), j = "radio" !== i && "checkbox" !== i || "disabled" === this.options.live ? d.length : 1, k = "radio" === i || "checkbox" === i, l = this.options.fields[b].validators, m = this.isOptionEnabled(b, "verbose"), n = 0; j > n; n++) {
                var o = d.eq(n);
                if (!this._isExcluded(o))
                    for (var p = !1, q = o.data(c + ".validators"), r = q.length, s = 0; r > s && (e = q[s].validator,
                    o.data(c + ".dfs." + e) && o.data(c + ".dfs." + e).reject(),
                    !p); s++) {
                        var t = o.data(c + ".result." + e);
                        if (t !== this.STATUS_VALID && t !== this.STATUS_INVALID)
                            if (l[e].enabled !== !1)
                                if (o.data(c + ".result." + e, this.STATUS_VALIDATING),
                                f = l[e].alias || e,
                                g = FormValidation.Validator[f].validate(this, o, l[e], e),
                                "object" == typeof g && g.resolve)
                                    this.updateStatus(k ? b : o, this.STATUS_VALIDATING, e),
                                    o.data(c + ".dfs." + e, g),
                                    g.done(function(a, b, d) {
                                        a.removeData(c + ".dfs." + b).data(c + ".response." + b, d),
                                        d.message && h.updateMessage(a, b, d.message),
                                        h.updateStatus(k ? a.attr("data-" + c + "-field") : a, d.valid === !0 ? h.STATUS_VALID : d.valid === !1 ? h.STATUS_INVALID : h.STATUS_IGNORED, b),
                                        d.valid && h._submitIfValid === !0 ? h._submit() : d.valid !== !1 || m || (p = !0)
                                    });
                                else if ("object" == typeof g && void 0 !== g.valid) {
                                    if (o.data(c + ".response." + e, g),
                                    g.message && this.updateMessage(k ? b : o, e, g.message),
                                    this.updateStatus(k ? b : o, g.valid === !0 ? this.STATUS_VALID : g.valid === !1 ? this.STATUS_INVALID : this.STATUS_IGNORED, e),
                                    g.valid === !1 && !m)
                                        break
                                } else if ("boolean" == typeof g) {
                                    if (o.data(c + ".response." + e, g),
                                    this.updateStatus(k ? b : o, g ? this.STATUS_VALID : this.STATUS_INVALID, e),
                                    !g && !m)
                                        break
                                } else
                                    null === g && (o.data(c + ".response." + e, g),
                                    this.updateStatus(k ? b : o, this.STATUS_IGNORED, e));
                            else
                                this.updateStatus(k ? b : o, this.STATUS_IGNORED, e);
                        else
                            this._onFieldValidated(o, e)
                    }
            }
            return this
        },
        addField: function(b, c) {
            var d = this._namespace
              , e = a([]);
            switch (typeof b) {
            case "object":
                e = b,
                b = b.attr("data-" + d + "-field") || b.attr("name");
                break;
            case "string":
                delete this._cacheFields[b],
                e = this.getFieldElements(b)
            }
            e.attr("data-" + d + "-field", b);
            for (var f = e.attr("type"), g = "radio" === f || "checkbox" === f ? 1 : e.length, h = 0; g > h; h++) {
                var i = e.eq(h)
                  , j = this._parseOptions(i);
                j = null === j ? c : a.extend(!0, j, c),
                this.options.fields[b] = a.extend(!0, this.options.fields[b], j),
                this._cacheFields[b] = this._cacheFields[b] ? this._cacheFields[b].add(i) : i,
                this._initField("checkbox" === f || "radio" === f ? b : i)
            }
            return this.disableSubmitButtons(!1),
            this.$form.trigger(a.Event(this.options.events.fieldAdded), {
                field: b,
                element: e,
                options: this.options.fields[b]
            }),
            this
        },
        destroy: function() {
            var a, b, c, d, e, f, g, h, i = this._namespace;
            for (b in this.options.fields)
                for (c = this.getFieldElements(b),
                a = 0; a < c.length; a++) {
                    d = c.eq(a);
                    for (e in this.options.fields[b].validators)
                        d.data(i + ".dfs." + e) && d.data(i + ".dfs." + e).reject(),
                        d.removeData(i + ".result." + e).removeData(i + ".response." + e).removeData(i + ".dfs." + e),
                        h = this.options.fields[b].validators[e].alias || e,
                        "function" == typeof FormValidation.Validator[h].destroy && FormValidation.Validator[h].destroy(this, d, this.options.fields[b].validators[e], e)
                }
            var j = this.options.err.clazz.split(" ").join(".");
            for (b in this.options.fields)
                for (c = this.getFieldElements(b),
                g = this.options.fields[b].row || this.options.row.selector,
                a = 0; a < c.length; a++) {
                    d = c.eq(a);
                    var k = d.data(i + ".messages");
                    k && k.find("." + j + "[data-" + i + "-validator][data-" + i + '-for="' + b + '"]').remove(),
                    d.removeData(i + ".messages").removeData(i + ".validators").closest(g).removeClass(this.options.row.valid).removeClass(this.options.row.invalid).removeClass(this.options.row.feedback).end().off("." + i).removeAttr("data-" + i + "-field");
                    var l = "function" == typeof (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container) ? (this.options.fields[b].container || this.options.fields[b].err || this.options.err.container).call(this, d, this) : this.options.fields[b].container || this.options.fields[b].err || this.options.err.container;
                    ("tooltip" === l || "popover" === l) && this._destroyTooltip(d, l),
                    f = d.data(i + ".icon"),
                    f && f.remove(),
                    d.removeData(i + ".icon").removeData(i + ".trigger")
                }
            for (var m in this.options.addOns)
                "function" == typeof FormValidation.AddOn[m].destroy && FormValidation.AddOn[m].destroy(this, this.options.addOns[m]);
            this.disableSubmitButtons(!1),
            this.$hiddenButton.remove(),
            this.$form.removeClass(this.options.elementClass).off("." + i).removeData("bootstrapValidator").removeData("formValidation").find("[data-" + i + "-submit-hidden]").remove().end().find('[type="submit"]').off("click." + i)
        },
        enableFieldValidators: function(a, b, c) {
            var d = this.options.fields[a].validators;
            if (c && d && d[c] && d[c].enabled !== b)
                this.options.fields[a].validators[c].enabled = b,
                this.updateStatus(a, this.STATUS_NOT_VALIDATED, c);
            else if (!c && this.options.fields[a].enabled !== b) {
                this.options.fields[a].enabled = b;
                for (var e in d)
                    this.enableFieldValidators(a, b, e)
            }
            return this
        },
        getDynamicOption: function(a, b) {
            var c = "string" == typeof a ? this.getFieldElements(a) : a
              , d = c.val();
            if ("function" == typeof b)
                return FormValidation.Helper.call(b, [d, this, c]);
            if ("string" == typeof b) {
                var e = this.getFieldElements(b);
                return e.length ? e.val() : FormValidation.Helper.call(b, [d, this, c]) || b
            }
            return null
        },
        getForm: function() {
            return this.$form
        },
        getInvalidFields: function() {
            return this.$invalidFields
        },
        getLocale: function() {
            return this.options.locale
        },
        getMessages: function(b, c) {
            var d = this
              , e = this._namespace
              , f = []
              , g = a([]);
            switch (!0) {
            case b && "object" == typeof b:
                g = b;
                break;
            case b && "string" == typeof b:
                var h = this.getFieldElements(b);
                if (h.length > 0) {
                    var i = h.attr("type");
                    g = "radio" === i || "checkbox" === i ? h.eq(0) : h
                }
                break;
            default:
                g = this.$invalidFields
            }
            var j = c ? "[data-" + e + '-validator="' + c + '"]' : ""
              , k = this.options.err.clazz.split(" ").join(".");
            return g.each(function() {
                f = f.concat(a(this).data(e + ".messages").find("." + k + "[data-" + e + '-for="' + a(this).attr("data-" + e + "-field") + '"][data-' + e + '-result="' + d.STATUS_INVALID + '"]' + j).map(function() {
                    var b = a(this).attr("data-" + e + "-validator")
                      , c = a(this).attr("data-" + e + "-for");
                    return d.options.fields[c].validators[b].enabled === !1 ? "" : a(this).html()
                }).get())
            }),
            f
        },
        getSubmitButton: function() {
            return this.$submitButton
        },
        removeField: function(b) {
            var c = this._namespace
              , d = a([]);
            switch (typeof b) {
            case "object":
                d = b,
                b = b.attr("data-" + c + "-field") || b.attr("name"),
                d.attr("data-" + c + "-field", b);
                break;
            case "string":
                d = this.getFieldElements(b)
            }
            if (0 === d.length)
                return this;
            for (var e = d.attr("type"), f = "radio" === e || "checkbox" === e ? 1 : d.length, g = 0; f > g; g++) {
                var h = d.eq(g);
                this.$invalidFields = this.$invalidFields.not(h),
                this._cacheFields[b] = this._cacheFields[b].not(h)
            }
            return this._cacheFields[b] && 0 !== this._cacheFields[b].length || delete this.options.fields[b],
            ("checkbox" === e || "radio" === e) && this._initField(b),
            this.disableSubmitButtons(!1),
            this.$form.trigger(a.Event(this.options.events.fieldRemoved), {
                field: b,
                element: d
            }),
            this
        },
        resetField: function(b, c) {
            var d = this._namespace
              , e = a([]);
            switch (typeof b) {
            case "object":
                e = b,
                b = b.attr("data-" + d + "-field");
                break;
            case "string":
                e = this.getFieldElements(b)
            }
            var f = 0
              , g = e.length;
            if (this.options.fields[b])
                for (f = 0; g > f; f++)
                    for (var h in this.options.fields[b].validators)
                        e.eq(f).removeData(d + ".dfs." + h);
            if (c) {
                var i = e.attr("type");
                "radio" === i || "checkbox" === i ? e.prop("checked", !1).removeAttr("selected") : e.val("")
            }
            for (this.updateStatus(b, this.STATUS_NOT_VALIDATED),
            f = 0; g > f; f++)
                e.eq(f).trigger(a.Event(this.options.events.fieldReset), {
                    fv: this,
                    field: b,
                    element: e.eq(f),
                    resetValue: c
                });
            return this
        },
        resetForm: function(b) {
            for (var c in this.options.fields)
                this.resetField(c, b);
            return this.$invalidFields = a([]),
            this.$submitButton = null,
            this.disableSubmitButtons(!1),
            this.$form.trigger(a.Event(this.options.events.formReset), {
                fv: this,
                resetValue: b
            }),
            this
        },
        revalidateField: function(a) {
            return this.updateStatus(a, this.STATUS_NOT_VALIDATED).validateField(a),
            this
        },
        setLocale: function(b) {
            return this.options.locale = b,
            this.$form.trigger(a.Event(this.options.events.localeChanged), {
                locale: b,
                bv: this,
                fv: this
            }),
            this
        },
        updateOption: function(a, b, c, d) {
            var e = this._namespace;
            return "object" == typeof a && (a = a.attr("data-" + e + "-field")),
            this.options.fields[a] && this.options.fields[a].validators[b] && (this.options.fields[a].validators[b][c] = d,
            this.updateStatus(a, this.STATUS_NOT_VALIDATED, b)),
            this
        },
        validateContainer: function(b) {
            var c = this
              , d = this._namespace
              , e = []
              , f = "string" == typeof b ? a(b) : b;
            if (0 === f.length)
                return this;
            f.find("[data-" + d + "-field]").each(function() {
                var b = a(this);
                c._isExcluded(b) || e.push(b)
            });
            for (var g = e.length, h = 0; g > h; h++)
                this.validateField(e[h]);
            return this
        }
    },
    a.fn.formValidation = function(b) {
        var c = arguments;
        return this.each(function() {
            var d = a(this)
              , e = d.data("formValidation")
              , f = "object" == typeof b && b;
            if (!e) {
                var g = (f.framework || d.attr("data-fv-framework") || "bootstrap").toLowerCase()
                  , h = g.substr(0, 1).toUpperCase() + g.substr(1);
                if ("undefined" == typeof FormValidation.Framework[h])
                    throw new Error("The class FormValidation.Framework." + h + " is not implemented");
                e = new FormValidation.Framework[h](this,f),
                d.addClass("fv-form-" + g).data("formValidation", e)
            }
            "string" == typeof b && e[b].apply(e, Array.prototype.slice.call(c, 1))
        })
    }
    ,
    a.fn.formValidation.Constructor = FormValidation.Base,
    a.fn.formValidation.DEFAULT_MESSAGE = "This value is not valid",
    a.fn.formValidation.DEFAULT_OPTIONS = {
        autoFocus: !0,
        declarative: !0,
        elementClass: "fv-form",
        events: {
            formInit: "init.form.fv",
            formPreValidate: "prevalidate.form.fv",
            formError: "err.form.fv",
            formReset: "rst.form.fv",
            formSuccess: "success.form.fv",
            fieldAdded: "added.field.fv",
            fieldRemoved: "removed.field.fv",
            fieldInit: "init.field.fv",
            fieldError: "err.field.fv",
            fieldReset: "rst.field.fv",
            fieldSuccess: "success.field.fv",
            fieldStatus: "status.field.fv",
            localeChanged: "changed.locale.fv",
            validatorError: "err.validator.fv",
            validatorSuccess: "success.validator.fv",
            validatorIgnored: "ignored.validator.fv"
        },
        excluded: [":disabled", ":hidden", ":not(:visible)"],
        fields: null,
        live: "enabled",
        locale: "en_US",
        message: null,
        threshold: null,
        verbose: !0,
        button: {
            selector: '[type="submit"]:not([formnovalidate])',
            disabled: ""
        },
        control: {
            valid: "",
            invalid: ""
        },
        err: {
            clazz: "",
            container: null,
            parent: null
        },
        icon: {
            valid: null,
            invalid: null,
            validating: null,
            feedback: ""
        },
        row: {
            selector: null,
            valid: "",
            invalid: "",
            feedback: ""
        }
    }
}(jQuery),
function(a) {
    FormValidation.Helper = {
        call: function(a, b) {
            if ("function" == typeof a)
                return a.apply(this, b);
            if ("string" == typeof a) {
                "()" === a.substring(a.length - 2) && (a = a.substring(0, a.length - 2));
                for (var c = a.split("."), d = c.pop(), e = window, f = 0; f < c.length; f++)
                    e = e[c[f]];
                return "undefined" == typeof e[d] ? null : e[d].apply(this, b)
            }
        },
        date: function(a, b, c, d) {
            if (isNaN(a) || isNaN(b) || isNaN(c))
                return !1;
            if (c.length > 2 || b.length > 2 || a.length > 4)
                return !1;
            if (c = parseInt(c, 10),
            b = parseInt(b, 10),
            a = parseInt(a, 10),
            1e3 > a || a > 9999 || 0 >= b || b > 12)
                return !1;
            var e = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
            if ((a % 400 === 0 || a % 100 !== 0 && a % 4 === 0) && (e[1] = 29),
            0 >= c || c > e[b - 1])
                return !1;
            if (d === !0) {
                var f = new Date
                  , g = f.getFullYear()
                  , h = f.getMonth()
                  , i = f.getDate();
                return g > a || a === g && h > b - 1 || a === g && b - 1 === h && i > c
            }
            return !0
        },
        format: function(b, c) {
            a.isArray(c) || (c = [c]);
            for (var d in c)
                b = b.replace("%s", c[d]);
            return b
        },
        luhn: function(a) {
            for (var b = a.length, c = 0, d = [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [0, 2, 4, 6, 8, 1, 3, 5, 7, 9]], e = 0; b--; )
                e += d[c][parseInt(a.charAt(b), 10)],
                c ^= 1;
            return e % 10 === 0 && e > 0
        },
        mod11And10: function(a) {
            for (var b = 5, c = a.length, d = 0; c > d; d++)
                b = (2 * (b || 10) % 11 + parseInt(a.charAt(d), 10)) % 10;
            return 1 === b
        },
        mod37And36: function(a, b) {
            b = b || "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            for (var c = b.length, d = a.length, e = Math.floor(c / 2), f = 0; d > f; f++)
                e = (2 * (e || c) % (c + 1) + b.indexOf(a.charAt(f))) % c;
            return 1 === e
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            base64: {
                "default": "Please enter a valid base 64 encoded"
            }
        }
    }),
    FormValidation.Validator.base64 = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})$/.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            between: {
                "default": "Please enter a value between %s and %s",
                notInclusive: "Please enter a value between %s and %s strictly"
            }
        }
    }),
    FormValidation.Validator.between = {
        html5Attributes: {
            message: "message",
            min: "min",
            max: "max",
            inclusive: "inclusive"
        },
        enableByHtml5: function(a) {
            return "range" === a.attr("type") ? {
                min: a.attr("min"),
                max: a.attr("max")
            } : !1
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            f = this._format(f);
            var g = b.getLocale()
              , h = a.isNumeric(d.min) ? d.min : b.getDynamicOption(c, d.min)
              , i = a.isNumeric(d.max) ? d.max : b.getDynamicOption(c, d.max)
              , j = this._format(h)
              , k = this._format(i);
            return d.inclusive === !0 || void 0 === d.inclusive ? {
                valid: a.isNumeric(f) && parseFloat(f) >= j && parseFloat(f) <= k,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].between["default"], [h, i])
            } : {
                valid: a.isNumeric(f) && parseFloat(f) > j && parseFloat(f) < k,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].between.notInclusive, [h, i])
            }
        },
        _format: function(a) {
            return (a + "").replace(",", ".")
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            bic: {
                "default": "Please enter a valid BIC number"
            }
        }
    }),
    FormValidation.Validator.bic = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^[a-zA-Z]{6}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3})?$/.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.Validator.blank = {
        validate: function(a, b, c, d) {
            return !0
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            callback: {
                "default": "Please enter a valid value"
            }
        }
    }),
    FormValidation.Validator.callback = {
        priority: 999,
        html5Attributes: {
            message: "message",
            callback: "callback"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e)
              , g = new a.Deferred
              , h = {
                valid: !0
            };
            if (d.callback) {
                var i = FormValidation.Helper.call(d.callback, [f, b, c]);
                h = "boolean" == typeof i || null === i ? {
                    valid: i
                } : i
            }
            return g.resolve(c, e, h),
            g
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            choice: {
                "default": "Please enter a valid value",
                less: "Please choose %s options at minimum",
                more: "Please choose %s options at maximum",
                between: "Please choose %s - %s options"
            }
        }
    }),
    FormValidation.Validator.choice = {
        html5Attributes: {
            message: "message",
            min: "min",
            max: "max"
        },
        validate: function(b, c, d, e) {
            var f = b.getLocale()
              , g = b.getNamespace()
              , h = c.is("select") ? b.getFieldElements(c.attr("data-" + g + "-field")).find("option").filter(":selected").length : b.getFieldElements(c.attr("data-" + g + "-field")).filter(":checked").length
              , i = d.min ? a.isNumeric(d.min) ? d.min : b.getDynamicOption(c, d.min) : null
              , j = d.max ? a.isNumeric(d.max) ? d.max : b.getDynamicOption(c, d.max) : null
              , k = !0
              , l = d.message || FormValidation.I18n[f].choice["default"];
            switch ((i && h < parseInt(i, 10) || j && h > parseInt(j, 10)) && (k = !1),
            !0) {
            case !!i && !!j:
                l = FormValidation.Helper.format(d.message || FormValidation.I18n[f].choice.between, [parseInt(i, 10), parseInt(j, 10)]);
                break;
            case !!i:
                l = FormValidation.Helper.format(d.message || FormValidation.I18n[f].choice.less, parseInt(i, 10));
                break;
            case !!j:
                l = FormValidation.Helper.format(d.message || FormValidation.I18n[f].choice.more, parseInt(j, 10))
            }
            return {
                valid: k,
                message: l
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            color: {
                "default": "Please enter a valid color"
            }
        }
    }),
    FormValidation.Validator.color = {
        html5Attributes: {
            message: "message",
            type: "type"
        },
        enableByHtml5: function(a) {
            return "color" === a.attr("type")
        },
        SUPPORTED_TYPES: ["hex", "rgb", "rgba", "hsl", "hsla", "keyword"],
        KEYWORD_COLORS: ["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkgrey", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkslategrey", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dimgrey", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray", "green", "greenyellow", "grey", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightgrey", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightslategrey", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "slategrey", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "transparent", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (this.enableByHtml5(c))
                return /^#[0-9A-F]{6}$/i.test(f);
            var g = d.type || this.SUPPORTED_TYPES;
            a.isArray(g) || (g = g.replace(/s/g, "").split(","));
            for (var h, i, j = !1, k = 0; k < g.length; k++)
                if (i = g[k],
                h = "_" + i.toLowerCase(),
                j = j || this[h](f))
                    return !0;
            return !1
        },
        _hex: function(a) {
            return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)
        },
        _hsl: function(a) {
            return /^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/.test(a)
        },
        _hsla: function(a) {
            return /^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/.test(a)
        },
        _keyword: function(b) {
            return a.inArray(b, this.KEYWORD_COLORS) >= 0
        },
        _rgb: function(a) {
            var b = /^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/
              , c = /^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/;
            return b.test(a) || c.test(a)
        },
        _rgba: function(a) {
            var b = /^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/
              , c = /^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/;
            return b.test(a) || c.test(a)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            creditCard: {
                "default": "Please enter a valid credit card number"
            }
        }
    }),
    FormValidation.Validator.creditCard = {
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (/[^0-9-\s]+/.test(f))
                return !1;
            if (f = f.replace(/\D/g, ""),
            !FormValidation.Helper.luhn(f))
                return !1;
            var g, h, i = {
                AMERICAN_EXPRESS: {
                    length: [15],
                    prefix: ["34", "37"]
                },
                DANKORT: {
                    length: [16],
                    prefix: ["5019"]
                },
                DINERS_CLUB: {
                    length: [14],
                    prefix: ["300", "301", "302", "303", "304", "305", "36"]
                },
                DINERS_CLUB_US: {
                    length: [16],
                    prefix: ["54", "55"]
                },
                DISCOVER: {
                    length: [16],
                    prefix: ["6011", "622126", "622127", "622128", "622129", "62213", "62214", "62215", "62216", "62217", "62218", "62219", "6222", "6223", "6224", "6225", "6226", "6227", "6228", "62290", "62291", "622920", "622921", "622922", "622923", "622924", "622925", "644", "645", "646", "647", "648", "649", "65"]
                },
                ELO: {
                    length: [16],
                    prefix: ["4011", "4312", "4389", "4514", "4573", "4576", "5041", "5066", "5067", "509", "6277", "6362", "6363", "650", "6516", "6550"]
                },
                FORBRUGSFORENINGEN: {
                    length: [16],
                    prefix: ["600722"]
                },
                JCB: {
                    length: [16],
                    prefix: ["3528", "3529", "353", "354", "355", "356", "357", "358"]
                },
                LASER: {
                    length: [16, 17, 18, 19],
                    prefix: ["6304", "6706", "6771", "6709"]
                },
                MAESTRO: {
                    length: [12, 13, 14, 15, 16, 17, 18, 19],
                    prefix: ["5018", "5020", "5038", "5868", "6304", "6759", "6761", "6762", "6763", "6764", "6765", "6766"]
                },
                MASTERCARD: {
                    length: [16],
                    prefix: ["51", "52", "53", "54", "55"]
                },
                SOLO: {
                    length: [16, 18, 19],
                    prefix: ["6334", "6767"]
                },
                UNIONPAY: {
                    length: [16, 17, 18, 19],
                    prefix: ["622126", "622127", "622128", "622129", "62213", "62214", "62215", "62216", "62217", "62218", "62219", "6222", "6223", "6224", "6225", "6226", "6227", "6228", "62290", "62291", "622920", "622921", "622922", "622923", "622924", "622925"]
                },
                VISA_ELECTRON: {
                    length: [16],
                    prefix: ["4026", "417500", "4405", "4508", "4844", "4913", "4917"]
                },
                VISA: {
                    length: [16],
                    prefix: ["4"]
                }
            };
            for (g in i)
                for (h in i[g].prefix)
                    if (f.substr(0, i[g].prefix[h].length) === i[g].prefix[h] && -1 !== a.inArray(f.length, i[g].length))
                        return {
                            valid: !0,
                            type: g
                        };
            return !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            cusip: {
                "default": "Please enter a valid CUSIP number"
            }
        }
    }),
    FormValidation.Validator.cusip = {
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (f = f.toUpperCase(),
            !/^[0-9A-Z]{9}$/.test(f))
                return !1;
            for (var g = a.map(f.split(""), function(a) {
                var b = a.charCodeAt(0);
                return b >= "A".charCodeAt(0) && b <= "Z".charCodeAt(0) ? b - "A".charCodeAt(0) + 10 : a
            }), h = g.length, i = 0, j = 0; h - 1 > j; j++) {
                var k = parseInt(g[j], 10);
                j % 2 !== 0 && (k *= 2),
                k > 9 && (k -= 9),
                i += k
            }
            return i = (10 - i % 10) % 10,
            i === parseInt(g[h - 1], 10)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            cvv: {
                "default": "Please enter a valid CVV number"
            }
        }
    }),
    FormValidation.Validator.cvv = {
        html5Attributes: {
            message: "message",
            ccfield: "creditCardField"
        },
        init: function(a, b, c, d) {
            if (c.creditCardField) {
                var e = a.getFieldElements(c.creditCardField);
                a.onLiveChange(e, "live_" + d, function() {
                    var c = a.getStatus(b, d);
                    c !== a.STATUS_NOT_VALIDATED && a.revalidateField(b)
                })
            }
        },
        destroy: function(a, b, c, d) {
            if (c.creditCardField) {
                var e = a.getFieldElements(c.creditCardField);
                a.offLiveChange(e, "live_" + d)
            }
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (!/^[0-9]{3,4}$/.test(f))
                return !1;
            if (!d.creditCardField)
                return !0;
            var g = b.getFieldValue(d.creditCardField, "creditCard");
            if (null === g || "" === g)
                return !0;
            g = g.replace(/\D/g, "");
            var h, i, j = {
                AMERICAN_EXPRESS: {
                    length: [15],
                    prefix: ["34", "37"]
                },
                DANKORT: {
                    length: [16],
                    prefix: ["5019"]
                },
                DINERS_CLUB: {
                    length: [14],
                    prefix: ["300", "301", "302", "303", "304", "305", "36"]
                },
                DINERS_CLUB_US: {
                    length: [16],
                    prefix: ["54", "55"]
                },
                DISCOVER: {
                    length: [16],
                    prefix: ["6011", "622126", "622127", "622128", "622129", "62213", "62214", "62215", "62216", "62217", "62218", "62219", "6222", "6223", "6224", "6225", "6226", "6227", "6228", "62290", "62291", "622920", "622921", "622922", "622923", "622924", "622925", "644", "645", "646", "647", "648", "649", "65"]
                },
                ELO: {
                    length: [16],
                    prefix: ["4011", "4312", "4389", "4514", "4573", "4576", "5041", "5066", "5067", "509", "6277", "6362", "6363", "650", "6516", "6550"]
                },
                FORBRUGSFORENINGEN: {
                    length: [16],
                    prefix: ["600722"]
                },
                JCB: {
                    length: [16],
                    prefix: ["3528", "3529", "353", "354", "355", "356", "357", "358"]
                },
                LASER: {
                    length: [16, 17, 18, 19],
                    prefix: ["6304", "6706", "6771", "6709"]
                },
                MAESTRO: {
                    length: [12, 13, 14, 15, 16, 17, 18, 19],
                    prefix: ["5018", "5020", "5038", "5868", "6304", "6759", "6761", "6762", "6763", "6764", "6765", "6766"]
                },
                MASTERCARD: {
                    length: [16],
                    prefix: ["51", "52", "53", "54", "55"]
                },
                SOLO: {
                    length: [16, 18, 19],
                    prefix: ["6334", "6767"]
                },
                UNIONPAY: {
                    length: [16, 17, 18, 19],
                    prefix: ["622126", "622127", "622128", "622129", "62213", "62214", "62215", "62216", "62217", "62218", "62219", "6222", "6223", "6224", "6225", "6226", "6227", "6228", "62290", "62291", "622920", "622921", "622922", "622923", "622924", "622925"]
                },
                VISA_ELECTRON: {
                    length: [16],
                    prefix: ["4026", "417500", "4405", "4508", "4844", "4913", "4917"]
                },
                VISA: {
                    length: [16],
                    prefix: ["4"]
                }
            }, k = null;
            for (h in j)
                for (i in j[h].prefix)
                    if (g.substr(0, j[h].prefix[i].length) === j[h].prefix[i] && -1 !== a.inArray(g.length, j[h].length)) {
                        k = h;
                        break
                    }
            return null === k ? !1 : "AMERICAN_EXPRESS" === k ? 4 === f.length : 3 === f.length
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            date: {
                "default": "Please enter a valid date",
                min: "Please enter a date after %s",
                max: "Please enter a date before %s",
                range: "Please enter a date in the range %s - %s"
            }
        }
    }),
    FormValidation.Validator.date = {
        html5Attributes: {
            message: "message",
            format: "format",
            min: "min",
            max: "max",
            separator: "separator"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            d.format = d.format || "MM/DD/YYYY",
            "date" === c.attr("type") && (d.format = "YYYY-MM-DD");
            var g = b.getLocale()
              , h = d.message || FormValidation.I18n[g].date["default"]
              , i = d.format.split(" ")
              , j = i[0]
              , k = i.length > 1 ? i[1] : null
              , l = i.length > 2 ? i[2] : null
              , m = f.split(" ")
              , n = m[0]
              , o = m.length > 1 ? m[1] : null;
            if (i.length !== m.length)
                return {
                    valid: !1,
                    message: h
                };
            var p = d.separator;
            if (p || (p = -1 !== n.indexOf("/") ? "/" : -1 !== n.indexOf("-") ? "-" : -1 !== n.indexOf(".") ? "." : null),
            null === p || -1 === n.indexOf(p))
                return {
                    valid: !1,
                    message: h
                };
            if (n = n.split(p),
            j = j.split(p),
            n.length !== j.length)
                return {
                    valid: !1,
                    message: h
                };
            var q = n[a.inArray("YYYY", j)]
              , r = n[a.inArray("MM", j)]
              , s = n[a.inArray("DD", j)];
            if (!q || !r || !s || 4 !== q.length)
                return {
                    valid: !1,
                    message: h
                };
            var t = null
              , u = null
              , v = null;
            if (k) {
                if (k = k.split(":"),
                o = o.split(":"),
                k.length !== o.length)
                    return {
                        valid: !1,
                        message: h
                    };
                if (u = o.length > 0 ? o[0] : null,
                t = o.length > 1 ? o[1] : null,
                v = o.length > 2 ? o[2] : null,
                "" === u || "" === t || "" === v)
                    return {
                        valid: !1,
                        message: h
                    };
                if (v) {
                    if (isNaN(v) || v.length > 2)
                        return {
                            valid: !1,
                            message: h
                        };
                    if (v = parseInt(v, 10),
                    0 > v || v > 60)
                        return {
                            valid: !1,
                            message: h
                        }
                }
                if (u) {
                    if (isNaN(u) || u.length > 2)
                        return {
                            valid: !1,
                            message: h
                        };
                    if (u = parseInt(u, 10),
                    0 > u || u >= 24 || l && u > 12)
                        return {
                            valid: !1,
                            message: h
                        }
                }
                if (t) {
                    if (isNaN(t) || t.length > 2)
                        return {
                            valid: !1,
                            message: h
                        };
                    if (t = parseInt(t, 10),
                    0 > t || t > 59)
                        return {
                            valid: !1,
                            message: h
                        }
                }
            }
            var w = FormValidation.Helper.date(q, r, s)
              , x = null
              , y = null
              , z = d.min
              , A = d.max;
            switch (z && (x = z instanceof Date ? z : this._parseDate(z, j, p) || this._parseDate(b.getDynamicOption(c, z), j, p),
            z = this._formatDate(x, d.format)),
            A && (y = A instanceof Date ? A : this._parseDate(A, j, p) || this._parseDate(b.getDynamicOption(c, A), j, p),
            A = this._formatDate(y, d.format)),
            n = new Date(q,r - 1,s,u,t,v),
            !0) {
            case z && !A && w:
                w = n.getTime() >= x.getTime(),
                h = d.message || FormValidation.Helper.format(FormValidation.I18n[g].date.min, z);
                break;
            case A && !z && w:
                w = n.getTime() <= y.getTime(),
                h = d.message || FormValidation.Helper.format(FormValidation.I18n[g].date.max, A);
                break;
            case A && z && w:
                w = n.getTime() <= y.getTime() && n.getTime() >= x.getTime(),
                h = d.message || FormValidation.Helper.format(FormValidation.I18n[g].date.range, [z, A])
            }
            return {
                valid: w,
                date: n,
                message: h
            }
        },
        _parseDate: function(b, c, d) {
            if (b instanceof Date)
                return b;
            if ("string" != typeof b)
                return null;
            var e = a.inArray("YYYY", c)
              , f = a.inArray("MM", c)
              , g = a.inArray("DD", c);
            if (-1 === e || -1 === f || -1 === g)
                return null;
            var h = 0
              , i = 0
              , j = 0
              , k = b.split(" ")
              , l = k[0].split(d);
            if (l.length < 3)
                return null;
            if (k.length > 1) {
                var m = k[1].split(":");
                i = m.length > 0 ? m[0] : null,
                h = m.length > 1 ? m[1] : null,
                j = m.length > 2 ? m[2] : null
            }
            return new Date(l[e],l[f] - 1,l[g],i,h,j)
        },
        _formatDate: function(a, b) {
            b = b.replace(/Y/g, "y").replace(/M/g, "m").replace(/D/g, "d").replace(/:m/g, ":M").replace(/:mm/g, ":MM").replace(/:S/, ":s").replace(/:SS/, ":ss");
            var c = {
                d: function(a) {
                    return a.getDate()
                },
                dd: function(a) {
                    var b = a.getDate();
                    return 10 > b ? "0" + b : b
                },
                m: function(a) {
                    return a.getMonth() + 1
                },
                mm: function(a) {
                    var b = a.getMonth() + 1;
                    return 10 > b ? "0" + b : b
                },
                yy: function(a) {
                    return ("" + a.getFullYear()).substr(2)
                },
                yyyy: function(a) {
                    return a.getFullYear()
                },
                h: function(a) {
                    return a.getHours() % 12 || 12
                },
                hh: function(a) {
                    var b = a.getHours() % 12 || 12;
                    return 10 > b ? "0" + b : b
                },
                H: function(a) {
                    return a.getHours()
                },
                HH: function(a) {
                    var b = a.getHours();
                    return 10 > b ? "0" + b : b
                },
                M: function(a) {
                    return a.getMinutes()
                },
                MM: function(a) {
                    var b = a.getMinutes();
                    return 10 > b ? "0" + b : b
                },
                s: function(a) {
                    return a.getSeconds()
                },
                ss: function(a) {
                    var b = a.getSeconds();
                    return 10 > b ? "0" + b : b
                }
            };
            return b.replace(/d{1,4}|m{1,4}|yy(?:yy)?|([HhMs])\1?|"[^"]*"|'[^']*'/g, function(b) {
                return c[b] ? c[b](a) : b.slice(1, b.length - 1)
            })
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            different: {
                "default": "Please enter a different value"
            }
        }
    }),
    FormValidation.Validator.different = {
        html5Attributes: {
            message: "message",
            field: "field"
        },
        init: function(b, c, d, e) {
            for (var f = d.field.split(","), g = 0; g < f.length; g++) {
                var h = b.getFieldElements(a.trim(f[g]));
                b.onLiveChange(h, "live_" + e, function() {
                    var a = b.getStatus(c, e);
                    a !== b.STATUS_NOT_VALIDATED && b.revalidateField(c)
                })
            }
        },
        destroy: function(b, c, d, e) {
            for (var f = d.field.split(","), g = 0; g < f.length; g++) {
                var h = b.getFieldElements(a.trim(f[g]));
                b.offLiveChange(h, "live_" + e)
            }
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            for (var g = d.field.split(","), h = !0, i = 0; i < g.length; i++) {
                var j = b.getFieldElements(a.trim(g[i]));
                if (null != j && 0 !== j.length) {
                    var k = b.getFieldValue(j, e);
                    f === k ? h = !1 : "" !== k && b.updateStatus(j, b.STATUS_VALID, e)
                }
            }
            return h
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            digits: {
                "default": "Please enter only digits"
            }
        }
    }),
    FormValidation.Validator.digits = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^\d+$/.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            ean: {
                "default": "Please enter a valid EAN number"
            }
        }
    }),
    FormValidation.Validator.ean = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (!/^(\d{8}|\d{12}|\d{13})$/.test(e))
                return !1;
            for (var f = e.length, g = 0, h = 8 === f ? [3, 1] : [1, 3], i = 0; f - 1 > i; i++)
                g += parseInt(e.charAt(i), 10) * h[i % 2];
            return g = (10 - g % 10) % 10,
            g + "" === e.charAt(f - 1)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            ein: {
                "default": "Please enter a valid EIN number"
            }
        }
    }),
    FormValidation.Validator.ein = {
        CAMPUS: {
            ANDOVER: ["10", "12"],
            ATLANTA: ["60", "67"],
            AUSTIN: ["50", "53"],
            BROOKHAVEN: ["01", "02", "03", "04", "05", "06", "11", "13", "14", "16", "21", "22", "23", "25", "34", "51", "52", "54", "55", "56", "57", "58", "59", "65"],
            CINCINNATI: ["30", "32", "35", "36", "37", "38", "61"],
            FRESNO: ["15", "24"],
            KANSAS_CITY: ["40", "44"],
            MEMPHIS: ["94", "95"],
            OGDEN: ["80", "90"],
            PHILADELPHIA: ["33", "39", "41", "42", "43", "48", "62", "63", "64", "66", "68", "71", "72", "73", "74", "75", "76", "77", "81", "82", "83", "84", "85", "86", "87", "88", "91", "92", "93", "98", "99"],
            INTERNET: ["20", "26", "27", "45", "46", "47"],
            SMALL_BUSINESS_ADMINISTRATION: ["31"]
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (!/^[0-9]{2}-?[0-9]{7}$/.test(f))
                return !1;
            var g = f.substr(0, 2) + "";
            for (var h in this.CAMPUS)
                if (-1 !== a.inArray(g, this.CAMPUS[h]))
                    return {
                        valid: !0,
                        campus: h
                    };
            return !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            emailAddress: {
                "default": "Please enter a valid email address"
            }
        }
    }),
    FormValidation.Validator.emailAddress = {
        html5Attributes: {
            message: "message",
            multiple: "multiple",
            separator: "separator"
        },
        enableByHtml5: function(a) {
            return "email" === a.attr("type")
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/
              , g = c.multiple === !0 || "true" === c.multiple;
            if (g) {
                for (var h = c.separator || /[,;]/, i = this._splitEmailAddresses(e, h), j = 0; j < i.length; j++)
                    if (!f.test(i[j]))
                        return !1;
                return !0
            }
            return f.test(e)
        },
        _splitEmailAddresses: function(a, b) {
            for (var c = a.split(/"/), d = c.length, e = [], f = "", g = 0; d > g; g++)
                if (g % 2 === 0) {
                    var h = c[g].split(b)
                      , i = h.length;
                    if (1 === i)
                        f += h[0];
                    else {
                        e.push(f + h[0]);
                        for (var j = 1; i - 1 > j; j++)
                            e.push(h[j]);
                        f = h[i - 1]
                    }
                } else
                    f += '"' + c[g],
                    d - 1 > g && (f += '"');
            return e.push(f),
            e
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            file: {
                "default": "Please choose a valid file"
            }
        }
    }),
    FormValidation.Validator.file = {
        Error: {
            EXTENSION: "EXTENSION",
            MAX_FILES: "MAX_FILES",
            MAX_SIZE: "MAX_SIZE",
            MAX_TOTAL_SIZE: "MAX_TOTAL_SIZE",
            MIN_FILES: "MIN_FILES",
            MIN_SIZE: "MIN_SIZE",
            MIN_TOTAL_SIZE: "MIN_TOTAL_SIZE",
            TYPE: "TYPE"
        },
        html5Attributes: {
            extension: "extension",
            maxfiles: "maxFiles",
            minfiles: "minFiles",
            maxsize: "maxSize",
            minsize: "minSize",
            maxtotalsize: "maxTotalSize",
            mintotalsize: "minTotalSize",
            message: "message",
            type: "type"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            var g, h = d.extension ? d.extension.toLowerCase().split(",") : null, i = d.type ? d.type.toLowerCase().split(",") : null, j = window.File && window.FileList && window.FileReader;
            if (j) {
                var k = c.get(0).files
                  , l = k.length
                  , m = 0;
                if (d.maxFiles && l > parseInt(d.maxFiles, 10))
                    return {
                        valid: !1,
                        error: this.Error.MAX_FILES
                    };
                if (d.minFiles && l < parseInt(d.minFiles, 10))
                    return {
                        valid: !1,
                        error: this.Error.MIN_FILES
                    };
                for (var n = {}, o = 0; l > o; o++) {
                    if (m += k[o].size,
                    g = k[o].name.substr(k[o].name.lastIndexOf(".") + 1),
                    n = {
                        file: k[o],
                        size: k[o].size,
                        ext: g,
                        type: k[o].type
                    },
                    d.minSize && k[o].size < parseInt(d.minSize, 10))
                        return {
                            valid: !1,
                            error: this.Error.MIN_SIZE,
                            metaData: n
                        };
                    if (d.maxSize && k[o].size > parseInt(d.maxSize, 10))
                        return {
                            valid: !1,
                            error: this.Error.MAX_SIZE,
                            metaData: n
                        };
                    if (h && -1 === a.inArray(g.toLowerCase(), h))
                        return {
                            valid: !1,
                            error: this.Error.EXTENSION,
                            metaData: n
                        };
                    if (k[o].type && i && -1 === a.inArray(k[o].type.toLowerCase(), i))
                        return {
                            valid: !1,
                            error: this.Error.TYPE,
                            metaData: n
                        }
                }
                if (d.maxTotalSize && m > parseInt(d.maxTotalSize, 10))
                    return {
                        valid: !1,
                        error: this.Error.MAX_TOTAL_SIZE,
                        metaData: {
                            totalSize: m
                        }
                    };
                if (d.minTotalSize && m < parseInt(d.minTotalSize, 10))
                    return {
                        valid: !1,
                        error: this.Error.MIN_TOTAL_SIZE,
                        metaData: {
                            totalSize: m
                        }
                    }
            } else if (g = f.substr(f.lastIndexOf(".") + 1),
            h && -1 === a.inArray(g.toLowerCase(), h))
                return {
                    valid: !1,
                    error: this.Error.EXTENSION,
                    metaData: {
                        ext: g
                    }
                };
            return !0
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            greaterThan: {
                "default": "Please enter a value greater than or equal to %s",
                notInclusive: "Please enter a value greater than %s"
            }
        }
    }),
    FormValidation.Validator.greaterThan = {
        html5Attributes: {
            message: "message",
            value: "value",
            inclusive: "inclusive"
        },
        enableByHtml5: function(a) {
            var b = a.attr("type")
              , c = a.attr("min");
            return c && "date" !== b ? {
                value: c
            } : !1
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            f = this._format(f);
            var g = b.getLocale()
              , h = a.isNumeric(d.value) ? d.value : b.getDynamicOption(c, d.value)
              , i = this._format(h);
            return d.inclusive === !0 || void 0 === d.inclusive ? {
                valid: a.isNumeric(f) && parseFloat(f) >= i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].greaterThan["default"], h)
            } : {
                valid: a.isNumeric(f) && parseFloat(f) > i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].greaterThan.notInclusive, h)
            }
        },
        _format: function(a) {
            return (a + "").replace(",", ".")
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            grid: {
                "default": "Please enter a valid GRId number"
            }
        }
    }),
    FormValidation.Validator.grid = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : (e = e.toUpperCase(),
            /^[GRID:]*([0-9A-Z]{2})[-\s]*([0-9A-Z]{5})[-\s]*([0-9A-Z]{10})[-\s]*([0-9A-Z]{1})$/g.test(e) ? (e = e.replace(/\s/g, "").replace(/-/g, ""),
            "GRID:" === e.substr(0, 5) && (e = e.substr(5)),
            FormValidation.Helper.mod37And36(e)) : !1)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            hex: {
                "default": "Please enter a valid hexadecimal number"
            }
        }
    }),
    FormValidation.Validator.hex = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^[0-9a-fA-F]+$/.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            iban: {
                "default": "Please enter a valid IBAN number",
                country: "Please enter a valid IBAN number in %s",
                countries: {
                    AD: "Andorra",
                    AE: "United Arab Emirates",
                    AL: "Albania",
                    AO: "Angola",
                    AT: "Austria",
                    AZ: "Azerbaijan",
                    BA: "Bosnia and Herzegovina",
                    BE: "Belgium",
                    BF: "Burkina Faso",
                    BG: "Bulgaria",
                    BH: "Bahrain",
                    BI: "Burundi",
                    BJ: "Benin",
                    BR: "Brazil",
                    CH: "Switzerland",
                    CI: "Ivory Coast",
                    CM: "Cameroon",
                    CR: "Costa Rica",
                    CV: "Cape Verde",
                    CY: "Cyprus",
                    CZ: "Czech Republic",
                    DE: "Germany",
                    DK: "Denmark",
                    DO: "Dominican Republic",
                    DZ: "Algeria",
                    EE: "Estonia",
                    ES: "Spain",
                    FI: "Finland",
                    FO: "Faroe Islands",
                    FR: "France",
                    GB: "United Kingdom",
                    GE: "Georgia",
                    GI: "Gibraltar",
                    GL: "Greenland",
                    GR: "Greece",
                    GT: "Guatemala",
                    HR: "Croatia",
                    HU: "Hungary",
                    IE: "Ireland",
                    IL: "Israel",
                    IR: "Iran",
                    IS: "Iceland",
                    IT: "Italy",
                    JO: "Jordan",
                    KW: "Kuwait",
                    KZ: "Kazakhstan",
                    LB: "Lebanon",
                    LI: "Liechtenstein",
                    LT: "Lithuania",
                    LU: "Luxembourg",
                    LV: "Latvia",
                    MC: "Monaco",
                    MD: "Moldova",
                    ME: "Montenegro",
                    MG: "Madagascar",
                    MK: "Macedonia",
                    ML: "Mali",
                    MR: "Mauritania",
                    MT: "Malta",
                    MU: "Mauritius",
                    MZ: "Mozambique",
                    NL: "Netherlands",
                    NO: "Norway",
                    PK: "Pakistan",
                    PL: "Poland",
                    PS: "Palestine",
                    PT: "Portugal",
                    QA: "Qatar",
                    RO: "Romania",
                    RS: "Serbia",
                    SA: "Saudi Arabia",
                    SE: "Sweden",
                    SI: "Slovenia",
                    SK: "Slovakia",
                    SM: "San Marino",
                    SN: "Senegal",
                    TL: "East Timor",
                    TN: "Tunisia",
                    TR: "Turkey",
                    VG: "Virgin Islands, British",
                    XK: "Republic of Kosovo"
                }
            }
        }
    }),
    FormValidation.Validator.iban = {
        html5Attributes: {
            message: "message",
            country: "country",
            sepa: "sepa"
        },
        REGEX: {
            AD: "AD[0-9]{2}[0-9]{4}[0-9]{4}[A-Z0-9]{12}",
            AE: "AE[0-9]{2}[0-9]{3}[0-9]{16}",
            AL: "AL[0-9]{2}[0-9]{8}[A-Z0-9]{16}",
            AO: "AO[0-9]{2}[0-9]{21}",
            AT: "AT[0-9]{2}[0-9]{5}[0-9]{11}",
            AZ: "AZ[0-9]{2}[A-Z]{4}[A-Z0-9]{20}",
            BA: "BA[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{8}[0-9]{2}",
            BE: "BE[0-9]{2}[0-9]{3}[0-9]{7}[0-9]{2}",
            BF: "BF[0-9]{2}[0-9]{23}",
            BG: "BG[0-9]{2}[A-Z]{4}[0-9]{4}[0-9]{2}[A-Z0-9]{8}",
            BH: "BH[0-9]{2}[A-Z]{4}[A-Z0-9]{14}",
            BI: "BI[0-9]{2}[0-9]{12}",
            BJ: "BJ[0-9]{2}[A-Z]{1}[0-9]{23}",
            BR: "BR[0-9]{2}[0-9]{8}[0-9]{5}[0-9]{10}[A-Z][A-Z0-9]",
            CH: "CH[0-9]{2}[0-9]{5}[A-Z0-9]{12}",
            CI: "CI[0-9]{2}[A-Z]{1}[0-9]{23}",
            CM: "CM[0-9]{2}[0-9]{23}",
            CR: "CR[0-9]{2}[0-9]{3}[0-9]{14}",
            CV: "CV[0-9]{2}[0-9]{21}",
            CY: "CY[0-9]{2}[0-9]{3}[0-9]{5}[A-Z0-9]{16}",
            CZ: "CZ[0-9]{2}[0-9]{20}",
            DE: "DE[0-9]{2}[0-9]{8}[0-9]{10}",
            DK: "DK[0-9]{2}[0-9]{14}",
            DO: "DO[0-9]{2}[A-Z0-9]{4}[0-9]{20}",
            DZ: "DZ[0-9]{2}[0-9]{20}",
            EE: "EE[0-9]{2}[0-9]{2}[0-9]{2}[0-9]{11}[0-9]{1}",
            ES: "ES[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{1}[0-9]{1}[0-9]{10}",
            FI: "FI[0-9]{2}[0-9]{6}[0-9]{7}[0-9]{1}",
            FO: "FO[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",
            FR: "FR[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",
            GB: "GB[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",
            GE: "GE[0-9]{2}[A-Z]{2}[0-9]{16}",
            GI: "GI[0-9]{2}[A-Z]{4}[A-Z0-9]{15}",
            GL: "GL[0-9]{2}[0-9]{4}[0-9]{9}[0-9]{1}",
            GR: "GR[0-9]{2}[0-9]{3}[0-9]{4}[A-Z0-9]{16}",
            GT: "GT[0-9]{2}[A-Z0-9]{4}[A-Z0-9]{20}",
            HR: "HR[0-9]{2}[0-9]{7}[0-9]{10}",
            HU: "HU[0-9]{2}[0-9]{3}[0-9]{4}[0-9]{1}[0-9]{15}[0-9]{1}",
            IE: "IE[0-9]{2}[A-Z]{4}[0-9]{6}[0-9]{8}",
            IL: "IL[0-9]{2}[0-9]{3}[0-9]{3}[0-9]{13}",
            IR: "IR[0-9]{2}[0-9]{22}",
            IS: "IS[0-9]{2}[0-9]{4}[0-9]{2}[0-9]{6}[0-9]{10}",
            IT: "IT[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",
            JO: "JO[0-9]{2}[A-Z]{4}[0-9]{4}[0]{8}[A-Z0-9]{10}",
            KW: "KW[0-9]{2}[A-Z]{4}[0-9]{22}",
            KZ: "KZ[0-9]{2}[0-9]{3}[A-Z0-9]{13}",
            LB: "LB[0-9]{2}[0-9]{4}[A-Z0-9]{20}",
            LI: "LI[0-9]{2}[0-9]{5}[A-Z0-9]{12}",
            LT: "LT[0-9]{2}[0-9]{5}[0-9]{11}",
            LU: "LU[0-9]{2}[0-9]{3}[A-Z0-9]{13}",
            LV: "LV[0-9]{2}[A-Z]{4}[A-Z0-9]{13}",
            MC: "MC[0-9]{2}[0-9]{5}[0-9]{5}[A-Z0-9]{11}[0-9]{2}",
            MD: "MD[0-9]{2}[A-Z0-9]{20}",
            ME: "ME[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",
            MG: "MG[0-9]{2}[0-9]{23}",
            MK: "MK[0-9]{2}[0-9]{3}[A-Z0-9]{10}[0-9]{2}",
            ML: "ML[0-9]{2}[A-Z]{1}[0-9]{23}",
            MR: "MR13[0-9]{5}[0-9]{5}[0-9]{11}[0-9]{2}",
            MT: "MT[0-9]{2}[A-Z]{4}[0-9]{5}[A-Z0-9]{18}",
            MU: "MU[0-9]{2}[A-Z]{4}[0-9]{2}[0-9]{2}[0-9]{12}[0-9]{3}[A-Z]{3}",
            MZ: "MZ[0-9]{2}[0-9]{21}",
            NL: "NL[0-9]{2}[A-Z]{4}[0-9]{10}",
            NO: "NO[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{1}",
            PK: "PK[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",
            PL: "PL[0-9]{2}[0-9]{8}[0-9]{16}",
            PS: "PS[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",
            PT: "PT[0-9]{2}[0-9]{4}[0-9]{4}[0-9]{11}[0-9]{2}",
            QA: "QA[0-9]{2}[A-Z]{4}[A-Z0-9]{21}",
            RO: "RO[0-9]{2}[A-Z]{4}[A-Z0-9]{16}",
            RS: "RS[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",
            SA: "SA[0-9]{2}[0-9]{2}[A-Z0-9]{18}",
            SE: "SE[0-9]{2}[0-9]{3}[0-9]{16}[0-9]{1}",
            SI: "SI[0-9]{2}[0-9]{5}[0-9]{8}[0-9]{2}",
            SK: "SK[0-9]{2}[0-9]{4}[0-9]{6}[0-9]{10}",
            SM: "SM[0-9]{2}[A-Z]{1}[0-9]{5}[0-9]{5}[A-Z0-9]{12}",
            SN: "SN[0-9]{2}[A-Z]{1}[0-9]{23}",
            TL: "TL38[0-9]{3}[0-9]{14}[0-9]{2}",
            TN: "TN59[0-9]{2}[0-9]{3}[0-9]{13}[0-9]{2}",
            TR: "TR[0-9]{2}[0-9]{5}[A-Z0-9]{1}[A-Z0-9]{16}",
            VG: "VG[0-9]{2}[A-Z]{4}[0-9]{16}",
            XK: "XK[0-9]{2}[0-9]{4}[0-9]{10}[0-9]{2}"
        },
        SEPA_COUNTRIES: ["AT", "BE", "BG", "CH", "CY", "CZ", "DE", "DK", "EE", "ES", "FI", "FR", "GB", "GI", "GR", "HR", "HU", "IE", "IS", "IT", "LI", "LT", "LU", "LV", "MC", "MT", "NL", "NO", "PL", "PT", "RO", "SE", "SI", "SK", "SM"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            f = f.replace(/[^a-zA-Z0-9]/g, "").toUpperCase();
            var g = d.country;
            g ? "string" == typeof g && this.REGEX[g] || (g = b.getDynamicOption(c, g)) : g = f.substr(0, 2);
            var h = b.getLocale();
            if (!this.REGEX[g])
                return !1;
            if (void 0 !== typeof d.sepa) {
                var i = -1 !== a.inArray(g, this.SEPA_COUNTRIES);
                if (("true" === d.sepa || d.sepa === !0) && !i || ("false" === d.sepa || d.sepa === !1) && i)
                    return !1
            }
            if (!new RegExp("^" + this.REGEX[g] + "$").test(f))
                return {
                    valid: !1,
                    message: FormValidation.Helper.format(d.message || FormValidation.I18n[h].iban.country, FormValidation.I18n[h].iban.countries[g])
                };
            f = f.substr(4) + f.substr(0, 4),
            f = a.map(f.split(""), function(a) {
                var b = a.charCodeAt(0);
                return b >= "A".charCodeAt(0) && b <= "Z".charCodeAt(0) ? b - "A".charCodeAt(0) + 10 : a
            }),
            f = f.join("");
            for (var j = parseInt(f.substr(0, 1), 10), k = f.length, l = 1; k > l; ++l)
                j = (10 * j + parseInt(f.substr(l, 1), 10)) % 97;
            return {
                valid: 1 === j,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[h].iban.country, FormValidation.I18n[h].iban.countries[g])
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            id: {
                "default": "Please enter a valid identification number",
                country: "Please enter a valid identification number in %s",
                countries: {
                    BA: "Bosnia and Herzegovina",
                    BG: "Bulgaria",
                    BR: "Brazil",
                    CH: "Switzerland",
                    CL: "Chile",
                    CN: "China",
                    CZ: "Czech Republic",
                    DK: "Denmark",
                    EE: "Estonia",
                    ES: "Spain",
                    FI: "Finland",
                    HR: "Croatia",
                    IE: "Ireland",
                    IS: "Iceland",
                    LT: "Lithuania",
                    LV: "Latvia",
                    ME: "Montenegro",
                    MK: "Macedonia",
                    NL: "Netherlands",
                    PL: "Poland",
                    RO: "Romania",
                    RS: "Serbia",
                    SE: "Sweden",
                    SI: "Slovenia",
                    SK: "Slovakia",
                    SM: "San Marino",
                    TH: "Thailand",
                    TR: "Turkey",
                    ZA: "South Africa"
                }
            }
        }
    }),
    FormValidation.Validator.id = {
        html5Attributes: {
            message: "message",
            country: "country"
        },
        COUNTRY_CODES: ["BA", "BG", "BR", "CH", "CL", "CN", "CZ", "DK", "EE", "ES", "FI", "HR", "IE", "IS", "LT", "LV", "ME", "MK", "NL", "PL", "RO", "RS", "SE", "SI", "SK", "SM", "TH", "TR", "ZA"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            var g = b.getLocale()
              , h = d.country;
            if (h ? ("string" != typeof h || -1 === a.inArray(h.toUpperCase(), this.COUNTRY_CODES)) && (h = b.getDynamicOption(c, h)) : h = f.substr(0, 2),
            -1 === a.inArray(h, this.COUNTRY_CODES))
                return !0;
            var i = ["_", h.toLowerCase()].join("")
              , j = this[i](f);
            return j = j === !0 || j === !1 ? {
                valid: j
            } : j,
            j.message = FormValidation.Helper.format(d.message || FormValidation.I18n[g].id.country, FormValidation.I18n[g].id.countries[h.toUpperCase()]),
            j
        },
        _validateJMBG: function(a, b) {
            if (!/^\d{13}$/.test(a))
                return !1;
            var c = parseInt(a.substr(0, 2), 10)
              , d = parseInt(a.substr(2, 2), 10)
              , e = (parseInt(a.substr(4, 3), 10),
            parseInt(a.substr(7, 2), 10))
              , f = parseInt(a.substr(12, 1), 10);
            if (c > 31 || d > 12)
                return !1;
            for (var g = 0, h = 0; 6 > h; h++)
                g += (7 - h) * (parseInt(a.charAt(h), 10) + parseInt(a.charAt(h + 6), 10));
            if (g = 11 - g % 11,
            (10 === g || 11 === g) && (g = 0),
            g !== f)
                return !1;
            switch (b.toUpperCase()) {
            case "BA":
                return e >= 10 && 19 >= e;
            case "MK":
                return e >= 41 && 49 >= e;
            case "ME":
                return e >= 20 && 29 >= e;
            case "RS":
                return e >= 70 && 99 >= e;
            case "SI":
                return e >= 50 && 59 >= e;
            default:
                return !0
            }
        },
        _ba: function(a) {
            return this._validateJMBG(a, "BA")
        },
        _mk: function(a) {
            return this._validateJMBG(a, "MK")
        },
        _me: function(a) {
            return this._validateJMBG(a, "ME")
        },
        _rs: function(a) {
            return this._validateJMBG(a, "RS")
        },
        _si: function(a) {
            return this._validateJMBG(a, "SI")
        },
        _bg: function(a) {
            if (!/^\d{10}$/.test(a) && !/^\d{6}\s\d{3}\s\d{1}$/.test(a))
                return !1;
            a = a.replace(/\s/g, "");
            var b = parseInt(a.substr(0, 2), 10) + 1900
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10);
            if (c > 40 ? (b += 100,
            c -= 40) : c > 20 && (b -= 100,
            c -= 20),
            !FormValidation.Helper.date(b, c, d))
                return !1;
            for (var e = 0, f = [2, 4, 8, 5, 10, 9, 7, 3, 6], g = 0; 9 > g; g++)
                e += parseInt(a.charAt(g), 10) * f[g];
            return e = e % 11 % 10,
            e + "" === a.substr(9, 1)
        },
        _br: function(a) {
            if (a = a.replace(/\D/g, ""),
            !/^\d{11}$/.test(a) || /^1{11}|2{11}|3{11}|4{11}|5{11}|6{11}|7{11}|8{11}|9{11}|0{11}$/.test(a))
                return !1;
            for (var b = 0, c = 0; 9 > c; c++)
                b += (10 - c) * parseInt(a.charAt(c), 10);
            if (b = 11 - b % 11,
            (10 === b || 11 === b) && (b = 0),
            b + "" !== a.charAt(9))
                return !1;
            var d = 0;
            for (c = 0; 10 > c; c++)
                d += (11 - c) * parseInt(a.charAt(c), 10);
            return d = 11 - d % 11,
            (10 === d || 11 === d) && (d = 0),
            d + "" === a.charAt(10)
        },
        _ch: function(a) {
            if (!/^756[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{4}[\.]{0,1}[0-9]{2}$/.test(a))
                return !1;
            a = a.replace(/\D/g, "").substr(3);
            for (var b = a.length, c = 0, d = 8 === b ? [3, 1] : [1, 3], e = 0; b - 1 > e; e++)
                c += parseInt(a.charAt(e), 10) * d[e % 2];
            return c = 10 - c % 10,
            c + "" === a.charAt(b - 1)
        },
        _cl: function(a) {
            if (!/^\d{7,8}[-]{0,1}[0-9K]$/i.test(a))
                return !1;
            for (a = a.replace(/\-/g, ""); a.length < 9; )
                a = "0" + a;
            for (var b = 0, c = [3, 2, 7, 6, 5, 4, 3, 2], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b = 11 - b % 11,
            11 === b ? b = 0 : 10 === b && (b = "K"),
            b + "" === a.charAt(8).toUpperCase()
        },
        _cn: function(b) {
            if (b = b.trim(),
            !/^\d{15}$/.test(b) && !/^\d{17}[\dXx]{1}$/.test(b))
                return !1;
            var c = {
                11: {
                    0: [0],
                    1: [[0, 9], [11, 17]],
                    2: [0, 28, 29]
                },
                12: {
                    0: [0],
                    1: [[0, 16]],
                    2: [0, 21, 23, 25]
                },
                13: {
                    0: [0],
                    1: [[0, 5], 7, 8, 21, [23, 33], [81, 85]],
                    2: [[0, 5], [7, 9], [23, 25], 27, 29, 30, 81, 83],
                    3: [[0, 4], [21, 24]],
                    4: [[0, 4], 6, 21, [23, 35], 81],
                    5: [[0, 3], [21, 35], 81, 82],
                    6: [[0, 4], [21, 38], [81, 84]],
                    7: [[0, 3], 5, 6, [21, 33]],
                    8: [[0, 4], [21, 28]],
                    9: [[0, 3], [21, 30], [81, 84]],
                    10: [[0, 3], [22, 26], 28, 81, 82],
                    11: [[0, 2], [21, 28], 81, 82]
                },
                14: {
                    0: [0],
                    1: [0, 1, [5, 10], [21, 23], 81],
                    2: [[0, 3], 11, 12, [21, 27]],
                    3: [[0, 3], 11, 21, 22],
                    4: [[0, 2], 11, 21, [23, 31], 81],
                    5: [[0, 2], 21, 22, 24, 25, 81],
                    6: [[0, 3], [21, 24]],
                    7: [[0, 2], [21, 29], 81],
                    8: [[0, 2], [21, 30], 81, 82],
                    9: [[0, 2], [21, 32], 81],
                    10: [[0, 2], [21, 34], 81, 82],
                    11: [[0, 2], [21, 30], 81, 82],
                    23: [[0, 3], 22, 23, [25, 30], 32, 33]
                },
                15: {
                    0: [0],
                    1: [[0, 5], [21, 25]],
                    2: [[0, 7], [21, 23]],
                    3: [[0, 4]],
                    4: [[0, 4], [21, 26], [28, 30]],
                    5: [[0, 2], [21, 26], 81],
                    6: [[0, 2], [21, 27]],
                    7: [[0, 3], [21, 27], [81, 85]],
                    8: [[0, 2], [21, 26]],
                    9: [[0, 2], [21, 29], 81],
                    22: [[0, 2], [21, 24]],
                    25: [[0, 2], [22, 31]],
                    26: [[0, 2], [24, 27], [29, 32], 34],
                    28: [0, 1, [22, 27]],
                    29: [0, [21, 23]]
                },
                21: {
                    0: [0],
                    1: [[0, 6], [11, 14], [22, 24], 81],
                    2: [[0, 4], [11, 13], 24, [81, 83]],
                    3: [[0, 4], 11, 21, 23, 81],
                    4: [[0, 4], 11, [21, 23]],
                    5: [[0, 5], 21, 22],
                    6: [[0, 4], 24, 81, 82],
                    7: [[0, 3], 11, 26, 27, 81, 82],
                    8: [[0, 4], 11, 81, 82],
                    9: [[0, 5], 11, 21, 22],
                    10: [[0, 5], 11, 21, 81],
                    11: [[0, 3], 21, 22],
                    12: [[0, 2], 4, 21, 23, 24, 81, 82],
                    13: [[0, 3], 21, 22, 24, 81, 82],
                    14: [[0, 4], 21, 22, 81]
                },
                22: {
                    0: [0],
                    1: [[0, 6], 12, 22, [81, 83]],
                    2: [[0, 4], 11, 21, [81, 84]],
                    3: [[0, 3], 22, 23, 81, 82],
                    4: [[0, 3], 21, 22],
                    5: [[0, 3], 21, 23, 24, 81, 82],
                    6: [[0, 2], 4, 5, [21, 23], 25, 81],
                    7: [[0, 2], [21, 24], 81],
                    8: [[0, 2], 21, 22, 81, 82],
                    24: [[0, 6], 24, 26]
                },
                23: {
                    0: [0],
                    1: [[0, 12], 21, [23, 29], [81, 84]],
                    2: [[0, 8], 21, [23, 25], 27, [29, 31], 81],
                    3: [[0, 7], 21, 81, 82],
                    4: [[0, 7], 21, 22],
                    5: [[0, 3], 5, 6, [21, 24]],
                    6: [[0, 6], [21, 24]],
                    7: [[0, 16], 22, 81],
                    8: [[0, 5], 11, 22, 26, 28, 33, 81, 82],
                    9: [[0, 4], 21],
                    10: [[0, 5], 24, 25, 81, [83, 85]],
                    11: [[0, 2], 21, 23, 24, 81, 82],
                    12: [[0, 2], [21, 26], [81, 83]],
                    27: [[0, 4], [21, 23]]
                },
                31: {
                    0: [0],
                    1: [0, 1, [3, 10], [12, 20]],
                    2: [0, 30]
                },
                32: {
                    0: [0],
                    1: [[0, 7], 11, [13, 18], 24, 25],
                    2: [[0, 6], 11, 81, 82],
                    3: [[0, 5], 11, 12, [21, 24], 81, 82],
                    4: [[0, 2], 4, 5, 11, 12, 81, 82],
                    5: [[0, 9], [81, 85]],
                    6: [[0, 2], 11, 12, 21, 23, [81, 84]],
                    7: [0, 1, 3, 5, 6, [21, 24]],
                    8: [[0, 4], 11, 26, [29, 31]],
                    9: [[0, 3], [21, 25], 28, 81, 82],
                    10: [[0, 3], 11, 12, 23, 81, 84, 88],
                    11: [[0, 2], 11, 12, [81, 83]],
                    12: [[0, 4], [81, 84]],
                    13: [[0, 2], 11, [21, 24]]
                },
                33: {
                    0: [0],
                    1: [[0, 6], [8, 10], 22, 27, 82, 83, 85],
                    2: [0, 1, [3, 6], 11, 12, 25, 26, [81, 83]],
                    3: [[0, 4], 22, 24, [26, 29], 81, 82],
                    4: [[0, 2], 11, 21, 24, [81, 83]],
                    5: [[0, 3], [21, 23]],
                    6: [[0, 2], 21, 24, [81, 83]],
                    7: [[0, 3], 23, 26, 27, [81, 84]],
                    8: [[0, 3], 22, 24, 25, 81],
                    9: [[0, 3], 21, 22],
                    10: [[0, 4], [21, 24], 81, 82],
                    11: [[0, 2], [21, 27], 81]
                },
                34: {
                    0: [0],
                    1: [[0, 4], 11, [21, 24], 81],
                    2: [[0, 4], 7, 8, [21, 23], 25],
                    3: [[0, 4], 11, [21, 23]],
                    4: [[0, 6], 21],
                    5: [[0, 4], 6, [21, 23]],
                    6: [[0, 4], 21],
                    7: [[0, 3], 11, 21],
                    8: [[0, 3], 11, [22, 28], 81],
                    10: [[0, 4], [21, 24]],
                    11: [[0, 3], 22, [24, 26], 81, 82],
                    12: [[0, 4], 21, 22, 25, 26, 82],
                    13: [[0, 2], [21, 24]],
                    14: [[0, 2], [21, 24]],
                    15: [[0, 3], [21, 25]],
                    16: [[0, 2], [21, 23]],
                    17: [[0, 2], [21, 23]],
                    18: [[0, 2], [21, 25], 81]
                },
                35: {
                    0: [0],
                    1: [[0, 5], 11, [21, 25], 28, 81, 82],
                    2: [[0, 6], [11, 13]],
                    3: [[0, 5], 22],
                    4: [[0, 3], 21, [23, 30], 81],
                    5: [[0, 5], 21, [24, 27], [81, 83]],
                    6: [[0, 3], [22, 29], 81],
                    7: [[0, 2], [21, 25], [81, 84]],
                    8: [[0, 2], [21, 25], 81],
                    9: [[0, 2], [21, 26], 81, 82]
                },
                36: {
                    0: [0],
                    1: [[0, 5], 11, [21, 24]],
                    2: [[0, 3], 22, 81],
                    3: [[0, 2], 13, [21, 23]],
                    4: [[0, 3], 21, [23, 30], 81, 82],
                    5: [[0, 2], 21],
                    6: [[0, 2], 22, 81],
                    7: [[0, 2], [21, 35], 81, 82],
                    8: [[0, 3], [21, 30], 81],
                    9: [[0, 2], [21, 26], [81, 83]],
                    10: [[0, 2], [21, 30]],
                    11: [[0, 2], [21, 30], 81]
                },
                37: {
                    0: [0],
                    1: [[0, 5], 12, 13, [24, 26], 81],
                    2: [[0, 3], 5, [11, 14], [81, 85]],
                    3: [[0, 6], [21, 23]],
                    4: [[0, 6], 81],
                    5: [[0, 3], [21, 23]],
                    6: [[0, 2], [11, 13], 34, [81, 87]],
                    7: [[0, 5], 24, 25, [81, 86]],
                    8: [[0, 2], 11, [26, 32], [81, 83]],
                    9: [[0, 3], 11, 21, 23, 82, 83],
                    10: [[0, 2], [81, 83]],
                    11: [[0, 3], 21, 22],
                    12: [[0, 3]],
                    13: [[0, 2], 11, 12, [21, 29]],
                    14: [[0, 2], [21, 28], 81, 82],
                    15: [[0, 2], [21, 26], 81],
                    16: [[0, 2], [21, 26]],
                    17: [[0, 2], [21, 28]]
                },
                41: {
                    0: [0],
                    1: [[0, 6], 8, 22, [81, 85]],
                    2: [[0, 5], 11, [21, 25]],
                    3: [[0, 7], 11, [22, 29], 81],
                    4: [[0, 4], 11, [21, 23], 25, 81, 82],
                    5: [[0, 3], 5, 6, 22, 23, 26, 27, 81],
                    6: [[0, 3], 11, 21, 22],
                    7: [[0, 4], 11, 21, [24, 28], 81, 82],
                    8: [[0, 4], 11, [21, 23], 25, [81, 83]],
                    9: [[0, 2], 22, 23, [26, 28]],
                    10: [[0, 2], [23, 25], 81, 82],
                    11: [[0, 4], [21, 23]],
                    12: [[0, 2], 21, 22, 24, 81, 82],
                    13: [[0, 3], [21, 30], 81],
                    14: [[0, 3], [21, 26], 81],
                    15: [[0, 3], [21, 28]],
                    16: [[0, 2], [21, 28], 81],
                    17: [[0, 2], [21, 29]],
                    90: [0, 1]
                },
                42: {
                    0: [0],
                    1: [[0, 7], [11, 17]],
                    2: [[0, 5], 22, 81],
                    3: [[0, 3], [21, 25], 81],
                    5: [[0, 6], [25, 29], [81, 83]],
                    6: [[0, 2], 6, 7, [24, 26], [82, 84]],
                    7: [[0, 4]],
                    8: [[0, 2], 4, 21, 22, 81],
                    9: [[0, 2], [21, 23], 81, 82, 84],
                    10: [[0, 3], [22, 24], 81, 83, 87],
                    11: [[0, 2], [21, 27], 81, 82],
                    12: [[0, 2], [21, 24], 81],
                    13: [[0, 3], 21, 81],
                    28: [[0, 2], 22, 23, [25, 28]],
                    90: [0, [4, 6], 21]
                },
                43: {
                    0: [0],
                    1: [[0, 5], 11, 12, 21, 22, 24, 81],
                    2: [[0, 4], 11, 21, [23, 25], 81],
                    3: [[0, 2], 4, 21, 81, 82],
                    4: [0, 1, [5, 8], 12, [21, 24], 26, 81, 82],
                    5: [[0, 3], 11, [21, 25], [27, 29], 81],
                    6: [[0, 3], 11, 21, 23, 24, 26, 81, 82],
                    7: [[0, 3], [21, 26], 81],
                    8: [[0, 2], 11, 21, 22],
                    9: [[0, 3], [21, 23], 81],
                    10: [[0, 3], [21, 28], 81],
                    11: [[0, 3], [21, 29]],
                    12: [[0, 2], [21, 30], 81],
                    13: [[0, 2], 21, 22, 81, 82],
                    31: [0, 1, [22, 27], 30]
                },
                44: {
                    0: [0],
                    1: [[0, 7], [11, 16], 83, 84],
                    2: [[0, 5], 21, 22, 24, 29, 32, 33, 81, 82],
                    3: [0, 1, [3, 8]],
                    4: [[0, 4]],
                    5: [0, 1, [6, 15], 23, 82, 83],
                    6: [0, 1, [4, 8]],
                    7: [0, 1, [3, 5], 81, [83, 85]],
                    8: [[0, 4], 11, 23, 25, [81, 83]],
                    9: [[0, 3], 23, [81, 83]],
                    12: [[0, 3], [23, 26], 83, 84],
                    13: [[0, 3], [22, 24], 81],
                    14: [[0, 2], [21, 24], 26, 27, 81],
                    15: [[0, 2], 21, 23, 81],
                    16: [[0, 2], [21, 25]],
                    17: [[0, 2], 21, 23, 81],
                    18: [[0, 3], 21, 23, [25, 27], 81, 82],
                    19: [0],
                    20: [0],
                    51: [[0, 3], 21, 22],
                    52: [[0, 3], 21, 22, 24, 81],
                    53: [[0, 2], [21, 23], 81]
                },
                45: {
                    0: [0],
                    1: [[0, 9], [21, 27]],
                    2: [[0, 5], [21, 26]],
                    3: [[0, 5], 11, 12, [21, 32]],
                    4: [0, 1, [3, 6], 11, [21, 23], 81],
                    5: [[0, 3], 12, 21],
                    6: [[0, 3], 21, 81],
                    7: [[0, 3], 21, 22],
                    8: [[0, 4], 21, 81],
                    9: [[0, 3], [21, 24], 81],
                    10: [[0, 2], [21, 31]],
                    11: [[0, 2], [21, 23]],
                    12: [[0, 2], [21, 29], 81],
                    13: [[0, 2], [21, 24], 81],
                    14: [[0, 2], [21, 25], 81]
                },
                46: {
                    0: [0],
                    1: [0, 1, [5, 8]],
                    2: [0, 1],
                    3: [0, [21, 23]],
                    90: [[0, 3], [5, 7], [21, 39]]
                },
                50: {
                    0: [0],
                    1: [[0, 19]],
                    2: [0, [22, 38], [40, 43]],
                    3: [0, [81, 84]]
                },
                51: {
                    0: [0],
                    1: [0, 1, [4, 8], [12, 15], [21, 24], 29, 31, 32, [81, 84]],
                    3: [[0, 4], 11, 21, 22],
                    4: [[0, 3], 11, 21, 22],
                    5: [[0, 4], 21, 22, 24, 25],
                    6: [0, 1, 3, 23, 26, [81, 83]],
                    7: [0, 1, 3, 4, [22, 27], 81],
                    8: [[0, 2], 11, 12, [21, 24]],
                    9: [[0, 4], [21, 23]],
                    10: [[0, 2], 11, 24, 25, 28],
                    11: [[0, 2], [11, 13], 23, 24, 26, 29, 32, 33, 81],
                    13: [[0, 4], [21, 25], 81],
                    14: [[0, 2], [21, 25]],
                    15: [[0, 3], [21, 29]],
                    16: [[0, 3], [21, 23], 81],
                    17: [[0, 3], [21, 25], 81],
                    18: [[0, 3], [21, 27]],
                    19: [[0, 3], [21, 23]],
                    20: [[0, 2], 21, 22, 81],
                    32: [0, [21, 33]],
                    33: [0, [21, 38]],
                    34: [0, 1, [22, 37]]
                },
                52: {
                    0: [0],
                    1: [[0, 3], [11, 15], [21, 23], 81],
                    2: [0, 1, 3, 21, 22],
                    3: [[0, 3], [21, 30], 81, 82],
                    4: [[0, 2], [21, 25]],
                    5: [[0, 2], [21, 27]],
                    6: [[0, 3], [21, 28]],
                    22: [0, 1, [22, 30]],
                    23: [0, 1, [22, 28]],
                    24: [0, 1, [22, 28]],
                    26: [0, 1, [22, 36]],
                    27: [[0, 2], 22, 23, [25, 32]]
                },
                53: {
                    0: [0],
                    1: [[0, 3], [11, 14], 21, 22, [24, 29], 81],
                    3: [[0, 2], [21, 26], 28, 81],
                    4: [[0, 2], [21, 28]],
                    5: [[0, 2], [21, 24]],
                    6: [[0, 2], [21, 30]],
                    7: [[0, 2], [21, 24]],
                    8: [[0, 2], [21, 29]],
                    9: [[0, 2], [21, 27]],
                    23: [0, 1, [22, 29], 31],
                    25: [[0, 4], [22, 32]],
                    26: [0, 1, [21, 28]],
                    27: [0, 1, [22, 30]],
                    28: [0, 1, 22, 23],
                    29: [0, 1, [22, 32]],
                    31: [0, 2, 3, [22, 24]],
                    34: [0, [21, 23]],
                    33: [0, 21, [23, 25]],
                    35: [0, [21, 28]]
                },
                54: {
                    0: [0],
                    1: [[0, 2], [21, 27]],
                    21: [0, [21, 29], 32, 33],
                    22: [0, [21, 29], [31, 33]],
                    23: [0, 1, [22, 38]],
                    24: [0, [21, 31]],
                    25: [0, [21, 27]],
                    26: [0, [21, 27]]
                },
                61: {
                    0: [0],
                    1: [[0, 4], [11, 16], 22, [24, 26]],
                    2: [[0, 4], 22],
                    3: [[0, 4], [21, 24], [26, 31]],
                    4: [[0, 4], [22, 31], 81],
                    5: [[0, 2], [21, 28], 81, 82],
                    6: [[0, 2], [21, 32]],
                    7: [[0, 2], [21, 30]],
                    8: [[0, 2], [21, 31]],
                    9: [[0, 2], [21, 29]],
                    10: [[0, 2], [21, 26]]
                },
                62: {
                    0: [0],
                    1: [[0, 5], 11, [21, 23]],
                    2: [0, 1],
                    3: [[0, 2], 21],
                    4: [[0, 3], [21, 23]],
                    5: [[0, 3], [21, 25]],
                    6: [[0, 2], [21, 23]],
                    7: [[0, 2], [21, 25]],
                    8: [[0, 2], [21, 26]],
                    9: [[0, 2], [21, 24], 81, 82],
                    10: [[0, 2], [21, 27]],
                    11: [[0, 2], [21, 26]],
                    12: [[0, 2], [21, 28]],
                    24: [0, 21, [24, 29]],
                    26: [0, 21, [23, 30]],
                    29: [0, 1, [21, 27]],
                    30: [0, 1, [21, 27]]
                },
                63: {
                    0: [0],
                    1: [[0, 5], [21, 23]],
                    2: [0, 2, [21, 25]],
                    21: [0, [21, 23], [26, 28]],
                    22: [0, [21, 24]],
                    23: [0, [21, 24]],
                    25: [0, [21, 25]],
                    26: [0, [21, 26]],
                    27: [0, 1, [21, 26]],
                    28: [[0, 2], [21, 23]]
                },
                64: {
                    0: [0],
                    1: [0, 1, [4, 6], 21, 22, 81],
                    2: [[0, 3], 5, [21, 23]],
                    3: [[0, 3], [21, 24], 81],
                    4: [[0, 2], [21, 25]],
                    5: [[0, 2], 21, 22]
                },
                65: {
                    0: [0],
                    1: [[0, 9], 21],
                    2: [[0, 5]],
                    21: [0, 1, 22, 23],
                    22: [0, 1, 22, 23],
                    23: [[0, 3], [23, 25], 27, 28],
                    28: [0, 1, [22, 29]],
                    29: [0, 1, [22, 29]],
                    30: [0, 1, [22, 24]],
                    31: [0, 1, [21, 31]],
                    32: [0, 1, [21, 27]],
                    40: [0, 2, 3, [21, 28]],
                    42: [[0, 2], 21, [23, 26]],
                    43: [0, 1, [21, 26]],
                    90: [[0, 4]],
                    27: [[0, 2], 22, 23]
                },
                71: {
                    0: [0]
                },
                81: {
                    0: [0]
                },
                82: {
                    0: [0]
                }
            }
              , d = parseInt(b.substr(0, 2), 10)
              , e = parseInt(b.substr(2, 2), 10)
              , f = parseInt(b.substr(4, 2), 10);
            if (!c[d] || !c[d][e])
                return !1;
            for (var g = !1, h = c[d][e], i = 0; i < h.length; i++)
                if (a.isArray(h[i]) && h[i][0] <= f && f <= h[i][1] || !a.isArray(h[i]) && f === h[i]) {
                    g = !0;
                    break
                }
            if (!g)
                return !1;
            var j;
            j = 18 === b.length ? b.substr(6, 8) : "19" + b.substr(6, 6);
            var k = parseInt(j.substr(0, 4), 10)
              , l = parseInt(j.substr(4, 2), 10)
              , m = parseInt(j.substr(6, 2), 10);
            if (!FormValidation.Helper.date(k, l, m))
                return !1;
            if (18 === b.length) {
                var n = 0
                  , o = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
                for (i = 0; 17 > i; i++)
                    n += parseInt(b.charAt(i), 10) * o[i];
                n = (12 - n % 11) % 11;
                var p = "X" !== b.charAt(17).toUpperCase() ? parseInt(b.charAt(17), 10) : 10;
                return p === n
            }
            return !0
        },
        _cz: function(a) {
            if (!/^\d{9,10}$/.test(a))
                return !1;
            var b = 1900 + parseInt(a.substr(0, 2), 10)
              , c = parseInt(a.substr(2, 2), 10) % 50 % 20
              , d = parseInt(a.substr(4, 2), 10);
            if (9 === a.length) {
                if (b >= 1980 && (b -= 100),
                b > 1953)
                    return !1
            } else
                1954 > b && (b += 100);
            if (!FormValidation.Helper.date(b, c, d))
                return !1;
            if (10 === a.length) {
                var e = parseInt(a.substr(0, 9), 10) % 11;
                return 1985 > b && (e %= 10),
                e + "" === a.substr(9, 1)
            }
            return !0
        },
        _dk: function(a) {
            if (!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(a))
                return !1;
            a = a.replace(/-/g, "");
            var b = parseInt(a.substr(0, 2), 10)
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10);
            switch (!0) {
            case -1 !== "5678".indexOf(a.charAt(6)) && d >= 58:
                d += 1800;
                break;
            case -1 !== "0123".indexOf(a.charAt(6)):
            case -1 !== "49".indexOf(a.charAt(6)) && d >= 37:
                d += 1900;
                break;
            default:
                d += 2e3
            }
            return FormValidation.Helper.date(d, c, b)
        },
        _ee: function(a) {
            return this._lt(a)
        },
        _es: function(a) {
            var b = /^[0-9]{8}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(a)
              , c = /^[XYZ][-]{0,1}[0-9]{7}[-]{0,1}[A-HJ-NP-TV-Z]$/.test(a)
              , d = /^[A-HNPQS][-]{0,1}[0-9]{7}[-]{0,1}[0-9A-J]$/.test(a);
            if (!b && !c && !d)
                return !1;
            a = a.replace(/-/g, "");
            var e, f, g = !0;
            if (b || c) {
                f = "DNI";
                var h = "XYZ".indexOf(a.charAt(0));
                return -1 !== h && (a = h + a.substr(1) + "",
                f = "NIE"),
                e = parseInt(a.substr(0, 8), 10),
                e = "TRWAGMYFPDXBNJZSQVHLCKE"[e % 23],
                {
                    valid: e === a.substr(8, 1),
                    type: f
                }
            }
            e = a.substr(1, 7),
            f = "CIF";
            for (var i = a[0], j = a.substr(-1), k = 0, l = 0; l < e.length; l++)
                if (l % 2 !== 0)
                    k += parseInt(e[l], 10);
                else {
                    var m = "" + 2 * parseInt(e[l], 10);
                    k += parseInt(m[0], 10),
                    2 === m.length && (k += parseInt(m[1], 10))
                }
            var n = k - 10 * Math.floor(k / 10);
            return 0 !== n && (n = 10 - n),
            g = -1 !== "KQS".indexOf(i) ? j === "JABCDEFGHI"[n] : -1 !== "ABEH".indexOf(i) ? j === "" + n : j === "" + n || j === "JABCDEFGHI"[n],
            {
                valid: g,
                type: f
            }
        },
        _fi: function(a) {
            if (!/^[0-9]{6}[-+A][0-9]{3}[0-9ABCDEFHJKLMNPRSTUVWXY]$/.test(a))
                return !1;
            var b = parseInt(a.substr(0, 2), 10)
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10)
              , e = {
                "+": 1800,
                "-": 1900,
                A: 2e3
            };
            if (d = e[a.charAt(6)] + d,
            !FormValidation.Helper.date(d, c, b))
                return !1;
            var f = parseInt(a.substr(7, 3), 10);
            if (2 > f)
                return !1;
            var g = a.substr(0, 6) + a.substr(7, 3) + "";
            return g = parseInt(g, 10),
            "0123456789ABCDEFHJKLMNPRSTUVWXY".charAt(g % 31) === a.charAt(10)
        },
        _hr: function(a) {
            return /^[0-9]{11}$/.test(a) ? FormValidation.Helper.mod11And10(a) : !1
        },
        _ie: function(a) {
            if (!/^\d{7}[A-W][AHWTX]?$/.test(a))
                return !1;
            var b = function(a) {
                for (; a.length < 7; )
                    a = "0" + a;
                for (var b = "WABCDEFGHIJKLMNOPQRSTUV", c = 0, d = 0; 7 > d; d++)
                    c += parseInt(a.charAt(d), 10) * (8 - d);
                return c += 9 * b.indexOf(a.substr(7)),
                b[c % 23]
            };
            return 9 !== a.length || "A" !== a.charAt(8) && "H" !== a.charAt(8) ? a.charAt(7) === b(a.substr(0, 7)) : a.charAt(7) === b(a.substr(0, 7) + a.substr(8) + "")
        },
        _is: function(a) {
            if (!/^[0-9]{6}[-]{0,1}[0-9]{4}$/.test(a))
                return !1;
            a = a.replace(/-/g, "");
            var b = parseInt(a.substr(0, 2), 10)
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10)
              , e = parseInt(a.charAt(9), 10);
            if (d = 9 === e ? 1900 + d : 100 * (20 + e) + d,
            !FormValidation.Helper.date(d, c, b, !0))
                return !1;
            for (var f = 0, g = [3, 2, 7, 6, 5, 4, 3, 2], h = 0; 8 > h; h++)
                f += parseInt(a.charAt(h), 10) * g[h];
            return f = 11 - f % 11,
            f + "" === a.charAt(8)
        },
        _lt: function(a) {
            if (!/^[0-9]{11}$/.test(a))
                return !1;
            var b = parseInt(a.charAt(0), 10)
              , c = parseInt(a.substr(1, 2), 10)
              , d = parseInt(a.substr(3, 2), 10)
              , e = parseInt(a.substr(5, 2), 10)
              , f = b % 2 === 0 ? 17 + b / 2 : 17 + (b + 1) / 2;
            if (c = 100 * f + c,
            !FormValidation.Helper.date(c, d, e, !0))
                return !1;
            for (var g = 0, h = [1, 2, 3, 4, 5, 6, 7, 8, 9, 1], i = 0; 10 > i; i++)
                g += parseInt(a.charAt(i), 10) * h[i];
            if (g %= 11,
            10 !== g)
                return g + "" === a.charAt(10);
            for (g = 0,
            h = [3, 4, 5, 6, 7, 8, 9, 1, 2, 3],
            i = 0; 10 > i; i++)
                g += parseInt(a.charAt(i), 10) * h[i];
            return g %= 11,
            10 === g && (g = 0),
            g + "" === a.charAt(10)
        },
        _lv: function(a) {
            if (!/^[0-9]{6}[-]{0,1}[0-9]{5}$/.test(a))
                return !1;
            a = a.replace(/\D/g, "");
            var b = parseInt(a.substr(0, 2), 10)
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10);
            if (d = d + 1800 + 100 * parseInt(a.charAt(6), 10),
            !FormValidation.Helper.date(d, c, b, !0))
                return !1;
            for (var e = 0, f = [10, 5, 8, 4, 2, 1, 6, 3, 7, 9], g = 0; 10 > g; g++)
                e += parseInt(a.charAt(g), 10) * f[g];
            return e = (e + 1) % 11 % 10,
            e + "" === a.charAt(10)
        },
        _nl: function(a) {
            if (a.length < 8)
                return !1;
            if (8 === a.length && (a = "0" + a),
            !/^[0-9]{4}[.]{0,1}[0-9]{2}[.]{0,1}[0-9]{3}$/.test(a))
                return !1;
            if (a = a.replace(/\./g, ""),
            0 === parseInt(a, 10))
                return !1;
            for (var b = 0, c = a.length, d = 0; c - 1 > d; d++)
                b += (9 - d) * parseInt(a.charAt(d), 10);
            return b %= 11,
            10 === b && (b = 0),
            b + "" === a.charAt(c - 1)
        },
        _pl: function(a) {
            if (!/^[0-9]{11}$/.test(a))
                return !1;
            for (var b = 0, c = a.length, d = [1, 3, 7, 9, 1, 3, 7, 9, 1, 3, 7], e = 0; c - 1 > e; e++)
                b += d[e] * parseInt(a.charAt(e), 10);
            return b %= 10,
            0 === b && (b = 10),
            b = 10 - b,
            b + "" === a.charAt(c - 1)
        },
        _ro: function(a) {
            if (!/^[0-9]{13}$/.test(a))
                return !1;
            var b = parseInt(a.charAt(0), 10);
            if (0 === b || 7 === b || 8 === b)
                return !1;
            var c = parseInt(a.substr(1, 2), 10)
              , d = parseInt(a.substr(3, 2), 10)
              , e = parseInt(a.substr(5, 2), 10)
              , f = {
                1: 1900,
                2: 1900,
                3: 1800,
                4: 1800,
                5: 2e3,
                6: 2e3
            };
            if (e > 31 && d > 12)
                return !1;
            if (9 !== b && (c = f[b + ""] + c,
            !FormValidation.Helper.date(c, d, e)))
                return !1;
            for (var g = 0, h = [2, 7, 9, 1, 4, 6, 3, 5, 8, 2, 7, 9], i = a.length, j = 0; i - 1 > j; j++)
                g += parseInt(a.charAt(j), 10) * h[j];
            return g %= 11,
            10 === g && (g = 1),
            g + "" === a.charAt(i - 1)
        },
        _se: function(a) {
            if (!/^[0-9]{10}$/.test(a) && !/^[0-9]{6}[-|+][0-9]{4}$/.test(a))
                return !1;
            a = a.replace(/[^0-9]/g, "");
            var b = parseInt(a.substr(0, 2), 10) + 1900
              , c = parseInt(a.substr(2, 2), 10)
              , d = parseInt(a.substr(4, 2), 10);
            return FormValidation.Helper.date(b, c, d) ? FormValidation.Helper.luhn(a) : !1
        },
        _sk: function(a) {
            return this._cz(a)
        },
        _sm: function(a) {
            return /^\d{5}$/.test(a)
        },
        _th: function(a) {
            if (13 !== a.length)
                return !1;
            for (var b = 0, c = 0; 12 > c; c++)
                b += parseInt(a.charAt(c), 10) * (13 - c);
            return (11 - b % 11) % 10 === parseInt(a.charAt(12), 10)
        },
        _tr: function(a) {
            if (11 !== a.length)
                return !1;
            for (var b = 0, c = 0; 10 > c; c++)
                b += parseInt(a.charAt(c), 10);
            return b % 10 === parseInt(a.charAt(10), 10)
        },
        _za: function(a) {
            if (!/^[0-9]{10}[0|1][8|9][0-9]$/.test(a))
                return !1;
            var b = parseInt(a.substr(0, 2), 10)
              , c = (new Date).getFullYear() % 100
              , d = parseInt(a.substr(2, 2), 10)
              , e = parseInt(a.substr(4, 2), 10);
            return b = b >= c ? b + 1900 : b + 2e3,
            FormValidation.Helper.date(b, d, e) ? FormValidation.Helper.luhn(a) : !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            identical: {
                "default": "Please enter the same value"
            }
        }
    }),
    FormValidation.Validator.identical = {
        html5Attributes: {
            message: "message",
            field: "field"
        },
        init: function(a, b, c, d) {
            var e = a.getFieldElements(c.field);
            a.onLiveChange(e, "live_" + d, function() {
                var c = a.getStatus(b, d);
                c !== a.STATUS_NOT_VALIDATED && a.revalidateField(b)
            })
        },
        destroy: function(a, b, c, d) {
            var e = a.getFieldElements(c.field);
            a.offLiveChange(e, "live_" + d)
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d)
              , f = a.getFieldElements(c.field);
            if (null === f || 0 === f.length)
                return !0;
            var g = a.getFieldValue(f, d);
            return e === g ? (a.updateStatus(f, a.STATUS_VALID, d),
            !0) : !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            imei: {
                "default": "Please enter a valid IMEI number"
            }
        }
    }),
    FormValidation.Validator.imei = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            switch (!0) {
            case /^\d{15}$/.test(e):
            case /^\d{2}-\d{6}-\d{6}-\d{1}$/.test(e):
            case /^\d{2}\s\d{6}\s\d{6}\s\d{1}$/.test(e):
                return e = e.replace(/[^0-9]/g, ""),
                FormValidation.Helper.luhn(e);
            case /^\d{14}$/.test(e):
            case /^\d{16}$/.test(e):
            case /^\d{2}-\d{6}-\d{6}(|-\d{2})$/.test(e):
            case /^\d{2}\s\d{6}\s\d{6}(|\s\d{2})$/.test(e):
                return !0;
            default:
                return !1
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            imo: {
                "default": "Please enter a valid IMO number"
            }
        }
    }),
    FormValidation.Validator.imo = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (!/^IMO \d{7}$/i.test(e))
                return !1;
            for (var f = 0, g = e.replace(/^.*(\d{7})$/, "$1"), h = 6; h >= 1; h--)
                f += g.slice(6 - h, -h) * (h + 1);
            return f % 10 === parseInt(g.charAt(6), 10)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            integer: {
                "default": "Please enter a valid number"
            }
        }
    }),
    FormValidation.Validator.integer = {
        html5Attributes: {
            message: "message",
            thousandsseparator: "thousandsSeparator",
            decimalseparator: "decimalSeparator"
        },
        enableByHtml5: function(a) {
            return "number" === a.attr("type") && (void 0 === a.attr("step") || a.attr("step") % 1 === 0)
        },
        validate: function(a, b, c, d) {
            if (this.enableByHtml5(b) && b.get(0).validity && b.get(0).validity.badInput === !0)
                return !1;
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = c.decimalSeparator || "."
              , g = c.thousandsSeparator || "";
            f = "." === f ? "\\." : f,
            g = "." === g ? "\\." : g;
            var h = new RegExp("^-?[0-9]{1,3}(" + g + "[0-9]{3})*(" + f + "[0-9]+)?$")
              , i = new RegExp(g,"g");
            return h.test(e) ? (g && (e = e.replace(i, "")),
            f && (e = e.replace(f, ".")),
            isNaN(e) || !isFinite(e) ? !1 : (e = parseFloat(e),
            Math.floor(e) === e)) : !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            ip: {
                "default": "Please enter a valid IP address",
                ipv4: "Please enter a valid IPv4 address",
                ipv6: "Please enter a valid IPv6 address"
            }
        }
    }),
    FormValidation.Validator.ip = {
        html5Attributes: {
            message: "message",
            ipv4: "ipv4",
            ipv6: "ipv6"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            d = a.extend({}, {
                ipv4: !0,
                ipv6: !0
            }, d);
            var g, h = b.getLocale(), i = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\/([0-9]|[1-2][0-9]|3[0-2]))?$/, j = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*(\/(\d|\d\d|1[0-1]\d|12[0-8]))?$/, k = !1;
            switch (!0) {
            case d.ipv4 && !d.ipv6:
                k = i.test(f),
                g = d.message || FormValidation.I18n[h].ip.ipv4;
                break;
            case !d.ipv4 && d.ipv6:
                k = j.test(f),
                g = d.message || FormValidation.I18n[h].ip.ipv6;
                break;
            case d.ipv4 && d.ipv6:
            default:
                k = i.test(f) || j.test(f),
                g = d.message || FormValidation.I18n[h].ip["default"]
            }
            return {
                valid: k,
                message: g
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            isbn: {
                "default": "Please enter a valid ISBN number"
            }
        }
    }),
    FormValidation.Validator.isbn = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f;
            switch (!0) {
            case /^\d{9}[\dX]$/.test(e):
            case 13 === e.length && /^(\d+)-(\d+)-(\d+)-([\dX])$/.test(e):
            case 13 === e.length && /^(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e):
                f = "ISBN10";
                break;
            case /^(978|979)\d{9}[\dX]$/.test(e):
            case 17 === e.length && /^(978|979)-(\d+)-(\d+)-(\d+)-([\dX])$/.test(e):
            case 17 === e.length && /^(978|979)\s(\d+)\s(\d+)\s(\d+)\s([\dX])$/.test(e):
                f = "ISBN13";
                break;
            default:
                return !1
            }
            e = e.replace(/[^0-9X]/gi, "");
            var g, h, i = e.split(""), j = i.length, k = 0;
            switch (f) {
            case "ISBN10":
                for (k = 0,
                g = 0; j - 1 > g; g++)
                    k += parseInt(i[g], 10) * (10 - g);
                return h = 11 - k % 11,
                11 === h ? h = 0 : 10 === h && (h = "X"),
                {
                    type: f,
                    valid: h + "" === i[j - 1]
                };
            case "ISBN13":
                for (k = 0,
                g = 0; j - 1 > g; g++)
                    k += g % 2 === 0 ? parseInt(i[g], 10) : 3 * parseInt(i[g], 10);
                return h = 10 - k % 10,
                10 === h && (h = "0"),
                {
                    type: f,
                    valid: h + "" === i[j - 1]
                };
            default:
                return !1
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            isin: {
                "default": "Please enter a valid ISIN number"
            }
        }
    }),
    FormValidation.Validator.isin = {
        COUNTRY_CODES: "AF|AX|AL|DZ|AS|AD|AO|AI|AQ|AG|AR|AM|AW|AU|AT|AZ|BS|BH|BD|BB|BY|BE|BZ|BJ|BM|BT|BO|BQ|BA|BW|BV|BR|IO|BN|BG|BF|BI|KH|CM|CA|CV|KY|CF|TD|CL|CN|CX|CC|CO|KM|CG|CD|CK|CR|CI|HR|CU|CW|CY|CZ|DK|DJ|DM|DO|EC|EG|SV|GQ|ER|EE|ET|FK|FO|FJ|FI|FR|GF|PF|TF|GA|GM|GE|DE|GH|GI|GR|GL|GD|GP|GU|GT|GG|GN|GW|GY|HT|HM|VA|HN|HK|HU|IS|IN|ID|IR|IQ|IE|IM|IL|IT|JM|JP|JE|JO|KZ|KE|KI|KP|KR|KW|KG|LA|LV|LB|LS|LR|LY|LI|LT|LU|MO|MK|MG|MW|MY|MV|ML|MT|MH|MQ|MR|MU|YT|MX|FM|MD|MC|MN|ME|MS|MA|MZ|MM|NA|NR|NP|NL|NC|NZ|NI|NE|NG|NU|NF|MP|NO|OM|PK|PW|PS|PA|PG|PY|PE|PH|PN|PL|PT|PR|QA|RE|RO|RU|RW|BL|SH|KN|LC|MF|PM|VC|WS|SM|ST|SA|SN|RS|SC|SL|SG|SX|SK|SI|SB|SO|ZA|GS|SS|ES|LK|SD|SR|SJ|SZ|SE|CH|SY|TW|TJ|TZ|TH|TL|TG|TK|TO|TT|TN|TR|TM|TC|TV|UG|UA|AE|GB|US|UM|UY|UZ|VU|VE|VN|VG|VI|WF|EH|YE|ZM|ZW",
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            e = e.toUpperCase();
            var f = new RegExp("^(" + this.COUNTRY_CODES + ")[0-9A-Z]{10}$");
            if (!f.test(e))
                return !1;
            for (var g = "", h = e.length, i = 0; h - 1 > i; i++) {
                var j = e.charCodeAt(i);
                g += j > 57 ? (j - 55).toString() : e.charAt(i)
            }
            var k = ""
              , l = g.length
              , m = l % 2 !== 0 ? 0 : 1;
            for (i = 0; l > i; i++)
                k += parseInt(g[i], 10) * (i % 2 === m ? 2 : 1) + "";
            var n = 0;
            for (i = 0; i < k.length; i++)
                n += parseInt(k.charAt(i), 10);
            return n = (10 - n % 10) % 10,
            n + "" === e.charAt(h - 1)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            ismn: {
                "default": "Please enter a valid ISMN number"
            }
        }
    }),
    FormValidation.Validator.ismn = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f;
            switch (!0) {
            case /^M\d{9}$/.test(e):
            case /^M-\d{4}-\d{4}-\d{1}$/.test(e):
            case /^M\s\d{4}\s\d{4}\s\d{1}$/.test(e):
                f = "ISMN10";
                break;
            case /^9790\d{9}$/.test(e):
            case /^979-0-\d{4}-\d{4}-\d{1}$/.test(e):
            case /^979\s0\s\d{4}\s\d{4}\s\d{1}$/.test(e):
                f = "ISMN13";
                break;
            default:
                return !1
            }
            "ISMN10" === f && (e = "9790" + e.substr(1)),
            e = e.replace(/[^0-9]/gi, "");
            for (var g = e.length, h = 0, i = [1, 3], j = 0; g - 1 > j; j++)
                h += parseInt(e.charAt(j), 10) * i[j % 2];
            return h = 10 - h % 10,
            {
                type: f,
                valid: h + "" === e.charAt(g - 1)
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            issn: {
                "default": "Please enter a valid ISSN number"
            }
        }
    }),
    FormValidation.Validator.issn = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (!/^\d{4}\-\d{3}[\dX]$/.test(e))
                return !1;
            e = e.replace(/[^0-9X]/gi, "");
            var f = e.split("")
              , g = f.length
              , h = 0;
            "X" === f[7] && (f[7] = 10);
            for (var i = 0; g > i; i++)
                h += parseInt(f[i], 10) * (8 - i);
            return h % 11 === 0
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            lessThan: {
                "default": "Please enter a value less than or equal to %s",
                notInclusive: "Please enter a value less than %s"
            }
        }
    }),
    FormValidation.Validator.lessThan = {
        html5Attributes: {
            message: "message",
            value: "value",
            inclusive: "inclusive"
        },
        enableByHtml5: function(a) {
            var b = a.attr("type")
              , c = a.attr("max");
            return c && "date" !== b ? {
                value: c
            } : !1
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            f = this._format(f);
            var g = b.getLocale()
              , h = a.isNumeric(d.value) ? d.value : b.getDynamicOption(c, d.value)
              , i = this._format(h);
            return d.inclusive === !0 || void 0 === d.inclusive ? {
                valid: a.isNumeric(f) && parseFloat(f) <= i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].lessThan["default"], h)
            } : {
                valid: a.isNumeric(f) && parseFloat(f) < i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].lessThan.notInclusive, h)
            }
        },
        _format: function(a) {
            return (a + "").replace(",", ".")
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            mac: {
                "default": "Please enter a valid MAC address"
            }
        }
    }),
    FormValidation.Validator.mac = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(e) || /^([0-9A-Fa-f]{4}\.){2}([0-9A-Fa-f]{4})$/.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            meid: {
                "default": "Please enter a valid MEID number"
            }
        }
    }),
    FormValidation.Validator.meid = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            switch (!0) {
            case /^[0-9A-F]{15}$/i.test(e):
            case /^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}[- ][0-9A-F]$/i.test(e):
            case /^\d{19}$/.test(e):
            case /^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}[- ]\d$/.test(e):
                var f = e.charAt(e.length - 1);
                if (e = e.replace(/[- ]/g, ""),
                e.match(/^\d*$/i))
                    return FormValidation.Helper.luhn(e);
                e = e.slice(0, -1);
                for (var g = "", h = 1; 13 >= h; h += 2)
                    g += (2 * parseInt(e.charAt(h), 16)).toString(16);
                var i = 0;
                for (h = 0; h < g.length; h++)
                    i += parseInt(g.charAt(h), 16);
                return i % 10 === 0 ? "0" === f : f === (2 * (10 * Math.floor((i + 10) / 10) - i)).toString(16);
            case /^[0-9A-F]{14}$/i.test(e):
            case /^[0-9A-F]{2}[- ][0-9A-F]{6}[- ][0-9A-F]{6}$/i.test(e):
            case /^\d{18}$/.test(e):
            case /^\d{5}[- ]\d{5}[- ]\d{4}[- ]\d{4}$/.test(e):
                return !0;
            default:
                return !1
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            notEmpty: {
                "default": "Please enter a value"
            }
        }
    }),
    FormValidation.Validator.notEmpty = {
        enableByHtml5: function(a) {
            var b = a.attr("required") + "";
            return "required" === b || "true" === b
        },
        validate: function(b, c, d, e) {
            var f = c.attr("type");
            if ("radio" === f || "checkbox" === f) {
                var g = b.getNamespace();
                return b.getFieldElements(c.attr("data-" + g + "-field")).filter(":checked").length > 0
            }
            if ("number" === f && c.get(0).validity && c.get(0).validity.badInput === !0)
                return !0;
            var h = b.getFieldValue(c, e);
            return "" !== a.trim(h)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            numeric: {
                "default": "Please enter a valid float number"
            }
        }
    }),
    FormValidation.Validator.numeric = {
        html5Attributes: {
            message: "message",
            separator: "separator",
            thousandsseparator: "thousandsSeparator",
            decimalseparator: "decimalSeparator"
        },
        enableByHtml5: function(a) {
            return "number" === a.attr("type") && void 0 !== a.attr("step") && a.attr("step") % 1 !== 0
        },
        validate: function(a, b, c, d) {
            if (this.enableByHtml5(b) && b.get(0).validity && b.get(0).validity.badInput === !0)
                return !1;
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = c.separator || c.decimalSeparator || "."
              , g = c.thousandsSeparator || "";
            e.substr(0, 1) === f ? e = "0" + f + e.substr(1) : e.substr(0, 2) === "-" + f && (e = "-0" + f + e.substr(2)),
            f = "." === f ? "\\." : f,
            g = "." === g ? "\\." : g;
            var h = new RegExp("^-?[0-9]{1,3}(" + g + "[0-9]{3})*(" + f + "[0-9]+)?$")
              , i = new RegExp(g,"g");
            return h.test(e) ? (g && (e = e.replace(i, "")),
            f && (e = e.replace(f, ".")),
            !isNaN(parseFloat(e)) && isFinite(e)) : !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            phone: {
                "default": "Please enter a valid phone number",
                country: "Please enter a valid phone number in %s",
                countries: {
                    AE: "United Arab Emirates",
                    BG: "Bulgaria",
                    BR: "Brazil",
                    CN: "China",
                    CZ: "Czech Republic",
                    DE: "Germany",
                    DK: "Denmark",
                    ES: "Spain",
                    FR: "France",
                    GB: "United Kingdom",
                    IN: "India",
                    MA: "Morocco",
                    NL: "Netherlands",
                    PK: "Pakistan",
                    RO: "Romania",
                    RU: "Russia",
                    SK: "Slovakia",
                    TH: "Thailand",
                    US: "USA",
                    VE: "Venezuela"
                }
            }
        }
    }),
    FormValidation.Validator.phone = {
        html5Attributes: {
            message: "message",
            country: "country"
        },
        COUNTRY_CODES: ["AE", "BG", "BR", "CN", "CZ", "DE", "DK", "ES", "FR", "GB", "IN", "MA", "NL", "PK", "RO", "RU", "SK", "TH", "US", "VE"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            var g = b.getLocale()
              , h = d.country;
            if (("string" != typeof h || -1 === a.inArray(h, this.COUNTRY_CODES)) && (h = b.getDynamicOption(c, h)),
            !h || -1 === a.inArray(h.toUpperCase(), this.COUNTRY_CODES))
                return !0;
            var i = !0;
            switch (h.toUpperCase()) {
            case "AE":
                f = a.trim(f),
                i = /^(((\+|00)?971[\s\.-]?(\(0\)[\s\.-]?)?|0)(\(5(0|2|5|6)\)|5(0|2|5|6)|2|3|4|6|7|9)|60)([\s\.-]?[0-9]){7}$/.test(f);
                break;
            case "BG":
                f = f.replace(/\+|\s|-|\/|\(|\)/gi, ""),
                i = /^(0|359|00)(((700|900)[0-9]{5}|((800)[0-9]{5}|(800)[0-9]{4}))|(87|88|89)([0-9]{7})|((2[0-9]{7})|(([3-9][0-9])(([0-9]{6})|([0-9]{5})))))$/.test(f);
                break;
            case "BR":
                f = a.trim(f),
                i = /^(([\d]{4}[-.\s]{1}[\d]{2,3}[-.\s]{1}[\d]{2}[-.\s]{1}[\d]{2})|([\d]{4}[-.\s]{1}[\d]{3}[-.\s]{1}[\d]{4})|((\(?\+?[0-9]{2}\)?\s?)?(\(?\d{2}\)?\s?)?\d{4,5}[-.\s]?\d{4}))$/.test(f);
                break;
            case "CN":
                f = a.trim(f),
                i = /^((00|\+)?(86(?:-| )))?((\d{11})|(\d{3}[- ]{1}\d{4}[- ]{1}\d{4})|((\d{2,4}[- ]){1}(\d{7,8}|(\d{3,4}[- ]{1}\d{4}))([- ]{1}\d{1,4})?))$/.test(f);
                break;
            case "CZ":
                i = /^(((00)([- ]?)|\+)(420)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(f);
                break;
            case "DE":
                f = a.trim(f),
                i = /^(((((((00|\+)49[ \-/]?)|0)[1-9][0-9]{1,4})[ \-/]?)|((((00|\+)49\()|\(0)[1-9][0-9]{1,4}\)[ \-/]?))[0-9]{1,7}([ \-/]?[0-9]{1,5})?)$/.test(f);
                break;
            case "DK":
                f = a.trim(f),
                i = /^(\+45|0045|\(45\))?\s?[2-9](\s?\d){7}$/.test(f);
                break;
            case "ES":
                f = a.trim(f),
                i = /^(?:(?:(?:\+|00)34\D?))?(?:5|6|7|8|9)(?:\d\D?){8}$/.test(f);
                break;
            case "FR":
                f = a.trim(f),
                i = /^(?:(?:(?:\+|00)33[ ]?(?:\(0\)[ ]?)?)|0){1}[1-9]{1}([ .-]?)(?:\d{2}\1?){3}\d{2}$/.test(f);
                break;
            case "GB":
                f = a.trim(f),
                i = /^\(?(?:(?:0(?:0|11)\)?[\s-]?\(?|\+)44\)?[\s-]?\(?(?:0\)?[\s-]?\(?)?|0)(?:\d{2}\)?[\s-]?\d{4}[\s-]?\d{4}|\d{3}\)?[\s-]?\d{3}[\s-]?\d{3,4}|\d{4}\)?[\s-]?(?:\d{5}|\d{3}[\s-]?\d{3})|\d{5}\)?[\s-]?\d{4,5}|8(?:00[\s-]?11[\s-]?11|45[\s-]?46[\s-]?4\d))(?:(?:[\s-]?(?:x|ext\.?\s?|\#)\d+)?)$/.test(f);
                break;
            case "IN":
                f = a.trim(f),
                i = /((\+?)((0[ -]+)*|(91 )*)(\d{12}|\d{10}))|\d{5}([- ]*)\d{6}/.test(f);
                break;
            case "MA":
                f = a.trim(f),
                i = /^(?:(?:(?:\+|00)212[\s]?(?:[\s]?\(0\)[\s]?)?)|0){1}(?:5[\s.-]?[2-3]|6[\s.-]?[13-9]){1}[0-9]{1}(?:[\s.-]?\d{2}){3}$/.test(f);
                break;
            case "NL":
                f = a.trim(f),
                i = /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9])((\s|\s?-\s?)?[0-9])((\s|\s?-\s?)?[0-9])\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]\s?[0-9]$/gm.test(f);
                break;
            case "PK":
                f = a.trim(f),
                i = /^0?3[0-9]{2}[0-9]{7}$/.test(f);
                break;
            case "RO":
                i = /^(\+4|)?(07[0-8]{1}[0-9]{1}|02[0-9]{2}|03[0-9]{2}){1}?(\s|\.|\-)?([0-9]{3}(\s|\.|\-|)){2}$/g.test(f);
                break;
            case "RU":
                i = /^((8|\+7|007)[\-\.\/ ]?)?([\(\/\.]?\d{3}[\)\/\.]?[\-\.\/ ]?)?[\d\-\.\/ ]{7,10}$/g.test(f);
                break;
            case "SK":
                i = /^(((00)([- ]?)|\+)(421)([- ]?))?((\d{3})([- ]?)){2}(\d{3})$/.test(f);
                break;
            case "TH":
                i = /^0\(?([6|8-9]{2})*-([0-9]{3})*-([0-9]{4})$/.test(f);
                break;
            case "VE":
                f = a.trim(f),
                i = /^0(?:2(?:12|4[0-9]|5[1-9]|6[0-9]|7[0-8]|8[1-35-8]|9[1-5]|3[45789])|4(?:1[246]|2[46]))\d{7}$/.test(f);
                break;
            case "US":
            default:
                i = /^(?:(1\-?)|(\+1 ?))?\(?\d{3}\)?[\-\.\s]?\d{3}[\-\.\s]?\d{4}$/.test(f)
            }
            return {
                valid: i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].phone.country, FormValidation.I18n[g].phone.countries[h])
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            promise: {
                "default": "Please enter a valid value"
            }
        }
    }),
    FormValidation.Validator.promise = {
        priority: 999,
        html5Attributes: {
            message: "message",
            promise: "promise"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e)
              , g = new a.Deferred
              , h = FormValidation.Helper.call(d.promise, [f, b, c]);
            return h.done(function(a) {
                g.resolve(c, e, a)
            }).fail(function(a) {
                a = a || {},
                a.valid = !1,
                g.resolve(c, e, a)
            }),
            g
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            regexp: {
                "default": "Please enter a value matching the pattern"
            }
        }
    }),
    FormValidation.Validator.regexp = {
        html5Attributes: {
            message: "message",
            flags: "flags",
            regexp: "regexp"
        },
        enableByHtml5: function(a) {
            var b = a.attr("pattern");
            return b ? {
                regexp: b
            } : !1
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = "string" == typeof c.regexp ? c.flags ? new RegExp(c.regexp,c.flags) : new RegExp(c.regexp) : c.regexp;
            return f.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            remote: {
                "default": "Please enter a valid value"
            }
        }
    }),
    FormValidation.Validator.remote = {
        priority: 1e3,
        html5Attributes: {
            async: "async",
            crossdomain: "crossDomain",
            data: "data",
            datatype: "dataType",
            delay: "delay",
            message: "message",
            name: "name",
            type: "type",
            url: "url",
            validkey: "validKey"
        },
        destroy: function(a, b, c, d) {
            var e = a.getNamespace()
              , f = b.data(e + "." + d + ".timer");
            f && (clearTimeout(f),
            b.removeData(e + "." + d + ".timer"))
        },
        validate: function(b, c, d, e) {
            function f() {
                var b = a.ajax(n);
                return b.success(function(a) {
                    a.valid = a[m] === !0 || "true" === a[m] ? !0 : a[m] === !1 || "false" === a[m] ? !1 : null,
                    i.resolve(c, e, a)
                }).error(function(a) {
                    i.resolve(c, e, {
                        valid: !1
                    })
                }),
                i.fail(function() {
                    b.abort()
                }),
                i
            }
            var g = b.getNamespace()
              , h = b.getFieldValue(c, e)
              , i = new a.Deferred;
            if ("" === h)
                return i.resolve(c, e, {
                    valid: !0
                }),
                i;
            var j = c.attr("data-" + g + "-field")
              , k = d.data || {}
              , l = d.url
              , m = d.validKey || "valid";
            "function" == typeof k && (k = k.call(this, b, c, h)),
            "string" == typeof k && (k = JSON.parse(k)),
            "function" == typeof l && (l = l.call(this, b, c, h)),
            k[d.name || j] = h;
            var n = {
                async: null === d.async || d.async === !0 || "true" === d.async,
                data: k,
                dataType: d.dataType || "json",
                headers: d.headers || {},
                type: d.type || "GET",
                url: l
            };
            return null !== d.crossDomain && (n.crossDomain = d.crossDomain === !0 || "true" === d.crossDomain),
            d.delay ? (c.data(g + "." + e + ".timer") && clearTimeout(c.data(g + "." + e + ".timer")),
            c.data(g + "." + e + ".timer", setTimeout(f, d.delay)),
            i) : f()
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            rtn: {
                "default": "Please enter a valid RTN number"
            }
        }
    }),
    FormValidation.Validator.rtn = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (!/^\d{9}$/.test(e))
                return !1;
            for (var f = 0, g = 0; g < e.length; g += 3)
                f += 3 * parseInt(e.charAt(g), 10) + 7 * parseInt(e.charAt(g + 1), 10) + parseInt(e.charAt(g + 2), 10);
            return 0 !== f && f % 10 === 0
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            sedol: {
                "default": "Please enter a valid SEDOL number"
            }
        }
    }),
    FormValidation.Validator.sedol = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (e = e.toUpperCase(),
            !/^[0-9A-Z]{7}$/.test(e))
                return !1;
            for (var f = 0, g = [1, 3, 1, 7, 3, 9, 1], h = e.length, i = 0; h - 1 > i; i++)
                f += g[i] * parseInt(e.charAt(i), 36);
            return f = (10 - f % 10) % 10,
            f + "" === e.charAt(h - 1)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            siren: {
                "default": "Please enter a valid SIREN number"
            }
        }
    }),
    FormValidation.Validator.siren = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            return "" === e ? !0 : /^\d{9}$/.test(e) ? FormValidation.Helper.luhn(e) : !1
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            siret: {
                "default": "Please enter a valid SIRET number"
            }
        }
    }),
    FormValidation.Validator.siret = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            for (var f, g = 0, h = e.length, i = 0; h > i; i++)
                f = parseInt(e.charAt(i), 10),
                i % 2 === 0 && (f = 2 * f,
                f > 9 && (f -= 9)),
                g += f;
            return g % 10 === 0
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            step: {
                "default": "Please enter a valid step of %s"
            }
        }
    }),
    FormValidation.Validator.step = {
        html5Attributes: {
            message: "message",
            base: "baseValue",
            step: "step"
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            if (d = a.extend({}, {
                baseValue: 0,
                step: 1
            }, d),
            f = parseFloat(f),
            !a.isNumeric(f))
                return !1;
            var g = function(a, b) {
                var c = Math.pow(10, b);
                a *= c;
                var d = a > 0 | -(0 > a)
                  , e = a % 1 === .5 * d;
                return e ? (Math.floor(a) + (d > 0)) / c : Math.round(a) / c
            }
              , h = function(a, b) {
                if (0 === b)
                    return 1;
                var c = (a + "").split(".")
                  , d = (b + "").split(".")
                  , e = (1 === c.length ? 0 : c[1].length) + (1 === d.length ? 0 : d[1].length);
                return g(a - b * Math.floor(a / b), e)
            }
              , i = b.getLocale()
              , j = h(f - d.baseValue, d.step);
            return {
                valid: 0 === j || j === d.step,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[i].step["default"], [d.step])
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            stringCase: {
                "default": "Please enter only lowercase characters",
                upper: "Please enter only uppercase characters"
            }
        }
    }),
    FormValidation.Validator.stringCase = {
        html5Attributes: {
            message: "message",
            "case": "case"
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = a.getLocale()
              , g = (c["case"] || "lower").toLowerCase();
            return {
                valid: "upper" === g ? e === e.toUpperCase() : e === e.toLowerCase(),
                message: c.message || ("upper" === g ? FormValidation.I18n[f].stringCase.upper : FormValidation.I18n[f].stringCase["default"])
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            stringLength: {
                "default": "Please enter a value with valid length",
                less: "Please enter less than %s characters",
                more: "Please enter more than %s characters",
                between: "Please enter value between %s and %s characters long"
            }
        }
    }),
    FormValidation.Validator.stringLength = {
        html5Attributes: {
            message: "message",
            min: "min",
            max: "max",
            trim: "trim",
            utf8bytes: "utf8Bytes"
        },
        enableByHtml5: function(b) {
            var c = {}
              , d = b.attr("maxlength")
              , e = b.attr("minlength");
            return d && (c.max = parseInt(d, 10)),
            e && (c.min = parseInt(e, 10)),
            a.isEmptyObject(c) ? !1 : c
        },
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ((d.trim === !0 || "true" === d.trim) && (f = a.trim(f)),
            "" === f)
                return !0;
            var g = b.getLocale()
              , h = a.isNumeric(d.min) ? d.min : b.getDynamicOption(c, d.min)
              , i = a.isNumeric(d.max) ? d.max : b.getDynamicOption(c, d.max)
              , j = function(a) {
                for (var b = a.length, c = a.length - 1; c >= 0; c--) {
                    var d = a.charCodeAt(c);
                    d > 127 && 2047 >= d ? b++ : d > 2047 && 65535 >= d && (b += 2),
                    d >= 56320 && 57343 >= d && c--
                }
                return b
            }
              , k = d.utf8Bytes ? j(f) : f.length
              , l = !0
              , m = d.message || FormValidation.I18n[g].stringLength["default"];
            switch ((h && k < parseInt(h, 10) || i && k > parseInt(i, 10)) && (l = !1),
            !0) {
            case !!h && !!i:
                m = FormValidation.Helper.format(d.message || FormValidation.I18n[g].stringLength.between, [parseInt(h, 10), parseInt(i, 10)]);
                break;
            case !!h:
                m = FormValidation.Helper.format(d.message || FormValidation.I18n[g].stringLength.more, parseInt(h, 10) - 1);
                break;
            case !!i:
                m = FormValidation.Helper.format(d.message || FormValidation.I18n[g].stringLength.less, parseInt(i, 10) + 1)
            }
            return {
                valid: l,
                message: m
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            uri: {
                "default": "Please enter a valid URI"
            }
        }
    }),
    FormValidation.Validator.uri = {
        html5Attributes: {
            message: "message",
            allowlocal: "allowLocal",
            allowemptyprotocol: "allowEmptyProtocol",
            protocol: "protocol"
        },
        enableByHtml5: function(a) {
            return "url" === a.attr("type")
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = c.allowLocal === !0 || "true" === c.allowLocal
              , g = c.allowEmptyProtocol === !0 || "true" === c.allowEmptyProtocol
              , h = (c.protocol || "http, https, ftp").split(",").join("|").replace(/\s/g, "")
              , i = new RegExp("^(?:(?:" + h + ")://)" + (g ? "?" : "") + "(?:\\S+(?::\\S*)?@)?(?:" + (f ? "" : "(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})") + "(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-?)*[a-z\\u00a1-\\uffff0-9])*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))" + (f ? "?" : "") + ")(?::\\d{2,5})?(?:/[^\\s]*)?$","i");
            return i.test(e)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            uuid: {
                "default": "Please enter a valid UUID number",
                version: "Please enter a valid UUID version %s number"
            }
        }
    }),
    FormValidation.Validator.uuid = {
        html5Attributes: {
            message: "message",
            version: "version"
        },
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            var f = a.getLocale()
              , g = {
                3: /^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,
                4: /^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
                5: /^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,
                all: /^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i
            }
              , h = c.version ? c.version + "" : "all";
            return {
                valid: null === g[h] ? !0 : g[h].test(e),
                message: c.version ? FormValidation.Helper.format(c.message || FormValidation.I18n[f].uuid.version, c.version) : c.message || FormValidation.I18n[f].uuid["default"]
            }
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            vat: {
                "default": "Please enter a valid VAT number",
                country: "Please enter a valid VAT number in %s",
                countries: {
                    AT: "Austria",
                    BE: "Belgium",
                    BG: "Bulgaria",
                    BR: "Brazil",
                    CH: "Switzerland",
                    CY: "Cyprus",
                    CZ: "Czech Republic",
                    DE: "Germany",
                    DK: "Denmark",
                    EE: "Estonia",
                    ES: "Spain",
                    FI: "Finland",
                    FR: "France",
                    GB: "United Kingdom",
                    GR: "Greek",
                    EL: "Greek",
                    HU: "Hungary",
                    HR: "Croatia",
                    IE: "Ireland",
                    IS: "Iceland",
                    IT: "Italy",
                    LT: "Lithuania",
                    LU: "Luxembourg",
                    LV: "Latvia",
                    MT: "Malta",
                    NL: "Netherlands",
                    NO: "Norway",
                    PL: "Poland",
                    PT: "Portugal",
                    RO: "Romania",
                    RU: "Russia",
                    RS: "Serbia",
                    SE: "Sweden",
                    SI: "Slovenia",
                    SK: "Slovakia",
                    VE: "Venezuela",
                    ZA: "South Africa"
                }
            }
        }
    }),
    FormValidation.Validator.vat = {
        html5Attributes: {
            message: "message",
            country: "country"
        },
        COUNTRY_CODES: ["AT", "BE", "BG", "BR", "CH", "CY", "CZ", "DE", "DK", "EE", "EL", "ES", "FI", "FR", "GB", "GR", "HR", "HU", "IE", "IS", "IT", "LT", "LU", "LV", "MT", "NL", "NO", "PL", "PT", "RO", "RU", "RS", "SE", "SK", "SI", "VE", "ZA"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f)
                return !0;
            var g = b.getLocale()
              , h = d.country;
            if (h ? ("string" != typeof h || -1 === a.inArray(h.toUpperCase(), this.COUNTRY_CODES)) && (h = b.getDynamicOption(c, h)) : h = f.substr(0, 2),
            -1 === a.inArray(h, this.COUNTRY_CODES))
                return !0;
            var i = ["_", h.toLowerCase()].join("")
              , j = this[i](f);
            return j = j === !0 || j === !1 ? {
                valid: j
            } : j,
            j.message = FormValidation.Helper.format(d.message || FormValidation.I18n[g].vat.country, FormValidation.I18n[g].vat.countries[h.toUpperCase()]),
            j
        },
        _at: function(a) {
            if (/^ATU[0-9]{8}$/.test(a) && (a = a.substr(2)),
            !/^U[0-9]{8}$/.test(a))
                return !1;
            a = a.substr(1);
            for (var b = 0, c = [1, 2, 1, 2, 1, 2, 1], d = 0, e = 0; 7 > e; e++)
                d = parseInt(a.charAt(e), 10) * c[e],
                d > 9 && (d = Math.floor(d / 10) + d % 10),
                b += d;
            return b = 10 - (b + 4) % 10,
            10 === b && (b = 0),
            b + "" === a.substr(7, 1)
        },
        _be: function(a) {
            if (/^BE[0]{0,1}[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0]{0,1}[0-9]{9}$/.test(a))
                return !1;
            if (9 === a.length && (a = "0" + a),
            "0" === a.substr(1, 1))
                return !1;
            var b = parseInt(a.substr(0, 8), 10) + parseInt(a.substr(8, 2), 10);
            return b % 97 === 0
        },
        _bg: function(a) {
            if (/^BG[0-9]{9,10}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9,10}$/.test(a))
                return !1;
            var b = 0
              , c = 0;
            if (9 === a.length) {
                for (c = 0; 8 > c; c++)
                    b += parseInt(a.charAt(c), 10) * (c + 1);
                if (b %= 11,
                10 === b)
                    for (b = 0,
                    c = 0; 8 > c; c++)
                        b += parseInt(a.charAt(c), 10) * (c + 3);
                return b %= 10,
                b + "" === a.substr(8)
            }
            if (10 === a.length) {
                var d = function(a) {
                    var b = parseInt(a.substr(0, 2), 10) + 1900
                      , c = parseInt(a.substr(2, 2), 10)
                      , d = parseInt(a.substr(4, 2), 10);
                    if (c > 40 ? (b += 100,
                    c -= 40) : c > 20 && (b -= 100,
                    c -= 20),
                    !FormValidation.Helper.date(b, c, d))
                        return !1;
                    for (var e = 0, f = [2, 4, 8, 5, 10, 9, 7, 3, 6], g = 0; 9 > g; g++)
                        e += parseInt(a.charAt(g), 10) * f[g];
                    return e = e % 11 % 10,
                    e + "" === a.substr(9, 1)
                }
                  , e = function(a) {
                    for (var b = 0, c = [21, 19, 17, 13, 11, 9, 7, 3, 1], d = 0; 9 > d; d++)
                        b += parseInt(a.charAt(d), 10) * c[d];
                    return b %= 10,
                    b + "" === a.substr(9, 1)
                }
                  , f = function(a) {
                    for (var b = 0, c = [4, 3, 2, 7, 6, 5, 4, 3, 2], d = 0; 9 > d; d++)
                        b += parseInt(a.charAt(d), 10) * c[d];
                    return b = 11 - b % 11,
                    10 === b ? !1 : (11 === b && (b = 0),
                    b + "" === a.substr(9, 1))
                };
                return d(a) || e(a) || f(a)
            }
            return !1
        },
        _br: function(a) {
            if ("" === a)
                return !0;
            var b = a.replace(/[^\d]+/g, "");
            if ("" === b || 14 !== b.length)
                return !1;
            if ("00000000000000" === b || "11111111111111" === b || "22222222222222" === b || "33333333333333" === b || "44444444444444" === b || "55555555555555" === b || "66666666666666" === b || "77777777777777" === b || "88888888888888" === b || "99999999999999" === b)
                return !1;
            for (var c = b.length - 2, d = b.substring(0, c), e = b.substring(c), f = 0, g = c - 7, h = c; h >= 1; h--)
                f += parseInt(d.charAt(c - h), 10) * g--,
                2 > g && (g = 9);
            var i = 2 > f % 11 ? 0 : 11 - f % 11;
            if (i !== parseInt(e.charAt(0), 10))
                return !1;
            for (c += 1,
            d = b.substring(0, c),
            f = 0,
            g = c - 7,
            h = c; h >= 1; h--)
                f += parseInt(d.charAt(c - h), 10) * g--,
                2 > g && (g = 9);
            return i = 2 > f % 11 ? 0 : 11 - f % 11,
            i === parseInt(e.charAt(1), 10)
        },
        _ch: function(a) {
            if (/^CHE[0-9]{9}(MWST)?$/.test(a) && (a = a.substr(2)),
            !/^E[0-9]{9}(MWST)?$/.test(a))
                return !1;
            a = a.substr(1);
            for (var b = 0, c = [5, 4, 3, 2, 7, 6, 5, 4], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b = 11 - b % 11,
            10 === b ? !1 : (11 === b && (b = 0),
            b + "" === a.substr(8, 1))
        },
        _cy: function(a) {
            if (/^CY[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(a) && (a = a.substr(2)),
            !/^[0-5|9]{1}[0-9]{7}[A-Z]{1}$/.test(a))
                return !1;
            if ("12" === a.substr(0, 2))
                return !1;
            for (var b = 0, c = {
                0: 1,
                1: 0,
                2: 5,
                3: 7,
                4: 9,
                5: 13,
                6: 15,
                7: 17,
                8: 19,
                9: 21
            }, d = 0; 8 > d; d++) {
                var e = parseInt(a.charAt(d), 10);
                d % 2 === 0 && (e = c[e + ""]),
                b += e
            }
            return b = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"[b % 26],
            b + "" === a.substr(8, 1)
        },
        _cz: function(a) {
            if (/^CZ[0-9]{8,10}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{8,10}$/.test(a))
                return !1;
            var b = 0
              , c = 0;
            if (8 === a.length) {
                if (a.charAt(0) + "" == "9")
                    return !1;
                for (b = 0,
                c = 0; 7 > c; c++)
                    b += parseInt(a.charAt(c), 10) * (8 - c);
                return b = 11 - b % 11,
                10 === b && (b = 0),
                11 === b && (b = 1),
                b + "" === a.substr(7, 1)
            }
            if (9 === a.length && a.charAt(0) + "" == "6") {
                for (b = 0,
                c = 0; 7 > c; c++)
                    b += parseInt(a.charAt(c + 1), 10) * (8 - c);
                return b = 11 - b % 11,
                10 === b && (b = 0),
                11 === b && (b = 1),
                b = [8, 7, 6, 5, 4, 3, 2, 1, 0, 9, 10][b - 1],
                b + "" === a.substr(8, 1)
            }
            if (9 === a.length || 10 === a.length) {
                var d = 1900 + parseInt(a.substr(0, 2), 10)
                  , e = parseInt(a.substr(2, 2), 10) % 50 % 20
                  , f = parseInt(a.substr(4, 2), 10);
                if (9 === a.length) {
                    if (d >= 1980 && (d -= 100),
                    d > 1953)
                        return !1
                } else
                    1954 > d && (d += 100);
                if (!FormValidation.Helper.date(d, e, f))
                    return !1;
                if (10 === a.length) {
                    var g = parseInt(a.substr(0, 9), 10) % 11;
                    return 1985 > d && (g %= 10),
                    g + "" === a.substr(9, 1)
                }
                return !0
            }
            return !1
        },
        _de: function(a) {
            return /^DE[0-9]{9}$/.test(a) && (a = a.substr(2)),
            /^[0-9]{9}$/.test(a) ? FormValidation.Helper.mod11And10(a) : !1
        },
        _dk: function(a) {
            if (/^DK[0-9]{8}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{8}$/.test(a))
                return !1;
            for (var b = 0, c = [2, 7, 6, 5, 4, 3, 2, 1], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 11 === 0
        },
        _ee: function(a) {
            if (/^EE[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}$/.test(a))
                return !1;
            for (var b = 0, c = [3, 7, 1, 3, 7, 1, 3, 7, 1], d = 0; 9 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 10 === 0
        },
        _es: function(a) {
            if (/^ES[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(a) && (a = a.substr(2)),
            !/^[0-9A-Z][0-9]{7}[0-9A-Z]$/.test(a))
                return !1;
            var b = function(a) {
                var b = parseInt(a.substr(0, 8), 10);
                return b = "TRWAGMYFPDXBNJZSQVHLCKE"[b % 23],
                b + "" === a.substr(8, 1)
            }
              , c = function(a) {
                var b = ["XYZ".indexOf(a.charAt(0)), a.substr(1)].join("");
                return b = parseInt(b, 10),
                b = "TRWAGMYFPDXBNJZSQVHLCKE"[b % 23],
                b + "" === a.substr(8, 1)
            }
              , d = function(a) {
                var b, c = a.charAt(0);
                if (-1 !== "KLM".indexOf(c))
                    return b = parseInt(a.substr(1, 8), 10),
                    b = "TRWAGMYFPDXBNJZSQVHLCKE"[b % 23],
                    b + "" === a.substr(8, 1);
                if (-1 !== "ABCDEFGHJNPQRSUVW".indexOf(c)) {
                    for (var d = 0, e = [2, 1, 2, 1, 2, 1, 2], f = 0, g = 0; 7 > g; g++)
                        f = parseInt(a.charAt(g + 1), 10) * e[g],
                        f > 9 && (f = Math.floor(f / 10) + f % 10),
                        d += f;
                    return d = 10 - d % 10,
                    10 === d && (d = 0),
                    d + "" === a.substr(8, 1) || "JABCDEFGHI"[d] === a.substr(8, 1)
                }
                return !1
            }
              , e = a.charAt(0);
            return /^[0-9]$/.test(e) ? {
                valid: b(a),
                type: "DNI"
            } : /^[XYZ]$/.test(e) ? {
                valid: c(a),
                type: "NIE"
            } : {
                valid: d(a),
                type: "CIF"
            }
        },
        _fi: function(a) {
            if (/^FI[0-9]{8}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{8}$/.test(a))
                return !1;
            for (var b = 0, c = [7, 9, 10, 5, 8, 4, 2, 1], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 11 === 0
        },
        _fr: function(a) {
            if (/^FR[0-9A-Z]{2}[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9A-Z]{2}[0-9]{9}$/.test(a))
                return !1;
            if (!FormValidation.Helper.luhn(a.substr(2)))
                return !1;
            if (/^[0-9]{2}$/.test(a.substr(0, 2)))
                return a.substr(0, 2) === parseInt(a.substr(2) + "12", 10) % 97 + "";
            var b, c = "0123456789ABCDEFGHJKLMNPQRSTUVWXYZ";
            return b = /^[0-9]{1}$/.test(a.charAt(0)) ? 24 * c.indexOf(a.charAt(0)) + c.indexOf(a.charAt(1)) - 10 : 34 * c.indexOf(a.charAt(0)) + c.indexOf(a.charAt(1)) - 100,
            (parseInt(a.substr(2), 10) + 1 + Math.floor(b / 11)) % 11 === b % 11
        },
        _gb: function(a) {
            if ((/^GB[0-9]{9}$/.test(a) || /^GB[0-9]{12}$/.test(a) || /^GBGD[0-9]{3}$/.test(a) || /^GBHA[0-9]{3}$/.test(a) || /^GB(GD|HA)8888[0-9]{5}$/.test(a)) && (a = a.substr(2)),
            !(/^[0-9]{9}$/.test(a) || /^[0-9]{12}$/.test(a) || /^GD[0-9]{3}$/.test(a) || /^HA[0-9]{3}$/.test(a) || /^(GD|HA)8888[0-9]{5}$/.test(a)))
                return !1;
            var b = a.length;
            if (5 === b) {
                var c = a.substr(0, 2)
                  , d = parseInt(a.substr(2), 10);
                return "GD" === c && 500 > d || "HA" === c && d >= 500
            }
            if (11 === b && ("GD8888" === a.substr(0, 6) || "HA8888" === a.substr(0, 6)))
                return "GD" === a.substr(0, 2) && parseInt(a.substr(6, 3), 10) >= 500 || "HA" === a.substr(0, 2) && parseInt(a.substr(6, 3), 10) < 500 ? !1 : parseInt(a.substr(6, 3), 10) % 97 === parseInt(a.substr(9, 2), 10);
            if (9 === b || 12 === b) {
                for (var e = 0, f = [8, 7, 6, 5, 4, 3, 2, 10, 1], g = 0; 9 > g; g++)
                    e += parseInt(a.charAt(g), 10) * f[g];
                return e %= 97,
                parseInt(a.substr(0, 3), 10) >= 100 ? 0 === e || 42 === e || 55 === e : 0 === e
            }
            return !0
        },
        _gr: function(a) {
            if (/^(GR|EL)[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}$/.test(a))
                return !1;
            8 === a.length && (a = "0" + a);
            for (var b = 0, c = [256, 128, 64, 32, 16, 8, 4, 2], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b = b % 11 % 10,
            b + "" === a.substr(8, 1)
        },
        _el: function(a) {
            return this._gr(a)
        },
        _hu: function(a) {
            if (/^HU[0-9]{8}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{8}$/.test(a))
                return !1;
            for (var b = 0, c = [9, 7, 3, 1, 9, 7, 3, 1], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 10 === 0
        },
        _hr: function(a) {
            return /^HR[0-9]{11}$/.test(a) && (a = a.substr(2)),
            /^[0-9]{11}$/.test(a) ? FormValidation.Helper.mod11And10(a) : !1
        },
        _ie: function(a) {
            if (/^IE[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{1}[0-9A-Z\*\+]{1}[0-9]{5}[A-Z]{1,2}$/.test(a))
                return !1;
            var b = function(a) {
                for (; a.length < 7; )
                    a = "0" + a;
                for (var b = "WABCDEFGHIJKLMNOPQRSTUV", c = 0, d = 0; 7 > d; d++)
                    c += parseInt(a.charAt(d), 10) * (8 - d);
                return c += 9 * b.indexOf(a.substr(7)),
                b[c % 23]
            };
            return /^[0-9]+$/.test(a.substr(0, 7)) ? a.charAt(7) === b(a.substr(0, 7) + a.substr(8) + "") : -1 !== "ABCDEFGHIJKLMNOPQRSTUVWXYZ+*".indexOf(a.charAt(1)) ? a.charAt(7) === b(a.substr(2, 5) + a.substr(0, 1) + "") : !0
        },
        _is: function(a) {
            return /^IS[0-9]{5,6}$/.test(a) && (a = a.substr(2)),
            /^[0-9]{5,6}$/.test(a)
        },
        _it: function(a) {
            if (/^IT[0-9]{11}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{11}$/.test(a))
                return !1;
            if (0 === parseInt(a.substr(0, 7), 10))
                return !1;
            var b = parseInt(a.substr(7, 3), 10);
            return 1 > b || b > 201 && 999 !== b && 888 !== b ? !1 : FormValidation.Helper.luhn(a)
        },
        _lt: function(a) {
            if (/^LT([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(a) && (a = a.substr(2)),
            !/^([0-9]{7}1[0-9]{1}|[0-9]{10}1[0-9]{1})$/.test(a))
                return !1;
            var b, c = a.length, d = 0;
            for (b = 0; c - 1 > b; b++)
                d += parseInt(a.charAt(b), 10) * (1 + b % 9);
            var e = d % 11;
            if (10 === e)
                for (d = 0,
                b = 0; c - 1 > b; b++)
                    d += parseInt(a.charAt(b), 10) * (1 + (b + 2) % 9);
            return e = e % 11 % 10,
            e + "" === a.charAt(c - 1)
        },
        _lu: function(a) {
            return /^LU[0-9]{8}$/.test(a) && (a = a.substr(2)),
            /^[0-9]{8}$/.test(a) ? parseInt(a.substr(0, 6), 10) % 89 + "" === a.substr(6, 2) : !1
        },
        _lv: function(a) {
            if (/^LV[0-9]{11}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{11}$/.test(a))
                return !1;
            var b, c = parseInt(a.charAt(0), 10), d = 0, e = [], f = a.length;
            if (c > 3) {
                for (d = 0,
                e = [9, 1, 4, 8, 3, 10, 2, 5, 7, 6, 1],
                b = 0; f > b; b++)
                    d += parseInt(a.charAt(b), 10) * e[b];
                return d %= 11,
                3 === d
            }
            var g = parseInt(a.substr(0, 2), 10)
              , h = parseInt(a.substr(2, 2), 10)
              , i = parseInt(a.substr(4, 2), 10);
            if (i = i + 1800 + 100 * parseInt(a.charAt(6), 10),
            !FormValidation.Helper.date(i, h, g))
                return !1;
            for (d = 0,
            e = [10, 5, 8, 4, 2, 1, 6, 3, 7, 9],
            b = 0; f - 1 > b; b++)
                d += parseInt(a.charAt(b), 10) * e[b];
            return d = (d + 1) % 11 % 10,
            d + "" === a.charAt(f - 1)
        },
        _mt: function(a) {
            if (/^MT[0-9]{8}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{8}$/.test(a))
                return !1;
            for (var b = 0, c = [3, 4, 6, 7, 8, 9, 10, 1], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 37 === 0
        },
        _nl: function(a) {
            if (/^NL[0-9]{9}B[0-9]{2}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}B[0-9]{2}$/.test(a))
                return !1;
            for (var b = 0, c = [9, 8, 7, 6, 5, 4, 3, 2], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b %= 11,
            b > 9 && (b = 0),
            b + "" === a.substr(8, 1)
        },
        _no: function(a) {
            if (/^NO[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}$/.test(a))
                return !1;
            for (var b = 0, c = [3, 2, 7, 6, 5, 4, 3, 2], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b = 11 - b % 11,
            11 === b && (b = 0),
            b + "" === a.substr(8, 1)
        },
        _pl: function(a) {
            if (/^PL[0-9]{10}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{10}$/.test(a))
                return !1;
            for (var b = 0, c = [6, 5, 7, 2, 3, 4, 5, 6, 7, -1], d = 0; 10 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b % 11 === 0
        },
        _pt: function(a) {
            if (/^PT[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}$/.test(a))
                return !1;
            for (var b = 0, c = [9, 8, 7, 6, 5, 4, 3, 2], d = 0; 8 > d; d++)
                b += parseInt(a.charAt(d), 10) * c[d];
            return b = 11 - b % 11,
            b > 9 && (b = 0),
            b + "" === a.substr(8, 1)
        },
        _ro: function(a) {
            if (/^RO[1-9][0-9]{1,9}$/.test(a) && (a = a.substr(2)),
            !/^[1-9][0-9]{1,9}$/.test(a))
                return !1;
            for (var b = a.length, c = [7, 5, 3, 2, 1, 7, 5, 3, 2].slice(10 - b), d = 0, e = 0; b - 1 > e; e++)
                d += parseInt(a.charAt(e), 10) * c[e];
            return d = 10 * d % 11 % 10,
            d + "" === a.substr(b - 1, 1)
        },
        _ru: function(a) {
            if (/^RU([0-9]{10}|[0-9]{12})$/.test(a) && (a = a.substr(2)),
            !/^([0-9]{10}|[0-9]{12})$/.test(a))
                return !1;
            var b = 0;
            if (10 === a.length) {
                var c = 0
                  , d = [2, 4, 10, 3, 5, 9, 4, 6, 8, 0];
                for (b = 0; 10 > b; b++)
                    c += parseInt(a.charAt(b), 10) * d[b];
                return c %= 11,
                c > 9 && (c %= 10),
                c + "" === a.substr(9, 1)
            }
            if (12 === a.length) {
                var e = 0
                  , f = [7, 2, 4, 10, 3, 5, 9, 4, 6, 8, 0]
                  , g = 0
                  , h = [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8, 0];
                for (b = 0; 11 > b; b++)
                    e += parseInt(a.charAt(b), 10) * f[b],
                    g += parseInt(a.charAt(b), 10) * h[b];
                return e %= 11,
                e > 9 && (e %= 10),
                g %= 11,
                g > 9 && (g %= 10),
                e + "" === a.substr(10, 1) && g + "" === a.substr(11, 1)
            }
            return !1
        },
        _rs: function(a) {
            if (/^RS[0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[0-9]{9}$/.test(a))
                return !1;
            for (var b = 10, c = 0, d = 0; 8 > d; d++)
                c = (parseInt(a.charAt(d), 10) + b) % 10,
                0 === c && (c = 10),
                b = 2 * c % 11;
            return (b + parseInt(a.substr(8, 1), 10)) % 10 === 1
        },
        _se: function(a) {
            return /^SE[0-9]{10}01$/.test(a) && (a = a.substr(2)),
            /^[0-9]{10}01$/.test(a) ? (a = a.substr(0, 10),
            FormValidation.Helper.luhn(a)) : !1
        },
        _si: function(a) {
            var b = a.match(/^(SI)?([1-9][0-9]{7})$/);
            if (!b)
                return !1;
            b[1] && (a = a.substr(2));
            for (var c = 0, d = [8, 7, 6, 5, 4, 3, 2], e = 0; 7 > e; e++)
                c += parseInt(a.charAt(e), 10) * d[e];
            return c = 11 - c % 11,
            10 === c && (c = 0),
            c + "" === a.substr(7, 1)
        },
        _sk: function(a) {
            return /^SK[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(a) && (a = a.substr(2)),
            /^[1-9][0-9][(2-4)|(6-9)][0-9]{7}$/.test(a) ? parseInt(a, 10) % 11 === 0 : !1
        },
        _ve: function(a) {
            if (/^VE[VEJPG][0-9]{9}$/.test(a) && (a = a.substr(2)),
            !/^[VEJPG][0-9]{9}$/.test(a))
                return !1;
            for (var b = {
                V: 4,
                E: 8,
                J: 12,
                P: 16,
                G: 20
            }, c = b[a.charAt(0)], d = [3, 2, 7, 6, 5, 4, 3, 2], e = 0; 8 > e; e++)
                c += parseInt(a.charAt(e + 1), 10) * d[e];
            return c = 11 - c % 11,
            (11 === c || 10 === c) && (c = 0),
            c + "" === a.substr(9, 1)
        },
        _za: function(a) {
            return /^ZA4[0-9]{9}$/.test(a) && (a = a.substr(2)),
            /^4[0-9]{9}$/.test(a)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            vin: {
                "default": "Please enter a valid VIN number"
            }
        }
    }),
    FormValidation.Validator.vin = {
        validate: function(a, b, c, d) {
            var e = a.getFieldValue(b, d);
            if ("" === e)
                return !0;
            if (!/^[a-hj-npr-z0-9]{8}[0-9xX][a-hj-npr-z0-9]{8}$/i.test(e))
                return !1;
            e = e.toUpperCase();
            for (var f = {
                A: 1,
                B: 2,
                C: 3,
                D: 4,
                E: 5,
                F: 6,
                G: 7,
                H: 8,
                J: 1,
                K: 2,
                L: 3,
                M: 4,
                N: 5,
                P: 7,
                R: 9,
                S: 2,
                T: 3,
                U: 4,
                V: 5,
                W: 6,
                X: 7,
                Y: 8,
                Z: 9,
                1: 1,
                2: 2,
                3: 3,
                4: 4,
                5: 5,
                6: 6,
                7: 7,
                8: 8,
                9: 9,
                0: 0
            }, g = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2], h = 0, i = e.length, j = 0; i > j; j++)
                h += f[e.charAt(j) + ""] * g[j];
            var k = h % 11;
            return 10 === k && (k = "X"),
            k + "" === e.charAt(8)
        }
    }
}(jQuery),
function(a) {
    FormValidation.I18n = a.extend(!0, FormValidation.I18n || {}, {
        en_US: {
            zipCode: {
                "default": "Please enter a valid postal code",
                country: "Please enter a valid postal code in %s",
                countries: {
                    AT: "Austria",
                    BG: "Bulgaria",
                    BR: "Brazil",
                    CA: "Canada",
                    CH: "Switzerland",
                    CZ: "Czech Republic",
                    DE: "Germany",
                    DK: "Denmark",
                    ES: "Spain",
                    FR: "France",
                    GB: "United Kingdom",
                    IE: "Ireland",
                    IN: "India",
                    IT: "Italy",
                    MA: "Morocco",
                    NL: "Netherlands",
                    PL: "Poland",
                    PT: "Portugal",
                    RO: "Romania",
                    RU: "Russia",
                    SE: "Sweden",
                    SG: "Singapore",
                    SK: "Slovakia",
                    US: "USA"
                }
            }
        }
    }),
    FormValidation.Validator.zipCode = {
        html5Attributes: {
            message: "message",
            country: "country"
        },
        COUNTRY_CODES: ["AT", "BG", "BR", "CA", "CH", "CZ", "DE", "DK", "ES", "FR", "GB", "IE", "IN", "IT", "MA", "NL", "PL", "PT", "RO", "RU", "SE", "SG", "SK", "US"],
        validate: function(b, c, d, e) {
            var f = b.getFieldValue(c, e);
            if ("" === f || !d.country)
                return !0;
            var g = b.getLocale()
              , h = d.country;
            if (("string" != typeof h || -1 === a.inArray(h, this.COUNTRY_CODES)) && (h = b.getDynamicOption(c, h)),
            !h || -1 === a.inArray(h.toUpperCase(), this.COUNTRY_CODES))
                return !0;
            var i = !1;
            switch (h = h.toUpperCase()) {
            case "AT":
                i = /^([1-9]{1})(\d{3})$/.test(f);
                break;
            case "BG":
                i = /^([1-9]{1}[0-9]{3})$/.test(a.trim(f));
                break;
            case "BR":
                i = /^(\d{2})([\.]?)(\d{3})([\-]?)(\d{3})$/.test(f);
                break;
            case "CA":
                i = /^(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|X|Y){1}[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}\s?[0-9]{1}(?:A|B|C|E|G|H|J|K|L|M|N|P|R|S|T|V|W|X|Y|Z){1}[0-9]{1}$/i.test(f);
                break;
            case "CH":
                i = /^([1-9]{1})(\d{3})$/.test(f);
                break;
            case "CZ":
                i = /^(\d{3})([ ]?)(\d{2})$/.test(f);
                break;
            case "DE":
                i = /^(?!01000|99999)(0[1-9]\d{3}|[1-9]\d{4})$/.test(f);
                break;
            case "DK":
                i = /^(DK(-|\s)?)?\d{4}$/i.test(f);
                break;
            case "ES":
                i = /^(?:0[1-9]|[1-4][0-9]|5[0-2])\d{3}$/.test(f);
                break;
            case "FR":
                i = /^[0-9]{5}$/i.test(f);
                break;
            case "GB":
                i = this._gb(f);
                break;
            case "IN":
                i = /^\d{3}\s?\d{3}$/.test(f);
                break;
            case "IE":
                i = /^(D6W|[ACDEFHKNPRTVWXY]\d{2})\s[0-9ACDEFHKNPRTVWXY]{4}$/.test(f);
                break;
            case "IT":
                i = /^(I-|IT-)?\d{5}$/i.test(f);
                break;
            case "MA":
                i = /^[1-9][0-9]{4}$/i.test(f);
                break;
            case "NL":
                i = /^[1-9][0-9]{3} ?(?!sa|sd|ss)[a-z]{2}$/i.test(f);
                break;
            case "PL":
                i = /^[0-9]{2}\-[0-9]{3}$/.test(f);
                break;
            case "PT":
                i = /^[1-9]\d{3}-\d{3}$/.test(f);
                break;
            case "RO":
                i = /^(0[1-8]{1}|[1-9]{1}[0-5]{1})?[0-9]{4}$/i.test(f);
                break;
            case "RU":
                i = /^[0-9]{6}$/i.test(f);
                break;
            case "SE":
                i = /^(S-)?\d{3}\s?\d{2}$/i.test(f);
                break;
            case "SG":
                i = /^([0][1-9]|[1-6][0-9]|[7]([0-3]|[5-9])|[8][0-2])(\d{4})$/i.test(f);
                break;
            case "SK":
                i = /^(\d{3})([ ]?)(\d{2})$/.test(f);
                break;
            case "US":
            default:
                i = /^\d{4,5}([\-]?\d{4})?$/.test(f)
            }
            return {
                valid: i,
                message: FormValidation.Helper.format(d.message || FormValidation.I18n[g].zipCode.country, FormValidation.I18n[g].zipCode.countries[h])
            }
        },
        _gb: function(a) {
            for (var b = "[ABCDEFGHIJKLMNOPRSTUWYZ]", c = "[ABCDEFGHKLMNOPQRSTUVWXY]", d = "[ABCDEFGHJKPMNRSTUVWXY]", e = "[ABEHMNPRVWXY]", f = "[ABDEFGHJLNPQRSTUWXYZ]", g = [new RegExp("^(" + b + "{1}" + c + "?[0-9]{1,2})(\\s*)([0-9]{1}" + f + "{2})$","i"), new RegExp("^(" + b + "{1}[0-9]{1}" + d + "{1})(\\s*)([0-9]{1}" + f + "{2})$","i"), new RegExp("^(" + b + "{1}" + c + "{1}?[0-9]{1}" + e + "{1})(\\s*)([0-9]{1}" + f + "{2})$","i"), new RegExp("^(BF1)(\\s*)([0-6]{1}[ABDEFGHJLNPQRST]{1}[ABDEFGHJLNPQRSTUWZYZ]{1})$","i"), /^(GIR)(\s*)(0AA)$/i, /^(BFPO)(\s*)([0-9]{1,4})$/i, /^(BFPO)(\s*)(c\/o\s*[0-9]{1,3})$/i, /^([A-Z]{4})(\s*)(1ZZ)$/i, /^(AI-2640)$/i], h = 0; h < g.length; h++)
                if (g[h].test(a))
                    return !0;
            return !1
        }
    }
}(jQuery);
/*!
 * FormValidation (http://formvalidation.io)
 * The best jQuery plugin to validate form fields. Support Bootstrap, Foundation, Pure, SemanticUI, UIKit and custom frameworks
 *
 * @version     v0.8.1, built on 2016-07-29 1:10:56 AM
 * @author      https://twitter.com/formvalidation
 * @copyright   (c) 2013 - 2016 Nguyen Huu Phuoc
 * @license     http://formvalidation.io/license/
 */
!function(a) {
    FormValidation.Framework.Bootstrap = function(b, c, d) {
        c = a.extend(!0, {
            button: {
                selector: '[type="submit"]:not([formnovalidate])',
                disabled: "disabled"
            },
            err: {
                clazz: "help-block",
                parent: "^(.*)col-(xs|sm|md|lg)-(offset-){0,1}[0-9]+(.*)$"
            },
            icon: {
                valid: null,
                invalid: null,
                validating: null,
                feedback: "form-control-feedback"
            },
            row: {
                selector: ".form-group",
                valid: "has-success",
                invalid: "has-error",
                feedback: "has-feedback"
            }
        }, c),
        FormValidation.Base.apply(this, [b, c, d])
    }
    ,
    FormValidation.Framework.Bootstrap.prototype = a.extend({}, FormValidation.Base.prototype, {
        _fixIcon: function(a, b) {
            var c = this._namespace
              , d = a.attr("type")
              , e = a.attr("data-" + c + "-field")
              , f = this.options.fields[e].row || this.options.row.selector
              , g = a.closest(f);
            if ("checkbox" === d || "radio" === d) {
                var h = a.parent();
                h.hasClass(d) ? b.insertAfter(h) : h.parent().hasClass(d) && b.insertAfter(h.parent())
            }
            0 !== g.find(".input-group").length && b.addClass("fv-bootstrap-icon-input-group").insertAfter(g.find(".input-group").eq(0))
        },
        _createTooltip: function(a, b, c) {
            var d = this._namespace
              , e = a.data(d + ".icon");
            if (e)
                switch (c) {
                case "popover":
                    e.css({
                        cursor: "pointer",
                        "pointer-events": "auto"
                    }).popover("destroy").popover({
                        container: "body",
                        content: b,
                        html: !0,
                        placement: "auto top",
                        trigger: "hover click"
                    });
                    break;
                case "tooltip":
                default:
                    e.css({
                        cursor: "pointer",
                        "pointer-events": "auto"
                    }).tooltip("destroy").tooltip({
                        container: "body",
                        html: !0,
                        placement: "auto top",
                        title: b
                    })
                }
        },
        _destroyTooltip: function(a, b) {
            var c = this._namespace
              , d = a.data(c + ".icon");
            if (d)
                switch (b) {
                case "popover":
                    d.css({
                        cursor: "",
                        "pointer-events": "none"
                    }).popover("destroy");
                    break;
                case "tooltip":
                default:
                    d.css({
                        cursor: "",
                        "pointer-events": "none"
                    }).tooltip("destroy")
                }
        },
        _hideTooltip: function(a, b) {
            var c = this._namespace
              , d = a.data(c + ".icon");
            if (d)
                switch (b) {
                case "popover":
                    d.popover("hide");
                    break;
                case "tooltip":
                default:
                    d.tooltip("hide")
                }
        },
        _showTooltip: function(a, b) {
            var c = this._namespace
              , d = a.data(c + ".icon");
            if (d)
                switch (b) {
                case "popover":
                    d.popover("show");
                    break;
                case "tooltip":
                default:
                    d.tooltip("show")
                }
        }
    }),
    a.fn.bootstrapValidator = function(b) {
        var c = arguments;
        return this.each(function() {
            var d = a(this)
              , e = d.data("formValidation") || d.data("bootstrapValidator")
              , f = "object" == typeof b && b;
            e || (e = new FormValidation.Framework.Bootstrap(this,a.extend({}, {
                events: {
                    formInit: "init.form.bv",
                    formPreValidate: "prevalidate.form.bv",
                    formError: "error.form.bv",
                    formSuccess: "success.form.bv",
                    fieldAdded: "added.field.bv",
                    fieldRemoved: "removed.field.bv",
                    fieldInit: "init.field.bv",
                    fieldError: "error.field.bv",
                    fieldSuccess: "success.field.bv",
                    fieldStatus: "status.field.bv",
                    localeChanged: "changed.locale.bv",
                    validatorError: "error.validator.bv",
                    validatorSuccess: "success.validator.bv"
                }
            }, f),"bv"),
            d.addClass("fv-form-bootstrap").data("formValidation", e).data("bootstrapValidator", e)),
            "string" == typeof b && e[b].apply(e, Array.prototype.slice.call(c, 1))
        })
    }
    ,
    a.fn.bootstrapValidator.Constructor = FormValidation.Framework.Bootstrap
}(jQuery);
;(function($) {
    var b64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
      , a256 = ''
      , r64 = [256]
      , r256 = [256]
      , i = 0;
    var UTF8 = {
        encode: function(strUni) {
            var strUtf = strUni.replace(/[\u0080-\u07ff]/g, function(c) {
                var cc = c.charCodeAt(0);
                return String.fromCharCode(0xc0 | cc >> 6, 0x80 | cc & 0x3f);
            }).replace(/[\u0800-\uffff]/g, function(c) {
                var cc = c.charCodeAt(0);
                return String.fromCharCode(0xe0 | cc >> 12, 0x80 | cc >> 6 & 0x3F, 0x80 | cc & 0x3f);
            });
            return strUtf;
        },
        decode: function(strUtf) {
            var strUni = strUtf.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g, function(c) {
                var cc = ((c.charCodeAt(0) & 0x0f) << 12) | ((c.charCodeAt(1) & 0x3f) << 6) | (c.charCodeAt(2) & 0x3f);
                return String.fromCharCode(cc);
            }).replace(/[\u00c0-\u00df][\u0080-\u00bf]/g, function(c) {
                var cc = (c.charCodeAt(0) & 0x1f) << 6 | c.charCodeAt(1) & 0x3f;
                return String.fromCharCode(cc);
            });
            return strUni;
        }
    };
    while (i < 256) {
        var c = String.fromCharCode(i);
        a256 += c;
        r256[i] = i;
        r64[i] = b64.indexOf(c);
        ++i;
    }
    function code(s, discard, alpha, beta, w1, w2) {
        s = String(s);
        var buffer = 0
          , i = 0
          , length = s.length
          , result = ''
          , bitsInBuffer = 0;
        while (i < length) {
            var c = s.charCodeAt(i);
            c = c < 256 ? alpha[c] : -1;
            buffer = (buffer << w1) + c;
            bitsInBuffer += w1;
            while (bitsInBuffer >= w2) {
                bitsInBuffer -= w2;
                var tmp = buffer >> bitsInBuffer;
                result += beta.charAt(tmp);
                buffer ^= tmp << bitsInBuffer;
            }
            ++i;
        }
        if (!discard && bitsInBuffer > 0)
            result += beta.charAt(buffer << (w2 - bitsInBuffer));
        return result;
    }
    var Plugin = $.base64 = function(dir, input, encode) {
        return input ? Plugin[dir](input, encode) : dir ? null : this;
    }
    ;
    Plugin.btoa = Plugin.encode = function(plain, utf8encode) {
        plain = Plugin.raw === false || Plugin.utf8encode || utf8encode ? UTF8.encode(plain) : plain;
        plain = code(plain, false, r256, b64, 8, 6);
        return plain + '===='.slice((plain.length % 4) || 4);
    }
    ;
    Plugin.atob = Plugin.decode = function(coded, utf8decode) {
        coded = String(coded).split('=');
        var i = coded.length;
        do {
            --i;
            coded[i] = code(coded[i], true, r64, a256, 6, 8);
        } while (i > 0);coded = coded.join('');
        return Plugin.raw === false || Plugin.utf8decode || utf8decode ? UTF8.decode(coded) : coded;
    }
    ;
}(jQuery));

(function() {
    var maybeAppendSlash = function(url) {
        if (url[url.length - 1] !== "/") {
            url += '/';
        }
        return url;
    };
    var ensureTrailingSlash = function(url) {
        var parser = document.createElement('a');
        parser.href = url;
        if (parser.pathname.substr(parser.pathname.length - 3) !== ".js") {
            parser.pathname = maybeAppendSlash(parser.pathname);
        }
        return parser.href;
    };
    $.ajaxSetup({
        beforeSend: function(xhr, settings) {
            if (!this.crossDomain) {
                settings.url = ensureTrailingSlash(settings.url);
            }
        }
    });
}
)();
/* jQuery doubleTap() plugin | Copyright (c) 2015, 2016 Dan Zervoudakes | https://github.com/dzervoudakes/jQuery-doubleTap/blob/master/LICENSE */
(function(a) {
    a.fn.doubleTap = function(d) {
        var c, b;
        c = false;
        b = "ontouchend"in document ? "touchend" : "click";
        a(this).on(b, function() {
            if (c) {
                d();
                return c = false
            }
            c = true;
            setTimeout(function() {
                c = false
            }, 350)
        });
        return this
    }
}(jQuery));
/*!
 * @copyright Copyright (c) 2016 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.1.18
 */
(function() {
    if (window && window.addEventListener) {
        var c = Object.create(null), l, q, a = function() {
            clearTimeout(q);
            q = setTimeout(l, 100)
        }, n = function() {}, t = function() {
            var e;
            window.addEventListener("resize", a, !1);
            window.addEventListener("orientationchange", a, !1);
            window.MutationObserver ? (e = new MutationObserver(a),
            e.observe(document.documentElement, {
                childList: !0,
                subtree: !0,
                attributes: !0
            }),
            n = function() {
                try {
                    e.disconnect(),
                    window.removeEventListener("resize", a, !1),
                    window.removeEventListener("orientationchange", a, !1)
                } catch (c) {}
            }
            ) : (document.documentElement.addEventListener("DOMSubtreeModified", a, !1),
            n = function() {
                document.documentElement.removeEventListener("DOMSubtreeModified", a, !1);
                window.removeEventListener("resize", a, !1);
                window.removeEventListener("orientationchange", a, !1)
            }
            )
        }, u = function(e) {
            var c, a = location.hostname;
            if (window.XMLHttpRequest) {
                c = new XMLHttpRequest;
                var m = document.createElement("a");
                m.href = e;
                e = m.hostname;
                c = void 0 === c.withCredentials && "" !== e && e !== a ? XDomainRequest || void 0 : XMLHttpRequest
            }
            return c
        };
        l = function() {
            function e() {
                --p;
                0 === p && (n(),
                t())
            }
            function a(b) {
                return function() {
                    !0 !== c[b.base] && b.useEl.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", "#" + b.hash)
                }
            }
            function l(b) {
                return function() {
                    var c = document.body
                      , a = document.createElement("x");
                    b.onload = null;
                    a.innerHTML = b.responseText;
                    if (a = a.getElementsByTagName("svg")[0])
                        a.setAttribute("aria-hidden", "true"),
                        a.style.position = "absolute",
                        a.style.width = 0,
                        a.style.height = 0,
                        a.style.overflow = "hidden",
                        c.insertBefore(a, c.firstChild);
                    e()
                }
            }
            function m(a) {
                return function() {
                    a.onerror = null;
                    a.ontimeout = null;
                    e()
                }
            }
            var d, f, g, h, p = 0, b, k;
            n();
            k = document.getElementsByTagName("use");
            for (h = 0; h < k.length; h += 1) {
                try {
                    f = k[h].getBoundingClientRect()
                } catch (v) {
                    f = !1
                }
                g = k[h].getAttributeNS("http://www.w3.org/1999/xlink", "href").split("#");
                d = g[0];
                g = g[1];
                b = f && 0 === f.left && 0 === f.right && 0 === f.top && 0 === f.bottom;
                f && 0 === f.width && 0 === f.height && !b ? d.length && (b = c[d],
                !0 !== b && setTimeout(a({
                    useEl: k[h],
                    base: d,
                    hash: g
                }), 0),
                void 0 === b && (g = u(d),
                void 0 !== g && (b = new g,
                c[d] = b,
                b.onload = l(b),
                b.onerror = m(b),
                b.ontimeout = m(b),
                b.open("GET", d),
                b.send(),
                p += 1))) : b || (void 0 === c[d] ? c[d] = !0 : c[d].onload && (c[d].abort(),
                delete c[d].onload,
                c[d] = !0))
            }
            k = "";
            p += 1;
            e()
        }
        ;
        window.addEventListener("load", function r() {
            window.removeEventListener("load", r, !1);
            q = setTimeout(l, 0)
        }, !1)
    }
}
)();

/*! lazysizes - v4.1.2 */
!function(a, b) {
    var c = function(d) {
        b(a.lazySizes, d),
        a.removeEventListener("lazyunveilread", c, !0)
    };
    b = b.bind(null, a, a.document),
    "object" == typeof module && module.exports ? b(require("lazysizes")) : a.lazySizes ? c() : a.addEventListener("lazyunveilread", c, !0)
}(window, function(a, b, c, d) {
    "use strict";
    function e(a) {
        var b = getComputedStyle(a, null) || {}
          , c = b.fontFamily || ""
          , d = c.match(j) || ""
          , e = d && c.match(k) || "";
        return e && (e = e[1]),
        {
            fit: d && d[1] || "",
            position: n[e] || e || "center"
        }
    }
    function f(a, b) {
        var d, e, f = c.cfg, g = a.cloneNode(!1), h = g.style, i = function() {
            var b = a.currentSrc || a.src;
            b && e !== b && (e = b,
            h.backgroundImage = "url(" + (m.test(b) ? JSON.stringify(b) : b) + ")",
            d || (d = !0,
            c.rC(g, f.loadingClass),
            c.aC(g, f.loadedClass)))
        }, j = function() {
            c.rAF(i)
        };
        a._lazysizesParentFit = b.fit,
        a.addEventListener("lazyloaded", j, !0),
        a.addEventListener("load", j, !0),
        g.addEventListener("load", function() {
            var a = g.currentSrc || g.src;
            a && a != l && (g.src = l,
            g.srcset = "")
        }),
        c.rAF(function() {
            var d = a
              , e = a.parentNode;
            "PICTURE" == e.nodeName.toUpperCase() && (d = e,
            e = e.parentNode),
            c.rC(g, f.loadedClass),
            c.rC(g, f.lazyClass),
            c.aC(g, f.loadingClass),
            c.aC(g, f.objectFitClass || "lazysizes-display-clone"),
            g.getAttribute(f.srcsetAttr) && g.setAttribute(f.srcsetAttr, ""),
            g.getAttribute(f.srcAttr) && g.setAttribute(f.srcAttr, ""),
            g.src = l,
            g.srcset = "",
            h.backgroundRepeat = "no-repeat",
            h.backgroundPosition = b.position,
            h.backgroundSize = b.fit,
            d.style.display = "none",
            a.setAttribute("data-parent-fit", b.fit),
            a.setAttribute("data-parent-container", "prev"),
            e.insertBefore(g, d),
            a._lazysizesParentFit && delete a._lazysizesParentFit,
            a.complete && i()
        })
    }
    var g = b.createElement("a").style
      , h = "objectFit"in g
      , i = h && "objectPosition"in g
      , j = /object-fit["']*\s*:\s*["']*(contain|cover)/
      , k = /object-position["']*\s*:\s*["']*(.+?)(?=($|,|'|"|;))/
      , l = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
      , m = /\(|\)|'/
      , n = {
        center: "center",
        "50% 50%": "center"
    };
    if (!h || !i) {
        var o = function(a) {
            if (a.detail.instance == c) {
                var b = a.target
                  , d = e(b);
                !d.fit || h && "center" == d.position || f(b, d)
            }
        };
        a.addEventListener("lazyunveilread", o, !0),
        d && d.detail && o(d)
    }
});
/*! lazysizes - v4.1.0 */
!function(a, b) {
    var c = function() {
        b(a.lazySizes),
        a.removeEventListener("lazyunveilread", c, !0)
    };
    b = b.bind(null, a, a.document),
    "object" == typeof module && module.exports ? b(require("lazysizes"), require("../fix-ios-sizes/fix-ios-sizes")) : a.lazySizes ? c() : a.addEventListener("lazyunveilread", c, !0)
}(window, function(a, b, c) {
    "use strict";
    var d, e = c && c.cfg || a.lazySizesConfig, f = b.createElement("img"), g = "sizes"in f && "srcset"in f, h = /\s+\d+h/g, i = function() {
        var a = /\s+(\d+)(w|h)\s+(\d+)(w|h)/
          , c = Array.prototype.forEach;
        return function(d) {
            var e = b.createElement("img")
              , f = function(b) {
                var c, d, e = b.getAttribute(lazySizesConfig.srcsetAttr);
                e && ((d = e.match(a)) && (c = "w" == d[2] ? d[1] / d[3] : d[3] / d[1],
                c && b.setAttribute("data-aspectratio", c)),
                b.setAttribute(lazySizesConfig.srcsetAttr, e.replace(h, "")))
            }
              , g = function(a) {
                var b = a.target.parentNode;
                b && "PICTURE" == b.nodeName && c.call(b.getElementsByTagName("source"), f),
                f(a.target)
            }
              , i = function() {
                e.currentSrc && b.removeEventListener("lazybeforeunveil", g)
            };
            d[1] && (b.addEventListener("lazybeforeunveil", g),
            e.onload = i,
            e.onerror = i,
            e.srcset = "data:,a 1w 1h",
            e.complete && i())
        }
    }();
    if (e || (e = {},
    a.lazySizesConfig = e),
    e.supportsType || (e.supportsType = function(a) {
        return !a
    }
    ),
    !a.picturefill && !e.pf) {
        if (a.HTMLPictureElement && g)
            return b.msElementsFromPoint && i(navigator.userAgent.match(/Edge\/(\d+)/)),
            void (e.pf = function() {}
            );
        e.pf = function(b) {
            var c, e;
            if (!a.picturefill)
                for (c = 0,
                e = b.elements.length; e > c; c++)
                    d(b.elements[c])
        }
        ,
        d = function() {
            var f = function(a, b) {
                return a.w - b.w
            }
              , i = /^\s*\d+\.*\d*px\s*$/
              , j = function(a) {
                var b, c, d = a.length, e = a[d - 1], f = 0;
                for (f; d > f; f++)
                    if (e = a[f],
                    e.d = e.w / a.w,
                    e.d >= a.d) {
                        !e.cached && (b = a[f - 1]) && b.d > a.d - .13 * Math.pow(a.d, 2.2) && (c = Math.pow(b.d - .6, 1.6),
                        b.cached && (b.d += .15 * c),
                        b.d + (e.d - a.d) * c > a.d && (e = b));
                        break
                    }
                return e
            }
              , k = function() {
                var a, b = /(([^,\s].[^\s]+)\s+(\d+)w)/g, c = /\s/, d = function(b, c, d, e) {
                    a.push({
                        c: c,
                        u: d,
                        w: 1 * e
                    })
                };
                return function(e) {
                    return a = [],
                    e = e.trim(),
                    e.replace(h, "").replace(b, d),
                    a.length || !e || c.test(e) || a.push({
                        c: e,
                        u: e,
                        w: 99
                    }),
                    a
                }
            }()
              , l = function() {
                l.init || (l.init = !0,
                addEventListener("resize", function() {
                    var a, c = b.getElementsByClassName("lazymatchmedia"), e = function() {
                        var a, b;
                        for (a = 0,
                        b = c.length; b > a; a++)
                            d(c[a])
                    };
                    return function() {
                        clearTimeout(a),
                        a = setTimeout(e, 66)
                    }
                }()))
            }
              , m = function(b, d) {
                var f, g = b.getAttribute("srcset") || b.getAttribute(e.srcsetAttr);
                !g && d && (g = b._lazypolyfill ? b._lazypolyfill._set : b.getAttribute(e.srcAttr) || b.getAttribute("src")),
                b._lazypolyfill && b._lazypolyfill._set == g || (f = k(g || ""),
                d && b.parentNode && (f.isPicture = "PICTURE" == b.parentNode.nodeName.toUpperCase(),
                f.isPicture && a.matchMedia && (c.aC(b, "lazymatchmedia"),
                l())),
                f._set = g,
                Object.defineProperty(b, "_lazypolyfill", {
                    value: f,
                    writable: !0
                }))
            }
              , n = function(b) {
                var d = a.devicePixelRatio || 1
                  , e = c.getX && c.getX(b);
                return Math.min(e || d, 2.5, d)
            }
              , o = function(b) {
                return a.matchMedia ? (o = function(a) {
                    return !a || (matchMedia(a) || {}).matches
                }
                )(b) : !b
            }
              , p = function(a) {
                var b, d, g, h, k, l, p;
                if (h = a,
                m(h, !0),
                k = h._lazypolyfill,
                k.isPicture)
                    for (d = 0,
                    b = a.parentNode.getElementsByTagName("source"),
                    g = b.length; g > d; d++)
                        if (e.supportsType(b[d].getAttribute("type"), a) && o(b[d].getAttribute("media"))) {
                            h = b[d],
                            m(h),
                            k = h._lazypolyfill;
                            break
                        }
                return k.length > 1 ? (p = h.getAttribute("sizes") || "",
                p = i.test(p) && parseInt(p, 10) || c.gW(a, a.parentNode),
                k.d = n(a),
                !k.src || !k.w || k.w < p ? (k.w = p,
                l = j(k.sort(f)),
                k.src = l) : l = k.src) : l = k[0],
                l
            }
              , q = function(a) {
                if (!g || !a.parentNode || "PICTURE" == a.parentNode.nodeName.toUpperCase()) {
                    var b = p(a);
                    b && b.u && a._lazypolyfill.cur != b.u && (a._lazypolyfill.cur = b.u,
                    b.cached = !0,
                    a.setAttribute(e.srcAttr, b.u),
                    a.setAttribute("src", b.u))
                }
            };
            return q.parse = k,
            q
        }(),
        e.loadedClass && e.loadingClass && !function() {
            var a = [];
            ['img[sizes$="px"][srcset].', "picture > img:not([srcset])."].forEach(function(b) {
                a.push(b + e.loadedClass),
                a.push(b + e.loadingClass)
            }),
            e.pf({
                elements: b.querySelectorAll(a.join(", "))
            })
        }()
    }
});

!function(a, b) {
    var c = b(a, a.document);
    a.lazySizes = c,
    "object" == typeof module && module.exports && (module.exports = c)
}(window, function(a, b) {
    "use strict";
    if (b.getElementsByClassName) {
        var c, d, e = b.documentElement, f = a.Date, g = a.HTMLPictureElement, h = "addEventListener", i = "getAttribute", j = a[h], k = a.setTimeout, l = a.requestAnimationFrame || k, m = a.requestIdleCallback, n = /^picture$/i, o = ["load", "error", "lazyincluded", "_lazyloaded"], p = {}, q = Array.prototype.forEach, r = function(a, b) {
            return p[b] || (p[b] = new RegExp("(\\s|^)" + b + "(\\s|$)")),
            p[b].test(a[i]("class") || "") && p[b]
        }, s = function(a, b) {
            r(a, b) || a.setAttribute("class", (a[i]("class") || "").trim() + " " + b)
        }, t = function(a, b) {
            var c;
            (c = r(a, b)) && a.setAttribute("class", (a[i]("class") || "").replace(c, " "))
        }, u = function(a, b, c) {
            var d = c ? h : "removeEventListener";
            c && u(a, b),
            o.forEach(function(c) {
                a[d](c, b)
            })
        }, v = function(a, d, e, f, g) {
            var h = b.createEvent("CustomEvent");
            return e || (e = {}),
            e.instance = c,
            h.initCustomEvent(d, !f, !g, e),
            a.dispatchEvent(h),
            h
        }, w = function(b, c) {
            var e;
            !g && (e = a.picturefill || d.pf) ? (c && c.src && !b[i]("srcset") && b.setAttribute("srcset", c.src),
            e({
                reevaluate: !0,
                elements: [b]
            })) : c && c.src && (b.src = c.src)
        }, x = function(a, b) {
            return (getComputedStyle(a, null) || {})[b]
        }, y = function(a, b, c) {
            for (c = c || a.offsetWidth; c < d.minSize && b && !a._lazysizesWidth; )
                c = b.offsetWidth,
                b = b.parentNode;
            return c
        }, z = function() {
            var a, c, d = [], e = [], f = d, g = function() {
                var b = f;
                for (f = d.length ? e : d,
                a = !0,
                c = !1; b.length; )
                    b.shift()();
                a = !1
            }, h = function(d, e) {
                a && !e ? d.apply(this, arguments) : (f.push(d),
                c || (c = !0,
                (b.hidden ? k : l)(g)))
            };
            return h._lsFlush = g,
            h
        }(), A = function(a, b) {
            return b ? function() {
                z(a)
            }
            : function() {
                var b = this
                  , c = arguments;
                z(function() {
                    a.apply(b, c)
                })
            }
        }, B = function(a) {
            var b, c = 0, e = d.throttleDelay, g = d.ricTimeout, h = function() {
                b = !1,
                c = f.now(),
                a()
            }, i = m && g > 49 ? function() {
                m(h, {
                    timeout: g
                }),
                g !== d.ricTimeout && (g = d.ricTimeout)
            }
            : A(function() {
                k(h)
            }, !0);
            return function(a) {
                var d;
                (a = a === !0) && (g = 33),
                b || (b = !0,
                d = e - (f.now() - c),
                0 > d && (d = 0),
                a || 9 > d ? i() : k(i, d))
            }
        }, C = function(a) {
            var b, c, d = 99, e = function() {
                b = null,
                a()
            }, g = function() {
                var a = f.now() - c;
                d > a ? k(g, d - a) : (m || e)(e)
            };
            return function() {
                c = f.now(),
                b || (b = k(g, d))
            }
        };
        !function() {
            var b, c = {
                lazyClass: "lazyload",
                loadedClass: "lazyloaded",
                loadingClass: "lazyloading",
                preloadClass: "lazypreload",
                errorClass: "lazyerror",
                autosizesClass: "lazyautosizes",
                srcAttr: "data-src",
                srcsetAttr: "data-srcset",
                sizesAttr: "data-sizes",
                minSize: 40,
                customMedia: {},
                init: !0,
                expFactor: 1.5,
                hFac: .8,
                loadMode: 2,
                loadHidden: !0,
                ricTimeout: 0,
                throttleDelay: 125
            };
            d = a.lazySizesConfig || a.lazysizesConfig || {};
            for (b in c)
                b in d || (d[b] = c[b]);
            a.lazySizesConfig = d,
            k(function() {
                d.init && F()
            })
        }();
        var D = function() {
            var g, l, m, o, p, y, D, F, G, H, I, J, K, L, M = /^img$/i, N = /^iframe$/i, O = "onscroll"in a && !/(gle|ing)bot/.test(navigator.userAgent), P = 0, Q = 0, R = 0, S = -1, T = function(a) {
                R--,
                a && a.target && u(a.target, T),
                (!a || 0 > R || !a.target) && (R = 0)
            }, U = function(a, c) {
                var d, f = a, g = "hidden" == x(b.body, "visibility") || "hidden" != x(a.parentNode, "visibility") && "hidden" != x(a, "visibility");
                for (F -= c,
                I += c,
                G -= c,
                H += c; g && (f = f.offsetParent) && f != b.body && f != e; )
                    g = (x(f, "opacity") || 1) > 0,
                    g && "visible" != x(f, "overflow") && (d = f.getBoundingClientRect(),
                    g = H > d.left && G < d.right && I > d.top - 1 && F < d.bottom + 1);
                return g
            }, V = function() {
                var a, f, h, j, k, m, n, p, q, r = c.elements;
                if ((o = d.loadMode) && 8 > R && (a = r.length)) {
                    f = 0,
                    S++,
                    null == K && ("expand"in d || (d.expand = e.clientHeight > 500 && e.clientWidth > 500 ? 500 : 370),
                    J = d.expand,
                    K = J * d.expFactor),
                    K > Q && 1 > R && S > 2 && o > 2 && !b.hidden ? (Q = K,
                    S = 0) : Q = o > 1 && S > 1 && 6 > R ? J : P;
                    for (; a > f; f++)
                        if (r[f] && !r[f]._lazyRace)
                            if (O)
                                if ((p = r[f][i]("data-expand")) && (m = 1 * p) || (m = Q),
                                q !== m && (y = innerWidth + m * L,
                                D = innerHeight + m,
                                n = -1 * m,
                                q = m),
                                h = r[f].getBoundingClientRect(),
                                (I = h.bottom) >= n && (F = h.top) <= D && (H = h.right) >= n * L && (G = h.left) <= y && (I || H || G || F) && (d.loadHidden || "hidden" != x(r[f], "visibility")) && (l && 3 > R && !p && (3 > o || 4 > S) || U(r[f], m))) {
                                    if (ba(r[f]),
                                    k = !0,
                                    R > 9)
                                        break
                                } else
                                    !k && l && !j && 4 > R && 4 > S && o > 2 && (g[0] || d.preloadAfterLoad) && (g[0] || !p && (I || H || G || F || "auto" != r[f][i](d.sizesAttr))) && (j = g[0] || r[f]);
                            else
                                ba(r[f]);
                    j && !k && ba(j)
                }
            }, W = B(V), X = function(a) {
                s(a.target, d.loadedClass),
                t(a.target, d.loadingClass),
                u(a.target, Z),
                v(a.target, "lazyloaded")
            }, Y = A(X), Z = function(a) {
                Y({
                    target: a.target
                })
            }, $ = function(a, b) {
                try {
                    a.contentWindow.location.replace(b)
                } catch (c) {
                    a.src = b
                }
            }, _ = function(a) {
                var b, c = a[i](d.srcsetAttr);
                (b = d.customMedia[a[i]("data-media") || a[i]("media")]) && a.setAttribute("media", b),
                c && a.setAttribute("srcset", c)
            }, aa = A(function(a, b, c, e, f) {
                var g, h, j, l, o, p;
                (o = v(a, "lazybeforeunveil", b)).defaultPrevented || (e && (c ? s(a, d.autosizesClass) : a.setAttribute("sizes", e)),
                h = a[i](d.srcsetAttr),
                g = a[i](d.srcAttr),
                f && (j = a.parentNode,
                l = j && n.test(j.nodeName || "")),
                p = b.firesLoad || "src"in a && (h || g || l),
                o = {
                    target: a
                },
                p && (u(a, T, !0),
                clearTimeout(m),
                m = k(T, 2500),
                s(a, d.loadingClass),
                u(a, Z, !0)),
                l && q.call(j.getElementsByTagName("source"), _),
                h ? a.setAttribute("srcset", h) : g && !l && (N.test(a.nodeName) ? $(a, g) : a.src = g),
                f && (h || l) && w(a, {
                    src: g
                })),
                a._lazyRace && delete a._lazyRace,
                t(a, d.lazyClass),
                z(function() {
                    (!p || a.complete && a.naturalWidth > 1) && (p ? T(o) : R--,
                    X(o))
                }, !0)
            }), ba = function(a) {
                var b, c = M.test(a.nodeName), e = c && (a[i](d.sizesAttr) || a[i]("sizes")), f = "auto" == e;
                (!f && l || !c || !a[i]("src") && !a.srcset || a.complete || r(a, d.errorClass) || !r(a, d.lazyClass)) && (b = v(a, "lazyunveilread").detail,
                f && E.updateElem(a, !0, a.offsetWidth),
                a._lazyRace = !0,
                R++,
                aa(a, b, f, e, c))
            }, ca = function() {
                if (!l) {
                    if (f.now() - p < 999)
                        return void k(ca, 999);
                    var a = C(function() {
                        d.loadMode = 3,
                        W()
                    });
                    l = !0,
                    d.loadMode = 3,
                    W(),
                    j("scroll", function() {
                        3 == d.loadMode && (d.loadMode = 2),
                        a()
                    }, !0)
                }
            };
            return {
                _: function() {
                    p = f.now(),
                    c.elements = b.getElementsByClassName(d.lazyClass),
                    g = b.getElementsByClassName(d.lazyClass + " " + d.preloadClass),
                    L = d.hFac,
                    j("scroll", W, !0),
                    j("resize", W, !0),
                    a.MutationObserver ? new MutationObserver(W).observe(e, {
                        childList: !0,
                        subtree: !0,
                        attributes: !0
                    }) : (e[h]("DOMNodeInserted", W, !0),
                    e[h]("DOMAttrModified", W, !0),
                    setInterval(W, 999)),
                    j("hashchange", W, !0),
                    ["focus", "mouseover", "click", "load", "transitionend", "animationend", "webkitAnimationEnd"].forEach(function(a) {
                        b[h](a, W, !0)
                    }),
                    /d$|^c/.test(b.readyState) ? ca() : (j("load", ca),
                    b[h]("DOMContentLoaded", W),
                    k(ca, 2e4)),
                    c.elements.length ? (V(),
                    z._lsFlush()) : W()
                },
                checkElems: W,
                unveil: ba
            }
        }()
          , E = function() {
            var a, c = A(function(a, b, c, d) {
                var e, f, g;
                if (a._lazysizesWidth = d,
                d += "px",
                a.setAttribute("sizes", d),
                n.test(b.nodeName || ""))
                    for (e = b.getElementsByTagName("source"),
                    f = 0,
                    g = e.length; g > f; f++)
                        e[f].setAttribute("sizes", d);
                c.detail.dataAttr || w(a, c.detail)
            }), e = function(a, b, d) {
                var e, f = a.parentNode;
                f && (d = y(a, f, d),
                e = v(a, "lazybeforesizes", {
                    width: d,
                    dataAttr: !!b
                }),
                e.defaultPrevented || (d = e.detail.width,
                d && d !== a._lazysizesWidth && c(a, f, e, d)))
            }, f = function() {
                var b, c = a.length;
                if (c)
                    for (b = 0; c > b; b++)
                        e(a[b])
            }, g = C(f);
            return {
                _: function() {
                    a = b.getElementsByClassName(d.autosizesClass),
                    j("resize", g)
                },
                checkElems: g,
                updateElem: e
            }
        }()
          , F = function() {
            F.i || (F.i = !0,
            E._(),
            D._())
        };
        return c = {
            cfg: d,
            autoSizer: E,
            loader: D,
            init: F,
            uP: w,
            aC: s,
            rC: t,
            hC: r,
            fire: v,
            gW: y,
            rAF: z
        }
    }
});
/*! p13n.js Copyright 2007-2017 RichRelevance, Inc. All Rights Reserved. Build V1.2.3.20170406 */
function r3_generic() {
    this.createScript = function(a) {
        return a
    }
}
function rr_addLoadEvent(a) {
    RR.ol(a)
}
function r3_item() {
    this.setId = function(a) {
        RR.set.call(this, a, "id")
    }
    ,
    this.setName = function(a) {
        RR.set.call(this, a, "name")
    }
    ,
    this.setRecommendable = function(a) {
        RR.set.call(this, a, "recommendable")
    }
    ,
    this.setPrice = function(a) {
        RR.set.call(this, a, "price")
    }
    ,
    this.setSalePrice = function(a) {
        RR.set.call(this, a, "salePrice")
    }
    ,
    this.setBrand = function(a) {
        RR.set.call(this, a, "brand")
    }
    ,
    this.addAttribute = function(a, b) {
        var c = a + ":" + b;
        RR.add.call(this, c, "attributes")
    }
    ,
    this.setEndDate = function(a) {
        RR.set.call(this, a, "endDate")
    }
    ,
    this.setImageId = function(a) {
        RR.set.call(this, a, "imageId")
    }
    ,
    this.setLinkId = function(a) {
        RR.set.call(this, a, "linkId")
    }
    ,
    this.setRating = function(a) {
        RR.set.call(this, a, "rating")
    }
    ,
    this.setReleaseDate = function(a) {
        RR.set.call(this, a, "releaseDate")
    }
    ,
    this.addCategory = function(a, b) {
        var c = a + ":" + b;
        RR.add.call(this, c, "categories")
    }
    ,
    this.addCategoryId = function(a) {
        RR.add.call(this, a, "categoryIds")
    }
    ,
    this.createScript = function(a) {
        return this.categories && (a += "&cs=" + encodeURIComponent(this.categories)),
        this.categoryIds && (a += "&cis=" + encodeURIComponent(this.categoryIds)),
        this.id && (a += "&p=" + encodeURIComponent(this.id)),
        this.name && (a += "&n=" + encodeURIComponent(this.name)),
        this.imageId && (a += "&ii=" + encodeURIComponent(this.imageId)),
        this.linkId && (a += "&li=" + encodeURIComponent(this.linkId)),
        this.releaseDate && (a += "&rd=" + encodeURIComponent(this.releaseDate)),
        this.price && (a += "&np=" + encodeURIComponent(this.price)),
        this.salePrice && (a += "&sp=" + encodeURIComponent(this.salePrice)),
        this.endDate && (a += "&ed=" + encodeURIComponent(this.endDate)),
        this.rating && (a += "&r=" + encodeURIComponent(this.rating)),
        typeof this.recommendable != RR.U && (a += "&re=" + encodeURIComponent(this.recommendable)),
        this.brand && (a += "&b=" + encodeURIComponent(this.brand)),
        this.attributes && (a += "&at=" + encodeURIComponent(this.attributes)),
        a
    }
}
function r3_category() {
    this.setId = function(a) {
        RR.set.call(this, a, "id")
    }
    ,
    this.setName = function(a) {
        RR.set.call(this, a, "name")
    }
    ,
    this.setParentId = function(a) {
        RR.set.call(this, a, "parentId")
    }
    ,
    this.setTopName = function(a) {
        RR.set.call(this, a, "topName")
    }
    ,
    this.addItemId = RR.addItemId,
    this.createScript = function(a) {
        return this.name && (a += "&cn=" + encodeURIComponent(this.name)),
        this.id && (a += "&c=" + encodeURIComponent(this.id)),
        this.parentId && (a += "&pc=" + encodeURIComponent(this.parentId)),
        this.topName && (a += "&tcn=" + encodeURIComponent(this.topName)),
        a
    }
}
function r3_cart() {
    this.addItemId = RR.addItemId,
    this.addItemIdCentsQuantity = RR.addItemIdCentsQuantity,
    this.addItemIdDollarsAndCentsQuantity = RR.addItemIdDollarsAndCentsQuantity,
    this.addItemIdPriceQuantity = RR.addItemIdPriceQuantity,
    this.createScript = function(a) {
        return this.purchasesCents && (a += "&ppc=" + encodeURIComponent(this.purchasesCents)),
        this.purchasesDollarsAndCents && (a += "&pp=" + encodeURIComponent(this.purchasesDollarsAndCents)),
        this.quantities && (a += "&q=" + encodeURIComponent(this.quantities)),
        this.purchasesPrice && (a += "&pp=" + encodeURIComponent(this.purchasesPrice)),
        a
    }
}
function r3_addtocart() {
    this.addItemIdToCart = RR.addItemIdToCart,
    this.createScript = function(a) {
        return this.addedToCartItemIds && (a += "&atcid=" + encodeURIComponent(this.addedToCartItemIds)),
        a
    }
}
function r3_purchased() {
    this.addItemId = RR.addItemIdCentsQuantity,
    this.addItemIdCentsQuantity = RR.addItemIdCentsQuantity,
    this.addItemIdDollarsAndCentsQuantity = RR.addItemIdDollarsAndCentsQuantity,
    this.addItemIdPriceQuantity = RR.addItemIdPriceQuantity,
    this.setOrderNumber = function(a) {
        this.orderNumber = a
    }
    ,
    this.createScript = function(a) {
        return this.orderNumber && (a += "&o=" + encodeURIComponent(this.orderNumber)),
        this.purchasesCents && (a += "&ppc=" + encodeURIComponent(this.purchasesCents)),
        this.purchasesDollarsAndCents && (a += "&pp=" + encodeURIComponent(this.purchasesDollarsAndCents)),
        this.quantities && (a += "&q=" + encodeURIComponent(this.quantities)),
        this.purchasesPrice && (a += "&pp=" + encodeURIComponent(this.purchasesPrice)),
        a
    }
}
function r3_search() {
    this.addItemId = RR.addItemId,
    this.setTerms = RR.addSearchTerm,
    this.createScript = function(a) {
        return a
    }
}
function r3_wishlist() {
    this.addItemId = RR.addItemId,
    this.createScript = function(a) {
        return a
    }
}
function r3_addtoregistry() {
    this.addItemIdCentsQuantity = RR.addItemIdCentsQuantity,
    this.createScript = function(a) {
        return a
    }
}
function r3_common() {
    function a(a, b) {
        rr_placement_place_holders.push({
            elementId: a,
            placementType: b
        })
    }
    var b = {
        startRow: -1,
        count: -1,
        priceRanges: [],
        filterAttributes: {}
    };
    this.baseUrl = "http://recs.richrelevance.com/rrserver/",
    this.jsFileName = "p13n_generated.js",
    this.addCategoryHintId = function(a) {
        RR.add.call(this, a, "categoryHintIds")
    }
    ,
    this.addClickthruParams = function(a, b) {
        var c = encodeURIComponent(a) + ":" + encodeURIComponent(b);
        RR.add.call(this, c, "clickthruParams")
    }
    ,
    this.addContext = function(a, b) {
        RR.addObject.call(this, a, "context", b)
    }
    ,
    this.addFilter = function(a) {
        RR.add.call(this, a, "filters")
    }
    ,
    this.addFilterBrand = function(a) {
        RR.add.call(this, a, "filterBrands")
    }
    ,
    this.addFilterCategory = function(a) {
        RR.add.call(this, a, "filterCategories")
    }
    ,
    this.addItemId = RR.addItemId,
    this.addItemIdToCart = RR.addItemIdToCart,
    this.addPlacementType = function(b, c) {
        RR.add.call(this, b, "placementTypes"),
        c && a(c, b)
    }
    ,
    this.addRefinement = function(a, b) {
        var c = a + ":" + b;
        RR.add.call(this, c, "refinements")
    }
    ,
    this.setRefinementFallback = function(a) {
        var b = Boolean(a) ? "t" : "f";
        RR.set.call(this, b, "doRefinementsFallback")
    }
    ,
    this.addSearchTerm = RR.addSearchTerm,
    this.addSegment = function(a, b) {
        var c;
        c = void 0 === b ? a : a + ":" + b,
        RR.add.call(this, c, "segments")
    }
    ,
    this.blockItemId = function(a) {
        RR.add.call(this, a, "blockeditemIds")
    }
    ,
    this.forceDisplayMode = function() {
        RR.set.call(this, !0, "displayModeForced")
    }
    ,
    this.forceDevMode = function() {
        RR.set.call(this, !0, "devModeForced")
    }
    ,
    this.setApiKey = function(a) {
        RR.set.call(this, a, "apiKey")
    }
    ,
    this.setBaseUrl = function(a) {
        RR.set.call(this, a, "baseUrl")
    }
    ,
    this.setCartValue = function(a) {
        RR.set.call(this, a, "cartValue")
    }
    ,
    this.setChannel = function(a) {
        RR.set.call(this, a, "channel")
    }
    ,
    this.setClickthruServer = function(a) {
        RR.set.call(this, a, "clickthruServer")
    }
    ,
    this.setFilterBrandsIncludeMatchingElements = function(a) {
        RR.set.call(this, a, "filterBrandsInclude")
    }
    ,
    this.setForcedTreatment = function(a) {
        RR.set.call(this, a, "forcedTreatment")
    }
    ,
    this.setMVTForcedTreatment = function(a) {
        RR.set.call(this, a, "mvtforcedTreatment")
    }
    ,
    this.setPageBrand = function(a) {
        RR.set.call(this, a, "brand")
    }
    ,
    this.setImageServer = function(a) {
        RR.set.call(this, a, "imageServer")
    }
    ,
    this.setRegionId = function(a) {
        RR.set.call(this, a, "regionId")
    }
    ,
    this.setLanguage = function(a) {
        RR.set.call(this, a, "language")
    }
    ,
    this.setCurrency = function(a) {
        RR.set.call(this, a, "currency")
    }
    ,
    this.setRegistryId = function(a) {
        RR.set.call(this, a, "registryId")
    }
    ,
    this.setRegistryType = function(a) {
        RR.set.call(this, a, "registryType")
    }
    ,
    this.setSessionId = function(a) {
        RR.set.call(this, a, "sessionId")
    }
    ,
    this.setUserId = function(a) {
        RR.set.call(this, a, "userId")
    }
    ,
    this.useDummyData = function() {
        RR.set.call(this, !0, "dummyDataUsed"),
        RR.set.call(this, !0, "displayModeForced")
    }
    ,
    this.RICHSORT = {
        paginate: function(a, c) {
            b.startRow = a,
            b.count = c
        },
        filterPrice: function(a) {
            b.priceRanges = a || []
        },
        filterAttribute: function(a, c) {
            b.filterAttributes[a] = c
        }
    },
    this.initFromParams = function() {
        var a = RR.checkParamCookieValue("RR Environment", "r3_env", "r3_envCookie", "r3_env");
        if (a && "" !== a) {
            var b = (0 === this.baseUrl.toLowerCase().indexOf("https://") ? "https://" : "http://") + a + ".richrelevance.com/rrserver/";
            RR.set.call(this, b, "baseUrl")
        }
        if (RR.lc("r3_forceDisplay=true") && (RR.set.call(this, !0, "debugMode"),
        RR.set.call(this, !0, "displayModeForced")),
        RR.lc("r3_forceDev=true") && (RR.set.call(this, !0, "debugMode"),
        RR.set.call(this, !0, "devModeForced")),
        RR.lc("r3_rad=true")) {
            RR.set.call(this, !0, "debugMode"),
            RR.set.call(this, !0, "devModeForced"),
            RR.set.call(this, !0, "rad");
            var c = RR.pq("r3_radLevel");
            "" !== c && RR.set.call(this, c, "radLevel")
        }
        RR.lc("r3_useDummyData=true") && (RR.set.call(this, !0, "debugMode"),
        RR.set.call(this, !0, "dummyDataUsed"),
        RR.set.call(this, !0, "devModeForced"));
        var d = RR.pq("r3_forcedTreatment");
        d && "" !== d && RR.set.call(this, d, "forcedTreatment");
        var e = RR.checkParamCookieValue("RR MVT Treatment", "r3_mvtTreatmentId", "r3_mvtCookie", "r3_mvtTreatmentId");
        e && "" !== e && RR.set.call(this, e, "mvtforcedTreatment");
        var f = RR.pq("r3_ftp");
        f && "" !== f && RR.set.call(this, f, "forcedFtp");
        var g = RR.pq("r3_responseDetails");
        g && "" !== g && RR.set.call(this, g, "rap"),
        RR.lc("r3_debugMode=true") ? RR.set.call(this, !0, "debugMode") : RR.lc("r3_debugMode=false") && RR.set.call(this, !1, "debugMode"),
        RR.lc("rr_vg=") && RR.set.call(this, RR.pq("rr_vg"), "viewGuid"),
        RR.lc("rm=") && RR.set.call(this, RR.pq("rm"), "fromRichMail"),
        RR.lc("rr_u=") && RR.set.call(this, RR.pq("rr_u"), "userId")
    }
    ,
    this.createScript = function(a, c, d) {
        var e, f, g, h, i, j, k, l, m = "", n = [], o = [], p = 0, q = new Date;
        if (this.initFromParams(),
        a = this.baseUrl + this.jsFileName + "?a=" + encodeURIComponent(this.apiKey) + "&ts=" + q.getTime() + "&v=" + rr_v + (0 === this.baseUrl.toLowerCase().indexOf("https://") ? "&ssl=t" : "") + a,
        this.placementTypes ? a += "&pt=" + encodeURIComponent(this.placementTypes) : d && (this.addPlacementType(d),
        a += "&pt=" + encodeURIComponent(d),
        a += "&pte=t"),
        this.userId && (a += "&u=" + encodeURIComponent(this.userId)),
        this.sessionId && (a += "&s=" + encodeURIComponent(this.sessionId)),
        this.viewGuid && "" !== this.viewGuid && (a += "&vg=" + encodeURIComponent(this.viewGuid)),
        this.segments && (a += "&sgs=" + encodeURIComponent(this.segments)),
        this.channel && (a += "&channelId=" + encodeURIComponent(this.channel)),
        this.clickthruServer && (a += "&cts=" + encodeURIComponent(this.clickthruServer)),
        this.imageServer && (a += "&imgsrv=" + encodeURIComponent(this.imageServer)),
        this.addedToCartItemIds && (a += "&atcid=" + encodeURIComponent(this.addedToCartItemIds)),
        this.cartValue && (a += "&cv=" + encodeURIComponent(this.cartValue)),
        this.forcedTreatment && "" !== this.forcedTreatment && (a += "&ftr=" + encodeURIComponent(this.forcedTreatment)),
        this.mvtforcedTreatment && "" !== this.mvtforcedTreatment && (a += "&mvt_ftr=" + encodeURIComponent(this.mvtforcedTreatment)),
        this.forcedFtp && "" !== this.forcedFtp && (a += "&ftp=" + encodeURIComponent(this.forcedFtp)),
        this.rap && "" !== this.rap && (a += "&rap=" + encodeURIComponent(this.rap)),
        this.fromRichMail && "" !== this.fromRichMail && (a += "&rm=" + encodeURIComponent(this.fromRichMail)),
        this.categoryHintIds && (a += "&chi=" + encodeURIComponent(this.categoryHintIds)),
        this.brand && (a += "&fpb=" + encodeURIComponent(this.brand)),
        this.filterBrands && (a += "&filbr=" + encodeURIComponent(this.filterBrands)),
        this.filterBrandsInclude && (a += "&filbrinc=" + encodeURIComponent(this.filterBrandsInclude)),
        this.filterCategories && (a += "&filcat=" + encodeURIComponent(this.filterCategories)),
        this.filterCategoriesInclude && (a += "&filcatinc=" + encodeURIComponent(this.filterCategoriesInclude)),
        this.clickthruParams && (a += "&ctp=" + encodeURIComponent(this.clickthruParams)),
        this.regionId && (a += "&rid=" + encodeURIComponent(this.regionId)),
        this.language && (a += "&language=" + encodeURIComponent(this.language)),
        this.currency && (a += "&currency=" + encodeURIComponent(this.currency)),
        this.filters && (a += "&if=" + encodeURIComponent(this.filters)),
        this.refinements && (a += "&rfm=" + encodeURIComponent(this.refinements),
        this.doRefinementsFallback && (a += "&rfb=" + encodeURIComponent(this.doRefinementsFallback))),
        typeof this.rad != RR.U && (a += "&rad=t"),
        typeof this.radLevel != RR.U && (a += "&radl=" + encodeURIComponent(this.radLevel)),
        typeof this.context != RR.U)
            for (e in this.context)
                if (f = this.context[e],
                a += "&" + e + "=",
                RR.isArray(f))
                    a += encodeURIComponent(f.join("|"));
                else if (f === Object(f)) {
                    g = [],
                    h = "";
                    for (i in f)
                        h = i + ":",
                        h += RR.isArray(f[i]) ? f[i].join(";") : f[i],
                        g.push(h);
                    a += encodeURIComponent(g.join("|"))
                } else
                    a += encodeURIComponent(f);
        if (this.registryId && (a += "&rg=" + encodeURIComponent(this.registryId)),
        this.registryType && (a += "&rgt=" + encodeURIComponent(this.registryType)),
        typeof this.searchTerms != RR.U && (a += "&st=" + encodeURIComponent(this.searchTerms)),
        this.jsonCallback && (a += "&jcb=" + encodeURIComponent(this.jsonCallback)),
        this.blockeditemIds && (a += "&bi=" + encodeURIComponent(this.blockeditemIds)),
        this.itemIds && (a += "&p=" + encodeURIComponent(this.itemIds)),
        b.startRow > 0 && (a += "&rssr=" + encodeURIComponent(b.startRow)),
        b.count > 0 && (a += "&rsrc=" + encodeURIComponent(b.count)),
        "undefined" != typeof b.priceRanges && b.priceRanges.length > 0) {
            for (j = b.priceRanges.length; p < j; p += 1)
                o.push(b.priceRanges[p].join(";"));
            a += "&rspr=" + encodeURIComponent(o.join("|"))
        }
        for (k in b.filterAttributes)
            n.push(k + ":" + b.filterAttributes[k].join(";"));
        return n.length > 0 && (a += "&rsfoa=" + encodeURIComponent(n.join("|"))),
        this.debugMode && (this.displayModeForced && this.displayModeForced === !0 && (a += "&fdm=t"),
        this.devModeForced && this.devModeForced === !0 && (a += "&dev=t"),
        this.dummyDataUsed && this.dummyDataUsed === !0 && (a += "&udd=t")),
        "" !== RR.d.referrer && typeof RR.d.referrer != RR.U ? m = RR.d.referrer : "" !== RR.d.referer && typeof RR.d.referer != RR.U && (m = RR.d.referer),
        "" !== m && (a += "&pref=" + encodeURIComponent(m)),
        l = RR.c("rr_rcs"),
        l.length && (a += "&rcs=" + l),
        a += "&l=1"
    }
}
function r3_placement(a) {
    var b = "rr_placement_" + rr_placement_place_holders.length;
    document.write('<div id="' + b + '"></div>'),
    rr_placement_place_holders.push({
        elementId: b,
        placementType: a
    })
}
function r3(a, b, c) {
    typeof c != RR.U && c || RR.js()
}
function rr_flush_onload() {
    RR.onloadCalled || (RR.onloadCalled = !0,
    rr_onload_called = !0,
    rr_flush())
}
function rr_flush() {}
function rr_insert_placement(a, b) {
    RR.insert(a, b, rr_placements)
}
var rr_v = "1.2.3.20170406", rr_onload_called = !1, rr_placements = [], rr_placement_place_holders = [], RR, r3_home, r3_error, r3_personal, r3_brand, R3_COMMON;
r3_home = r3_generic,
r3_error = r3_generic,
r3_personal = r3_generic,
r3_brand = r3_generic,
RR = function() {
    function a(b, c) {
        var d, e = b.cloneNode(!1);
        if ("SCRIPT" === e.nodeName)
            e.text = b.innerHTML,
            c.appendChild(e);
        else if ("#text" === e.nodeName)
            c.appendChild(e);
        else
            for (c.appendChild(e),
            d = 0; d < b.childNodes.length; d++)
                a(b.childNodes[d], e)
    }
    function b(a) {
        var b = document.createElement("script");
        b.type = "text/javascript",
        b.charset = RR.charset,
        b.src = a,
        b.async = !0,
        document.getElementsByTagName("head")[0].appendChild(b)
    }
    function c(a) {
        var b = a.split(".").reverse()
          , c = b.length;
        return c >= 3 && b[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i) ? b[2] + "." + b[1] + "." + b[0] : b[1] + "." + b[0]
    }
    return {
        U: "undefined",
        charset: "UTF-8",
        rcsCookieDefaultDuration: 730,
        setCharset: function(a) {
            RR.charset = a
        },
        isArray: function(a) {
            return "[object Array]" == Object.prototype.toString.call(a)
        },
        fixName: function(a) {
            var b = String(a);
            return b.indexOf("&amp;") > -1 && (b = b.replace(/&amp;/g, "&")),
            b.indexOf("&#039;") > -1 && (b = b.replace(/&#039;/g, "'")),
            b
        },
        l: location.href,
        d: document,
        c: function(a, b, d, e) {
            if (typeof b == RR.U || null === b) {
                if (d != -1) {
                    if (RR.d.cookie.length > 0)
                        for (var f = RR.d.cookie.split(";").reverse(), g = 0, h = f.length; g < h; g++) {
                            var i = f[g];
                            i = "function" == typeof i.trim ? i.trim() : i.replace(/^\s+|\s+$/g, "");
                            var j = i.indexOf(a + "=");
                            if (0 === j) {
                                j = j + a.length + 1;
                                var k = i.length;
                                return unescape(i.substring(j, k))
                            }
                        }
                    return ""
                }
                RR.d.cookie = a + "=;path=/;expires=Thu, 01-Jan-1970 00:00:01 GMT"
            } else if (d) {
                var l = new Date
                  , m = e ? c(window.location.hostname) : "";
                l = new Date(l.getTime() + 1e3 * d * 60 * 60 * 24),
                RR.d.cookie = a + "=" + escape(b) + ";path=/;domain=" + m + ";expires=" + l.toUTCString()
            } else
                RR.d.cookie = a + "=" + escape(b)
        },
        id: function(a) {
            return RR.d.getElementById(a)
        },
        lc: function(a) {
            if (a.indexOf("=") === -1 && (a += "="),
            a.indexOf("?") === -1 && a.indexOf("&") === -1) {
                var b = RR.l.indexOf("?" + a);
                return b === -1 && (b = RR.l.indexOf("&" + a)),
                b !== -1
            }
            return RR.l.indexOf(a) !== -1
        },
        ol: function(a) {
            if ("function" != typeof window.onload)
                window.onload = a;
            else {
                if (typeof window.rr_onloads == RR.U) {
                    var b = window.onload;
                    window.rr_onloads = [b],
                    window.onload = function(a) {
                        for (; window.rr_onloads.length > 0; ) {
                            var b = window.rr_onloads.shift();
                            b && "function" == typeof b && b.call(window, a)
                        }
                    }
                }
                window.rr_onloads.push(a)
            }
        },
        pq: function(a) {
            var b = RR.l.indexOf("?" + a + "=");
            b == -1 && (b = RR.l.indexOf("&" + a + "="));
            var c;
            if (b !== -1) {
                b++;
                var d = RR.l.indexOf("&", b);
                c = d != -1 ? RR.l.substring(b + a.length + 1, d) : RR.l.substring(b + a.length + 1, RR.l.length)
            } else
                c = "";
            return c
        },
        debugWindow: function(a) {
            var b = RR.d.createElement("DIV");
            b.innerHTML = a,
            b.style.position = "absolute",
            b.style.top = "0px",
            b.style.right = "0px",
            b.style.zIndex = "10000",
            b.style.width = "200px",
            b.style.border = "2px solid black",
            b.style.padding = "5px",
            b.style.background = "#DDD",
            RR.d.body.insertBefore(b, RR.d.body.firstChild)
        },
        jsonCallback: function(a) {},
        defaultCallback: function(b) {
            var c, d, e, f, g, h, i, j, k = b.placements, l = rr_placement_place_holders;
            for (h = 0; h < l.length; h++)
                if (g = !1,
                c = RR.id(l[h].elementId),
                c && typeof c != RR.U)
                    for (i = 0; i < k.length; i++)
                        if (!k[i].used && k[i].placementType == l[h].placementType) {
                            if (k[i].placeholderIndex = h,
                            k[i].used = !0,
                            k[i].html.indexOf("<script") == -1 ? (c.innerHTML = k[i].html,
                            g = !0) : RR.d.implementation.hasFeature("Range", "2.0") && RR.d.createRange && (e = RR.d.createRange(),
                            e.selectNodeContents && e.createContextualFragment && e.detach && (e.selectNodeContents(c),
                            f = e.createContextualFragment(k[i].html),
                            c.appendChild(f),
                            e.detach(),
                            g = !0)),
                            !g)
                                for (d = RR.d.createElement("div"),
                                d.innerHTML = k[i].html,
                                j = 0; j < d.childNodes.length; j++)
                                    a(d.childNodes[j], c);
                            break
                        }
            for (rr_placements = [],
            i = 0; i < k.length; i++)
                rr_placements[i] = [k[i].used ? 1 : 0, k[i].placementType, k[i].html];
            if (typeof rr_remote_data !== RR.U && rr_remote_data.length) {
                var m = RR.rcsCookieDuration || RR.rcsCookieDefaultDuration;
                RR.c("rr_rcs", rr_remote_data.toString(), m, !0)
            }
        },
        onloadCalled: !1,
        js: function(a) {
            var c = ""
              , d = !1
              , e = "";
            if (typeof R3_COMMON != RR.U && typeof R3_COMMON.baseUrl != RR.U && typeof R3_COMMON.apiKey != RR.U)
                return typeof R3_COMMON.placementTypes !== RR.U && "" !== R3_COMMON.placementTypes || (d = !0),
                typeof R3_PURCHASED !== RR.U ? (e = "purchase_complete_page",
                c = R3_PURCHASED.createScript(c)) : typeof R3_CART !== RR.U ? (e = "cart_page",
                c = R3_CART.createScript(c)) : typeof R3_ADDTOCART !== RR.U ? (e = "add_to_cart_page",
                c = R3_ADDTOCART.createScript(c)) : typeof R3_ADDTOREGISTRY !== RR.U ? (e = "add_to_registry_page",
                c = R3_ADDTOREGISTRY.createScript(c)) : typeof R3_ITEM !== RR.U ? (e = "item_page",
                c = R3_ITEM.createScript(c)) : typeof R3_BRAND !== RR.U ? (e = "brand_page",
                c = R3_BRAND.createScript(c)) : typeof R3_CATEGORY !== RR.U ? (e = "category_page",
                c = R3_CATEGORY.createScript(c)) : typeof R3_SEARCH !== RR.U ? (e = "search_page",
                c = R3_SEARCH.createScript(c)) : typeof R3_WISHLIST !== RR.U ? (e = "cart_page",
                c = R3_WISHLIST.createScript(c)) : typeof R3_HOME !== RR.U ? (e = "home_page",
                c = R3_HOME.createScript(c)) : typeof R3_PERSONAL !== RR.U ? (e = "personal_page",
                c = R3_PERSONAL.createScript(c)) : typeof R3_GENERIC !== RR.U ? (e = "generic_page",
                c = R3_GENERIC.createScript(c)) : typeof R3_ERROR !== RR.U && (e = "error_page",
                c = R3_ERROR.createScript(c)),
                c = R3_COMMON.createScript(c, d, e),
                a || (setTimeout(function() {
                    b(c)
                }, 10),
                RR.ol(rr_flush_onload)),
                c
        },
        insert: function(b, c, d) {
            var e, f, g, h, j, k;
            for (j = 0; j < d.length; j++)
                if (e = !1,
                0 === d[j][0] && d[j][1] == c) {
                    if (d[j][0] = 1,
                    d[j][2].indexOf("<script") == -1 ? (b.innerHTML = d[j][2],
                    e = !0) : RR.d.implementation.hasFeature("Range", "2.0") && RR.d.createRange && (g = RR.d.createRange(),
                    g.selectNodeContents && g.createContextualFragment && g.detach && (g.selectNodeContents(b),
                    h = g.createContextualFragment(d[j][2]),
                    b.appendChild(h),
                    g.detach(),
                    e = !0)),
                    !e)
                        for (f = RR.d.createElement("div"),
                        f.innerHTML = d[i][2],
                        k = 0; k < f.childNodes.length; k++)
                            a(f.childNodes[k], b);
                    return
                }
        },
        get: function(a) {
            return this[a]
        },
        set: function(a, b) {
            return this[b] = RR.fixName(a),
            this[b]
        },
        add: function(a, b) {
            return typeof this[b] == RR.U && (this[b] = ""),
            this[b] += "|" + RR.fixName(a),
            this[b]
        },
        addObject: function(a, b, c) {
            var d, e, f;
            (typeof this[b] == RR.U || c) && (this[b] = {});
            for (d in a)
                if (e = a[d],
                void 0 === this[b][d])
                    this[b][d] = e;
                else if (this[b][d] === Object(this[b][d]) && e === Object(e))
                    for (f in e)
                        this[b][d][f] = e[f];
                else {
                    var g = this[b][d]
                      , h = e;
                    RR.isArray(g) || (g = [g]),
                    RR.isArray(e) || (h = [e]),
                    this[b][d] = g.concat(h)
                }
        },
        addItemId: function(a, b) {
            var c = a;
            typeof b != RR.U && (c = c + "~" + b),
            RR.add.call(window.R3_COMMON, c, "itemIds")
        },
        addItemIdToCart: function(a, b) {
            var c = a;
            typeof b != RR.U && (c = c + "~" + b),
            RR.add.call(this, c, "addedToCartItemIds")
        },
        addSearchTerm: function(a) {
            RR.add.call(window.R3_COMMON, a, "searchTerms")
        },
        genericAddItemPriceQuantity: function(a, b, c, d, e) {
            typeof c == RR.U && (c = 0),
            typeof e == RR.U && (e = -1),
            e = String(e),
            e.indexOf(".") != -1 && (e = e.substring(0, e.indexOf("."))),
            RR.addItemId.call(this, a, b),
            RR.add.call(this, c, d),
            RR.add.call(this, e, "quantities")
        },
        addItemIdCentsQuantity: function(a, b, c, d) {
            RR.genericAddItemPriceQuantity.call(this, a, d, b, "purchasesCents", c)
        },
        addItemIdDollarsAndCentsQuantity: function(a, b, c, d) {
            RR.genericAddItemPriceQuantity.call(this, a, d, b, "purchasesDollarsAndCents", c)
        },
        addItemIdPriceQuantity: function(a, b, c, d) {
            RR.genericAddItemPriceQuantity.call(this, a, d, b, "purchasesPrice", c)
        },
        checkParamCookieValue: function(a, b, c, d) {
            var e = RR.pq(b)
              , f = RR.pq(c)
              , g = new RegExp("^\\w+$");
            if (g.test(e))
                return "session" === f ? RR.c(d, e) : isNaN(parseInt(f)) ? RR.c(d, null, -1) : RR.c(d, e, f),
                RR.debugWindow(a + ' set to "' + e + '".'),
                e;
            if (e = RR.c(d),
            e && g.test(e)) {
                if ("remove" !== mvtCookie)
                    return RR.debugWindow(a + ' set to "' + e + '". To remove from cookie, add ' + c + "=remove to your query parameters."),
                    e;
                RR.c(d, null, -1)
            }
            return null
        }
    }
}();

ACC.global = {
    _autoload: ["initBindFirstMethod", "initHasClassRegexMethod", ["passwordStrength", $('.password-strength').length > 0], "bindToggleOffcanvas", "bindToggleXsSearch", "bindHoverIntentMainNavigation", "initImager", "backToHome", "backToPreviousPage", "showCountrySelector", "showCountrySelectorMobile", "setCountry", "closeCountrySelectorApproval", "showCountrySelectorApproval", "bindClearSearchText", "bindFocusSearchBox", "showCountryList", "bindClearSearchTextVisibility"],
    showCountryList: function() {
        $(document).on('click', '.js-cmsSiteGroupSelector', function(event) {
            $('.js-cmsSiteGroupSelector').removeClass('active');
            $('.js-cmsSiteGroupSelector').find('.js-link').removeClass('active');
            $(this).addClass('active');
            $(this).find('.js-link').addClass('active');
            $('.js-countryListContainer').removeClass('active');
            var countryListContainer = $(this).data('countrylist');
            $('#' + countryListContainer).addClass('active');
        });
        $(document).on('click', '.js-displayContent', function(e) {
            e.stopPropagation();
            $('.js-displayContent').not(this).children().removeClass('active');
            $(this).children().toggleClass('active');
        });
        $(document).on('click', '.js-displayRegionMobile', function(e) {
            e.stopPropagation();
            $('.js-displayRegionMobile').not(this).children().removeClass('active');
            $(this).children().toggleClass('active');
        });
    },
    setCountry: function() {
        $(document).on("click", "#selectCountryApproval", function(data) {
            var baseStore = $(this).data("basestore");
            var site = $(this).data("site");
            var isocode = $(this).data("isocode");
            var isNeedLogout = $(this).data("needs-logout");
            sessionStorage.setItem("CSRFTokenInfo", null);
            $.post(ACC.config.encodedContextPath + "/_s/setCountry", {
                baseStore: baseStore,
                isoCode: isocode
            }, function() {
                var currentLocation = window.location.href;
                var targetContextPath = "/" + isocode + "-" + site + "/";
                var newLocation = isNeedLogout ? targetContextPath : currentLocation.replace(ACC.config.encodedContextPath + "/", targetContextPath);
                location.href = newLocation;
            });
            swal.closeModal();
        });
    },
    openFirstCountrySelectorPopup: function(data) {
        swal({
            html: data,
            showConfirmButton: false,
            showCloseButton: true,
            width: ACC.overlay.overlaySize.full,
            customClass: ACC.overlay.overlayCustomClass.fullOverlay
        });
    },
    openSecondCountrySelectorPopup: function(data) {
        swal({
            html: data,
            showConfirmButton: false,
            showCloseButton: true,
            width: ACC.overlay.overlaySize.full,
            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
        });
    },
    showCountrySelector: function() {
        $('.js-showCountrySelectorDesktop').bind("click", function(e) {
            e.preventDefault();
            $.get(ACC.config.encodedContextPath + '/_s/countries').done(ACC.global.openFirstCountrySelectorPopup);
        });
    },
    showCountrySelectorMobile: function() {
        $('.js-showCountrySelectorMobile').bind("tap", function(e) {
            e.preventDefault();
            $.get(ACC.config.encodedContextPath + '/_s/countries').done(ACC.global.openFirstCountrySelectorPopup);
        })
    },
    closeCountrySelectorApproval: function() {
        $('body').on("click", "#closeCountryApproval", function(e) {
            e.preventDefault();
            swal.closeModal();
        });
    },
    showCountrySelectorApproval: function() {
        $('body').on("click", ".js-countrySelectorLink", function(e) {
            e.preventDefault();
            var baseStore = $(this).data("basestore");
            var site = $(this).data("site");
            var isocode = $(this).data("isocode");
            var currentisocode = $(this).data("currentisocode");
            var sitechanged = $(this).data("sitechanged");
            swal.closeModal();
            if (sitechanged) {
                $.get(ACC.config.encodedContextPath + '/_s/countryapproval?baseStore=' + baseStore + '&site=' + site + '&isoCode=' + isocode).done(ACC.global.openSecondCountrySelectorPopup);
            } else if (isocode !== currentisocode) {
                $.post(ACC.config.encodedContextPath + "/_s/setCountry", {
                    baseStore: baseStore,
                    isoCode: isocode
                }, function() {
                    location.href = window.location.href.replace(ACC.config.encodedContextPath + "/", "/" + isocode + "-" + site + "/");
                });
            }
        });
    },
    passwordStrength: function() {
        $('.password-strength').pstrength({
            verdicts: [ACC.pwdStrengthTooShortPwd, ACC.pwdStrengthVeryWeak, ACC.pwdStrengthWeak, ACC.pwdStrengthMedium, ACC.pwdStrengthStrong, ACC.pwdStrengthVeryStrong],
            minCharText: ACC.pwdStrengthMinCharText
        });
    },
    bindToggleOffcanvas: function() {
        $(document).on("click", ".js-toggle-sm-navigation", function() {
            ACC.global.toggleClassState($("main"), "offcanvas");
            ACC.global.toggleClassState($("html"), "offcanvas");
            ACC.global.toggleClassState($("body"), "offcanvas");
            ACC.global.resetXsSearch();
        });
    },
    bindToggleXsSearch: function() {
        $(document).on("click", ".js-toggle-xs-search", function() {
            ACC.global.toggleClassState($(".site-search"), "active");
            ACC.global.toggleClassState($(".main-header-md .sm-navigation"), "search-open");
        });
    },
    resetXsSearch: function() {
        $('.site-search').removeClass('active');
        $(".main-header-md .sm-navigation").removeClass("search-open");
    },
    toggleClassState: function($e, c) {
        $e.hasClass(c) ? $e.removeClass(c) : $e.addClass(c);
        return $e.hasClass(c);
    },
    bindHoverIntentMainNavigation: function() {
        enquire.register("screen and (min-width:" + screenMdMin + ")", {
            match: function() {
                $("nav.main-navigation > ul > li").hoverIntent(function() {
                    var $this = $(this)
                      , itemWidth = $this.width();
                    var $subNav = $this.find('.sub-navigation')
                      , subNavWidth = $subNav.outerWidth();
                    var $mainNav = $('.main-navigation')
                      , mainNavWidth = $mainNav.width();
                    var leftPos = $this.position().left + itemWidth / 2 - subNavWidth / 2;
                    var topPos = $this.position().top + $this.height();
                    if (leftPos > 0 && leftPos + subNavWidth < mainNavWidth) {
                        $subNav.css({
                            "left": leftPos,
                            "top": topPos,
                            "right": "auto"
                        });
                    } else if (leftPos < 0) {
                        $subNav.css({
                            "left": 0,
                            "top": topPos,
                            "right": "auto"
                        });
                    } else if (leftPos + subNavWidth > mainNavWidth) {
                        $subNav.css({
                            "right": 0,
                            "top": topPos,
                            "left": "auto"
                        });
                    }
                    $this.addClass("md-show-sub");
                }, function() {
                    $(this).removeClass("md-show-sub")
                });
            },
            unmatch: function() {
                $("nav.main-navigation > ul > li .sub-navigation").removeAttr("style");
                $("nav.main-navigation > ul > li").hoverIntent(function() {});
            }
        });
    },
    initImager: function(elems) {
        elems = elems || '.js-responsive-image';
        this.imgr = new Imager(elems);
    },
    reprocessImages: function(elems) {
        elems = elems || '.js-responsive-image';
        if (this.imgr == undefined) {
            this.initImager(elems);
        } else {
            this.imgr.checkImagesNeedReplacing($(elems));
        }
    },
    addGoogleMapsApi: function(callback) {
        if (callback != undefined && $(".js-googleMapsApi").length == 0) {
            if (ACC.config.googleApiBusinessKey) {
                $('head').append('<script class="js-googleMapsApi" type="text/javascript" src="//maps.googleapis.com/maps/api/js?client=' + ACC.config.googleApiBusinessKey + '&v=' + ACC.config.googleApiVersion + '&libraries=places&callback=' + callback + '"></script>');
            } else {
                $('head').append('<script class="js-googleMapsApi" type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=' + ACC.config.googleApiKey + '&v=' + ACC.config.googleApiVersion + '&libraries=places&callback=' + callback + '"></script>');
            }
        } else if (callback != undefined) {
            eval(callback + "()");
        }
    },
    backToHome: function() {
        $(".backToHome").on("click", function() {
            var sUrl = ACC.config.contextPath;
            window.location = sUrl;
        });
    },
    backToPreviousPage: function() {
        $(".goBack").on("click", function() {
            window.history.back();
        });
    },
    bindClearSearchText: function() {
        var $clearForm = $(".js-remove-search-text");
        var searchForm = ".js-search-form";
        $clearForm.on('click', function() {
            $(this).addClass("hidden").siblings(searchForm).val("").focus();
        });
        if ($(searchForm).length && $(searchForm).val().length) {
            $clearForm.removeClass("hidden");
        }
    },
    bindClearSearchTextVisibility: function() {
        var clearForm = ".js-remove-search-text";
        var $searchForm = $(".js-search-form");
        $searchForm.keyup(function() {
            if ($(this).val() === "") {
                $(clearForm).addClass("hidden");
            } else {
                $(this).siblings(clearForm).removeClass("hidden");
            }
        })
    },
    bindFocusSearchBox: function() {
        var $searchForm = $(".js-search-form, .js-form-search-input");
        $searchForm.on('focus', function() {
            var dataLayer = window.dataLayer || [];
            dataLayer.push({
                "event": "searchboxClick"
            });
        });
    },
    isLeapYear: function(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    },
    numberOfDaysInMonth: function(month, year) {
        switch (month) {
        case 2:
            return ACC.global.isLeapYear(year) ? 29 : 28;
        case 11:
        case 9:
        case 6:
        case 4:
            return 30;
        default:
            return 31;
        }
    },
    isDateFieldEmpty: function(fieldCode) {
        var day = $('#' + fieldCode + '_day').val();
        var month = $('#' + fieldCode + '_month').val();
        var year = $('#' + fieldCode + '_year').val();
        return day === "" && month === "" && year === "";
    },
    initBindFirstMethod: function() {
        $.fn.bindFirst = function(name, fn) {
            this.on(name, fn);
            this.each(function() {
                var handlers = $._data(this, 'events')[name.split('.')[0]];
                var handler = handlers.pop();
                handlers.splice(0, 0, handler);
            });
        }
        ;
    },
    initHasClassRegexMethod: function() {
        $.fn.hasClassRegEx = function(regex) {
            var classes = $(this).attr('class');
            if (!classes || !regex) {
                return false;
            }
            classes = classes.split(' ');
            var len = classes.length;
            for (var i = 0; i < len; i++) {
                if (classes[i].match(regex)) {
                    return true;
                }
            }
            return false;
        }
    }
};

ACC.sessionStorage = {
    _getWindowScrollTopKey: function() {
        var url = window.location.href;
        return "scrollTop-" + url.replace(/\//g, '');
    },
    setPageScrollPosition: function(scrollTop) {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            return;
        }
        window.sessionStorage.setItem(this._getWindowScrollTopKey(), scrollTop);
    },
    getPageScrollPosition: function() {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            return;
        }
        return window.sessionStorage.getItem(this._getWindowScrollTopKey());
    },
    removePageScrollPosition: function() {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            return;
        }
        window.sessionStorage.removeItem(this._getWindowScrollTopKey());
    }
};

ACC.blockUI = {
    _CLOSEST_SELECTOR: ':closest',
    _FIND_SELECTOR: ':find',
    spinner_small: $("<img class='spinner-small' src='" + ACC.config.themeResourcePath + "/images/animations/Swarovski_Loading_3D_120_120.gif' alt='" + ACC.loadingAnimationAltText + "'/>"),
    spinner_medium: $("<div class='loading-overlay'>" + "<div class='loading-wrapper'>" + "<img class='spinner-medium' src='" + ACC.config.themeResourcePath + "/images/animations/Swarovski_Loading_3D_120_120.gif' alt='" + ACC.loadingAnimationAltText + "'/>" + "<p class='loading-wrapper__message'></p>" + "</div>" + "</div>"),
    _enableIfBlockedByAjax: function($ele) {
        if ($ele.data('disabledByAjax') === true) {
            $ele.prop('disabled', false);
            $ele.data('disabledByAjax', false);
        }
    },
    getElementToBlock: function($ele, blockSelector) {
        var $elementToBlock;
        if (!blockSelector) {
            $elementToBlock = $ele;
        } else {
            if (blockSelector.startsWith(ACC.blockUI._CLOSEST_SELECTOR)) {
                $elementToBlock = $ele.closest(blockSelector.replace(ACC.blockUI._CLOSEST_SELECTOR + '(', '').replace(')', ''));
            } else if (blockSelector.startsWith(ACC.blockUI._FIND_SELECTOR)) {
                $elementToBlock = $ele.find(blockSelector.replace(ACC.blockUI._FIND_SELECTOR + '(', '').replace(')', ''));
            } else {
                $elementToBlock = $(blockSelector);
            }
        }
        return $elementToBlock;
    },
    block: function($ele, options) {
        var spinner = ACC.blockUI.spinner_medium;
        var spinnerAlign = 'center';
        var background = 'rgba(255,255,255,0.5)';
        var position = 'absolute';
        var height = 'auto';
        var formSel = $ele.closest('form');
        var showSpinnerMessage = formSel.data('block-text');
        var blockWholePage = formSel.data('block-selector') === 'body' || $ele.data('block-selector') === 'body';
        if ($ele.is('button, input, a')) {
            if (!$ele.prop('disabled')) {
                $ele.prop('disabled', true);
                $ele.data('disabledByAjax', true);
            }
            if (!blockWholePage) {
                spinner = ACC.blockUI.spinner_small;
                spinnerAlign = 'right';
                showSpinnerMessage = false;
            }
        }
        if (blockWholePage) {
            position = 'fixed';
            height = '100%';
        }
        var defaultOptions = {
            message: spinner,
            css: {
                background: background,
                height: height,
                border: 'none',
                width: '100%',
                'text-align': spinnerAlign,
                position: position,
                opacity: 1
            },
            overlayCSS: {
                background: background,
                opacity: 1
            },
            baseZ: 10000,
            fadeIn: 0
        };
        $ele.block($.extend(defaultOptions, options));
        if (showSpinnerMessage) {
            ACC.blockUI.handleLoadingMessage(showSpinnerMessage);
        }
        if ($ele.is('button, input, a')) {
            $ele.addClass('hide-text');
        }
        setTimeout(function() {
            $ele.unblock();
            ACC.blockUI._enableIfBlockedByAjax($ele);
        }, ACC.config.blockUI.coolOffMillis);
    },
    unblock: function($ele) {
        $ele.unblock();
        ACC.blockUI._enableIfBlockedByAjax($ele);
        if ($ele.is('button, input, a')) {
            $ele.removeClass('hide-text');
        }
    },
    handleLoadingMessage: function(showSpinnerMessage) {
        var timeout = ACC.spinner.timeout * 1000;
        setTimeout(function() {
            $('.loading-wrapper__message').text(showSpinnerMessage);
        }, timeout);
    }
};

(function($) {
    var _blockElement = function($ele, options) {
        ACC.blockUI.block($ele, options);
    };
    var _unblockElement = function($ele) {
        ACC.blockUI.unblock($ele);
    };
    var _getOptionsForAjaxForm = function($ele, callbackOrOptions) {
        var options = {};
        if (typeof callbackOrOptions === 'function') {
            options.success = callbackOrOptions;
        } else {
            $.extend(options, callbackOrOptions);
        }
        var $elementToBlock;
        if (options.blockSelector) {
            $elementToBlock = ACC.blockUI.getElementToBlock($ele, options.blockSelector);
        } else {
            $elementToBlock = $ele;
        }
        var beforeSubmit = options.beforeSubmit;
        options.beforeSubmit = function() {
            if (typeof beforeSubmit === 'function') {
                beforeSubmit();
            }
            _blockElement($elementToBlock);
        }
        ;
        var complete = options.complete;
        options.complete = function() {
            if (typeof complete === 'function') {
                complete();
            }
            _unblockElement($elementToBlock);
        }
        ;
        return options;
    };
    $.fn.blockAjax = function(arguments) {
        var $ele = this;
        _blockElement($ele);
        return $.ajax(arguments).always(function() {
            _unblockElement($ele)
        });
    }
    ;
    $.fn.blockPost = function(url, data, success, dataType) {
        var $ele = this;
        _blockElement($ele);
        return $.post(url, data, success, dataType).always(function() {
            _unblockElement($ele)
        });
    }
    ;
    $.fn.blockGet = function(url, data, success, dataType) {
        var $ele = this;
        _blockElement($ele);
        return $.get(url, data, success, dataType).always(function() {
            _unblockElement($ele)
        });
    }
    ;
    $.fn.blockAjaxForm = function(callbackOrOptions) {
        this.ajaxForm(_getOptionsForAjaxForm(this, callbackOrOptions));
        return this;
    }
    ;
    $.fn.blockAjaxSubmit = function(callbackOrOptions) {
        this.ajaxSubmit(_getOptionsForAjaxForm(this, callbackOrOptions));
        return this;
    }
    ;
}(jQuery));

ACC.forms = {
    _autoload: ["validatePrefilledForms", "bindBlockingFormSubmission"],
    hasValidationErrors: function($form) {
        var formValidation = $form.data('formValidation');
        return formValidation && !formValidation.isValid();
    },
    showError: function($field, text) {
        var $formGroup = $field.closest('.form-group');
        $formGroup.addClass('has-error');
        var $errorText = $formGroup.find('.js-error-text');
        if (text) {
            $errorText.html(text);
        } else {
            $errorText.html($errorText.data('text'));
        }
        var $form = $field.closest('form');
        var $formId = $form.attr('id');
        var $fieldId;
        if ($field.attr('id')) {
            $fieldId = $formId + "_" + $field.attr('id');
        } else {
            $fieldId = $formId + "_" + $field.attr('name');
        }
        ACC.tracking.pushFormFieldError($formId, $fieldId, $errorText.data('text-en'));
    },
    hideError: function($field) {
        $field.closest('.form-group').removeClass('has-error');
    },
    hideErrors: function($form) {
        $form.find('.form-group').removeClass('has-error');
    },
    validatePrefilledForms: function() {
        var $form = $('*[data-validate-form="true"]').find("form");
        $form.formValidation('validate');
    },
    bindBlockingFormSubmission: function() {
        $(document).on('submit', '.js-block-submit', function() {
            var $ele = $(this);
            if (ACC.forms.hasValidationErrors($ele)) {
                return;
            }
            var blockSelector = $ele.data('block-selector');
            ACC.blockUI.block(ACC.blockUI.getElementToBlock($ele, blockSelector));
        });
    }
};

ACC.messages = {
    buildMessageContainer: function(text, type) {
        if (type == 'success') {
            return $('<form class="has-success"><div class="form-validation"><div class="form-validation__valid"><div class="form-validation__headline">' + '<div class="form-text form-text--fe10"><span class="form-text__icon form-text__icon--valid"></span>' + text + '</div></div></div></div></form>');
        } else {
            return $('<form class="has-error"><div class="form-validation"><div class="form-validation__invalid"><div class="form-validation__headline">' + '<div class="form-text form-text--fe11"><span class="form-text__icon form-text__icon--invalid"></span>' + text + '</div></div></div></div></form>');
        }
    },
    showBlockingError: function(text, callback) {
        swal({
            html: text,
            type: 'error',
            width: ACC.overlay.overlaySize.full,
            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
            onClose: function() {
                if (typeof callback === 'function') {
                    callback();
                }
            }
        });
    },
    showError: function(text) {
        this.showMessage(text, 'danger');
    },
    showInfo: function(text) {
        this.showMessage(text, 'warning');
    },
    hideMessage: function() {
        $('#globalMessagesHolder').empty();
    },
    showMessage: function(text, type) {
        $('#globalMessagesHolder').empty().append(this.buildMessageContainer(text, type));
        $('#js-profile-spacer').css('margin', '0');
        $('html, body').stop().animate({
            scrollTop: $('#globalMessagesHolder').offset().top
        }, 800);
    }
};

ACC.address = {
    _autoload: ["bindCreateUpdateAddressForm", "bindSuggestedDeliveryAddresses", "bindCountrySpecificAddressForms", "showAddressFormButtonPanel", "bindToColorboxClose", "showRemoveAddressFromBookConfirmation", "backToListAddresses", "toggleAddressBook", "setDefaultAddress", "openTabAnchorLink", "bindChinaAddress", "onOpenDynamicForm", "reloadProfileSiteAfterChangeAddress"],
    spinner: $("<img src='" + ACC.config.commonResourcePath + "/images/spinner.gif' />"),
    addressID: '',
    bindChinaAddress: function() {
        ACC.address.bindChinaAddressByIdSuffix('_region', '_city', '_district');
        ACC.address.bindChinaAddressByIdSuffix('_shippingRegion', '_shippingCity', '_shippingDistrict');
    },
    bindChinaAddressByIdSuffix: function(regionIdSuffix, cityIdSuffix, districtIdSuffix) {
        $('.js-configurable-form[data-country="CN"]').each(function() {
            var $region = $(this).find("select[id*='" + regionIdSuffix + "']");
            var $town = $(this).find("select[id*='" + cityIdSuffix + "']");
            var $district = $(this).find("select[id*='" + districtIdSuffix + "']");
            var dependentAddressData = {};
            $.ajax({
                url: ACC.config.chinaAddressUrl + $(this).data('country'),
                cache: false,
                type: 'GET',
                contentType: "application/json",
                async: false,
                success: function(data) {
                    dependentAddressData = data;
                }
            });
            if ($region.val() == null || $region.val().length === 0) {
                $town.empty();
                $town.append('<option value disabled="disabled" selected="selected">' + $town.data("placeholder") + '</option>');
            } else {
                var selectedRegionMapKey = $region.val();
                var townSelectedValue = $town.val();
                $town.empty();
                $town.append('<option value disabled="disabled">' + $town.data("placeholder") + '</option>');
                var selectedRegion = null;
                for (var townKey in dependentAddressData) {
                    var region = dependentAddressData[townKey];
                    if (region.isocode === selectedRegionMapKey) {
                        selectedRegion = region;
                        region.cities.forEach(function(town) {
                            jQuery('<option/>', {
                                value: town.code,
                                html: town.name
                            }).appendTo($town);
                        });
                        break;
                    }
                }
                $town.val(townSelectedValue);
            }
            if ($town.val() == null || $town.val().length === 0) {
                $district.empty();
                $district.append('<option value disabled="disabled" selected="selected">' + $district.data("placeholder") + '</option>');
            } else {
                var districtSelectedValue = $district.val();
                $district.empty();
                $district.append('<option value disabled="disabled">' + $district.data("placeholder") + '</option>');
                if (selectedRegion !== null && selectedRegion !== undefined) {
                    for (var cityKey in selectedRegion.cities) {
                        var city = selectedRegion.cities[cityKey];
                        city.districts.forEach(function(district) {
                            jQuery('<option/>', {
                                value: district.code,
                                html: district.name
                            }).appendTo($district);
                        });
                    }
                }
                $district.val(districtSelectedValue);
            }
            $region.change(function() {
                var selectedRegionKey = $(this).val();
                $town.empty();
                $town.append('<option value disabled="disabled" selected="selected">' + $town.data("placeholder") + '</option>');
                $district.empty();
                $district.append('<option value disabled="disabled" selected="selected">' + $district.data("placeholder") + '</option>');
                for (var r in dependentAddressData) {
                    if (dependentAddressData[r].isocode === selectedRegionKey) {
                        for (var c in dependentAddressData[r].cities) {
                            jQuery('<option/>', {
                                value: dependentAddressData[r].cities[c].code,
                                html: dependentAddressData[r].cities[c].name
                            }).appendTo($town);
                        }
                    }
                }
            });
            $town.change(function() {
                var selectedRegionKey = $region.val()
                var selectedTownKey = $(this).val();
                $district.empty();
                $district.append('<option value disabled="disabled" selected="selected">' + $district.data("placeholder") + '</option>');
                for (var r in dependentAddressData) {
                    if (dependentAddressData[r].isocode === selectedRegionKey) {
                        for (var c in dependentAddressData[r].cities) {
                            if (dependentAddressData[r].cities[c].code === selectedTownKey) {
                                for (var d in dependentAddressData[r].cities[c].districts) {
                                    jQuery('<option/>', {
                                        value: dependentAddressData[r].cities[c].districts[d].code,
                                        html: dependentAddressData[r].cities[c].districts[d].name
                                    }).appendTo($district);
                                }
                            }
                        }
                    }
                }
            });
        });
    },
    onOpenDynamicForm: function() {
        $(document).on("cfInitialize.myAccountEditAddress cfInitialize.myAccountAddAddress cfInitialize.checkoutAddressForm", function(event, data) {
            ACC.address.bindChinaAddress();
            ACC.koreanaddresssearch.bindKoreanAddressSearchButton();
        });
    },
    emptyAddressForm: function() {
        var options = {
            url: getDeliveryAddressFormUrl,
            data: {
                addressId: ACC.address.addressID,
                createUpdateStatus: ''
            },
            type: 'GET',
            success: function(data) {
                $('#summaryDeliveryAddressFormContainer').html(data);
                ACC.address.bindCreateUpdateAddressForm();
            }
        };
        $.ajax(options);
    },
    reloadProfileSiteAfterChangeAddress: function() {
        $(document).on('cfSubmitResponse.myAccountEditAddress cfSubmitResponse.myAccountAddAddress', function(event, data) {
            if (!data.validationSuccessful) {
                return;
            }
            sessionStorage.setItem("successMessage", data.successMessage);
            location.reload();
        });
    },
    handleSelectExistingAddressClick: function() {
        var addressId = $(this).attr('data-address');
        $.postJSON(setDeliveryAddressUrl, {
            addressId: addressId
        }, ACC.address.handleSelectExitingAddressSuccess);
        return false;
    },
    handleEditAddressClick: function() {
        $('#summaryDeliveryAddressFormContainer').show();
        $('#summaryOverlayViewAddressBook').show();
        $('#summaryDeliveryAddressBook').hide();
        var addressId = $(this).attr('data-address');
        var options = {
            url: getDeliveryAddressFormUrl,
            data: {
                addressId: addressId,
                createUpdateStatus: ''
            },
            target: '#summaryDeliveryAddressFormContainer',
            type: 'GET',
            success: function(data) {
                ACC.address.bindCreateUpdateAddressForm();
            },
            error: function(xht, textStatus, ex) {
                alert("Failed to update cart. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
            }
        };
        $(this).ajaxSubmit(options);
        return false;
    },
    handleSelectExitingAddressSuccess: function(data) {
        if (data != null) {
            ACC.refresh.refreshPage(data);
            ACC.colorbox.close();
        } else {
            alert("Failed to set delivery address");
        }
    },
    bindCreateUpdateAddressForm: function() {
        $('.create_update_address_form').each(function() {
            var options = {
                type: 'POST',
                beforeSubmit: function() {
                    $('#checkout_delivery_address').block({
                        message: ACC.address.spinner
                    });
                },
                success: function(data) {
                    $('#summaryDeliveryAddressFormContainer').html(data);
                    var status = $('.create_update_address_id').attr('status');
                    if (status != null && "success" === status.toLowerCase()) {
                        ACC.refresh.getCheckoutCartDataAndRefreshPage();
                        ACC.colorbox.close();
                    } else {
                        ACC.address.bindCreateUpdateAddressForm();
                    }
                },
                error: function(xht, textStatus, ex) {
                    alert("Failed to update cart. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
                },
                complete: function() {
                    $('#checkout_delivery_address').unblock();
                }
            };
            $(this).ajaxForm(options);
        });
    },
    refreshDeliveryAddressSection: function(data) {
        $('.summaryDeliveryAddress').replaceWith($('#deliveryAddressSummaryTemplate').tmpl(data));
    },
    bindSuggestedDeliveryAddresses: function() {
        var status = $('.add_edit_delivery_address_id').attr('status');
        if (status != null && "hasSuggestedAddresses" == status) {
            ACC.address.showSuggestedAddressesPopup();
        }
    },
    showSuggestedAddressesPopup: function() {
        ACC.colorbox.open("", {
            href: "#popup_suggested_delivery_addresses",
            inline: true,
            overlayClose: false,
            width: 525,
        });
    },
    bindCountrySpecificAddressForms: function() {
        $(document).on("change", '#countrySelector select', function() {
            var countrySelector = $(this).closest('#countrySelector');
            var options = {
                'addressCode': '',
                'countryIsoCode': $(this).val(),
                'formSubmitUrl': countrySelector.data('form-submit-url')
            };
            var container = countrySelector.data('container');
            if (!container) {
                container = "#i18nAddressForm"
            }
            ACC.address.displayCountrySpecificAddressForm(options, ACC.address.showAddressFormButtonPanel, container);
        })
    },
    showAddressFormButtonPanel: function() {
        if ($('#countrySelector :input').val() !== '') {
            $('#addressform_button_panel').show();
        }
    },
    bindToColorboxClose: function() {
        $(document).on("click", ".closeColorBox", function() {
            ACC.colorbox.close();
        })
    },
    displayCountrySpecificAddressForm: function(options, callback, container) {
        $.ajax({
            url: ACC.config.encodedContextPath + '/my-account/addressform',
            async: true,
            data: options,
            dataType: "html",
            beforeSend: function() {
                $(container).html(ACC.address.spinner);
            }
        }).done(function(data) {
            $(container).html($(data).html());
            if (typeof callback == 'function') {
                callback.call();
            }
        });
    },
    showRemoveAddressFromBookConfirmation: function() {
        $(document).on("click", ".js-removeAddressFromBookButton", function(e) {
            e.preventDefault();
            var addressId = $(this).data("addressId");
            var html = $("#popup_confirm_address_removal_" + addressId);
            ACC.overlay.open({
                html: html,
                width: ACC.overlay.overlaySize.full,
                customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
            });
        })
    },
    backToListAddresses: function() {
        $(".js-addressBackBtn").on("click", function() {
            var sUrl = $(this).data("backToAddresses");
            window.location = sUrl;
        });
    },
    toggleAddressBook: function() {
        var $addressBookTrigger = $(".js-address-book-trigger");
        var $addressBookCloseBtn = $(".js-address-book__btn--close");
        var $addressBook = $(".js-address-book");
        $addressBookTrigger.on("click", function() {
            $addressBook.removeClass('is-open');
            $(this).closest('.js-address-book').addClass('is-open');
        });
        $addressBookCloseBtn.on("click", function() {
            $addressBook.removeClass('is-open');
        });
    },
    setDefaultAddress: function() {
        $(".js-profile-content").on("change", '.js-setDefaultRadio[type=radio]', function() {
            var href = $.trim($(this).data("href"));
            window.location.href = href;
        });
    },
    openTabAnchorLink: function() {
        var $profileLink = $('.js-profile-link');
        var hash = window.location.hash;
        if ($profileLink.length) {
            $profileLink.each(function() {
                if ($(this).data("id") == hash) {
                    FoldOut({
                        container: $(this).closest('.js-fold-out')
                    });
                    $(this).click();
                    window.location.hash = '';
                }
            });
        }
    }
};

ACC.autocomplete = {
    _autoload: ["bindSearchAutocomplete", "bindOnSuggestionsSearch", "bindSearchForm"],
    suggestionHidden: true,
    suggestionEmptyHidden: true,
    bindSearchAutocomplete: function() {
        $.widget("custom.yautocomplete", $.ui.autocomplete, {
            _create: function() {
                var option = this.element.data("options");
                this._setOptions({
                    minLength: option.minCharactersBeforeRequest,
                    displayProductImages: option.displayProductImages,
                    delay: option.waitTimeBeforeRequest,
                    autocompleteUrl: option.autocompleteUrl,
                    source: this.source
                });
                ACC.autocomplete.bindEvents(option.minCharactersBeforeRequest);
                $.ui.autocomplete.prototype._create.call(this);
            },
            options: {
                cache: {},
                focus: function() {
                    return false;
                },
                select: function(event, ui) {
                    window.location.href = ui.item.url;
                }
            },
            _renderItem: function(ul, item) {
                var searchAutocompleteContent = $('.js-search-navigation-content');
                var name = ACC.autocomplete.getItemName(this, item);
                if (item.type == "seeAll") {
                    var renderHtml = "<a href='" + item.url + "' data-tracking-id='" + item.trackingId + "' data-tracking-type='" + item.trackingType + "' class='link link--discover-link text-uppercase'>" + "<span class='link__text'>" + item.seeAllButtonText + "</span><span class='link__icon link__icon--right'></span></a>";
                    return $("<div class='link-wrapper'>").data("item.autocomplete", item).append(renderHtml).appendTo(searchAutocompleteContent);
                } else {
                    var renderHtml = "<a href='" + item.url + "' data-tracking-id='" + item.trackingId + "' data-tracking-type='" + item.trackingType + "'><div class='text text--copy5 text--ellipsis'>" + name + "</div></a></div>";
                    return $("<div class='search-navigation__link'>").data("item.autocomplete", item).append(renderHtml).appendTo(searchAutocompleteContent);
                }
            },
            source: function(request, response) {
                var self = this;
                var $searchFormContainer = self.element.closest('.js-search-navigation-container');
                var term = request.term.toLowerCase();
                ACC.tracking.pushSuggLayerShow(term);
                if (term in self.options.cache) {
                    ACC.autocomplete.resetSuggestions($searchFormContainer);
                    return response(self.options.cache[term]);
                }
                $.getJSON(self.options.autocompleteUrl, {
                    term: request.term
                }, function(data) {
                    var autoSearchData = [];
                    if (data.categorySuggestions != null) {
                        $.each(data.categorySuggestions, function(i, obj) {
                            autoSearchData.push({
                                value: obj.categoryName,
                                amount: obj.amount,
                                url: ACC.config.encodedContextPath + obj.categoryUrl,
                                highlight: data.highlight,
                                type: "categorySuggestion",
                                trackingType: "Category",
                                trackingId: obj.categoryCode
                            });
                        });
                    }
                    if (data.products != null) {
                        $.each(data.products, function(i, obj) {
                            autoSearchData.push({
                                value: obj.name,
                                code: obj.code,
                                desc: obj.description,
                                manufacturer: obj.manufacturer,
                                url: ACC.config.encodedContextPath + obj.url,
                                price: obj.price != null && obj.price.formattedValue != null ? obj.price.formattedValue.replace(" ", "&nbsp;") : "",
                                originalPrice: obj.price != null && obj.price.formattedOriginalValue != null ? obj.price.formattedOriginalValue.replace(" ", "&nbsp;") : "",
                                discountPercentage: obj.price != null && obj.price.discountPercentage != null ? obj.price.discountPercentage : "",
                                type: "productResult",
                                highlight: data.highlight,
                                image: (obj.images != null && self.options.displayProductImages) ? obj.images[0].url : null,
                                trackingType: "Product",
                                trackingId: obj.code
                            });
                        });
                    }
                    if (data.suggestions != null) {
                        $.each(data.suggestions, function(i, obj) {
                            autoSearchData.push({
                                value: obj.term,
                                amount: obj.amount,
                                url: ACC.config.encodedContextPath + "/search?q=" + obj.term,
                                highlight: data.highlight,
                                trackingType: "simpleSearch",
                                trackingId: obj.term,
                                type: "autoSuggestion"
                            });
                        });
                    }
                    if (data.seeAllButtonText != null) {
                        autoSearchData.push({
                            seeAllButtonText: data.seeAllButtonText,
                            url: ACC.config.encodedContextPath + "/search?q=" + request.term,
                            type: "seeAll",
                            trackingType: "simpleSearch",
                            trackingId: request.term
                        });
                    }
                    ACC.autocomplete.resetSuggestions($searchFormContainer);
                    self.options.cache[term] = autoSearchData;
                    return response(autoSearchData);
                });
            }
        });
        $search = $(".js-site-search-input");
        if ($search.length > 0) {
            $search.yautocomplete()
        }
    },
    bindOnSuggestionsSearch: function() {
        $('.js-search-items-container').on('click', 'a', function() {
            var term = $(this).closest('.search-navigation').find('.js-search-form').val();
            ACC.tracking.pushSuggSearchClick(term, $(this).data('tracking-type'), $(this).data('tracking-id'));
        });
    },
    resetSuggestions: function($searchFormContainer) {
        $searchFormContainer.find('.js-search-navigation-content').empty();
        ACC.autocomplete.showSuggestions($searchFormContainer);
    },
    showSuggestions: function($searchFormContainer) {
        ACC.autocomplete.suggestionHidden = false;
        $searchFormContainer.find('.js-search-items-container').removeClass('hidden');
    },
    hideSuggestions: function() {
        ACC.autocomplete.suggestionHidden = true;
        $('.js-search-items-container').addClass('hidden');
    },
    showEmptySearchWarning: function($formWrapper) {
        ACC.autocomplete.suggestionEmptyHidden = false;
        $formWrapper.find('.js-search-form-emtpy-container').removeClass('hidden');
    },
    hideEmptySearchWarning: function() {
        ACC.autocomplete.suggestionEmptyHidden = true;
        $('.js-search-form-emtpy-container').addClass('hidden');
    },
    bindEvents: function(minChars) {
        $('.js-search-form').on('keypress blur', function() {
            if (!ACC.autocomplete.suggestionEmptyHidden) {
                ACC.autocomplete.hideEmptySearchWarning();
            }
        });
        $(document).on("vclick click", function(e) {
            if (!ACC.autocomplete.suggestionHidden && !$(e.target).closest(".search-navigation").length) {
                ACC.autocomplete.hideSuggestions();
            }
        })
        $('.js-search-form').on('input', function() {
            if ($(this).val().length < minChars && !ACC.autocomplete.suggestionHidden) {
                ACC.autocomplete.hideSuggestions();
            }
        });
    },
    styleTerm: function(i, item) {
        var re = new RegExp("(" + i.term + ")","gi");
        var text = re.exec(item.value);
        if (!$.isEmptyObject(text)) {
            return item.value.replace(re, "<span class='text text--copy5 text--highlight'>" + text[0] + "</span>");
        }
        return item.value;
    },
    getItemName: function(t, item) {
        return item.highlight ? ACC.autocomplete.styleTerm(t, item) : item.value;
    },
    bindSearchForm: function() {
        $('.js-search-component-form').on('submit', function(e) {
            var input = $(this).find('.js-search-form');
            var $formWrapper = $(this).closest('.js-search-navigation-container');
            ACC.tracking.pushSuggSearchClick(input.val(), 'simpleSearch', input.val());
            if (!input.val().length) {
                e.preventDefault();
                ACC.autocomplete.showEmptySearchWarning($formWrapper);
            }
        });
    }
};

ACC.carousel = {
    _autoload: [["bindCarousel"]],
    carouselConfig: {
        "default": {
            navigation: true,
            navigationText: ["<span class='glyphicon glyphicon-chevron-left'></span>", "<span class='glyphicon glyphicon-chevron-right'></span>"],
            pagination: false,
            itemsCustom: [[0, 1], [568, 2], [768, 3], [1024, 4]]
        },
        "hinted": {
            navigation: true,
            navigationText: ["<span class='glyphicon glyphicon-chevron-left'></span>", "<span class='glyphicon glyphicon-chevron-right'></span>"],
            pagination: false,
            itemsCustom: [[0, 1], [568, 2], [768, 3], [1024, 4]],
            afterInit: function() {
                ACC.carousel.moveElemOut(this);
            }
        },
        "rotating-image": {
            navigation: false,
            pagination: true,
            singleItem: true,
        },
        "lazy-reference": {
            navigation: true,
            navigationText: ["<span class='glyphicon glyphicon-chevron-left'></span>", "<span class='glyphicon glyphicon-chevron-right'></span>"],
            pagination: false,
            itemsDesktop: [5000, 4],
            itemsTablet: [700, 3],
            itemsTabletSmall: [700, 2],
            itemsMobile: [480, 1],
            lazyLoad: true,
        }
    },
    bindCarousel: function() {
        $(".js-owl-carousel").each(function() {
            var $c = $(this);
            $.each(ACC.carousel.carouselConfig, function(key, config) {
                if ($c.hasClass("js-owl-" + key)) {
                    var $e = $(".js-owl-" + key);
                    $e.owlCarousel(config);
                }
            });
        });
        $(".js-benefit-carousel").each(function() {
            $(this).owlCarousel({
                navigation: true,
                navigationText: ["<span class='glyphicon glyphicon-chevron-left'></span>", "<span class='glyphicon glyphicon-chevron-right'></span>"],
                pagination: true,
                items: 1,
                autoWidth: true
            });
        });
    },
    moveElemOut: function(carousel) {
        var fixedPlaceholder = carousel.$elem.find(".owl-wrapper-outer");
        var content = carousel.$elem.find(".item.js-rr-seed").parent();
        content.attr('style', 'width:' + content.outerWidth() + 'px; display: inline-block; vertical-align: top;');
        fixedPlaceholder.attr('style', 'width: calc(100% - ' + content.outerWidth() + 'px); display: inline-block;');
        fixedPlaceholder.before(content);
    }
};

ACC.cart = {
    _autoload: ["bindHelp", "cartRestoration", "bindCartPage", "bindMultiDEntryRemoval", "bindMultidCartProduct", "bindGiftCardExpandPersonalMessage", ["bindApplyVoucher", $("#js-voucher-apply-btn").length != 0], ["bindToReleaseVoucher", $("#js-applied-vouchers").length != 0], ["openCartOverlay", $(".js-overlay-cartPageOverlay").data("cart-overlay-opened")]],
    bindHelp: function() {
        $(document).on("click", ".js-cart-help", function(e) {
            e.preventDefault();
            var title = $(this).data("help");
            ACC.colorbox.open(title, {
                html: $(".js-help-popup-content").html(),
                width: "300px"
            });
        })
    },
    cartRestoration: function() {
        $('.cartRestoration').click(function() {
            var sCartUrl = $(this).data("cartUrl");
            window.location = sCartUrl;
        });
    },
    bindCartPage: function() {
        $(document).on("click", '.showEditableGrid', function(event) {
            ACC.cart.populateAndShowEditableGrid(this, event);
        });
    },
    bindMultiDEntryRemoval: function() {
        $(document).on("click", '.submitRemoveProductMultiD', function() {
            var itemIndex = $(this).data("index");
            var $form = $('#updateCartForm' + itemIndex);
            var initialCartQuantity = $form.find('input[name=initialQuantity]');
            var cartQuantity = $form.find('input[name=quantity]');
            var entryNumber = $form.find('input[name=entryNumber]').val();
            var productCode = $form.find('input[name=productCode]').val();
            cartQuantity.val(0);
            initialCartQuantity.val(0);
            ACC.track.trackRemoveFromCart(productCode, initialCartQuantity, cartQuantity.val());
            var method = $form.attr("method") ? $form.attr("method").toUpperCase() : "GET";
            $.ajax({
                url: $form.attr("action"),
                data: $form.serialize(),
                type: method,
                success: function(data) {
                    location.reload();
                },
                error: function() {
                    alert("Failed to remove quantity. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
                }
            });
        });
    },
    populateAndShowEditableGrid: function(element, event) {
        var readOnly = $(element).data("readOnlyMultidGrid");
        var itemIndex = $(element).data("index");
        grid = $("#ajaxGrid" + itemIndex);
        var gridEntries = $('#grid' + itemIndex);
        var strSubEntries = gridEntries.data("sub-entries");
        var arrSubEntries = strSubEntries.split(',');
        var firstVariantCode = arrSubEntries[0].split(':')[0];
        $(element).toggleClass('open');
        var targetUrl = ACC.config.contextPath;
        targetUrl = targetUrl + "/cart/getProductVariantMatrix";
        var mapCodeQuantity = new Object();
        for (var i = 0; i < arrSubEntries.length; i++) {
            var arrValue = arrSubEntries[i].split(":");
            mapCodeQuantity[arrValue[0]] = arrValue[1];
        }
        if (grid.children('#cartOrderGridForm').length > 0) {
            grid.slideToggle("slow");
        } else {
            var method = "GET";
            $.ajax({
                url: targetUrl,
                data: {
                    productCode: firstVariantCode,
                    readOnly: readOnly
                },
                type: method,
                success: function(data) {
                    grid.html(data);
                    $("#ajaxGrid").removeAttr('id');
                    var $gridContainer = grid.find(".product-grid-container");
                    var numGrids = $gridContainer.length;
                    for (var i = 0; i < numGrids; i++) {
                        ACC.cart.getProductQuantity($gridContainer.eq(i), mapCodeQuantity, i);
                    }
                    grid.slideDown("slow");
                    ACC.cart.coreCartGridTableActions(element, mapCodeQuantity);
                    ACC.productorderform.coreTableScrollActions(grid.children('#cartOrderGridForm'));
                },
                error: function(xht, textStatus, ex) {
                    alert("Failed to get variant matrix. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
                }
            });
        }
    },
    coreCartGridTableActions: function(element, mapCodeQuantity) {
        ACC.productorderform.bindUpdateFutureStockButton(".update_future_stock_button");
        ACC.productorderform.bindVariantSelect($(".variant-select-btn"), 'cartOrderGridForm');
        var itemIndex = $(element).data("index");
        var skuQuantityClass = '.sku-quantity';
        var quantityBefore = 0;
        var grid = $('#ajaxGrid' + itemIndex + " .product-grid-container");
        grid.on('focusin', skuQuantityClass, function(event) {
            quantityBefore = jQuery.trim(this.value);
            $(this).parents('tr').next('.variant-summary').remove();
            if ($(this).parents('table').data(ACC.productorderform.selectedVariantData)) {
                ACC.productorderform.selectedVariants = $(this).parents('table').data(ACC.productorderform.selectedVariantData);
            } else {
                ACC.productorderform.selectedVariants = [];
            }
            if (quantityBefore == "") {
                quantityBefore = 0;
                this.value = 0;
            }
        });
        grid.on('focusout', skuQuantityClass, function(event) {
            var quantityAfter = 0;
            var gridLevelTotalPrice = "";
            var indexPattern = "[0-9]+";
            var currentIndex = parseInt($(this).attr("id").match(indexPattern));
            this.value = ACC.productorderform.filterSkuEntry(this.value);
            quantityAfter = jQuery.trim(this.value);
            var variantCode = $("input[id='cartEntries[" + currentIndex + "].sku']").val();
            if (isNaN(jQuery.trim(this.value))) {
                this.value = 0;
            }
            if (quantityAfter == "") {
                quantityAfter = 0;
                this.value = 0;
            }
            var $gridTotalValue = grid.find("[data-grid-total-id=" + 'total_value_' + currentIndex + "]");
            var currentPrice = $("input[id='productPrice[" + currentIndex + "]']").val();
            if (quantityAfter > 0) {
                gridLevelTotalPrice = ACC.productorderform.formatTotalsCurrency(parseFloat(currentPrice) * parseInt(quantityAfter));
            }
            $gridTotalValue.html(gridLevelTotalPrice);
            var _this = this;
            var priceSibling = $(this).siblings('.price');
            var propSibling = $(this).siblings('.variant-prop');
            var currentSkuId = $(this).next('.td_stock').data('sku-id');
            var currentBaseTotal = $(this).siblings('.data-grid-total');
            if (this.value != quantityBefore) {
                var newVariant = true;
                ACC.productorderform.selectedVariants.forEach(function(item, index) {
                    if (item.id === currentSkuId) {
                        newVariant = false;
                        if (_this.value === '0' || _this.value === 0) {
                            ACC.productorderform.selectedVariants.splice(index, 1);
                        } else {
                            ACC.productorderform.selectedVariants[index].quantity = _this.value;
                            ACC.productorderform.selectedVariants[index].total = ACC.productorderform.updateVariantTotal(priceSibling, _this.value, currentBaseTotal);
                        }
                    }
                });
                if (newVariant && this.value > 0) {
                    ACC.productorderform.selectedVariants.push({
                        id: currentSkuId,
                        size: propSibling.data('variant-prop'),
                        quantity: _this.value,
                        total: ACC.productorderform.updateVariantTotal(priceSibling, _this.value, currentBaseTotal)
                    });
                }
            }
            ACC.productorderform.showSelectedVariant($(this).parents('table'));
            if (this.value > 0 && this.value != quantityBefore) {
                $(this).parents('table').addClass('selected');
            } else {
                if (ACC.productorderform.selectedVariants.length === 0) {
                    $(this).parents('table').removeClass('selected').find('.variant-summary').remove();
                }
            }
            if (quantityBefore != quantityAfter) {
                var method = "POST";
                $.ajax({
                    url: ACC.config.contextPath + '/cart/updateMultiD',
                    data: {
                        productCode: variantCode,
                        quantity: quantityAfter,
                        entryNumber: -1
                    },
                    type: method,
                    success: function(data, textStatus, xhr) {
                        ACC.cart.refreshCartData(data, -1, quantityAfter, itemIndex);
                        mapCodeQuantity[variantCode] = quantityAfter;
                    },
                    error: function(xhr, textStatus, error) {
                        var redirectUrl = xhr.getResponseHeader("redirectUrl");
                        var connection = xhr.getResponseHeader("Connection");
                        if (redirectUrl !== null) {
                            window.location = redirectUrl;
                        } else if (connection === "close") {
                            window.location.reload();
                        }
                    }
                });
            }
        });
    },
    refreshCartData: function(cartData, entryNum, quantity, itemIndex) {
        if (cartData.entries.length == 0) {
            location.reload();
        } else {
            var form;
            if (entryNum == -1) {
                var editLink = $('#QuantityProduct' + itemIndex);
                form = editLink.closest('form');
                var productCode = form.find('input[name=productCode]').val();
                var quantity = 0;
                var entryPrice = 0;
                for (var i = 0; i < cartData.entries.length; i++) {
                    var entry = cartData.entries[i];
                    if (entry.product.code == productCode) {
                        quantity = entry.quantity;
                        entryPrice = entry.totalPrice;
                        break;
                    }
                }
                if (quantity == 0) {
                    location.reload();
                } else {
                    form.find(".qtyValue").html(quantity);
                    form.parent().parent().find(".item-price").html(entryPrice.formattedValue);
                }
            }
            ACC.minicart.updateMiniCartDisplay();
            $('.cart-top-totals').html("");
            $('.cart-top-totals').html($("#cartTopTotalSectionTemplate").tmpl(cartData));
            $('div .cartpotproline').remove();
            $('div .cartproline').remove();
            $('.cart-totals').remove();
            $('.ajaxCartPotentialPromotionSection').html($(".cartPotentialPromotionSectionTemplate").tmpl(cartData));
            $('.ajaxCartPromotionSection').html($(".cartPromotionSectionTemplate").tmpl(cartData));
            $('#ajaxCart').html($("#cartTotalsTemplate").tmpl(cartData));
        }
    },
    getProductQuantity: function(gridContainer, mapData, i) {
        var tables = gridContainer.find("table");
        $.each(tables, function(index, currentTable) {
            var skus = jQuery.map($(currentTable).find("input[type='hidden'].sku"), function(o) {
                return o.value
            });
            var quantities = jQuery.map($(currentTable).find("input[type='textbox'].sku-quantity"), function(o) {
                return o
            });
            var selectedVariants = [];
            $.each(skus, function(index, skuId) {
                var quantity = mapData[skuId];
                if (quantity != undefined) {
                    quantities[index].value = quantity;
                    var indexPattern = "[0-9]+";
                    var currentIndex = parseInt(quantities[index].id.match(indexPattern));
                    var gridTotalValue = gridContainer.find("[data-grid-total-id=" + 'total_value_' + currentIndex + "]");
                    var gridLevelTotalPrice = "";
                    var currentPrice = $("input[id='productPrice[" + currentIndex + "]']").val();
                    if (quantity > 0) {
                        gridLevelTotalPrice = ACC.productorderform.formatTotalsCurrency(parseFloat(currentPrice) * parseInt(quantity));
                    }
                    gridTotalValue.html(gridLevelTotalPrice);
                    selectedVariants.push({
                        id: skuId,
                        size: $(quantities[index]).siblings('.variant-prop').data('variant-prop'),
                        quantity: quantity,
                        total: gridLevelTotalPrice
                    });
                }
            });
            if (selectedVariants.length != 0) {
                $.tmpl(ACC.productorderform.$variantSummaryTemplate, {
                    variants: selectedVariants
                }).appendTo($(currentTable).addClass('selected'));
                $(currentTable).find('.variant-summary .variant-property').html($(currentTable).find('.variant-detail').data('variant-property'));
                $(currentTable).data(ACC.productorderform.selectedVariantData, selectedVariants);
            }
        });
    },
    bindMultidCartProduct: function() {
        $(document).on("click", '.showQuantityProduct', function(event) {
            ACC.cart.populateAndShowGrid(this, event, true);
        });
        $(document).on("click", '.showQuantityProductOverlay', function(event) {
            ACC.cart.populateAndShowCheckoutGridOverlay(this, event);
        });
    },
    bindGiftCardExpandPersonalMessage: function() {
        $("body").on('click', '.showFirstLineOnly', function(e) {
            $(this).css('height', 'auto');
            var fullHeight = $(this).height();
            $(this).height(fullHeight);
        });
    },
    populateAndShowGrid: function(element, event, readOnly) {
        var itemIndex = $(element).data("index");
        grid = $("#ajaxGrid" + itemIndex);
        var gridEntries = $('#grid' + itemIndex);
        var strSubEntries = gridEntries.data("sub-entries");
        var arrSubEntries = strSubEntries.split(',');
        var firstVariantCode = arrSubEntries[0].split(':')[0];
        grid.slideDown("slow");
        $("#QuantityProductToggle" + itemIndex).html("-");
        var targetUrl = ACC.config.contextPath;
        targetUrl = targetUrl + "/checkout/multi/getReadOnlyProductVariantMatrix";
        var method = "GET";
        $.ajax({
            url: targetUrl,
            data: {
                productCode: firstVariantCode
            },
            type: method,
            success: function(data) {
                grid.html(data);
                $("#ajaxGrid").removeAttr('id');
                grid.slideDown("slow");
            },
            error: function(xht, textStatus, ex) {
                alert("Failed to get variant matrix. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
            }
        });
    },
    populateAndShowCheckoutGridOverlay: function(element, event) {
        event.preventDefault();
        var itemIndex = $(element).data("index");
        var gridEntries = $('#grid' + itemIndex);
        var strSubEntries = gridEntries.data("sub-entries");
        var productName = gridEntries.data("product-name");
        var arrSubEntries = strSubEntries.split(',');
        var firstVariantCode = arrSubEntries[0].split(':')[0];
        var targetUrl = ACC.config.contextPath + '/checkout/multi/getReadOnlyProductVariantMatrix?productCode=' + firstVariantCode;
        ACC.colorbox.open(productName, {
            href: targetUrl,
            className: 'read-only-grid',
            close: '<span class="glyphicon glyphicon-remove"></span>',
            width: window.innerWidth > parseInt(cboxOptions.maxWidth) ? cboxOptions.maxWidth : cboxOptions.width,
            height: window.innerHeight > parseInt(cboxOptions.maxHeight) ? cboxOptions.maxHeight : cboxOptions.height,
            onComplete: function() {
                var cTitle = $('#cboxTitle').clone();
                $('#cboxTitle').remove();
                cTitle.insertBefore('#cboxLoadedContent');
                $('body').addClass('offcanvas');
                var oH = $('#cboxLoadedContent').height();
                $('#cboxLoadedContent').height((oH - $('#cboxTitle').height()) + 'px');
            },
            onClosed: function() {
                $('body').removeClass('offcanvas');
            }
        });
    },
    bindApplyVoucher: function() {
        $("#js-voucher-apply-btn").on("click", function(e) {
            ACC.cart.handleApplyVoucher(e);
        });
        $("#js-voucher-code-text").on("keypress", function(e) {
            var code = (e.keyCode ? e.keyCode : e.which);
            if (code === 13) {
                ACC.cart.handleApplyVoucher(e);
            }
        });
    },
    handleApplyVoucher: function(e) {
        var voucherCode = $.trim($("#js-voucher-code-text").val());
        if (voucherCode != '' && voucherCode.length > 0) {
            $("#applyVoucherForm").submit();
        }
    },
    bindToReleaseVoucher: function() {
        $('.js-release-voucher-remove-btn').on("click", function(event) {
            $(this).closest('form').submit();
        });
    },
    openCartOverlay: function() {
        if ($(".js-overlay-cartPageOverlay").data("cart-overlay-opened")) {
            setTimeout(function() {
                $(".js-cartPageOverlay-overlay-trigger").trigger("click");
            }, 200)
        }
    }
};

ACC.cartitem = {
    _autoload: ["bindCartItem", "bindGiftSelection"],
    submitTriggered: false,
    bindCartItem: function() {
        $('.remove-entry-button').one("click", function(e) {
            e.preventDefault();
            var entryNumber = $(this).attr('id').split("_");
            var form = $('#updateCartForm' + entryNumber[1]);
            var productCode = form.find('input[name=productCode]').val();
            var initialCartQuantity = form.find('input[name=initialQuantity]');
            var cartQuantity = form.find('input[name=quantity]');
            ACC.track.trackRemoveFromCart(productCode, initialCartQuantity.val());
            cartQuantity.val(0);
            initialCartQuantity.val(0);
            form.submit();
        });
        $('.update-entry-quantity-input').on("blur", function(e) {
            ACC.cartitem.handleUpdateQuantity(this, e);
        }).on("keyup", function(e) {
            return ACC.cartitem.handleKeyEvent(this, e);
        }).on("keydown", function(e) {
            return ACC.cartitem.handleKeyEvent(this, e);
        });
    },
    handleKeyEvent: function(elementRef, event) {
        if (event.which == 13 && !ACC.cartitem.submitTriggered) {
            ACC.cartitem.submitTriggered = ACC.cartitem.handleUpdateQuantity(elementRef, event);
            return ACC.cartitem.submitTriggered;
        } else {
            if (ACC.cartitem.submitTriggered) {
                return false;
            }
        }
        return true;
    },
    handleUpdateQuantity: function(elementRef, event) {
        var entryNumber = $(elementRef).attr('id').split("_");
        var form = $('#updateCartForm' + entryNumber[1]);
        var productCode = form.find('input[name=productCode]').val();
        var initialCartQuantity = form.find('input[name=initialQuantity]').val();
        var newCartQuantity = form.find('input[name=quantity]').val();
        if (initialCartQuantity != newCartQuantity) {
            ACC.track.trackUpdateCart(productCode, initialCartQuantity, newCartQuantity);
            form.submit();
            return true;
        }
        return false;
    },
    bindGiftSelection: function() {
        $('.js-cart-entries').on('change', '.selectGiftProductForm', function() {
            $(this).submit();
        });
    }
};

ACC.checkout = {
    _autoload: ["bindCheckO", "bindForms", "bindDeliveryMethodForm", "bindPaymentMethodForm", "bindMoreDeliveryInformation", "bindDatepickers", "bindViewEditAddress", "bindViewAddAddress", "bindPaymentContent", "bindCountrySwitcherToggle", "bindAddressPageSubmitLink", "bindCreateAccountForm", "bindConfirmationNewsletterSignupForm", "bindAddressPageNewsletterSignupForm", "bindSetDefaultAddress", "bindCheckoutPopups", "bindCheckoutSummarySubmit", ["adjustCheckoutHeaderSize", $('.js-checkoutHeaderLogo img').length > 0]],
    bindForms: function() {
        $(document).on("click", "#addressSubmit", function(e) {
            e.preventDefault();
            $('#addressForm').submit();
        })
        $(document).on("click", "#deliveryMethodSubmit", function(e) {
            e.preventDefault();
            $('#selectDeliveryMethodForm').submit();
        })
    },
    bindDatepickers: function() {
        ACC.checkout.bindDatepicker(".js-scheduled-delivery");
    },
    bindDatepicker: function(element) {
        var $datePickerContainer = $('.js-pick-date-wrapper')
          , $getDatePicker = $datePickerContainer.find('.js-datepicker');
        if ($(element).is(":checked")) {
            $datePickerContainer.removeClass('hidden');
            $(".js-datepicker").datepicker({
                format: 'yyyy-mm-dd'
            }).on('changeDate', function(event) {
                if (event) {
                    hideCalendarDays($getDatePicker);
                    var formatSelected = event.format();
                    $.get(ACC.config.encodedContextPath + "/checkout/sac/summary/delivery-method/select-preferredDeliveryDate?preferredDeliveryDate=" + formatSelected, function(data) {});
                }
            });
        } else {
            $datePickerContainer.addClass('hidden');
        }
    },
    bindCheckO: function() {
        var cartEntriesError = false;
        $('.doFlowSelectedChange').change(function() {
            if ('multistep-pci' == $('#selectAltCheckoutFlow').attr('value')) {
                $('#selectPciOption').css('display', '');
            } else {
                $('#selectPciOption').css('display', 'none');
            }
        });
        $('.continueShoppingButton').click(function() {
            var checkoutUrl = $(this).data("continueShoppingUrl");
            window.location = checkoutUrl;
        });
        $('.expressCheckoutButton').click(function() {
            document.getElementById("expressCheckoutCheckbox").checked = true;
        });
        $(document).on("input", ".confirmGuestEmail,.guestEmail", function() {
            var orginalEmail = $(".guestEmail").val();
            var confirmationEmail = $(".confirmGuestEmail").val();
            if (orginalEmail === confirmationEmail) {
                $(".guestCheckoutBtn").removeAttr("disabled");
            } else {
                $(".guestCheckoutBtn").attr("disabled", "disabled");
            }
        });
        $('.checkoutButton').click(function() {
            cartEntriesError = ACC.pickupinstore.validatePickupinStoreCartEntires();
            if (!cartEntriesError) {
                window.location = $(this).data("checkoutUrl");
            }
            return false;
        });
    },
    bindDeliveryMethodForm: function() {
        $("#selectDeliveryMethodForm").on("change", '.delivery_method_item input[type=radio]', function() {
            $(this).closest('form').submit();
        });
    },
    bindPaymentMethodForm: function() {
        $("#selectPaymentMethodForm").on("change", '.js-payment-method-item input[type=radio]', function() {
            var $form = $(this).closest('form');
            var paymentProvider = $(this).data('paymentprovider');
            var paymentProviderPaymentType = $(this).data('paymentprovider-payment-type');
            var paymentInfo = $(this).data('paymentinfo');
            if (paymentProvider) {
                $form.find('.js-paymentprovider').val(paymentProvider);
            }
            if (paymentProviderPaymentType) {
                $form.find('.js-paymentprovider-payment-type').val(paymentProviderPaymentType);
            }
            if (paymentInfo) {
                $form.find('.js-paymentinfo').val(paymentInfo);
            }
            $form.submit();
        });
    },
    bindMoreDeliveryInformation: function() {
        $(document).on("click", "#moreDeliveryInformationLink", function(e) {
            e.preventDefault();
        });
        $('#deliveryInformationContainer').find('a').attr('aria-label', 'Delivery information link');
    },
    bindViewEditAddress: function() {
        var $editBtn = $('.js-edit-checkout-address');
        var $closeBtn = $('.js-edit-address-close');
        var $checkoutAddress = $('.js-checkout-address');
        $editBtn.on("click", function(e) {
            e.preventDefault();
            var addressCode = $(this).data("addresscode");
            var formDefinition = $(this).data("formdefinition");
            var addressCountry = $(this).data("addresscountry");
            var url = ACC.config.encodedContextPath + '/checkout/sac/summary/edit-address?addressCode=' + addressCode + '&formDefinition=' + formDefinition + '&addressCountry=' + addressCountry;
            var $this = $(this);
            $.ajax({
                url: url,
                cache: true,
                type: 'GET',
                dataType: 'html',
                success: function(data) {
                    $this.closest('.js-checkout-address').find('.js-checkout-address-container').append(data);
                    $this.closest('.js-checkout-address').find('.js-tooltip').each(function() {
                        new Tooltip(this);
                    });
                    $checkoutAddress.removeClass('is-open');
                    $this.closest('.js-checkout-address').addClass('is-open');
                    ACC.common.refreshScreenReaderBuffer();
                    ACC.configurableForm.init();
                    ACC.address.bindChinaAddress();
                    ACC.koreanaddresssearch.bindKoreanAddressSearchButton();
                    $closeBtn.focus();
                }
            });
        });
        $closeBtn.on("click", function() {
            $checkoutAddress.removeClass('is-open');
            $('.js-checkout-address-container').empty();
        });
    },
    bindViewAddAddress: function() {
        var $checkoutAddress = $('.js-checkout-address');
        $('.js-add-address').on("click", function(e) {
            e.preventDefault();
            var formDefinition = $(this).data("formdefinition");
            var requestIdentifier = $(this).data("request-identifier");
            var url = ACC.config.encodedContextPath + '/configurableForm/getForm?formDefinition=' + formDefinition + '&requestIdentifier=' + requestIdentifier;
            var $this = $(this);
            $.ajax({
                url: url,
                cache: true,
                type: 'GET',
                dataType: 'html',
                success: function(data) {
                    $this.closest('.js-checkout-address').find('.js-checkout-address-container').append(data);
                    $checkoutAddress.removeClass('is-open');
                    $this.closest('.js-checkout-address').addClass('is-open');
                    ACC.common.refreshScreenReaderBuffer();
                    ACC.configurableForm.init();
                }
            });
        })
    },
    bindPaymentContent: function() {
        var url = $("#payment-content").data("src");
        if (url) {
            $.get(ACC.config.encodedContextPath + url, function(data) {
                $("#payment-content").html(data);
            });
        }
    },
    bindAddressPageSubmitLink: function() {
        if ($(".js-checkout-shipping").length === 0) {
            return;
        }
        jQuery.fn.reverse = [].reverse;
        $(document).on("keyup keypress", ".js-checkout-shipping input", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                return ACC.checkout.submitAddressForms();
            }
        });
        $('.js-checkout-shipping .js-checkout-next').click(function(e) {
            e.preventDefault();
            return ACC.checkout.submitAddressForms();
        });
        $(document).on("cfSubmitResponse.checkoutAddressForm", function(event, data) {
            if (!data.validationSuccessful) {
                ACC.blockUI.unblock($('body'));
                return;
            }
            var formConfigWrapper = data.formConfig + 'Wrapper';
            $(formConfigWrapper).html($(data.responseText).closest(formConfigWrapper).html());
            ACC.configurableForm.reinit($('form.js-configurable-form', formConfigWrapper));
            var $billingAddrForm = $('.js-checkout-shipping').find('.js-checkoutAddressStepBillingAddressFormDefinition, .js-checkoutAddressStepRegisterFormDefinition');
            if (data.form.hasClass("js-checkoutAddressStepTermsAndConditionsFormDefinition")) {
                var $deliveryAddrForm = $('.js-checkout-shipping .js-checkoutAddressStepDeliveryAddressFormDefinition');
                if ($deliveryAddrForm.is(":visible")) {
                    $deliveryAddrForm.data('formValidation').defaultSubmit();
                } else {
                    $billingAddrForm.data('formValidation').defaultSubmit();
                }
            } else if (data.form.hasClass("js-checkoutAddressStepDeliveryAddressFormDefinition")) {
                $billingAddrForm.data('formValidation').defaultSubmit();
            }
            var countCurrentlyVisibleForms = $('.js-checkout-shipping form.js-configurable-form:visible').size();
            var countSuccessfulValidatedForms = 0;
            $('.js-checkout-shipping form.js-configurable-form').each(function() {
                if ($(this).data('validation-successful') == true) {
                    countSuccessfulValidatedForms++;
                }
            });
            if (countCurrentlyVisibleForms == countSuccessfulValidatedForms) {
                $('.js-checkout-next').addClass("disabled");
                ACC.blockUI.block($('body'));
                window.location.href = ACC.config.encodedContextPath + "/checkout/sac/address"
            }
        });
    },
    bindCheckoutSummarySubmit: function() {
        if ($(".js-checkout-summary-page").length === 0) {
            return;
        }
        $(document).on("cfSubmitResponse.checkoutAddressForm", function(event, data) {
            if (data.validationSuccessful) {
                ACC.blockUI.block($('body'));
                location.reload();
            }
        });
    },
    addShippingOptionInputToForm: function($form) {
        var cfSelectedShippingName = 'values[' + $form.find('input.js-genericForm-formDefinition').val() + '_selectedShipping]';
        var $selectedShippingCfField = $form.find(':input[name="' + cfSelectedShippingName + '"]');
        if ($selectedShippingCfField.length == 0) {
            $selectedShippingCfField = $('<input>').attr({
                type: 'hidden',
                name: cfSelectedShippingName
            });
            $form.append($selectedShippingCfField);
        }
        $selectedShippingCfField.val($(".js-checkoutShippingAddressChoice:checked").val());
    },
    submitAddressForms: function() {
        if (!$('.js-checkout-next').hasClass("disabled")) {
            var $billingAddrForm = $('.js-checkout-shipping').find('.js-checkoutAddressStepBillingAddressFormDefinition, .js-checkoutAddressStepRegisterFormDefinition');
            ACC.checkout.addShippingOptionInputToForm($billingAddrForm);
            $billingAddrForm.formValidation('validate');
            var isBillingAddrValid = $billingAddrForm.data('formValidation').isValid();
            var $deliveryAddrForm = $('.js-checkout-shipping .js-checkoutAddressStepDeliveryAddressFormDefinition');
            ACC.checkout.addShippingOptionInputToForm($deliveryAddrForm);
            var isDeliveryAddrValid = true;
            var isDeliveryVisible = $deliveryAddrForm.is(":visible");
            if (isDeliveryVisible) {
                $deliveryAddrForm.formValidation('validate');
                isDeliveryAddrValid = $deliveryAddrForm.data('formValidation').isValid();
                ACC.checkout.addShippingOptionInputToForm($deliveryAddrForm);
            }
            var termsAndConditions = $('.js-checkoutAddressStepTermsAndConditionsFormDefinition');
            var termsAndConditionsValid = true;
            var isTermsAndConditionsVisible = termsAndConditions.is(":visible");
            if (isTermsAndConditionsVisible) {
                termsAndConditions.formValidation('validate');
                termsAndConditionsValid = termsAndConditions.data('formValidation').isValid();
                ACC.checkout.addShippingOptionInputToForm(termsAndConditions);
            }
            if (!isBillingAddrValid || !isDeliveryAddrValid || !termsAndConditionsValid) {
                ACC.configurableForm.scrollToError();
                return false;
            }
            if (isTermsAndConditionsVisible) {
                termsAndConditions.data('formValidation').defaultSubmit();
            } else if (isDeliveryVisible) {
                $deliveryAddrForm.data('formValidation').defaultSubmit();
            } else {
                $billingAddrForm.data('formValidation').defaultSubmit();
            }
            $('.newsletterForm button[type=submit]').trigger('click');
            ACC.blockUI.block($('body'));
            return false;
        }
    },
    bindCreateAccountForm: function() {
        var options = {
            success: function(data) {
                $('#createAccountFormWrapper').html(data.formBody ? data.formBody : data);
                if (!data.formBody) {
                    $('.js-sacGuestRegisterForm .js-button').addClass('hidden');
                }
                new FoldOut({
                    container: $('#createAccountFormWrapper').find('.js-fold-out')
                });
                $('#sacGuestRegisterForm').ajaxForm(options);
                $(".js-form-input-password").each(function() {
                    new FormsInputPassword({
                        container: this
                    });
                });
            }
        };
        $('#sacGuestRegisterForm').ajaxForm(options);
    },
    bindAddressPageNewsletterSignupForm: function() {
        $('.newsletterForm').ajaxForm();
    },
    bindConfirmationNewsletterSignupForm: function() {
        var options = {
            success: function(data) {
                $('#newsletterSignupFormWrapper').html(data);
                $('#sacNewsletterSignupForm').ajaxForm(options);
            }
        };
        $('#sacNewsletterSignupForm').ajaxForm(options);
    },
    rebindCountrySwitcherToggle: function() {
        $('.js-checkoutAddressStepBillingAddressFormDefinition_country').change(function() {
            ACC.checkout.bindSetDefaultAddress();
        });
    },
    bindCountrySwitcherToggle: function() {
        $(document).on("cfInitialize.checkoutAddressForm", function(event, data) {
            if ($(data.form).hasClass('js-checkoutAddressStepBillingAddressFormDefinition')) {
                ACC.checkout.rebindCountrySwitcherToggle();
            }
        });
    },
    bindSetDefaultAddress: function() {
        if (ACC.env.currentBaseStore !== $('.js-checkoutAddressStepBillingAddressFormDefinition_country').val()) {
            $('.js-countryswitch').removeClass('hidden');
            $('.js-checkout-shipping-radio[value=NEW_ADDRESS]').click();
            $('.js-checkout-shipping-radio[value=SAME_AS_BILLING]').addClass('disabled');
            $('.js-checkout-shipping-radio[value=SAME_AS_BILLING]').prop('disabled', true);
        } else {
            $('.js-countryswitch').addClass('hidden');
            $('.js-checkout-shipping-radio[value=SAME_AS_BILLING]').removeClass('disabled');
            $('.js-checkout-shipping-radio[value=SAME_AS_BILLING]').prop('disabled', false);
        }
    },
    bindCheckoutPopups: function() {
        $(document).on("click", ".js-overlay-terms, .js-overlay-withdrawal", function(e) {
            e.preventDefault();
            var url = $(this).attr('href');
            $.get(url, function(response) {
                ACC.overlay.open({
                    html: response,
                    width: ACC.overlay.overlaySize.full,
                    customClass: ACC.overlay.overlayCustomClass.fullOverlay,
                    showCloseButton: true,
                    onOpen: function() {
                        $('.js-checkout-overlay-wrapper').addClass('container');
                        $(".js-fold-out").each(function() {
                            new FoldOut({
                                container: this
                            });
                        });
                    }
                })
            })
        });
    },
    adjustCheckoutHeaderSize: function() {
        var headerCheckoutLogo = $('.js-checkoutHeaderLogo img');
        if (!headerCheckoutLogo.hasClass('link__image')) {
            headerCheckoutLogo.addClass('link__image');
        }
    }
};

(function($) {
    $.fn.giftCardRedeemForm = function() {
        var $redeemForm = this;
        var $placeOrderFormSubmit = $('#placeOrder');
        var $submit = $redeemForm.find('.js-submit');
        var $number = $redeemForm.find('input[name="number"]');
        var $pin = $redeemForm.find('input[name="pin"]');
        var $errorMessage = $redeemForm.find('.js-message');
        var $successMessage = $('.js-success-message');
        var $cacelBtn = $('.js-cancel-giftCard');
        var errorFieldMap = {
            'message': $errorMessage,
            'number': $number,
            'pin': $pin,
            'general': $submit
        };
        var resetErrors = function() {
            Object.keys(errorFieldMap).forEach(function(key) {
                ACC.forms.hideError(errorFieldMap[key]);
            });
        };
        var handleSubmissionErrors = function(data) {
            var errors = data.errors;
            if (errors && errors.length > 0) {
                $.each(errors, function(index, value) {
                    var field = errorFieldMap[value];
                    if (!field) {
                        field = errorFieldMap.general;
                    }
                    ACC.forms.showError(field);
                });
            } else if (data.message) {
                ACC.messages.showError(data.message, 'error');
            } else {
                ACC.forms.showError(errorFieldMap.general);
            }
            unblockForms();
        };
        var lockGiftcardDialog = function(data) {
            if (data.giftcardDialogLocked) {
                $redeemForm.find('.form-group input').prop('disabled', true);
            }
        };
        var handleSubmissionSuccess = function(data) {
            updateTotalAndPaymentBlock(data);
        };
        var unblockForms = function(data) {
            $placeOrderFormSubmit.prop('disabled', false);
        };
        var updateTotalAndPaymentBlock = function(data) {
            $.get(window.location.href, {}, function(response) {
                var $response = $('<div />').html(response);
                var $paymentSection = $response.find('.js-payment-section');
                var $containerSide = $response.find('.js-container__side');
                var $giftcardSection = $response.find(".js-giftcard-section")
                $('.js-payment-section').replaceWith($paymentSection);
                $('.js-container__side').replaceWith($containerSide);
                $('.js-giftcard-section').replaceWith($giftcardSection);
                ACC.checkout.bindPaymentContent();
                ACC.checkout.bindPaymentMethodForm();
                setSuccessMessage(data);
                unblockForms();
            }, 'html');
        };
        var setSuccessMessage = function(data) {
            if (data.message) {
                $successMessage = $('.js-success-message');
                $successMessage.append(data.message);
                $successMessage.show();
            }
        };
        var submitForm = function() {
            $placeOrderFormSubmit.prop('disabled', true);
            var $formGroup = $pin.closest('.form-group');
            if ($formGroup.hasClass("hidden")) {
                $pin.val("");
            }
            resetErrors();
            $redeemForm.blockPost($redeemForm.attr('action'), $redeemForm.serialize()).done(function(data) {
                if (data && data.success) {
                    handleSubmissionSuccess(data);
                } else if (data) {
                    handleSubmissionErrors(data);
                    lockGiftcardDialog(data);
                } else {
                    handleSubmissionErrors();
                }
            }).fail(function() {
                handleSubmissionErrors();
            });
        };
        $number.on('keyup', function(e) {
            e.preventDefault();
            var regexAlphanumericTen = /^(?=.*\d)[A-Za-z0-9]{10}$/g;
            var regexAlphanumericSixteen = /^(?=.*\d)[A-Za-z0-9]{16}$/g;
            var regexNumericTen = /^[0-9]{10}$/g;
            var $formGroup = $pin.closest('.form-group');
            var value = $number.val();
            if (regexAlphanumericSixteen.test(value) || regexNumericTen.test(value)) {
                $formGroup.removeClass("hidden");
            } else {
                $formGroup.addClass("hidden");
                if (regexAlphanumericTen.test(value)) {
                    $redeemForm.find('.js-submit:visible').text($submit.attr('data-label-redeem'));
                } else {
                    $redeemForm.find('.js-submit:visible').text($submit.attr('data-label-next'));
                }
            }
        });
        $cacelBtn.on('click', function(e) {
            e.preventDefault();
            $(this).closest('.form-group').addClass("hidden");
            $number.val("");
        });
        $redeemForm.on('submit', function(e) {
            e.preventDefault();
            submitForm();
        });
        return this;
    }
}(jQuery));
$(document).ready(function() {
    var $redeemForm = $('#giftCardRedeemForm');
    if ($redeemForm.length === 0) {
        return;
    }
    $redeemForm.giftCardRedeemForm();
});

ACC.checkoutaddress = {
    _autoload: ["bindCheckoutCountrySpecificAddressForms", "showCheckoutAddressFormButtonPanel", ],
    spinner: $("<img src='" + ACC.config.commonResourcePath + "/images/spinner.gif' />"),
    addressID: '',
    showCheckoutAddressFormButtonPanel: function() {
        if ($('#checkoutCountrySelector :input').val() !== '') {
            $('#addressform_button_panel').show();
        }
    },
    bindCheckoutCountrySpecificAddressForms: function() {
        $(document).on("change", '#billingAddressFormCheckoutCountrySelector select', function() {
            ACC.checkoutaddress.displayCheckoutAddress();
        })
    },
    displayCheckoutAddress: function() {
        $('#checkoutAddressForm').attr("method", "POST")
        $('#checkoutAddressForm').attr("action", ACC.config.encodedContextPath + '/checkout/sac/address/change-country')
        $('#checkoutAddressForm').submit();
    },
};

ACC.checkoutsteps = {
    _autoload: ["permeateLinks"],
    permeateLinks: function() {
        $(document).on("click", ".js-checkout-step", function(e) {
            e.preventDefault();
            window.location = $(this).closest("a").attr("href")
        })
    }
};

ACC.cms = {
    loadComponent: function(id, type, target, onSuccess, onError) {
        var self = this;
        if (id) {
            $.ajax({
                url: ACC.config.contextPath + '/cms/component?componentUid=' + id,
                cache: false,
                type: 'GET',
                success: function(result) {
                    reprocess = result.indexOf('js-responsive-image') > -1;
                    self.insertHtml(result, target, reprocess);
                    if (onSuccess) {
                        onSuccess(result, id, type, target);
                    }
                },
                error: function(result) {
                    if (onError) {
                        onError(result, id, type, target);
                    }
                }
            });
        }
    },
    insertHtml: function(html, target, reprocess) {
        if (target) {
            $(target).html(html);
            if (reprocess) {
                ACC.global.reprocessImages();
            }
        }
    }
};

ACC.common = {
    currentCurrency: "USD",
    screenMaxMobile: 759,
    screenMaxSmall: 1024,
    processingMessage: $("<img src='" + ACC.config.commonResourcePath + "/images/spinner.gif'/>"),
    device: (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'mobile' : 'desktop'),
    emailRegexp: "^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$",
    pwdRegexp: '(^$|^(?=.*[0-9])(?=.*[A-Z]).{7,}$)',
    blockFormAndShowProcessingMessage: function(submitButton) {
        var form = submitButton.parents('form:first');
        form.block({
            message: ACC.common.processingMessage
        });
    },
    refreshScreenReaderBuffer: function() {
        $('#accesibility_refreshScreenReaderBufferField').attr('value', new Date().getTime());
    },
    bindMyAccount: function() {
        $(document).on('mouseenter', '.js-login-fly-out', function() {
            if (window.innerWidth > ACC.common.screenMaxSmall) {
                showFlyOut('.js-login-fly-out-content');
            }
        });
    },
    getJSLocaleFromLanguage: function(language) {
        if (language.indexOf("en_GB") !== -1) {
            return "en-GB";
        } else if (language.indexOf("zh_TW") !== -1) {
            return "zh-Hans-HK"
        }
        return language;
    },
    loadMyAccountButton: function() {
        var url = ACC.config.encodedContextPath + "/header/my-account/ajax";
        $.get(url, function(response) {
            $(".js-header-links").html(response);
            ACC.common.bindMyAccount();
        });
    },
    generateGuid: function() {
        function _p8(s) {
            var p = (Math.random().toString(16) + "000000000").substr(2, 8);
            return s ? "-" + p.substr(0, 4) + "-" + p.substr(4, 4) : p;
        }
        return _p8() + _p8(true) + _p8(true) + _p8();
    },
    applyPersonalInformation: function() {
        var clientInfoJson = ACC.cookie.getClientInfoCookie();
        if (clientInfoJson != null) {
            ACC.minicart.updateMiniCartItems(clientInfoJson.cartEntryCount);
            ACC.wishlist.showWishlistCount(clientInfoJson.wishlistEntryCount);
            if (clientInfoJson.isLoggedIn) {
                ACC.common.applyInformationForLoggedInUser();
            } else {
                ACC.common.applyInformationForAnonymousUser();
            }
        } else {
            ACC.common.applyInformationForAnonymousUser();
        }
    },
    applyInformationForLoggedInUser: function() {
        $('.js-content-loggedin').removeClass("hidden");
        $('.js-content-anonymous').addClass('hidden');
    },
    applyInformationForAnonymousUser: function() {
        $('.js-content-anonymous').removeClass("hidden");
        $('.js-content-loggedin').addClass("hidden");
    },
    appendFragmentOnlyRequestParameter: function(url) {
        var append = (url.indexOf("?") !== -1) ? '&' : '?';
        return url + append + 'showFragmentOnly=true';
    },
    startVideo: function() {
        $('.js-play-button').on('click', function(e) {
            e.preventDefault();
            var $self = $(this)
              , isExternalVideo = $self.data('external')
              , hideControlBar = $self.data('hide-control-bar')
              , url = $self.data('url')
              , $getParent = $self.closest('.video-player-component')
              , image = $getParent.find('.video-player-component__image-wrapper')
              , iframe = $getParent.find('.video-player-component__iframe')
              , video = $getParent.find('.video');
            $self.fadeOut(250, function() {
                if (isExternalVideo) {
                    if (url.search("autoplay=0") != -1) {
                        url = url.replace("autoplay=0", "autoplay=1");
                    } else {
                        url += "&autoplay=1";
                    }
                    iframe.attr("src", url);
                    iframe.fadeIn(250);
                } else if (url.length !== 0) {
                    video.fadeIn(250);
                    if (video.length) {
                        video.get(0).play();
                    }
                }
                image.fadeOut(250);
            });
        })
    },
    startContentStageVideo: function() {
        $(".js-content-stage-media").on("click", ".js-contentstage-play-button", function(e) {
            e.preventDefault();
            $(this).closest('.js-contentstage-play-container').addClass('hidden');
            var play = $(this);
            play.off("click");
            play.fadeOut(250, function() {
                var media = play.parents(".js-content-stage-media");
                var video = media.find(".js-content-stage-item__video");
                video.removeClass("hidden");
                video.parents(".roundabound.slide").removeClass("slide");
                media.find('.roundabound__right, .roundabound__left').addClass('roundabound--video-control');
                var videoTag = video.find('.js-video-player-component__video-element');
                var videoIframeContainer = video.find('.js-content-stage-item__iframe');
                if (videoTag.length) {
                    $(videoTag).get(0).play();
                } else if (videoIframeContainer.length) {
                    var videoIframe = videoIframeContainer.get(0)
                      , videoUrl = '';
                    if ($(videoIframe).data('src').length) {
                        videoUrl = $(videoIframe).data('src');
                    } else {
                        videoUrl = videoIframe.src;
                    }
                    if (videoUrl.search("autoplay=0") != -1) {
                        videoUrl = videoUrl.replace("autoplay=0", "autoplay=1");
                    } else {
                        videoUrl += "&autoplay=1";
                    }
                    videoIframe.src = videoUrl;
                }
            });
        });
    },
    scrollToElement: function(selector, margin, speed) {
        $('html, body').animate({
            scrollTop: $(selector).offset().top - margin
        }, speed);
    },
    hideOnFocusIn: function(elementToHide, elementWithFocus) {
        $("body").on("focusin", elementWithFocus, function() {
            if ($(window).width() <= screenMaxMobile) {
                $(elementToHide).addClass('hidden');
            }
        });
    },
    showOnFocusOut: function(elementToHide, elementWithFocus) {
        $("body").on("focusout", elementWithFocus, function() {
            if ($(window).width() <= screenMaxMobile) {
                $(elementToHide).removeClass('hidden');
            }
        });
    }
};
jQuery.extend({
    postJSON: function(url, data, callback) {
        return jQuery.post(url, data, callback, "json");
    }
});
$(document).ready(function() {
    ACC.cookie.initializeCookies();
    ACC.common.applyPersonalInformation();
    ACC.csrftoken.handleCsrfToken();
    ACC.common.startVideo();
    ACC.common.startContentStageVideo();
    if ('.js-order-summary-mobile'.length) {
        ACC.common.hideOnFocusIn(".js-order-summary-mobile", "input, .js-greetingcardtext-input");
        ACC.common.showOnFocusOut(".js-order-summary-mobile", "input, .js-greetingcardtext-input");
    }
    $('.js-responsive-image').removeClass('responsive-image-onload');
    $('.st-menu, .st-menu-right').removeClass('hidden');
    if ($('div.js-order-summary-mobile').length) {
        $('.footer').addClass('shopping-bag__footer');
    }
});
window.lazySizesConfig = window.lazySizesConfig || {};
window.lazySizesConfig.lazyClass = 'js-lazyload';

ACC.forgottenpassword = {
    _autoload: ["bindLink", "bindForgottenPasswordUpdatePasswordFormValidation"],
    bindLink: function() {
        $(document).on("click", ".js-password-forgotten", function(e) {
            e.preventDefault();
            if ($(".swal2-container").length) {
                $(".swal2-container .js-form-popup-close").click();
            }
            var url = $(this).data("url");
            $.get(url, function(response) {
                ACC.overlay.open({
                    title: $(this).data("cboxTitle"),
                    html: response,
                    width: ACC.overlay.overlaySize.full,
                    position: top,
                    customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                    onBeforeOpen: function() {
                        $('#validEmail').remove();
                        ACC.forgottenpassword.bindForgottenPasswordFormValidation();
                    }
                });
            });
        });
    },
    bindForgottenPasswordFormValidation: function() {
        var recipientEmail = $('#forgottenPwdEmail');
        var emailMandatory = recipientEmail.data('message-mandatory');
        var emailInvalid = recipientEmail.data('message-invalid');
        var emailMandatoryEN = recipientEmail.data('message-mandatory-en');
        var emailInvalidEN = recipientEmail.data('message-invalid-en');
        $('#forgottenPwdForm').formValidation({
            autoFocus: false,
            framework: 'bootstrap',
            icon: {
                valid: '',
                invalid: '',
                validating: ''
            },
            fields: {
                email: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    validators: {
                        notEmpty: {
                            message: emailMandatory,
                            message_en: emailMandatoryEN
                        },
                        regexp: {
                            regexp: ACC.common.emailRegexp,
                            message: emailInvalid,
                            message_en: emailInvalidEN
                        }
                    }
                }
            }
        }).on('success.form.fv', function(e) {
            e.preventDefault();
            $(this).blockAjaxSubmit({
                target: swal.getContent()
            });
            ACC.forgottenpassword.submitForgottenPassword();
        });
    },
    submitForgottenPassword: function() {
        $('form#forgottenPwdForm').ajaxForm({
            success: function(data) {
                if ($(data).closest('#validEmail').length) {
                    if ($('#validEmail').length === 0) {
                        ACC.overlay.open({
                            html: data,
                            width: ACC.overlay.overlaySize.full,
                            customClass: ACC.wishlist.getShowOverlayWishlistLoginLinkCss() + ' ' + ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
                        });
                    }
                } else {
                    ACC.overlay.open({
                        html: data,
                        width: ACC.overlay.overlaySize.full,
                        customClass: ACC.wishlist.getShowOverlayWishlistLoginLinkCss() + ' ' + ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
                    });
                }
                ACC.tracking.trackFormFieldErrorsStaticFormsBindingResults();
            }
        });
    },
    bindForgottenPasswordUpdatePasswordFormValidation: function() {
        var $updatePassword = $('.js-update-password');
        if ($updatePassword.length === 0) {
            return;
        }
        var $password = $('.js-update-password-input');
        var $passwordRepeat = $('.js-update-password-repeat');
        var passwordMandatory = $password.data('message-mandatory');
        var passwordMandatoryEN = $password.data('message-mandatory-en');
        var passwordInvalid = $password.data('message-invalid');
        var passwordInvalidEN = $password.data('message-invalid-en');
        var passwordNotMatching = $passwordRepeat.data('message-not-matching');
        var passwordNotMatchingEN = $passwordRepeat.data('message-not-matching-en');
        $updatePassword.formValidation({
            autoFocus: false,
            framework: 'bootstrap',
            icon: {
                valid: '',
                invalid: '',
                validating: ''
            },
            fields: {
                pwd: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: passwordMandatory,
                            message_en: passwordMandatoryEN
                        },
                        regexp: {
                            regexp: ACC.common.pwdRegexp,
                            message: passwordInvalid,
                            message_en: passwordInvalidEN
                        }
                    }
                },
                checkPwd: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: passwordMandatory,
                            message_en: passwordMandatoryEN
                        },
                        regexp: {
                            regexp: ACC.common.pwdRegexp,
                            message: passwordInvalid,
                            message_en: passwordInvalidEN
                        },
                        identical: {
                            field: 'pwd',
                            message: passwordNotMatching,
                            message_en: passwordNotMatchingEN
                        }
                    }
                }
            }
        })
    }
};

ACC.password = {
    bindAll: function() {
        $(":password").bind("cut copy", function(e) {
            e.preventDefault();
        });
    },
    changeVisibility: function(el, type) {
        el.closest('div').find('.pwd').attr('type', type);
    },
    bindVisibilityToggle: function() {
        $(document).on('mouseout mouseup touchstart', '.reveal', function() {
            ACC.password.changeVisibility($(this), 'password');
        });
        $(document).on('mousedown touchstart', '.reveal', function() {
            ACC.password.changeVisibility($(this), 'text');
        });
    },
    checkPasswordEquality: function() {
        if ($("#password").val() !== $("#passwordConfirmation").val()) {
            $("#repeatPasswordError").css('display', 'block');
            $('#resetSavePassword').prop('disabled', true);
        } else {
            $("#repeatPasswordError").css('display', 'none');
            $('#resetSavePassword').prop('disabled', false);
        }
    },
    repeatPassword: function() {
        $('#resetSavePassword').prop('disabled', true);
        $("#passwordConfirmation").on('keyup', function() {
            ACC.password.checkPasswordEquality();
        });
    }
};
$(document).ready(function() {
    ACC.password.bindAll();
    ACC.password.bindVisibilityToggle();
    ACC.password.repeatPassword();
});

ACC.hopdebug = {
    bindAll: function() {
        this.bindShowDebugMode();
    },
    bindShowDebugMode: function() {
        var debugModeEnabled = $('#hopDebugMode').data("hopDebugMode");
        if (!debugModeEnabled && !$('#showDebugPage').attr('value')) {
            $('#hostedOrderPagePostForm').submit();
        }
    }
};
$(document).ready(function() {
    ACC.hopdebug.bindAll();
});

ACC.newsletterpopup = {
    _autoload: ['showPopup'],
    cookiePath: '/',
    showPopup: function() {
        if (ACC.newsletterpopup.shouldBeShown()) {
            $.get(ACC.config.newsletterpopupURL).done(ACC.newsletterpopup.onAjaxSuccess)
        }
    },
    onAjaxSuccess: function(data) {
        ACC.overlay.open({
            html: data,
            showConfirmButton: false,
            showCloseButton: true,
            allowOutsideClick: false,
            width: ACC.overlay.overlaySize.full,
            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight + " newsletter-popup-container",
            onClose: ACC.newsletterpopup.onClosePopup,
            onOpen: ACC.newsletterpopup.onOpenPopup
        });
    },
    shouldBeShown: function() {
        return ACC.config.newsletterpopupActive && !ACC.config.newsletterCustomerSubscribed && $.cookie(ACC.config.newsletterCookieName) === null && !ACC.config.newsletterpopupExcludedURI && !ACC.inspirational.isPopupTriggered();
    },
    onClosePopup: function() {
        ACC.newsletterpopup.addCookie();
    },
    addCookie: function() {
        if ($.cookie(ACC.config.newsletterCookieName) == null) {
            $.cookie(ACC.config.newsletterCookieName, true, {
                expires: parseInt(ACC.config.newsletterpopupCookieMaxAge),
                path: ACC.newsletterpopup.cookiePath
            });
        }
    },
    onOpenPopup: function() {
        ACC.newsletter.bindNewsletterComponentForm();
    }
};

ACC.imagegallery = {
    _autoload: ["bindAllImageGalleries"],
    startStopVideos: function() {
        const type = (window.innerWidth < 760 ? 'mobile' : 'desktop');
        $('iframe[src*="youtube.com"]').each(function() {
            const iframe = $(this)[0];
            const playerData = players[type].youtube[iframe.id];
            if (playerData) {
                if ($(this).parents('div.owl-item').hasClass('active')) {
                    if (playerData.muted) {
                        playerData.player.mute();
                    }
                    playerData.player.setLoop(playerData.looped);
                    if (playerData.autoplay) {
                        playerData.player.playVideo();
                    }
                } else {
                    if (playerData.player.hasOwnProperty('seekTo')) {
                        playerData.player.seekTo(0);
                    }
                    if (playerData.player.hasOwnProperty('pauseVideo')) {
                        playerData.player.pauseVideo();
                    }
                }
            }
        });
        $('iframe[src*="vimeo.com"]').each(function() {
            const iframe = $(this)[0];
            const playerData = players[type].vimeo[iframe.parentElement.id];
            if (playerData) {
                if ($(this).parents('div.owl-item').hasClass('active')) {
                    if (playerData.muted) {
                        playerData.player.setVolume(0);
                    }
                    if (playerData.autoplay) {
                        playerData.player.play();
                    }
                } else {
                    playerData.player.setCurrentTime(0);
                    playerData.player.pause();
                }
            }
        });
        $('video[data-videotype="SELF_HOSTED"]').each(function() {
            const video = $(this)[0];
            const playerData = players[type].selfhosted[video.id];
            if (playerData) {
                if (!video.paused) {
                    video.pause();
                    if ($(this).next().hasClass('videoplayer__overlay')) {
                        $(this).next().show();
                    }
                }
            }
        });
    },
    bindAllImageGalleries: function() {
        $(document).ready(function() {
            var owl = $('.owl-carousel');
            owl.each(function() {
                ACC.imagegallery.bindImageGallery($(this));
            });
        });
    },
    bindImageGallery: function($carousel) {
        $(document).ready(function() {
            var stageOuterClass = $carousel.attr('data-stage-outer-class') + ' owl-stage-outer';
            var dotClass = $carousel.attr('data-dot-class') + ' owl-dot';
            var dotsClass = $carousel.attr('data-dots-class') + ' owl-dots';
            var controlsClass = $carousel.attr('data-controls-class') + ' owl-controls';
            var spinnerClass = 'loading-spinner';
            var $carouselContainer = getCarouselContainer();
            var controlSpinnerVisibility = function() {
                if ($(window).width() > screenMaxMobile) {
                    $('.js-loading-spinner-large').removeClass(spinnerClass);
                } else {
                    $('.js-loading-spinner-small').removeClass('loading-spinner--mobile-onload loading-spinner');
                }
                $carouselContainer = getCarouselContainer();
                $carouselContainer.find('.js-carousel-slot').removeClass('hide');
            };
            $carousel.on('initialized.owl.carousel', function() {
                controlSpinnerVisibility();
            });
            $carousel.owlCarousel({
                items: 1,
                nav: false,
                navText: ["<", ">"],
                stageOuterClass: stageOuterClass,
                dotClass: dotClass,
                dotsClass: dotsClass,
                dotsData: true,
                lazyLoad: true
            });
            $carousel.on('load.owl.lazy', function() {
                $carouselContainer.addClass(spinnerClass);
            });
            $carousel.on('loaded.owl.lazy', function() {
                $carouselContainer.removeClass(spinnerClass);
            });
            $(window).resize(function() {
                controlSpinnerVisibility();
            });
            $carousel.on('dragged.owl.carousel', function(event) {
                ACC.imagegallery.showThumbnails($carousel);
                ACC.imagegallery.startStopVideos();
            });
            function getCarouselContainer() {
                return $(window).width() <= screenMaxMobile ? $('.js-owl-carousel-mobile') : $('.js-owl-carousel-desktop');
            }
            $('.js-videoContainer').show();
            $('.owl-carousel .js-thumb-image').click(function() {
                $carousel.trigger('to.owl.carousel', [$(this).attr('data-index'), 1]);
                ACC.imagegallery.startStopVideos();
            });
            if ($carousel.find('.owl-controls').size() == 0) {
                $carousel.find('.owl-nav, .owl-dots').wrapAll("<div class='" + controlsClass + "'></div>");
            }
            $carousel.on('changed.owl.carousel', function() {
                $('.js-videoContainer').show();
                ACC.imagegallery.startStopVideos();
            });
            ACC.imagegallery.showThumbnails($carousel);
            $('.product-detail__view video[data-videotype="SELF_HOSTED"]').click(function() {
                const type = (window.innerWidth < 1025 ? 'mobile' : 'desktop');
                const video = $(this)[0];
                if ($(this).parents('div.owl-item').hasClass('active')) {
                    if (video.paused) {
                        $('#' + video.id + '-overlay').fadeOut(100);
                        video.play();
                    } else {
                        video.pause();
                        const overlay = $('#' + video.id + '-overlay');
                        overlay.height(video.clientHeight);
                        overlay.fadeIn(100);
                    }
                }
            });
            $('.product-detail__view div.video-preview-overlay').click(function() {
                const type = (window.innerWidth < 1025 ? 'mobile' : 'desktop');
                const preview = $(this).parent();
                const videoId = preview.attr('data-videoid');
                preview.fadeOut(300, function() {
                    $('#' + type + '-' + videoId + '-overlay').hide();
                    $('#' + type + '-' + videoId)[0].play();
                });
            });
        });
    },
    showThumbnails: function($carousel) {
        $(document).ready(function() {
            if ($carousel.hasClass('js-owl-carousel-mobile')) {
                return;
            }
            var visibleThumbsMaxIndex = $carousel.attr('data-max-visible-thumbs') - 1;
            var activeDot = $carousel.find('.owl-dots .active');
            var allDots = $carousel.find('.owl-dot');
            allDots.each(function(index) {
                $(this).hide();
            });
            activeDot.show();
            var prevDots = activeDot.prevAll();
            prevDots.slice(-1 * visibleThumbsMaxIndex).show();
            var nextDots = activeDot.nextAll();
            if (prevDots.length < visibleThumbsMaxIndex) {
                nextDots.slice(0, ((visibleThumbsMaxIndex - prevDots.length))).show();
            }
            var allVisibleDots = $('.js-owl-carousel-desktop .owl-dot .js-thumb-image:visible');
            allVisibleDots.each(function(index) {
                if ($(this).hasClass('quick-view__thumb-area')) {
                    $(this).find('.quick-view__image').attr('src', $(this).find('.quick-view__image').attr('data-src'));
                } else {
                    $(this).css('background-image', 'url(' + $(this).attr('data-thumb') + ')');
                }
            });
            if ($carousel.hasClass('js-overlay-owl-carousel')) {
                if (allDots.size() > (visibleThumbsMaxIndex + 1)) {
                    ACC.imagegallery.showArrowButtonsOverlay($carousel);
                }
            } else {
                ACC.imagegallery.showArrowButtons($carousel);
            }
        });
    },
    showArrowButtonsOverlay: function($carousel) {
        if ($carousel.find('.owl-controls .owl-custom-nav').size() == 0) {
            $carousel.find('.owl-controls').prepend("<div class='owl-custom-nav'></div>");
        }
        var lastVisibleDot = $carousel.find('.owl-dots .js-thumb-image:visible').last();
        var nextDots = lastVisibleDot.parent().nextAll().find('.js-thumb-image');
        var buttonClassNext = "js-owl-custom-next-button owl-custom-next-button-overlay";
        if (nextDots.length == 0) {
            buttonClassNext = buttonClassNext + " owl__nav--inactive";
        }
        $carousel.find('.owl-controls .owl-custom-nav .js-owl-custom-next-button').remove();
        if ($carousel.find('.owl-controls .owl-custom-nav .js-owl-custom-next-button').size() == 0) {
            $carousel.find('.owl-controls .owl-custom-nav').append("<div class='" + buttonClassNext + "'><a href='' class='link link--arrow-carousel link--arrow-carousel-right'><span class=\"link__icon link__icon--left\"></span></a></div>");
            ACC.imagegallery.bindNextButton($carousel);
        }
        var prevDots = lastVisibleDot.parent().prevAll().find('.js-thumb-image:hidden');
        var buttonClassPrev = "js-owl-custom-prev-button owl-custom-prev-button-overlay";
        if (prevDots.length == 0) {
            buttonClassPrev = buttonClassPrev + " owl__nav--inactive";
        }
        $carousel.find('.owl-controls .owl-custom-nav .js-owl-custom-prev-button').remove();
        if ($carousel.find('.owl-controls .owl-custom-nav .js-owl-custom-prev-button').size() == 0) {
            $carousel.find('.owl-controls .owl-custom-nav').prepend("<div class='" + buttonClassPrev + "'><a href='' class='link link--arrow-carousel link--arrow-carousel-left'><span class=\"link__icon link__icon--left\"></span></a></div>");
            ACC.imagegallery.bindPrevButton($carousel);
        }
    },
    showArrowButtons: function($carousel) {
        var lastVisibleDot = $carousel.find('.owl-dots .js-thumb-image:visible').last();
        var nextDots = lastVisibleDot.parent().nextAll().find('.js-thumb-image');
        if (nextDots.length == 0) {
            $carousel.find('.owl-controls .js-owl-custom-next-button').remove();
        } else {
            if ($carousel.find('.owl-controls .js-owl-custom-next-button').size() == 0) {
                $carousel.find('.owl-controls').append("<div class='js-owl-custom-next-button owl-custom-next-button link-wrapper'>" + "<a class=\"link link--arrow-carousel link--arrow-carousel-right\" href=\"#\">" + "<span class=\"link__icon link__icon--left\"></span>\</a></div>");
                ACC.imagegallery.bindNextButton($carousel);
            }
        }
        var prevDots = lastVisibleDot.parent().prevAll().find('.js-thumb-image:hidden');
        if (prevDots.length == 0) {
            $carousel.find('.owl-controls .js-owl-custom-prev-button').remove();
        } else {
            if ($carousel.find('.owl-controls .js-owl-custom-prev-button').size() == 0) {
                $carousel.find('.owl-controls').prepend("<div class='js-owl-custom-prev-button owl-custom-prev-button link-wrapper'>" + "<a class=\"link link--arrow-carousel link--arrow-carousel-left\" href=\"#\">" + "<span class=\"link__icon link__icon--left\"></span>\</a></div>");
                ACC.imagegallery.bindPrevButton($carousel);
            }
        }
    },
    bindPrevButton: function($carousel) {
        $carousel.find('.js-owl-custom-prev-button a').click(function(event) {
            event.preventDefault();
            if ($(this).parent().hasClass('owl__nav--inactive')) {
                return;
            }
            var visibleDots = $carousel.find('.owl-dots .js-thumb-image:visible');
            visibleDots.last().parent().hide();
            var newVisibleDot = visibleDots.first().parent().prev();
            newVisibleDot.show();
            if (newVisibleDot.find('.js-thumb-image').hasClass('quick-view__thumb-area')) {
                newVisibleDot.find('.js-thumb-image').find('.quick-view__image').attr('src', newVisibleDot.find('.js-thumb-image').find('.quick-view__image').attr('data-src'));
            } else {
                newVisibleDot.find('.js-thumb-image').css('background-image', 'url(' + newVisibleDot.find('.js-thumb-image').attr('data-thumb') + ')');
            }
            if ($carousel.hasClass('js-overlay-owl-carousel')) {
                ACC.imagegallery.showArrowButtonsOverlay($carousel);
            } else {
                ACC.imagegallery.showArrowButtons($carousel);
            }
        });
    },
    bindNextButton: function($carousel) {
        $carousel.find('.js-owl-custom-next-button a').click(function(event) {
            event.preventDefault();
            if ($(this).parent().hasClass('owl__nav--inactive')) {
                return;
            }
            var visibleDots = $carousel.find('.owl-dots .js-thumb-image:visible');
            visibleDots.first().parent().hide();
            var newVisibleDot = visibleDots.last().parent().next();
            newVisibleDot.show();
            if (newVisibleDot.find('.js-thumb-image').hasClass('quick-view__thumb-area')) {
                newVisibleDot.find('.js-thumb-image').find('.quick-view__image').attr('src', newVisibleDot.find('.js-thumb-image').find('.quick-view__image').attr('data-src'));
            } else {
                newVisibleDot.find('.js-thumb-image').css('background-image', 'url(' + newVisibleDot.find('.js-thumb-image').attr('data-thumb') + ')');
            }
            if ($carousel.hasClass('js-overlay-owl-carousel')) {
                ACC.imagegallery.showArrowButtonsOverlay($carousel);
            } else {
                ACC.imagegallery.showArrowButtons($carousel);
            }
        });
    },
    bindOverlayImageGallery: function($carousel) {
        $(document).ready(function() {
            var stageOuterClass = $carousel.attr('data-stage-outer-class') + ' owl-stage-outer';
            var dotClass = $carousel.attr('data-dot-class');
            var only = false;
            var navClass = ['hidden', 'hidden'];
            if ($carousel.find('.carousel-slot').length > 1) {
                only = true;
                navClass = ['quick-view__arrow-prev', 'quick-view__arrow-next'];
            }
            $carousel.owlCarousel({
                items: 1,
                loop: only,
                navigation: false,
                nav: only,
                navContainerClass: "quick-view__carousel-nav",
                dotClass: dotClass,
                stageOuterClass: stageOuterClass,
                navClass: navClass,
                navText: ["<span class='link link--arrow-carousel link--arrow-carousel-left'><span class='link__icon link__icon--left js-quick-view-thumbs'></span></span>", "<span class='link link--arrow-carousel link--arrow-carousel-right'><span class='link__icon link__icon--left js-quick-view-thumbs'></span></span>"],
                dots: true,
                lazyLoad: true
            });
        });
    }
};

ACC.inspirational = {
    _autoload: ["bindAllInspirationalZoom", "openInspirationalLayaotByQueryParam"],
    bindAllInspirationalZoom: function() {
        $('.js-inspirational-item').on('click', function(e) {
            if ($(this).data('popup-target')) {
                var modalContent = $($(this).data('popup-target'));
                if (modalContent) {
                    $('.js-inspirational-item-image', modalContent).attr('src', $(this).data('overlay-image'));
                    ACC.inspirational.openModalInspirationalConfig(modalContent.html());
                }
            }
        });
    },
    openModalInspirationalConfig: function(htmlContent) {
        ACC.overlay.open({
            html: htmlContent,
            showConfirmButton: false,
            showCloseButton: true,
            customClass: 'js-inspirational-swal',
            width: ACC.overlay.overlaySize.full,
            position: 'bottom',
            onOpen: function() {
                var $inspirationalOverlay = $('#swal2-content').find('.js-inspirational-overlay');
                $inspirationalOverlay.addClass('js-tooltip');
                $inspirationalOverlay.each(function() {
                    new Tooltip(this);
                });
                $(".js-inspirational-swal .js-product-teaser-content").each(function() {
                    new Sideswipe({
                        container: this
                    });
                });
                $('.js-inspirational-swal .js-quickviewlist').each(function() {
                    new QuickView(this);
                });
                ACC.qrcode.bindShareSocialIconLinkAction();
                ACC.global.reprocessImages();
            }
        });
    },
    getParameterByName: function(name, url) {
        if (!url) {
            url = window.location.href;
        }
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)")
          , results = regex.exec(url);
        if (!results) {
            return null;
        }
        if (!results[2]) {
            return '';
        }
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    },
    openInspirationalLayaotByQueryParam: function() {
        if (this.isPopupTriggered()) {
            var inspirationalId = ACC.inspirational.getParameterByName('inspirationalId');
            var popup = $('.js-inspirational-popup-' + inspirationalId);
            if (popup.length) {
                ACC.inspirational.openModalInspirationalConfig(popup.html());
            }
        }
    },
    isPopupTriggered: function() {
        var inspirationalId = ACC.inspirational.getParameterByName('inspirationalId');
        return inspirationalId && inspirationalId !== '';
    }
};

ACC.langcurrency = {
    _autoload: ["bindLangCurrencySelector"],
    bindLangCurrencySelector: function() {
        $('#lang-selector').change(function() {
            $('#lang-form').submit();
        });
        $('#currency-selector').change(function() {
            $('#currency-form').submit();
        });
    }
};

ACC.minicart = {
    updateMiniCartDisplay: function() {
        var miniCartRefreshUrl = $(".js-mini-cart-link").data("miniCartRefreshUrl");
        $.ajax({
            url: miniCartRefreshUrl,
            cache: false,
            type: 'GET',
            dataType: 'json',
            success: function(jsonData) {
                $("#js-mini-cart-count").html(jsonData.miniCartCount);
            }
        });
    },
    updateMiniCartItems: function(numItems) {
        $('#js-mini-cart-count').html(numItems);
    }
};

var oDoc = document;
ACC.navigation = {
    _autoload: ["offcanvasNavigation", "myAccountNavigation", "bindCloseButton", ["removeListNavEmptyElements", $(".js-list-nav").length], ["removeHorizontalNavEmptyElements", $(".js-horizontal-nav").length]],
    offcanvasNavigation: function() {
        enquire.register("screen and (max-width:" + screenSmMax + ")", {
            match: function() {
                $(document).on("click", ".js-enquire-offcanvas-navigation .js-enquire-has-sub > a", function(e) {
                    e.preventDefault();
                    $(".js-userAccount-Links").hide();
                    $(".js-enquire-offcanvas-navigation > ul.js-offcanvas-links").addClass("active");
                    $(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");
                    $(this).parent(".js-enquire-has-sub").addClass("active");
                });
                $(document).on("click", ".js-enquire-offcanvas-navigation .js-enquire-sub-close", function(e) {
                    e.preventDefault();
                    $(".js-userAccount-Links").show();
                    $(".js-enquire-offcanvas-navigation > ul.js-offcanvas-links").removeClass("active");
                    $(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");
                });
            },
            unmatch: function() {
                $(".js-enquire-offcanvas-navigation > ul.js-offcanvas-links").removeClass("active");
                $(".js-enquire-offcanvas-navigation .js-enquire-has-sub").removeClass("active");
                $(document).off("click", ".js-enquire-offcanvas-navigation .js-enquire-has-sub > a");
                $(document).off("click", ".js-enquire-offcanvas-navigation .js-enquire-sub-close");
            }
        });
    },
    myAccountNavigation: function() {
        $('.js-mobile-logo').html($('.js-site-logo a').clone());
        $('.nav-form').html($('<span class="glyphicon glyphicon-list-alt"></span>'));
        var aAcctData = [];
        var sSignBtn = "";
        var oMyAccountData = $(".accNavComponent");
        var oMMainNavDesktop = $(".accNavComponentAccount > ul");
        var oMainNav = $(".main-navigation > ul.nav.nav-pills");
        if (oMyAccountData) {
            var aLinks = oMyAccountData.find("a");
            for (var i = 0; i < aLinks.length; i++) {
                aAcctData.push({
                    link: aLinks[i].href,
                    text: aLinks[i].title
                });
            }
        }
        var navClose = '';
        navClose += '<div class="close-nav">';
        navClose += '<button type="button" class="js-toggle-sm-navigation btn"><span class="glyphicon glyphicon-remove"></span></button>';
        navClose += '</div>';
        var countryHook = [];
        countryHook.push('<a class="js-showCountrySelector" title="Country">Country</a>');
        if ($(".liOffcanvas a") && $(".liOffcanvas a").length > 0) {
            sSignBtn += '<li class=\"auto liUserSign\" ><a class=\"userSign\" href=\"' + $(".liOffcanvas a")[0].href + '\">' + $(".liOffcanvas a")[0].innerHTML + '</a></li>';
        }
        var oUserInfo = $(".md-secondary-navigation ul li.js-logged_in");
        if (oUserInfo && oUserInfo.length === 1) {
            var sUserBtn = '';
            sUserBtn += '<li class=\"auto \">';
            sUserBtn += '<div class=\"userGroup\">';
            sUserBtn += '<span class="glyphicon glyphicon-user myAcctUserIcon"></span>';
            sUserBtn += '<div class=\"userName\">' + oUserInfo[0].innerHTML + '</div>';
            if (aAcctData.length > 0) {
                sUserBtn += '<a class=\"collapsed js-nav-collapse\" id="signedInUserOptionsToggle" data-toggle=\"collapse\"  data-target=\".offcanvasGroup1\">';
                sUserBtn += '<span class="glyphicon glyphicon-chevron-up myAcctExp"></span>';
                sUserBtn += '</a>';
            }
            sUserBtn += '</div>';
            sUserBtn += navClose;
            $('.js-sticky-user-group').html(sUserBtn);
            $('.js-userAccount-Links').append(sSignBtn);
            $('.js-userAccount-Links').append($('<li class="auto"><div class="myAccountLinksContainer js-myAccountLinksContainer"></div></li>'));
            var myAccountHook = $('<a class=\"myAccountLinksHeader collapsed js-myAccount-toggle\" data-toggle=\"collapse\" data-parent=".md-secondary-navigation" href=\"#accNavComponentDesktopOne\">' + oMyAccountData.data("title") + '</a>');
            myAccountHook.insertBefore(oMyAccountData);
            var myAccountHook = [];
            myAccountHook.push('<div class="sub-nav">');
            var myAccountLink = ACC.config.encodedContextPath + "/my-account";
            myAccountHook.push('<a href="' + myAccountLink + '" title="My Account">My Account</a>');
            myAccountHook.push('</a>');
            myAccountHook.push(countryHook);
            myAccountHook.push('</div>');
            $('.js-myAccountLinksContainer').append(myAccountHook.join(''));
            $('.js-myAccountLinksContainer').append($('<ul data-trigger="#signedInUserAccountToggle" class="offcanvasGroup2 offcanvasNoBorder collapse js-nav-collapse-body subNavList js-myAccount-root sub-nav"></ul>'));
            for (var i = aAcctData.length - 1; i >= 0; i--) {
                var oLink = oDoc.createElement("a");
                oLink.title = aAcctData[i].text;
                oLink.href = aAcctData[i].link;
                oLink.innerHTML = aAcctData[i].text;
                var oListItem = oDoc.createElement("li");
                oListItem.appendChild(oLink);
                oListItem = $(oListItem);
                oListItem.addClass("auto ");
                $('.js-myAccount-root').append(oListItem);
            }
        } else {
            var navButtons = (sSignBtn.substring(0, sSignBtn.length - 5) + navClose) + '</li>';
            $('.js-sticky-user-group').html(navButtons + '<li class="liUserSign">' + countryHook + '</li>');
        }
        for (var i = 0; i < aAcctData.length; i++) {
            var oLink = oDoc.createElement("a");
            oLink.title = aAcctData[i].text;
            oLink.href = aAcctData[i].link;
            oLink.innerHTML = aAcctData[i].text;
            var oListItem = oDoc.createElement("li");
            oListItem.appendChild(oLink);
            oListItem = $(oListItem);
            oListItem.addClass("auto col-md-4");
            oMMainNavDesktop.get(0).appendChild(oListItem.get(0));
        }
        $('.accNavComponentAccount').on('shown.bs.collapse', function() {
            if ($('.accNavComponentCompany').hasClass('in')) {
                $('.js-myCompany-toggle').click();
            }
        });
        $('.accNavComponentCompany').on('shown.bs.collapse', function() {
            if ($('.accNavComponentAccount').hasClass('in')) {
                $('.js-myAccount-toggle').click();
            }
        });
        $('.js-nav-collapse-body').on('hidden.bs.collapse', function(e) {
            var target = $(e.target);
            var targetSpan = target.attr('data-trigger') + ' > span';
            if (target.hasClass('in')) {
                $(targetSpan).removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
            } else {
                $(targetSpan).removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
            }
        });
        $('.js-nav-collapse-body').on('show.bs.collapse', function(e) {
            var target = $(e.target)
            var targetSpan = target.attr('data-trigger') + ' > span';
            if (target.hasClass('in')) {
                $(targetSpan).removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');
            } else {
                $(targetSpan).removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');
            }
        });
    },
    bindCloseButton: function() {
        $('.main-navigation').on('click', '.closeButton', function() {
            $(this).closest('li').removeClass("md-show-sub");
        })
    },
    removeListNavEmptyElements: function() {
        $(".js-list-nav .link--link3").each(function() {
            if (!$(this).html().trim().length) {
                $(this).closest(".in-page-navigation__link").remove();
            }
        })
        $(".js-list-nav").removeClass("hidden");
    },
    removeHorizontalNavEmptyElements: function() {
        $(".js-horizontal-nav .tab-navigation__tab").each(function() {
            if (!$(this).html().trim().length) {
                $(this).remove();
            }
        })
        $(".js-horizontal-nav").removeClass("hidden");
    }
};

ACC.order = {
    _autoload: ["backToOrderHistory", "backToOrders", "bindMultidProduct"],
    backToOrderHistory: function() {
        $(".orderBackBtn").on("click", function() {
            var sUrl = $(this).data("backToOrders");
            window.location = sUrl;
        });
    },
    backToOrders: function() {
        $(".orderTopBackBtn").on("click", function() {
            var sUrl = $(this).data("backToOrders");
            window.location = sUrl;
        });
    },
    bindMultidProduct: function() {
        $(document).on("click", '.showMultiDGridInOrder', function(event) {
            ACC.order.populateAndShowGrid(this, event, true);
            return false;
        });
        $(document).on("click", '.showMultiDGridInOrderOverlay', function(event) {
            ACC.order.populateAndShowCheckoutGridOverlay(this, event);
        });
    },
    populateAndShowGrid: function(element, event, readOnly) {
        var itemIndex = $(element).data("index");
        grid = $("#ajaxGrid" + itemIndex);
        var gridEntries = $('#grid' + itemIndex);
        $(element).toggleClass('open');
        if (!grid.is(":hidden")) {
            grid.slideUp();
            return;
        }
        if (grid.html() != "") {
            grid.slideToggle("slow");
            return;
        }
        var strSubEntries = gridEntries.data("sub-entries");
        var arrSubEntries = strSubEntries.split(',');
        var firstVariantCode = arrSubEntries[0].split(':')[0];
        var targetUrl = gridEntries.data("target-url");
        if (targetUrl == '') {
            targetUrl = ACC.config.contextPath + '/my-account/order/' + gridEntries.data("order-code") + '/getReadOnlyProductVariantMatrix';
        }
        var method = "GET";
        $.ajax({
            url: targetUrl,
            data: {
                productCode: firstVariantCode
            },
            type: method,
            success: function(data) {
                grid.html(data);
                grid.slideDown("slow");
            },
            error: function(xht, textStatus, ex) {
                alert("Failed to get variant matrix. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
            }
        });
    },
    populateAndShowCheckoutGridOverlay: function(element, event) {
        event.preventDefault();
        var itemIndex = $(element).data("index");
        var gridEntries = $('#grid' + itemIndex);
        var strSubEntries = gridEntries.data("sub-entries");
        var productName = gridEntries.data("product-name");
        var arrSubEntries = strSubEntries.split(',');
        var firstVariantCode = arrSubEntries[0].split(':')[0];
        var orderCode = gridEntries.data("order-code");
        var targetUrl = ACC.config.contextPath + '/my-account/order/' + orderCode + '/getReadOnlyProductVariantMatrix?productCode=' + firstVariantCode;
        $.colorbox({
            href: targetUrl,
            title: productName,
            className: 'read-only-grid',
            close: '<span class="glyphicon glyphicon-remove"></span>',
            width: window.innerWidth > parseInt(cboxOptions.maxWidth) ? cboxOptions.maxWidth : cboxOptions.width,
            height: window.innerHeight > parseInt(cboxOptions.maxHeight) ? cboxOptions.maxHeight : cboxOptions.height,
            onComplete: function() {
                var cTitle = $('#cboxTitle').clone();
                $('#cboxTitle').remove();
                cTitle.insertBefore('#cboxLoadedContent');
                $('body').addClass('offcanvas');
                var oH = $('#cboxLoadedContent').height();
                $('#cboxLoadedContent').height((oH - $('#cboxTitle').height()) + 'px');
            },
            onClosed: function() {
                $('body').removeClass('offcanvas');
            }
        });
    }
};

ACC.paginationsort = {
    downUpKeysPressed: false,
    bindAll: function() {
        this.bindPaginationSort();
        this.bindsSearchLinkFormSubmit();
    },
    bindPaginationSort: function() {
        with (ACC.paginationsort) {
            bindSortForm($('#sortForm1'));
            bindSortForm($('#sortForm2'));
        }
    },
    bindSortForm: function(sortForm) {
        sortForm.change(function() {
            if (!ACC.paginationsort.downUpPressed) {
                this.submit();
            }
            ACC.paginationsort.downUpPressed = false;
        });
    },
    sortFormIEFix: function(sortOptions, selectedOption) {
        sortOptions.keydown(function(e) {
            if (e.keyCode === 38 || e.keyCode === 40) {
                ACC.paginationsort.downUpPressed = true;
            } else if (e.keyCode === 13 && selectedOption !== $(this).val()) {
                $(this).parent().submit();
            } else {
                ACC.paginationsort.downUpPressed = false;
            }
        });
    },
    bindsSearchLinkFormSubmit: function() {
        $(document).on('click', '.js-search-sort-form-link', function(e) {
            e.preventDefault();
            $(this).parents('form').find('input[name="sort"]').val($(this).data('value'));
            $(this).closest('form').submit();
        })
    },
};
$(document).ready(function() {
    ACC.paginationsort.bindAll();
});

ACC.payment = {
    bindPaymentCardTypeSelect: function() {
        ACC.payment.filterCardInformationDisplayed();
        $("#card_cardType").change(function() {
            var cardType = $(this).val();
            if (cardType == '024') {
                $('#startDate, #issueNum').show();
            } else {
                $('#startDate, #issueNum').hide();
            }
        });
    },
    filterCardInformationDisplayed: function() {
        var cardType = $('#card_cardType').val();
        if (cardType == '024') {
            $('#startDate, #issueNum').show();
        } else {
            $('#startDate, #issueNum').hide();
        }
    }
}
$(document).ready(function() {
    with (ACC.payment) {
        bindPaymentCardTypeSelect();
    }
});

ACC.paymentDetails = {
    _autoload: ["showRemovePaymentDetailsConfirmation"],
    showRemovePaymentDetailsConfirmation: function() {
        $(document).on("click", ".js-remove-payment-details", function() {
            var paymentId = $(this).data("paymentId");
            var popupTitle = $(this).data("popupTitle");
            var html = $("#popup_confirm_payment_removal_" + paymentId);
            ACC.overlay.open({
                title: popupTitle,
                html: html,
                width: ACC.overlay.overlaySize.full,
                customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
            });
        })
    }
};

ACC.pickupinstore = {
    _autoload: ["bindClickPickupInStoreButton", "bindPickupButton", "bindPickupClose", "bindPickupInStoreSearch"],
    storeId: "",
    unbindPickupPaginationResults: function() {
        $(document).off("click", "#colorbox .js-pickup-store-pager-prev")
        $(document).off("click", "#colorbox .js-pickup-store-pager-next")
    },
    bindPickupPaginationResults: function() {
        var listHeight = $("#colorbox .js-pickup-store-list").height();
        var $listitems = $("#colorbox .js-pickup-store-list > li");
        var listItemHeight = $listitems.height();
        var displayCount = 5;
        var totalCount = $listitems.length;
        var curPos = 0
        var pageEndPos = (((totalCount / displayCount) - 1) * (displayCount * listItemHeight)) * -1;
        $("#colorbox .js-pickup-store-pager-item-all").html(totalCount);
        $("#colorbox .store-navigation-pager").show();
        checkPosition()
        $(document).on("click", "#colorbox .js-pickup-store-pager-prev", function(e) {
            e.preventDefault();
            $listitems.css("transform", "translateY(" + (curPos + listHeight) + "px)")
            curPos = curPos + listHeight;
            checkPosition("prev");
        })
        $(document).on("click", "#colorbox .js-pickup-store-pager-next", function(e) {
            e.preventDefault();
            $listitems.css("transform", "translateY(" + (curPos - listHeight) + "px)")
            curPos = curPos - listHeight;
            checkPosition("next");
        })
        function checkPosition() {
            var curPage = Math.ceil((curPos / (displayCount * listItemHeight)) * -1) + 1;
            $("#colorbox .js-pickup-store-pager-item-from").html(curPage * displayCount - 4);
            var tocount = (curPage * displayCount > totalCount) ? totalCount : curPage * displayCount;
            if (curPage * displayCount - 4 == 1) {
                $("#colorbox .js-pickup-store-pager-prev").hide()
            } else {
                $("#colorbox .js-pickup-store-pager-prev").show()
            }
            if (curPage * displayCount >= totalCount) {
                $("#colorbox .js-pickup-store-pager-next").hide()
            } else {
                $("#colorbox .js-pickup-store-pager-next").show()
            }
            $("#colorbox .js-pickup-store-pager-item-to").html(tocount);
        }
    },
    bindPickupInStoreQuantity: function() {
        $('.pdpPickupQtyPlus').click(function(e) {
            e.preventDefault();
            var inputQty = $('.js-add-pickup-cart #pdpPickupAddtoCartInput');
            var currentVal = parseInt(inputQty.val());
            var maxVal = inputQty.data('max');
            if (!isNaN(currentVal) && currentVal < maxVal) {
                inputQty.val(currentVal + 1);
                inputQty.change();
            }
        });
        $('.pdpPickupQtyMinus').click(function(e) {
            e.preventDefault();
            var inputQty = $('.js-add-pickup-cart #pdpPickupAddtoCartInput');
            var currentVal = parseInt(inputQty.val());
            var minVal = inputQty.data('min');
            if (!isNaN(currentVal) && currentVal > minVal) {
                inputQty.val(currentVal - 1);
                inputQty.change();
            }
        });
        $("body").on("keyup", ".js-add-pickup-cart #pdpPickupAddtoCartInput", function(event) {
            var input = $(event.target);
            input.val(this.value.match(/[0-9]*/));
            var value = input.val();
        });
    },
    bindPickupInStoreSearch: function() {
        $(document).on('click', '#pickupstore_location_search_button', function(e) {
            ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(), $('#atCartPage').val(), $('#entryNumber').val(), $(this).parents('form').attr('action'));
            return false;
        });
        $(document).on('keypress', '#locationForSearch', function(e) {
            if (e.keyCode === 13) {
                e.preventDefault();
                ACC.pickupinstore.locationSearchSubmit($('#locationForSearch').val(), $('#atCartPage').val(), $('input.entryNumber').val(), $(this).parents('form').attr('action'));
                return false;
            }
        });
    },
    bindPickupHereInStoreButtonClick: function() {
        $(document).on('click', '.pickup_add_to_bag_instore_button', function(e) {
            $(this).prev('.hiddenPickupQty').val($('#pickupQty').val());
        });
        $(document).on('click', '.pickup_here_instore_button', function(e) {
            $(this).prev('.hiddenPickupQty').val($('#pickupQty').val());
            ACC.colorbox.close();
        });
    },
    locationSearchSubmit: function(location, cartPage, entryNumber, productCode, latitude, longitude) {
        $("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").attr("disabled", "disabled");
        $.ajax({
            url: productCode,
            data: {
                locationQuery: location,
                cartPage: cartPage,
                entryNumber: entryNumber,
                latitude: latitude,
                longitude: longitude
            },
            type: "post",
            success: function(response) {
                ACC.pickupinstore.refreshPickupInStoreColumn(response);
            }
        });
    },
    createListItemHtml: function(data, id) {
        var item = "";
        item += '<li class="pickup-store-list-entry">';
        item += '<input type="radio" name="storeNamePost" value="' + data.displayName + '" id="pickup-entry-' + id + '" class="js-pickup-store-input" data-id="' + id + '">';
        item += '<label for="pickup-entry-' + id + '" class="js-select-store-label">';
        item += '<span class="pickup-store-info">';
        item += '<span class="pickup-store-list-entry-name">' + data.displayName + '</span>';
        item += '<span class="pickup-store-list-entry-address">' + data.line1 + ' ' + data.line2 + '</span>';
        item += '<span class="pickup-store-list-entry-city">' + data.town + '</span>';
        item += '</span>';
        item += '<span class="store-availability">';
        item += '<span class="available">' + data.formattedDistance + '<br>' + data.stockPickup + '</span>';
        item += '</span>';
        item += '</label>';
        item += '</li>';
        return item;
    },
    refreshPickupInStoreColumn: function(data) {
        data = $.parseJSON(data);
        var listitems = "";
        $("#colorbox .js-pickup-component").data("data", data);
        for (i = 0; i < data["data"].length; i++) {
            listitems += ACC.pickupinstore.createListItemHtml(data["data"][i], i)
        }
        $('#colorbox .js-pickup-store-list').html(listitems);
        ACC.pickupinstore.unbindPickupPaginationResults()
        ACC.pickupinstore.bindPickupPaginationResults()
        var firstInput = $("#colorbox .js-pickup-store-input")[0];
        $(firstInput).click();
        $("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").removeAttr("disabled");
    },
    bindClickPickupInStoreButton: function() {
        $(document).on("click", ".js-pickup-in-store-button", function(e) {
            e.preventDefault();
            var ele = $(this);
            var productId = "pickupModal_" + $(this).attr('id');
            var cartItemProductPostfix = '';
            var productIdNUM = $(this).attr('id');
            productIdNUM = productIdNUM.split("_");
            productIdNUM = productIdNUM[1];
            if (productId !== null) {
                cartItemProductPostfix = '_' + productId;
            }
            var boxContent = $("#popup_store_pickup_form > #pickupModal").clone();
            var titleHeader = $('#pickupTitle > .pickup-header').html();
            ACC.colorbox.open(titleHeader, {
                html: boxContent,
                width: "960px",
                onComplete: function() {
                    $("#colorbox .js-add-to-cart-for-pickup-popup, #colorbox .js-qty-selector-minus, #colorbox .js-qty-selector-input, #colorbox .js-qty-selector-plus").attr("disabled", "disabled");
                    boxContent.show();
                    ACC.pickupinstore.pickupStorePager();
                    var tabs = $("#colorbox .js-pickup-tabs").accessibleTabs({
                        tabhead: '.tabhead',
                        tabbody: '.tabbody',
                        fx: 'show',
                        fxspeed: 0,
                        currentClass: 'active',
                        autoAnchor: true,
                        cssClassAvailable: true
                    });
                    $("#colorbox #pickupModal *").each(function() {
                        if ($(this).attr("data-id") != undefined) {
                            $(this).attr("id", $(this).attr("data-id"));
                            $(this).removeAttr("data-id");
                        }
                    });
                    $("#colorbox input#locationForSearch").focus();
                    $("#colorbox #pickupModal").attr("id", productId);
                    $("#colorbox #" + productId + " .thumb").html(ele.data("img"));
                    $("#colorbox #" + productId + " .js-pickup-product-price").html(ele.data("productcart"));
                    var variants = ele.data("productcartVariants");
                    var variantsOut = "";
                    $.each(variants, function(key, value) {
                        variantsOut += "<span>" + value + "</span>";
                    })
                    $("#colorbox #" + productId + " .js-pickup-product-variants").html(variantsOut);
                    $("#colorbox  #" + productId + " .js-pickup-product-info").html(ele.data("productname"))
                    $("#colorbox #" + productId + " form.searchPOSForm").attr("action", ele.data("actionurl"));
                    $("#colorbox #" + productId + " form.searchPOSForm").attr("id", "pickup_in_store_search_form_product_" + productIdNUM);
                    $("#colorbox #" + productId + " #pdpPickupAddtoCartInput").attr("value", ($('#pdpPickupAddtoCartInput').val() !== undefined ? $('#pdpPickupAddtoCartInput').val() : ele.data("value")));
                    $("#colorbox #" + productId + " input#entryNumber").attr("value", ele.data("entrynumber"));
                    $("#colorbox #" + productId + " input#atCartPage").attr("value", ele.data("cartpage"));
                    if (navigator.geolocation) {
                        navigator.geolocation.getCurrentPosition(function(position) {
                            ACC.pickupinstore.locationSearchSubmit('', $('#atCartPage').val(), ele.data("entrynumber"), ele.data("actionurl"), position.coords.latitude, position.coords.longitude);
                        }, function(error) {
                            console.log("An error occurred... The error code and message are: " + error.code + "/" + error.message);
                        });
                    }
                    ACC.product.bindToAddToCartStorePickUpForm();
                }
            });
        })
    },
    pickupStorePager: function() {
        $(document).on("change", "#colorbox .js-pickup-store-input", function(e) {
            e.preventDefault();
            $("#colorbox .js-pickup-tabs li.first a").click();
            var storeData = $("#colorbox .js-pickup-component").data("data");
            storeData = storeData["data"];
            var storeId = $(this).data("id");
            var $ele = $("#colorbox .display-details");
            $.each(storeData[storeId], function(key, value) {
                if (key == "url") {
                    if (value != "") {
                        $ele.find(".js-store-image").html('<img src="' + value + '" alt="" />');
                    } else {
                        $ele.find(".js-store-image").html('');
                    }
                } else if (key == "productcode") {
                    $ele.find(".js-store-productcode").val(value);
                } else if (key == "openings") {
                    if (value != "") {
                        var $oele = $ele.find(".js-store-" + key);
                        var openings = "";
                        $.each(value, function(key2, value2) {
                            openings += "<dt>" + key2 + "</dt>";
                            openings += "<dd>" + value2 + "</dd>";
                        });
                        $oele.html(openings);
                    } else {
                        $ele.find(".js-store-" + key).html('');
                    }
                } else if (key == "specialOpenings") {} else {
                    if (value != "") {
                        $ele.find(".js-store-" + key).html(value);
                    } else {
                        $ele.find(".js-store-" + key).html('');
                    }
                }
            })
            $(document).one("click", "#colorbox .js-pickup-map-tab", function() {
                ACC.pickupinstore.storeId = storeData[storeId];
                ACC.global.addGoogleMapsApi("ACC.pickupinstore.drawMap");
            })
            var e = $("#colorbox .pickup-store-list-entry input:checked");
            $("#add_to_cart_storepickup_form .js-store-id").attr("id", e.attr("id"))
            $("#add_to_cart_storepickup_form .js-store-id").attr("name", e.attr("name"))
            $("#add_to_cart_storepickup_form .js-store-id").val(e.val())
            if (storeData[storeId]["stockLevel"] > 0 || storeData[storeId]["stockLevel"] == "") {
                var input = $("#add_to_cart_storepickup_form .js-qty-selector-input");
                input.data("max", storeData[storeId]["stockLevel"]);
                ACC.productDetail.checkQtySelector(input, "reset");
                $("#add_to_cart_storepickup_form").show()
            } else {
                $("#add_to_cart_storepickup_form").hide()
            }
        })
        $(document).on("click", ".js-select-store-label", function(e) {
            $("#colorbox .js-pickup-component").addClass("show-store");
            $("#colorbox #cboxTitle .headline-inner").addClass('hidden-xs hidden-sm');
            $("#colorbox #cboxTitle .back-to-storelist").removeClass('hidden-xs hidden-sm');
        })
        $(document).on("click", ".js-back-to-storelist", function(e) {
            $("#colorbox .js-pickup-component").removeClass("show-store");
            $("#colorbox #cboxTitle .headline-inner").removeClass('hidden-xs hidden-sm');
            $("#colorbox #cboxTitle .back-to-storelist").addClass('hidden-xs hidden-sm');
        })
    },
    bindPickupButton: function() {
        $(document).on("click", ".js-pickup-button", function(e) {
            e.preventDefault();
            $e = $(this).parent().nextAll(".js-inline-layer")
            $e.addClass("open")
            var h = $e.height()
            $e.removeClass("open")
            $e.animate({
                height: h
            })
        })
    },
    bindPickupClose: function() {
        $(document).on("click", ".js-close-inline-layer", function(e) {
            e.preventDefault();
            $e = $(this).parents(".js-inline-layer")
            $e.animate({
                height: 0
            })
        })
    },
    checkIfPointOfServiceIsEmpty: function(cartEntryDeliveryModeForm) {
        return (!cartEntryDeliveryModeForm.find('.pointOfServiceName').text().trim().length);
    },
    validatePickupinStoreCartEntires: function() {
        var validationErrors = false;
        $("form.cartEntryShippingModeForm").each(function() {
            var formid = "#" + $(this).attr('id');
            if ($(formid + ' input[value=pickUp][checked]').length && ACC.pickupinstore.checkIfPointOfServiceIsEmpty($(this))) {
                $(this).addClass("shipError");
                validationErrors = true;
            }
        });
        if (validationErrors) {
            $('div#noStoreSelected').show().focus();
            $(window).scrollTop(0);
        }
        return validationErrors;
    },
    drawMap: function() {
        storeInformation = ACC.pickupinstore.storeId;
        if ($("#colorbox .js-map-canvas").length > 0) {
            $("#colorbox .js-map-canvas").attr("id", "pickup-map")
            var centerPoint = new google.maps.LatLng(storeInformation["storeLatitude"],storeInformation["storeLongitude"]);
            var mapOptions = {
                zoom: 13,
                zoomControl: true,
                panControl: true,
                streetViewControl: false,
                mapTypeId: google.maps.MapTypeId.ROADMAP,
                center: centerPoint
            }
            var map = new google.maps.Map(document.getElementById("pickup-map"),mapOptions);
            var marker = new google.maps.Marker({
                position: new google.maps.LatLng(storeInformation["storeLatitude"],storeInformation["storeLongitude"]),
                map: map,
                title: storeInformation["name"],
                icon: "https://maps.google.com/mapfiles/marker" + 'A' + ".png"
            });
            var infowindow = new google.maps.InfoWindow({
                content: storeInformation["name"],
                disableAutoPan: true
            });
            google.maps.event.addListener(marker, 'click', function() {
                infowindow.open(map, marker);
            });
        }
    }
};

ACC.product = {
    _autoload: ["bindWishlistButton", "bindToAddToWishlistFormCart", "bindToAddToCartForm", "enableStorePickupButton", "enableVariantSelectors", "bindFacets", "enableAddToCartButton", "enableDetailsLinkMobile", "getToStorefinderPage", "encodeApplyButtonMobileLink"],
    bindWishlistButton: function() {
        ACC.wishlist.bindProductWishlistToggle($('.js-product-detail'));
    },
    bindFacets: function() {
        var $flyoutSelector = '#js-mobile-filter-flyout';
        var $vOffset = $(".st-vertical-offset");
        var $flyoutContainer = $(".st-container");
        $('.js-header-filter').click(function() {
            $($flyoutSelector).empty();
            $('.st-content-inner .js-product-facet').clone().appendTo($flyoutSelector);
            ACC.product.encodeApplyButtonMobileLink();
            $('.js-reinit-fold-out').addClass('js-fold-out');
            if (typeof FoldOut === 'function') {
                $(".js-fold-out").each(function() {
                    new FoldOut({
                        container: this
                    });
                });
            }
            ACC.product.enableRefinementBoxBehavior();
            ACC.refinements.bindPriceSlider();
            $(document).on("click", ".js-facet-checkbox-small", ACC.product.loadFacets);
            $(document).on("click", ".js-facet-link-small", ACC.product.loadFacets);
            $vOffset.css({
                "height": $(this).offset().top
            });
            $flyoutContainer.addClass("st-menu-open");
        });
        $(".js-header-sort").click(function() {
            $vOffset.css({
                "height": $(this).offset().top
            });
            $flyoutContainer.addClass("st-menu-open-right");
        });
    },
    enableRefinementBoxBehavior: function() {
        var $flyoutSelector = '#js-mobile-filter-flyout';
        $($flyoutSelector + " .js-facet-checkbox").addClass("js-facet-checkbox-small").removeClass("js-facet-checkbox");
        $($flyoutSelector + " .js-facet-link").addClass("js-facet-link-small").removeClass("js-facet-link");
    },
    loadFacets: function(e, facetUrl) {
        if (e) {
            e.preventDefault();
        }
        url = facetUrl ? facetUrl : $(this).data("faceturl");
        $.ajax({
            url: url,
            type: "get",
            success: function(response) {
                $("#js-mobile-filter-flyout .js-product-facet").html(response);
                ACC.product.enableRefinementBoxBehavior();
                ACC.product.encodeApplyButtonMobileLink();
                ACC.common.scrollToElement('#js-close-filter-flyout', 50, 500);
                if (typeof FoldOut === 'function') {
                    $(".js-fold-out").each(function() {
                        new FoldOut({
                            container: this
                        });
                    });
                }
                ACC.refinements.bindPriceSlider();
            }
        });
    },
    enableAddToCartButton: function() {
        $('.js-enable-btn').each(function() {
            if (!($(this).hasClass('outOfStock') || $(this).hasClass('out-of-stock'))) {
                $(this).removeAttr("disabled");
            }
        });
    },
    getToStorefinderPage: function() {
        $('.js-storefinder-button').on('click', function() {
            var getLink = $(this).data('url');
            if (getLink) {
                window.location.href = getLink;
            }
        })
    },
    enableVariantSelectors: function() {
        $('.variant-select').removeAttr("disabled");
    },
    enableAddToWishlistButton: function() {
        if (typeof document.userData != "undefined" && document.userData.isLoggedIn) {
            $('.js-wishlistBtnDisabled').removeClass('js-wishlistBtnDisabled');
        }
    },
    bindToAddToCartForm: function() {
        $('.add_to_cart_form .js-add-to-cart').on('click', function(e) {
            e.preventDefault();
            if ($('.js-size-selector option:selected').val() != 'selectYourSize') {
                $(this).closest('form').submit();
                ACC.richRelevanceTracking.trackAddToCartEvent();
                if (this.getAttribute('data-redirect').length) {
                    window.location.href = ACC.config.baseUrl + ACC.config.encodedContextPath + this.getAttribute('data-redirect');
                }
            } else {
                var $sizeErrorMessage = $('.js-size-selector-error').data('errormessage');
                $('.js-size-selector-error').show();
                ACC.tracking.pushFormFieldError('AddToCartForm', 'AddToCartForm_sizeSelector', $sizeErrorMessage);
            }
        });
        $('.add_to_cart_form').each(function() {
            $(this).blockAjaxForm({
                blockSelector: ':find(.js-button)',
                success: ACC.product.addToCartAjaxSuccess
            });
        })
    },
    addToCartAjaxSuccess: function(response) {
        var data = jQuery.parseJSON(response);
        if ($(".swal2-content").length) {
            $(".js-form-popup-close").click();
        }
        if ('overlayContent'in data) {
            if (!$(".js-scs-restriction-overlay").length) {
                var overlayTemplate = '<div class="js-scs-restriction-overlay">';
                overlayTemplate += '<a href="#" class="js-addToCart-overlay-trigger js-form-popup-example-3 hidden" data-popup-target=".js-overlay-addToCart"></a>';
                overlayTemplate += '<div class="js-overlay-addToCart">';
                overlayTemplate += '<div class="form-popup-close container">';
                overlayTemplate += '<span class="js-form-popup-close">';
                overlayTemplate += '<div class="link-wrapper">';
                overlayTemplate += '<a class="link link--close" href="#">';
                overlayTemplate += '<span class="link__icon link__icon--left"></span>';
                overlayTemplate += '</a>';
                overlayTemplate += '</div>';
                overlayTemplate += '</span>';
                overlayTemplate += '</div>';
                overlayTemplate += '<div class="js-content">';
                overlayTemplate += '</div>';
                overlayTemplate += '</div>';
                overlayTemplate += '</div>';
                $(document.body).append(overlayTemplate);
                if (typeof FoldOut != "undefined") {
                    setTimeout(function() {
                        $(".js-fold-out").each(function() {
                            new FoldOut({
                                container: this
                            });
                        });
                    }, 0);
                }
            }
            var $overlayTarget = $('.js-overlay-addToCart');
            $overlayTarget.find(".js-content").html(data.overlayContent);
            ACC.product.currentOverlay = new fullOverlay($(".js-addToCart-overlay-trigger"));
            $('.js-addToCart-overlay-trigger').click();
        } else {
            if (data.trackingData) {
                dataLayer.push(data.trackingData);
            }
            ACC.cartFlyout.showCartFlyoutTemporarily();
            ACC.product.showAjaxMessage(data);
        }
    },
    bindToAddToCartFormQuickView: function($quickViewElement) {
        var $addToCartForm = $quickViewElement.find(".js-add_to_cart_form_overlay");
        $addToCartForm.find('.js-add-to-cart').off('click').on('click', function(e) {
            e.preventDefault();
            if ($quickViewElement.hasClass('hidden') === false) {
                if ($quickViewElement.find('.js-size-selector option:selected').val() != 'selectYourSize') {
                    $addToCartForm.submit();
                    ACC.richRelevanceTracking.trackAddToCartEvent();
                    preparePositionShoppingBag('.js-shopping-bag-fly-out');
                } else {
                    var $sizeError = $quickViewElement.find('.js-size-selector-error');
                    var $sizeErrorMessage = $sizeError.data('errormessage');
                    $sizeError.show();
                    ACC.tracking.pushFormFieldError('AddToCartFormQuickView', 'AddToCartFormQuickView_sizeSelector', $sizeErrorMessage);
                }
            }
        });
        $addToCartForm.blockAjaxForm({
            blockSelector: ':find(.js-button)',
            success: ACC.product.addToCartAjaxSuccess
        });
    },
    bindToAddToWishlistFormQuickView: function($quickViewCurrent) {
        ACC.wishlist.bindProductWishlistToggle($quickViewCurrent);
    },
    bindToAddToWishlistFormCart: function() {
        ACC.wishlist.bindProductWishlistToggle($('.js-cart-entries'));
    },
    bindToAddToCartStorePickUpForm: function() {
        var addToCartStorePickUpForm = $('.swal2-container #add_to_cart_storepickup_form');
        addToCartStorePickUpForm.blockAjaxForm({
            blockSelector: ':find(.js-button)',
            success: function() {
                ACC.cartFlyout.showCartFlyoutTemporarily();
            }
        });
    },
    showAjaxMessage: function(data) {
        var globalMessageSel = '#globalMessagesHolder';
        $(globalMessageSel).empty().append(data.messages);
        if (typeof ACC.minicart.updateMiniCartItems == 'function') {
            ACC.minicart.updateMiniCartItems(data.cartItems);
        }
        if (window.innerWidth <= screenMaxMobile) {
            ACC.common.scrollToElement(globalMessageSel, 20, 500);
        }
    },
    showAddToCartOverlay: function(response) {
        var overlayTrigger = $(this);
        var overlayTarget = overlayTrigger.data('overlay-target');
        var overlayImage = overlayTrigger.data('overlay-image');
        var isInspirational = overlayTrigger.find(".inspirational-item__zoom").length > 0;
        if (overlayImage && isInspirational) {
            $(overlayTarget + ' .inspirational-overlay__image').attr('src', overlayImage);
        }
        $(overlayTarget).addClass('full-overlay--active').removeClass('full-overlay--inactive');
    },
    enableStorePickupButton: function() {
        $('.js-pickup-in-store-button').removeAttr("disabled");
    },
    bindGalleryImageQuickView: function(carousel) {
        carousel.addClass("js-owl-carousel-desktop owl-carousel owl-theme owl-loaded");
        ACC.imagegallery.bindOverlayImageGallery(carousel);
    },
    bindVariantColorCarouselQuickView: function() {
        $('.js-variant-carousel').each(function() {
            $(this).owlCarousel({
                loop: true,
                navigationText: ["<span class='glyphicon glyphicon-chevron-left'></span>", "<span class='glyphicon glyphicon-chevron-right'></span>"],
                navigation: true,
                margin: 10,
                nav: true,
                pagination: true,
                autoWidth: true,
                items: $(this).data('maxsize')
            });
        })
    },
    bindQuickViewAddRemixProduct: function() {
        var quickView = $('.js-quick-view');
        quickView.on('click', '.js-remix-qty-selector', function(e) {
            e.preventDefault();
            var input = $(this).closest('.js-remix-quick-view-qty-selector').find('input');
            var newVal;
            if ($(this).hasClass('js-remix-qty-selector-minus')) {
                newVal = parseInt(input.val()) - 1;
            } else if ($(this).hasClass('js-remix-qty-selector-plus')) {
                newVal = parseInt(input.val()) + 1;
            }
            if (newVal !== undefined && ACC.remix.maxProductQty - (ACC.remix.products.length + newVal) >= 0 && newVal > 0) {
                input.val(newVal);
            }
        });
        quickView.on('click', '.js-remix-quick-view-select', function(e) {
            e.preventDefault();
            var input = $(this).closest('.js-remix-add-to-select').find('input');
            var wrapper = $(".js-remix-items[data-product='" + $(this).data('product') + "']");
            ACC.remix.addProductToSelectionArea(wrapper, parseInt(input.val()));
            ACC.overlay.close();
        });
        quickView.on('click', '.js-remix-nav-quick-view-item', function(e) {
            e.preventDefault();
            var product = $(this).closest('.js-remix-nav-quick-view').data('product');
            var item = $(".js-remix-items[data-product='" + product + "']");
            var items = item.closest('#js-product-list-wrapper').find('.js-remix-items');
            var currentIndex = items.index(item);
            var itemToDisplay;
            var found = false;
            for (var i = 1; i < items.length && !found; i++) {
                var index;
                if ($(this).hasClass('js-remix-nav-next-quick-view')) {
                    index = (currentIndex + i) < items.length ? currentIndex + i : currentIndex + i - items.length;
                } else if ($(this).hasClass('js-remix-nav-prev-quick-view')) {
                    index = (currentIndex - i) >= 0 ? currentIndex - i : items.length - i;
                }
                if ($(items[index]).hasClass('selected')) {
                    itemToDisplay = $(items[index]);
                    found = true;
                }
            }
            if (itemToDisplay) {
                itemToDisplay.find('.js-displayQuickView').click();
            }
        });
    },
    enableDetailsLinkMobile: function() {
        $('.js-pdp-mobile-link').on("vclick", function() {
            var getUrl = $(this).data('mobile-link');
            if (getUrl && $(window).width() <= screenMaxMobile) {
                window.location.href = getUrl;
            }
        });
    },
    encodeApplyButtonMobileLink: function(pushUrlState) {
        var $filterApplyButton = $(".js-currentQueryLink");
        var currentUrl = $filterApplyButton.data("href");
        if (currentUrl !== undefined) {
            currentUrl = "?q=" + encodeURIComponent(currentUrl);
            if (pushUrlState) {
                window.history.pushState({}, $(document).find("title").text(), currentUrl);
            }
            $filterApplyButton.data("href", currentUrl);
            $filterApplyButton.on('click', function(e) {
                e.preventDefault();
                window.location.href = currentUrl;
            })
        }
    }
};

ACC.productlist = {
    _autoload: ["bindAjaxPagination", "bindRememberListScrollPosition", "quickViewMouseenter", "bindProductItemWishlistButton"],
    bindRememberListScrollPosition: function() {
        var $listWrapper = $('#js-product-list-wrapper');
        if ($listWrapper.length === 0) {
            return;
        }
        var scrollTop = ACC.sessionStorage.getPageScrollPosition();
        if (scrollTop) {
            $(window).scrollTop(scrollTop);
            ACC.sessionStorage.removePageScrollPosition();
        }
        $listWrapper.on('click', '.js-quickviewlist a', function() {
            ACC.sessionStorage.setPageScrollPosition($(window).scrollTop());
        });
    },
    bindProductItemWishlistButton: function() {
        ACC.wishlist.bindProductWishlistToggle($('.js-product-item-wish-list'));
    },
    bindAjaxPagination: function() {
        $('#js-product-list-wrapper').on('click', '.js-load-more', function(e) {
            e.preventDefault();
            var $ele = $(this);
            var url = $ele.attr('href');
            $ele.blockGet(ACC.common.appendFragmentOnlyRequestParameter(url), function(data) {
                $('#js-product-list').append(data);
                initQuickview();
                ACC.wishlist.updateListingPageWishlistButton();
                ACC.product.enableAddToCartButton();
                ACC.productlist.bindProductItemWishlistButton();
                ACC.product.enableDetailsLinkMobile();
                var currentStateUrl = url.replace('&show=Page', '') + '&show=All';
                window.history.replaceState({}, '', currentStateUrl);
                $ele.closest('.js-load-more-wrapper').remove();
            });
        });
    },
    bindProductQuickView: function($quickViewElement) {
        with (ACC.product) {
            var quickViewContainer = $quickViewElement.data('product-target');
            var $quickViewCurrent;
            if ($quickViewElement.closest('.js-product-teaser').length) {
                $quickViewCurrent = $quickViewElement.closest('.js-product-teaser').find(quickViewContainer);
            } else {
                $quickViewCurrent = $(quickViewContainer);
            }
            ACC.productlist.upadteColorSize($quickViewCurrent);
            enableAddToCartButton();
            bindVariantColorCarouselQuickView();
            bindToAddToCartFormQuickView($quickViewCurrent);
            bindGalleryImageQuickView($(quickViewContainer).find(".js-overlay-owl-carousel"));
            bindToAddToWishlistFormQuickView($quickViewCurrent);
            bindQuickViewAddRemixProduct();
        }
        ACC.wishlist.reloadListingPageWishlistButtonState($(quickViewContainer));
        ACC.productlist.bindProductQuickViewColorSelector($quickViewElement);
        ACC.productlist.bindProductQuickViewSizeSelector($quickViewElement);
        ACC.product.getToStorefinderPage();
    },
    bindProductQuickViewColorSelector: function($quickViewElement) {
        var quickViewContainer = $quickViewElement.data('product-target');
        $(quickViewContainer).find('.js-quick-view-color-selector').on('click', function(e) {
            e.preventDefault();
            var $quickViewContainer = $(this).closest(quickViewContainer);
            var isleftquickview = false;
            var quickViewURL = $(this).attr('href');
            if ($(this).closest('.js-quick-view-left').length) {
                isleftquickview = true;
            }
            $.get(quickViewURL, function(response) {
                if (!$quickViewElement.closest('.js-product-teaser').length) {
                    $quickViewContainer = $quickViewElement.find('.js-quickviewlist-target');
                }
                $quickViewContainer.html(response);
                ACC.productlist.upadteLeftQuickview(isleftquickview, $quickViewContainer);
                ACC.productlist.bindProductQuickView($quickViewElement);
            });
        });
    },
    bindProductQuickViewSizeSelector: function($quickViewElement) {
        var quickViewContainer = $quickViewElement.data('product-target');
        $(quickViewContainer).find('.js-quick-view-size-selector').on('change', function(e) {
            e.preventDefault();
            var $quickViewContainer = $(this).closest(quickViewContainer);
            var isleftquickview = false;
            var quickViewURL = $(this).val();
            if ($(this).closest('.js-quick-view-left').length) {
                isleftquickview = true;
            }
            $.get(quickViewURL, function(response) {
                if (!$quickViewElement.closest('.js-product-teaser').length) {
                    $quickViewContainer = $quickViewElement.find('.js-quickviewlist-target:visible');
                }
                $quickViewContainer.html(response);
                ACC.productlist.upadteLeftQuickview(isleftquickview, $quickViewContainer);
                ACC.productlist.bindProductQuickView($quickViewElement);
            });
        });
    },
    upadteLeftQuickview: function(isleftquickview, $quickViewContainer) {
        if (isleftquickview) {
            $quickViewContainer.find('.js-quick-view-media').addClass('pull-right');
            $quickViewContainer.find('.js-quick-view-info').addClass('pull-right');
            $quickViewContainer.addClass('quick-view--left js-quick-view-left');
        }
    },
    upadteColorSize: function($quickViewCurrent) {
        var $colorContainer = $quickViewCurrent.find('.js-color-box');
        var $foldout = $colorContainer.addClass('js-fold-out');
        $foldout.each(function() {
            FoldOut({
                container: $foldout
            });
        });
    },
    quickViewMouseenter: function() {
        $(document).on('quickViewMouseenter', '.js-quickviewlist-trigger', function(e, container) {
            ACC.productlist.bindProductQuickView($(container));
        });
    }
};

ACC.productDetail = {
    _autoload: ["initPageEvents", "bindVariantOptions", "socialSharing", "pictureZoom", "cloneColorSelectorMobile"],
    initPageEvents: function() {
        $("#Size").change(function() {
            changeOnVariantOptionSelection($("#Size option:selected"));
        });
        $("#variant").change(function() {
            changeOnVariantOptionSelection($("#variant option:selected"));
        });
        $(".selectPriority").change(function() {
            ACC.blockUI.block($('body'));
            window.location.href = $(this[this.selectedIndex]).val();
        });
        function changeOnVariantOptionSelection(optionSelected) {
            window.location.href = optionSelected.attr('value');
        }
    },
    bindVariantOptions: function() {
        ACC.productDetail.bindCurrentStyle();
        ACC.productDetail.bindCurrentSize();
        ACC.productDetail.bindCurrentType();
    },
    bindCurrentStyle: function() {
        var currentStyle = $("#currentStyleValue").data("styleValue");
        var styleSpan = $(".styleName");
        if (currentStyle != null) {
            styleSpan.text(": " + currentStyle);
        }
    },
    bindCurrentSize: function() {
        var currentSize = $("#currentSizeValue").data("sizeValue");
        var sizeSpan = $(".sizeName");
        if (currentSize != null) {
            sizeSpan.text(": " + currentSize);
        }
    },
    bindCurrentType: function() {
        var currentSize = $("#currentTypeValue").data("typeValue");
        var sizeSpan = $(".typeName");
        if (currentSize != null) {
            sizeSpan.text(": " + currentSize);
        }
    },
    socialSharing: function() {
        $('.js-link-share').click(function(event) {
            event.preventDefault();
            $(this).next('.js-product-share').toggle();
        });
    },
    pictureZoom: function() {
        var windowWidth = $(window).width();
        var windowHeight = $(window).height();
        $(".js-zoom").css({
            'width': windowWidth,
            'height': windowHeight
        });
        ACC.overlay.spinner = ACC.blockUI.spinner_medium;
        var screenMaxMobile = ACC.common.screenMaxMobile;
        $(document).on("click", ".js-product-gallery-overlay", function(e) {
            if ($(window).width() > screenMaxMobile) {
                e.preventDefault();
                var html = $(this).closest(".js-carousel-slot").find(".js-zoom-wrapper").html();
                ACC.overlay.open({
                    width: ACC.overlay.overlaySize.full,
                    html: html,
                    customClass: 'js-overlay-custom-pdp product-detail-view__zoom-overlay',
                    animation: false,
                    onOpen: function() {
                        var $getOverlayWrapper = $('.swal2-container');
                        ACC.overlay.showSpinner();
                        $('#swal2-title').remove();
                        $getOverlayWrapper.css({
                            'padding': '0'
                        });
                        $getOverlayWrapper.find(".js-zoom .zoomImg").css({
                            'min-width': windowWidth,
                            'min-height': windowHeight
                        });
                        var zoomDiv = $getOverlayWrapper.find(".js-zoom");
                        zoomDiv.removeClass('hidden');
                        $(".js-overlay-gallery-pdp-image_img").removeClass('hidden');
                        $('.owl-carousel').trigger('stop.owl.autoplay');
                        ACC.overlay.hideSpinner();
                        ACC.productDetail.setZoomContainerCss();
                    },
                    onClose: function() {
                        $(".js-overlay-gallery-pdp-image_img").addClass('hidden');
                        $('.owl-carousel').trigger('start.owl.autoplay');
                    }
                });
            } else {
                var urlImg = $(this).data('image-zoom');
                var $slot = $(this).closest('.js-carousel-slot');
                $slot.find('.js-pdp-img-mobile').attr('src', urlImg);
                $slot.find('.js-pdp-img-mobile').attr('data-url', urlImg);
                $slot.find('.js-pdp-img-mobile').attr('data-high-res-src', urlImg);
                $slot.find('.js-pdp-img-mobile').click();
            }
        });
        $('.js-link-zoom').click(function() {
            $(this).closest(".js-carousel-slot").find(".js-product-gallery-overlay").click();
        });
        $('.js-pdp-img-mobile').click(function() {
            var imgSrc = this.src
              , highResolutionImage = $(this).data('high-res-img');
            ImageViewer({
                snapView: false
            }).show(imgSrc, highResolutionImage);
        });
        $(document).on("click", ".js-overlay-custom-pdp", function() {
            ACC.overlay.close();
        });
    },
    setZoomContainerCss: function() {
        $(window).resize(function() {
            var windowWidth = $(window).width();
            var windowHeight = $(window).height();
            $(".js-zoom").css({
                'width': windowWidth,
                'height': windowHeight
            });
        })
    },
    cloneColorSelectorMobile: function() {
        var colorSel = '.js-color-selector';
        if ($('.js-product-detail ' + colorSel).length) {
            $(window).on("orientationchange resize load", function() {
                var copyToSel = '.js-copy-color-selector'
                  , productCode = $(colorSel).data('product-number')
                  , copyCode = $(copyToSel).attr('data-copy-code');
                if ($('.js-copy-color-selector > .js-color-selector').length == 0) {
                    if ($(window).width() <= screenMaxMobile && productCode !== copyCode) {
                        $(colorSel).addClass('js-fold-out').clone().appendTo(copyToSel);
                        $(copyToSel).attr('data-copy-code', productCode);
                        $(".js-fold-out").each(function() {
                            new FoldOut({
                                container: this
                            });
                        });
                    }
                }
            });
        }
    }
};

ACC.productQuantity = {
    _autoload: ["initPageEvents"],
    submitTriggered: false,
    isCartPageQuantityChange: function() {
        return $(".update-entry-quantity-input").length;
    },
    enableQuantityButton: function(minusBtn, plusBtn) {
        minusBtn.removeAttr("disabled");
        plusBtn.removeAttr("disabled");
    },
    disableButton: function(button) {
        if (!ACC.productQuantity.isCartPageQuantityChange()) {
            button.attr("disabled", "disabled");
        }
    },
    checkQtySelector: function(self, mode) {
        var qtySelector = $(self).closest(".js-qty-selector");
        var input = qtySelector.find(".js-qty-selector-input");
        var inputVal = parseInt(input.val());
        var max = input.data("max");
        var minusBtn = qtySelector.find(".js-qty-selector-minus");
        var plusBtn = qtySelector.find(".js-qty-selector-plus");
        if (ACC.productQuantity.submitTriggered == false) {
            ACC.productQuantity.enableQuantityButton(minusBtn, plusBtn);
            if (mode == "minus") {
                if (inputVal != 1 || ACC.productQuantity.isCartPageQuantityChange()) {
                    ACC.productQuantity.updateQtyValue(self, inputVal - 1)
                    if (inputVal - 1 == 1) {
                        ACC.productQuantity.disableButton(minusBtn);
                    }
                } else {
                    ACC.productQuantity.disableButton(minusBtn);
                }
            } else if (mode == "reset") {
                ACC.productQuantity.updateQtyValue(self, 1)
            } else if (mode == "plus") {
                if (max == "FORCE_IN_STOCK") {
                    ACC.productQuantity.updateQtyValue(self, inputVal + 1)
                } else if (inputVal < max || ACC.productQuantity.isCartPageQuantityChange()) {
                    ACC.productQuantity.updateQtyValue(self, inputVal + 1)
                    if (inputVal + 1 == max) {
                        ACC.productQuantity.disableButton(plusBtn);
                    }
                } else {
                    ACC.productQuantity.disableButton(plusBtn);
                }
            } else if (mode == "input") {
                if (inputVal == 1) {
                    ACC.productQuantity.disableButton(minusBtn);
                } else if (max == "FORCE_IN_STOCK" && inputVal > 0) {
                    ACC.productQuantity.updateQtyValue(self, inputVal)
                } else if (inputVal == max) {
                    ACC.productQuantity.disableButton(plusBtn);
                } else if (inputVal < 1) {
                    ACC.productQuantity.updateQtyValue(self, 1)
                    ACC.productQuantity.disableButton(minusBtn);
                } else if (inputVal > max) {
                    ACC.productQuantity.updateQtyValue(self, max)
                    ACC.productQuantity.disableButton(plusBtn);
                }
            } else if (mode == "focusout") {
                if (ACC.productQuantity.isCartPageQuantityChange() && (inputVal == 0 || inputVal == 1)) {
                    ACC.productQuantity.updateQtyValue(self, inputVal);
                } else if (isNaN(inputVal) || inputVal <= 1) {
                    ACC.productQuantity.updateQtyValue(self, 1);
                    ACC.productQuantity.disableButton(minusBtn);
                }
                if (inputVal >= max) {
                    ACC.productQuantity.disableButton(plusBtn);
                }
            }
        }
    },
    updateQtyValue: function(self, value) {
        var input = $(self).parents(".js-qty-selector").find(".js-qty-selector-input");
        input.val(value);
        if (ACC.productQuantity.isCartPageQuantityChange()) {
            var success = ACC.cartitem.handleUpdateQuantity(input);
            if (success) {
                ACC.productQuantity.submitTriggered = true;
            }
        } else {
            $(self).parents(".js-product-add-to-cart-components").find(".js-add_to_cart_form").each(function() {
                var addtocartQty = $(this).find(".js-qty-selector-input");
                addtocartQty.val(value);
            });
        }
    },
    initPageEvents: function() {
        $(document).on("click", '.js-qty-selector .js-qty-selector-minus', function() {
            ACC.productQuantity.checkQtySelector(this, "minus");
        })
        $(document).on("click", '.js-qty-selector .js-qty-selector-plus', function() {
            ACC.productQuantity.checkQtySelector(this, "plus");
        })
        $(document).on("keydown", '.js-qty-selector .js-qty-selector-input', function(e) {
            if (($(this).val() != " " && ((e.which >= 48 && e.which <= 57) || (e.which >= 96 && e.which <= 105))) || e.which == 8 || e.which == 46 || e.which == 37 || e.which == 39 || e.which == 9) {} else if (e.which == 38) {
                ACC.productQuantity.checkQtySelector(this, "plus");
            } else if (e.which == 40) {
                ACC.productQuantity.checkQtySelector(this, "minus");
            } else {
                e.preventDefault();
            }
        })
        $(document).on("keyup", '.js-qty-selector .js-qty-selector-input', function(e) {
            if (!ACC.productQuantity.isCartPageQuantityChange() && ACC.productQuantity.submitTriggered == false) {
                ACC.productQuantity.checkQtySelector(this, "input");
                ACC.productQuantity.updateQtyValue(this, $(this).val());
            }
        })
        $(document).on("focusout", '.js-qty-selector .js-qty-selector-input', function(e) {
            if (ACC.productQuantity.submitTriggered == false) {
                ACC.productQuantity.checkQtySelector(this, "focusout");
                ACC.productQuantity.updateQtyValue(this, $(this).val());
            }
        })
    }
};

ACC.quickview = {
    _autoload: ["bindToUiCarouselLink", "carouselDestroy"],
    initQuickviewLightbox: function() {
        ACC.product.enableAddToCartButton();
        ACC.product.bindToAddToCartForm();
        ACC.product.enableStorePickupButton();
    },
    refreshScreenReaderBuffer: function() {
        $('#accesibility_refreshScreenReaderBufferField').attr('value', new Date().getTime());
    },
    bindToUiCarouselLink: function() {
        $(document).on('click', '.js-owl-carousel-reference .js-reference-item', function(e) {
            e.preventDefault();
            var url = ACC.common.appendFragmentOnlyRequestParameter($(this).attr('href'));
            var titleHeader = $('#quickViewTitle').html();
            $.get(url, function(response) {
                response = $(response).find('.js-quick-view').children();
                ACC.overlay.open({
                    html: response,
                    width: ACC.overlay.overlaySize.full,
                    customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                    title: titleHeader,
                    onOpen: function() {
                        ACC.quickview.refreshScreenReaderBuffer();
                        ACC.quickview.initQuickviewLightbox();
                        ACC.ratingstars.bindRatingStars($(".js-quick-view-stars"));
                    },
                    onClose: function() {
                        ACC.common.refreshScreenReaderBuffer();
                    }
                });
            });
        });
    },
    carouselDestroy: function() {
        $(document).on('carouselDestroy', '.js-quickviewlist-trigger', function(e, container) {
            var controlclass = $(container).data('controls-class');
            $(container).owlCarousel('destroy');
            $('.' + controlclass).remove();
        });
    }
};

ACC.ratingstars = {
    _autoload: [["bindRatingStars", $(".js-ratingCalc").length > 0], ["bindRatingStarsSet", $(".js-ratingCalcSet").length > 0]],
    bindRatingStars: function() {
        $e = $(".js-ratingCalc");
        $e.each(function() {
            var ratingData = $(this).data("rating");
            var $ratingIcon = $(this).find(".js-ratingIcon");
            var $clonelh;
            for (var i = 1; i <= ratingData.total; i++) {
                var $clone = $ratingIcon.clone().removeClass("js-ratingIcon");
                if (i <= ratingData.rating) {
                    $clone.addClass("active")
                }
                if (i - 0.5 == ratingData.rating) {
                    $clone.addClass("active fh")
                    $clonelh = $ratingIcon.clone().removeClass("ratingIcon");
                    $clonelh.addClass("lh")
                }
                $clone.insertBefore($ratingIcon);
                if ($clonelh) {
                    $clonelh.insertBefore($ratingIcon);
                    $clonelh = null
                }
            }
            $ratingIcon.remove()
        })
    },
    bindRatingStarsSet: function() {
        $e = $(".js-ratingCalcSet");
        $e.on("mouseenter", ".js-rationIconSet", function(e) {
            e.preventDefault();
            $(this).parent().children().removeClass("active")
            var cindex = $(this).index() + 1;
            var $i = $(this).parent().children(".js-rationIconSet:lt(" + cindex + ")")
            $i.addClass("active")
        })
        $(document).on("mouseleave", ".js-ratingCalcSet", function(e) {
            e.preventDefault();
            $(this).find(".js-rationIconSet").removeClass("active")
            var rating = $(".js-ratingSetInput").val();
            var $i = $(this).find(".js-rationIconSet:lt(" + rating * 2 + ")")
            $i.addClass("active")
        })
        $e.on("click", ".js-rationIconSet", function(e) {
            e.preventDefault();
            var ratingData = $e.data("rating");
            var cindex = $(this).index() + 1;
            ratingData.rating = cindex / 2
            $(".js-ratingSetInput").val(ratingData.rating)
        })
        $e.each(function() {
            var ratingData = $(this).data("rating");
            var $ratingIcon = $(this).find(".js-ratingIcon");
            var $clonelh;
            for (var i = 1; i <= ratingData.total; i++) {
                var $clone = $ratingIcon.clone().removeClass("js-ratingIcon");
                $clone.addClass("fh")
                $clonelh = $ratingIcon.clone().removeClass("js-ratingIcon");
                $clonelh.addClass("lh")
                $clone.insertBefore($ratingIcon);
                if ($clonelh) {
                    $clonelh.insertBefore($ratingIcon);
                    $clonelh = null
                }
            }
            $ratingIcon.remove()
        })
    }
};

ACC.refinements = {
    _autoload: [["bindMoreLessToggles", $(".js-facet-form").length != 0], ["bindMoreStoresToggles", $(".js-facet-form").length != 0], ["bindSearch", $(".js-facet-form").length != 0], ["bindPriceSlider", $(".js-facet-name-price-slider").length != 0], ["applyShowFilterResults", true], "bindCategorySelector"],
    coords: {},
    storeSearchData: {},
    bindSearch: function() {
        $(document).on("submit", '#user_location_form', function(e) {
            e.preventDefault()
            var q = $(".js-shop-stores-facet .js-shop-store-search-input").val();
            if (q.length > 0) {
                ACC.refinements.getInitStoreData(q);
            }
        })
        $(document).on("click", '#findStoresNearMeAjax', function(e) {
            e.preventDefault()
            ACC.refinements.getInitStoreData(null, ACC.refinements.coords.latitude, ACC.refinements.coords.longitude);
        })
    },
    getInitStoreData: function(q, latitude, longitude) {
        $(".alert").remove();
        data = {
            "q": "",
            "page": "0"
        }
        if (q != null) {
            data.q = q;
        }
        if (latitude != null) {
            data.latitude = latitude;
        }
        if (longitude != null) {
            data.longitude = longitude;
        }
        ACC.refinements.storeSearchData = data;
        ACC.refinements.getStoreData();
    },
    getStoreData: function() {
        url = $(".js-facet-form").data("url");
        $.ajax({
            url: url,
            data: ACC.refinements.storeSearchData,
            type: "get",
            success: function(response) {
                window.location.reload();
            }
        });
    },
    updateSliderOnChange: function(bootstrapSliderSel, sliderSelVal, self) {
        var sliderValues = bootstrapSliderSel.bootstrapSlider('getValue');
        if (!isNaN((self).val())) {
            sliderValues[sliderSelVal] = Number.parseInt(self.val());
            bootstrapSliderSel.bootstrapSlider('setValue', sliderValues);
        }
        $('.js-price-slider-text-left').text(sliderValues[0]);
        $('.js-price-slider-input-left').each(function() {
            $(this).val(sliderValues[0]);
        });
        $('.js-price-slider-text-right').text(sliderValues[1]);
        $('.js-price-slider-input-right, .js-price-slider-text-right').each(function() {
            $(this).val(sliderValues[1]);
        });
    },
    bindPriceSlider: function() {
        var $slider = $('.js-price-facet-slider-container').find('.slider');
        if ($slider.length > 1) {
            $slider[0].remove();
        }
        $('.js-price-facet-slider').each(function() {
            var $selfSlider = $(this);
            var bootstrapSlider = $selfSlider.bootstrapSlider({
                tooltip: 'hide'
            });
            bootstrapSlider.on('slide', function() {
                var $selfInput = $(this);
                var getMinMax = $selfInput.hasClass('js-price-slider-input-left') ? 0 : 1;
                ACC.refinements.updateSliderOnChange(bootstrapSlider, getMinMax, $selfInput);
            });
            bootstrapSlider.on('slideStop', function() {
                ACC.refinements.changeAndApplySliderValues($selfSlider.val(), $selfSlider);
            })
        });
    },
    changeAndApplySliderValues: function(newValues, bootstrapSlider) {
        var getVal = newValues.split(',');
        newValues = newValues.replace(",", "%20TO%20");
        newValues = "priceValue%3A%255B" + newValues + "%255D";
        if ($(window).width() > ACC.common.screenMaxMobile) {
            var facetUrl = bootstrapSlider.data("url");
            facetUrl = facetUrl.replace(/(priceValue%3A%255B)(.+)(%255D)/g, newValues);
            bootstrapSlider.data("url", facetUrl);
            $.ajax({
                url: bootstrapSlider.data("url"),
                type: "get",
                success: function(response) {
                    ACC.refinements.initAfterReload(response);
                    initQuickview();
                }
            });
            $('.js-price-slider-text-left').text(getVal[0]);
            $('.js-price-slider-input-left').each(function() {
                $(this).val(getVal[0]);
            });
            $('.js-price-slider-text-right').text(getVal[1]);
            $('.js-price-slider-input-right').each(function() {
                $(this).val(getVal[1]);
            });
        } else {
            var mobileUrl = bootstrapSlider.data("faceturl");
            mobileUrl = mobileUrl.replace(/(priceValue%3A%255B)(.+)(%255D)/g, newValues);
            bootstrapSlider.data("faceturl", mobileUrl);
            ACC.product.loadFacets(null, mobileUrl);
        }
    },
    applyShowFilterResults: function() {
        $(document).on("click", ".js-facet-link", ACC.refinements.loadSearchResult);
        $(document).on("change", ".js-product-facet .js-facet-checkbox", ACC.refinements.loadSearchResult);
    },
    bindMoreLessToggles: function() {
        $(document).on("click", ".js-shop-stores-facet .js-facet-change-link", function(e) {
            e.preventDefault();
            $(".js-shop-stores-facet .js-facet-container").hide();
            $(".js-shop-stores-facet .js-facet-form").show();
        })
        $(document).on("click", ".js-product-facet .js-more-facet-values-link", function(e) {
            e.preventDefault();
            $(this).parents(".js-facet").find(".js-facet-top-values").hide();
            $(this).parents(".js-facet").find(".js-facet-list-hidden").show();
            $(this).parents(".js-facet").find(".js-more-facet-values").hide();
            $(this).parents(".js-facet").find(".js-less-facet-values").show();
        })
        $(document).on("click", ".js-product-facet .js-less-facet-values-link", function(e) {
            e.preventDefault();
            $(this).parents(".js-facet").find(".js-facet-top-values").show();
            $(this).parents(".js-facet").find(".js-facet-list-hidden").hide();
            $(this).parents(".js-facet").find(".js-more-facet-values").show();
            $(this).parents(".js-facet").find(".js-less-facet-values").hide();
        })
    },
    bindMoreStoresToggles: function() {
        $(document).on("click", ".js-shop-stores-facet .js-more-stores-facet-values", function(e) {
            e.preventDefault();
            $(".js-shop-stores-facet ul.js-facet-list li.hidden").slice(0, 5).removeClass('hidden').first().find('.js-facet-checkbox').focus();
            if ($(".js-shop-stores-facet ul.js-facet-list li.hidden").length == 0) {
                $(".js-shop-stores-facet .js-more-stores-facet-values").hide()
            }
        })
    },
    loadSearchResult: function(e) {
        e.preventDefault();
        $.ajax({
            url: $(this).data("url"),
            type: "get",
            success: function(response) {
                ACC.refinements.initAfterReload(response);
                initQuickview();
            }
        });
    },
    bindCategorySelector: function() {
        var $categorySelector = $(".js-plp-category-selector");
        if ($categorySelector.length !== 0) {
            $categorySelector.on("change", function() {
                console.log($categorySelector.val());
                window.location.href = $categorySelector.val();
            });
        }
    },
    initAfterReload: function(response) {
        var listContent = ".js-product-list-content";
        var pushUrlState = true;
        if (response) {
            $(listContent).html(response);
        }
        ACC.product.encodeApplyButtonMobileLink(pushUrlState);
        ACC.product.bindToAddToCartForm();
        ACC.product.enableAddToCartButton();
        ACC.product.enableAddToWishlistButton();
        ACC.wishlist.updateListingPageWishlistButton();
        ACC.paginationsort.bindAll();
        ACC.product.bindFacets();
        ACC.common.scrollToElement(listContent, 50, 500);
        ACC.refinements.bindPriceSlider();
        ACC.productlist.bindAjaxPagination();
        ACC.refinements.bindCategorySelector();
        $('.js-quickviewlist').each(function() {
            new QuickView(this);
        });
        $(".js-fold-out").each(function() {
            new FoldOut({
                container: this
            });
        });
        dataLayer.push(ACC.tracking.buildFacetTrackingData());
    }
};

ACC.silentorderpost = {
    spinner: $("<img src='" + ACC.config.commonResourcePath + "/images/spinner.gif' />"),
    bindUseDeliveryAddress: function() {
        $('#useDeliveryAddress').on('change', function() {
            if ($('#useDeliveryAddress').is(":checked")) {
                var options = {
                    'countryIsoCode': $('#useDeliveryAddressData').data('countryisocode'),
                    'useDeliveryAddress': true
                };
                ACC.silentorderpost.enableAddressForm();
                ACC.silentorderpost.displayCreditCardAddressForm(options, ACC.silentorderpost.useDeliveryAddressSelected);
                ACC.silentorderpost.disableAddressForm();
            } else {
                ACC.silentorderpost.clearAddressForm();
                ACC.silentorderpost.enableAddressForm();
            }
        });
        if ($('#useDeliveryAddress').is(":checked")) {
            var options = {
                'countryIsoCode': $('#useDeliveryAddressData').data('countryisocode'),
                'useDeliveryAddress': true
            };
            ACC.silentorderpost.enableAddressForm();
            ACC.silentorderpost.displayCreditCardAddressForm(options, ACC.silentorderpost.useDeliveryAddressSelected);
            ACC.silentorderpost.disableAddressForm();
        }
    },
    bindSubmitSilentOrderPostForm: function() {
        $('.submit_silentOrderPostForm').click(function() {
            ACC.common.blockFormAndShowProcessingMessage($(this));
            $('.billingAddressForm').filter(":hidden").remove();
            ACC.silentorderpost.enableAddressForm();
            $('#silentOrderPostForm').submit();
        });
    },
    bindCycleFocusEvent: function() {
        $('#lastInTheForm').blur(function() {
            $('#silentOrderPostForm [tabindex$="10"]').focus();
        })
    },
    isEmpty: function(obj) {
        if (typeof obj == 'undefined' || obj === null || obj === '')
            return true;
        return false;
    },
    disableAddressForm: function() {
        $('input[id^="address\\."]').prop('disabled', true);
        $('select[id^="address\\."]').prop('disabled', true);
    },
    enableAddressForm: function() {
        $('input[id^="address\\."]').prop('disabled', false);
        $('select[id^="address\\."]').prop('disabled', false);
    },
    clearAddressForm: function() {
        $('input[id^="address\\."]').val("");
        $('select[id^="address\\."]').val("");
    },
    useDeliveryAddressSelected: function() {
        if ($('#useDeliveryAddress').is(":checked")) {
            $('#address\\.country').val($('#useDeliveryAddressData').data('countryisocode'));
            ACC.silentorderpost.disableAddressForm();
        } else {
            ACC.silentorderpost.clearAddressForm();
            ACC.silentorderpost.enableAddressForm();
        }
    },
    bindCreditCardAddressForm: function() {
        $('#billingCountrySelector :input').on("change", function() {
            var countrySelection = $(this).val();
            var options = {
                'countryIsoCode': countrySelection,
                'useDeliveryAddress': false
            };
            ACC.silentorderpost.displayCreditCardAddressForm(options);
        })
    },
    displayCreditCardAddressForm: function(options, callback) {
        $.ajax({
            url: ACC.config.encodedContextPath + '/checkout/multi/sop/billingaddressform',
            async: true,
            data: options,
            dataType: "html",
            beforeSend: function() {
                $('#billingAddressForm').html(ACC.silentorderpost.spinner);
            }
        }).done(function(data) {
            $("#billingAddressForm").html(data);
            if (typeof callback == 'function') {
                callback.call();
            }
        });
    }
}
$(document).ready(function() {
    with (ACC.silentorderpost) {
        bindUseDeliveryAddress()
        bindSubmitSilentOrderPostForm();
        bindCreditCardAddressForm();
    }
    $("#useDeliveryAddress").click();
});

ACC.tabs = {
    _autoload: [["bindTabs", $(".js-tabs").length > 0], "hideReviewBtn", "determineToDisplayReviews"],
    bindTabs: function() {
        $e = $(".js-tabs");
        var tabs = $e.accessibleTabs({
            tabhead: '.tabhead',
            tabbody: '.tabbody',
            fx: 'show',
            fxspeed: 0,
            currentClass: 'active',
            autoAnchor: true
        });
        $e.on("click", ".tabhead", function(e) {
            e.preventDefault();
            if ($(this).hasClass("active")) {
                $(this).removeClass("active");
            } else {
                $(this).parents(".js-tabs").children(".tabs-list").find("a[href=" + "#" + $(this).attr("id") + "]").click();
                var offset = $(this).position().top;
                $("body,html").scrollTop(offset)
            }
        });
        $e.on("click", "#tabreview", function(e) {
            e.preventDefault();
            ACC.tabs.showReviewsAction("reviews");
        });
        $e.on("click", ".all-reviews-btn", function(e) {
            e.preventDefault();
            ACC.tabs.showReviewsAction("allreviews");
            ACC.tabs.hideReviewBtn(".all-reviews-btn");
            ACC.tabs.showReviewBtn(".less-reviews-btn");
        });
        $e.on("click", ".less-reviews-btn", function(e) {
            e.preventDefault();
            ACC.tabs.showReviewsAction("reviews");
            ACC.tabs.hideReviewBtn(".less-reviews-btn");
            ACC.tabs.showReviewBtn(".all-reviews-btn");
        });
        $(document).on("click", '.js-writeReviewTab', function(e) {
            e.preventDefault();
            tabs.showAccessibleTabSelector($(this).attr("href"));
            $(".js-review-write").show();
            $('#reviewForm input[name=headline]').focus();
        });
        $(document).on("click", ".js-review-write-toggle", function(e) {
            e.preventDefault();
            if ($(".js-review-write:visible").length < 1) {
                $(".js-review-write").show();
            } else {
                $(".js-review-write").hide();
            }
        });
        $(document).on("click", ".js-openTab", function() {
            tabs.showAccessibleTabSelector($(this).attr("href"));
        })
    },
    showReviewsAction: function(s) {
        $.get($("#reviews").data(s), function(result) {
            $('#reviews').html(result);
            if ($(".js-ratingCalc").length > 0) {
                ACC.ratingstars.bindRatingStars();
                ACC.tabs.showingAllReviews();
            }
        });
    },
    hideReviewBtn: function(btnClass) {
        btnClass = (btnClass == undefined) ? ".less-reviews-btn" : btnClass;
        $(btnClass).hide();
    },
    showReviewBtn: function(btnClass) {
        $(btnClass).show();
    },
    showingAllReviews: function() {
        var isShowingAllReviews = $("#showingAllReviews").data("showingallreviews");
        if (isShowingAllReviews) {
            ACC.tabs.hideReviewBtn(".all-reviews-btn");
        }
    },
    determineToDisplayReviews: function() {
        if (location.hash == "#tabreview") {
            ACC.tabs.showReviewsAction('reviews');
        }
    },
};

ACC.termsandconditions = {
    bindTermsAndConditionsLink: function() {
        $(document).on("click", ".js-termsAndConditionsLink", function(e) {
            e.preventDefault();
            $.get($(this).attr("href"), function(response) {
                ACC.overlay.open({
                    html: response,
                    width: ACC.overlay.overlaySize.full,
                    animation: false,
                    customClass: ACC.overlay.overlayCustomClass.fullOverlay,
                    title: '<div class="headline"><span class="headline-text">Terms and Conditions</span></div>'
                });
            });
        });
    }
}
$(function() {
    with (ACC.termsandconditions) {
        bindTermsAndConditionsLink();
    }
});

ACC.track = {
    trackAddToCart: function(productCode, quantity, cartData) {
        ACC.track.publish('trackAddToCart', {
            productCode: productCode,
            quantity: quantity,
            cartData: cartData
        });
    },
    trackRemoveFromCart: function(productCode, initialCartQuantity) {
        ACC.track.publish('trackRemoveFromCart', {
            productCode: productCode,
            initialCartQuantity: initialCartQuantity
        });
    },
    trackUpdateCart: function(productCode, initialCartQuantity, newCartQuantity) {
        ACC.track.publish('trackUpdateCart', {
            productCode: productCode,
            initialCartQuantity: initialCartQuantity,
            newCartQuantity: newCartQuantity
        });
    },
    publish: function(eventName, eventData) {
        if (window.mediator) {
            window.mediator.publish(eventName, eventData);
        }
    }
};

ACC.storefinder = {
    _autoload: [["init", $(".js-store-finder").length != 0], ["bindSearch", $(".js-store-finder").length != 0]],
    storeData: "",
    storeId: "",
    coords: {},
    placesCoords: {},
    storeSearchData: {},
    zoomLevel: 13,
    defaultZoomLevel: 15,
    autocomplete: undefined,
    startLatitude: 0,
    startLongitude: 0,
    markers: [],
    mapStyles: [{
        "elementType": "geometry",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "elementType": "labels.text.stroke",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "featureType": "administrative.land_parcel",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#bdbdbd"
        }]
    }, {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "poi",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "road",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffffff"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [{
            "color": "#dadada"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "transit.station",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c9c9c9"
        }]
    }, {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }],
    createListItemHtml: function(data, id) {
        var item = "";
        item += '<li class="store-finder-navigation-list-entry">';
        item += '<div class="store-finder-navigation-list-entry-name">' + data.displayName + '</div>';
        item += '<div class="store-finder-navigation-list-entry-subtitle">' + data.distributionType + '</div>';
        item += '<div class="store-finder-navigation-list-entry-distance">' + data.formattedDistance + '</div>';
        item += '<div class="store-finder-navigation-list-entry-address">' + data.address.formattedAddress + '</div>';
        item += '<div>';
        item += '<a  class="store-finder-navigation-list-entry-schedule-toggler" data-toggle="collapse" href="#store-finder-navigation-list-entry-schedule-' + id + '">Opening Hours</a>';
        item += '</div>';
        item += '<div class="store-finder-navigation-list-entry-schedule-container collapse" id="store-finder-navigation-list-entry-schedule-' + id + '">';
        item += '<ul class="store-finder-navigation-list-entry-schedule-list">';
        for (var i = 0; i < data.openingHours.weekDayOpeningList.length; i++) {
            var dailySchedule = "";
            if (data.openingHours.weekDayOpeningList[i].closed === false) {
                dailySchedule = data.openingHours.weekDayOpeningList[i].weekDay + ": ";
                for (var j = 0; j < data.openingHours.weekDayOpeningList[i].openingHoursList.length; j++) {
                    dailySchedule += j ? " & " : " ";
                    dailySchedule += data.openingHours.weekDayOpeningList[i].openingHoursList[j].openingTime.formattedHour + '-' + data.openingHours.weekDayOpeningList[i].openingHoursList[j].closingTime.formattedHour;
                }
                item += '<li class="store-finder-navigation-list-entry-schedule-day">' + dailySchedule + '</li>';
            }
        }
        item += '</ul>';
        item += '</div>';
        item += '<div class="store-finder-navigation-list-entry-phone"><a href="tel:' + data.address.phone + '">' + data.address.phone + '</a></div>';
        item += '<div class="store-finder-navigation-list-entry-directions">';
        item += '<a target="_blank" href="https://maps.google.com?saddr=' + ACC.storefinder.startLatitude + "," + ACC.storefinder.startLongitude + "&daddr=" + data.location.lat + "," + data.location.lng + '">Directions</a>';
        item += '</div>';
        item += '<div class="store-finder-navigation-list-entry-details">Store details</div>';
        item += '</li>';
        return item;
    },
    refreshNavigation: function() {
        var listitems = "";
        data = ACC.storefinder.storeData;
        if (ACC.storefinder.circle) {
            ACC.storefinder.circle.setMap(null);
        }
        ACC.storefinder.circle = new google.maps.Circle({
            strokeColor: '#FF0000',
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: '#FF0000',
            fillOpacity: 0.35,
            map: ACC.storefinder.map,
            center: {
                lat: data.sourceLatitude,
                lng: data.sourceLongitude
            },
            radius: data.maxRadius * 1000
        });
        if (data.results.length) {
            for (i = 0; i < data.results.length; i++) {
                data.results[i].location = {
                    "lat": data.results[i].geoPoint.latitude,
                    "lng": data.results[i].geoPoint.longitude
                };
                listitems += ACC.storefinder.createListItemHtml(data.results[i], i)
            }
            $(".js-store-finder-store-list").html(listitems);
            var markers = data.results.map(function(store, i) {
                var image = new google.maps.MarkerImage('/_ui/responsive/common/images/maps-pin_swan.png',new google.maps.Size(31,31));
                var marker = new google.maps.Marker({
                    position: store.location,
                    icon: image,
                });
                var info = $('.store-finder-navigation-list-entry:nth-child(' + (i + 1) + ')');
                var myOptions = {
                    content: '<div class="store-locator__map-information">' + info.html() + '</div>',
                    disableAutoPan: false,
                    maxWidth: 0,
                    pixelOffset: new google.maps.Size(-12,10),
                    zIndex: null,
                    closeBoxMargin: "10px 2px 2px 2px",
                    closeBoxURL: "",
                    infoBoxClearance: new google.maps.Size(1,1),
                    isHidden: false,
                    pane: "floatPane",
                    enableEventPropagation: false
                };
                var ib = new InfoBox(myOptions);
                marker.addListener('click', function(e) {
                    ib.open(ACC.storefinder.map, marker);
                })
                ACC.storefinder.markers.push(marker);
                ACC.storefinder.map.addListener('click', function(e) {
                    ib.close();
                })
                return marker;
            });
            var clusterStyle = [{
                textColor: 'black',
                url: '/_ui/responsive/common/images/maps-pin_empty.png',
                height: 31,
                width: 31,
            }]
            var markerClusterOption = {
                gridSize: 50,
                styles: clusterStyle,
                maxZoom: 15
            }
            ACC.storefinder.markerCluster = new MarkerClusterer(ACC.storefinder.map,markers,markerClusterOption);
        } else {
            $(".js-store-finder-store-list").html('<div>No stores available</div>');
        }
    },
    initGoogleMap: function() {
        ACC.global.addGoogleMapsApi("ACC.storefinder.initGooglePlaces");
    },
    bindSearch: function() {
        $(document).on("keypress", '#storeFinderForm', function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
            }
        })
        $(document).on("click", ".clear-store-search", function(e) {
            e.preventDefault();
            e.stopPropagation();
            $("#storelocator-query").val("");
            ACC.storefinder.clearSearchAndResults();
        })
        $(document).on("submit", '#storeFinderForm', function(e) {
            e.preventDefault()
            var q = $(".js-store-finder-search-input").val();
            if (ACC.storefinder.placesCoords.latitude) {
                ACC.storefinder.getStoreData(ACC.storefinder.placesCoords.latitude, ACC.storefinder.placesCoords.longitude);
                ACC.storefinder.map.panTo({
                    "lat": ACC.storefinder.placesCoords.latitude,
                    "lng": ACC.storefinder.placesCoords.longitude
                });
            } else {
                if ($(".js-storefinder-alert").length < 1) {
                    var emptySearchMessage = $(".search-button").data("searchEmpty")
                    $(".js-store-finder").hide();
                    $("#storeFinder").before('<div class="js-storefinder-alert alert alert-danger alert-dismissable" ><button class="close" type="button" data-dismiss="alert" aria-hidden="true">×</button>' + emptySearchMessage + '</div>');
                }
            }
        })
        $(".js-store-finder").hide();
        $(document).on("click", '#findStoresNearMe', function(e) {
            e.preventDefault()
            $("#storelocator-query").val("");
            ACC.storefinder.clearSearchAndResults();
            ACC.storefinder.getStoreData(ACC.storefinder.coords.latitude, ACC.storefinder.coords.longitude);
            ACC.storefinder.map.panTo({
                "lat": ACC.storefinder.coords.latitude,
                "lng": ACC.storefinder.coords.longitude
            });
        })
    },
    getStoreData: function(latitude, longitude) {
        url = $(".js-store-finder").data("url");
        ACC.storefinder.startLatitude = latitude;
        ACC.storefinder.startLongitude = longitude;
        $.ajax({
            url: url,
            data: {
                latitude: latitude,
                longitude: longitude
            },
            type: "get",
            success: function(response) {
                ACC.storefinder.storeData = response;
                ACC.storefinder.refreshNavigation();
            }
        });
    },
    initGooglePlaces: function() {
        ACC.storefinder.map = new google.maps.Map(document.getElementById('map'),{
            center: {
                lat: 47.293803,
                lng: 11.573407
            },
            zoom: ACC.storefinder.defaultZoomLevel,
            styles: ACC.storefinder.mapStyles
        });
        $(".js-store-finder-store-list").css("height", $("#map").height());
        ACC.storefinder.autocomplete = new google.maps.places.Autocomplete((document.getElementById('storelocator-query')),{
            types: ['(regions)']
        });
        function onPlaceChanged() {
            var place = ACC.storefinder.autocomplete.getPlace();
            if (place.geometry) {
                ACC.storefinder.placesCoords.latitude = place.geometry.location.lat();
                ACC.storefinder.placesCoords.longitude = place.geometry.location.lng();
            } else {
                var service = new google.maps.places.AutocompleteService();
                service.getQueryPredictions({
                    input: $("#storelocator-query").val(),
                    types: ['(regions)']
                }, ACC.storefinder.getFirstSuggestion);
            }
        }
        ACC.storefinder.autocomplete.addListener('place_changed', onPlaceChanged);
        $("#storelocator-query").on("keyup", function(e) {
            e.preventDefault();
            if (e.keyCode !== 13) {
                ACC.storefinder.placesCoords.latitude = 0;
                ACC.storefinder.placesCoords.longitude = 0;
            }
        });
    },
    getFirstSuggestion: function(predictions, status) {
        if (status != google.maps.places.PlacesServiceStatus.OK) {
            return;
        }
        var service = new google.maps.places.PlacesService(ACC.storefinder.map);
        service.getDetails(predictions[0], ACC.storefinder.getcoords);
        $("#storelocator-query").val(predictions[0].description);
    },
    getcoords: function(place, status) {
        $("#storelocator-query").val(place.formatted_address);
        ACC.storefinder.placesCoords.latitude = place.geometry.location.lat();
        ACC.storefinder.placesCoords.longitude = place.geometry.location.lng();
    },
    clearSearchAndResults: function() {
        $(".js-storefinder-alert").remove();
        ACC.storefinder.placesCoords.latitude = 0;
        ACC.storefinder.placesCoords.longitude = 0;
        for (var i = 0; i < ACC.storefinder.markers.length; i++) {
            ACC.storefinder.markers[i].setMap(null);
        }
        if (ACC.storefinder.markerCluster) {
            ACC.storefinder.markerCluster.clearMarkers();
        }
        ACC.storefinder.markers.length = 0;
        $(".js-store-finder-store-list").html('');
        if (ACC.storefinder.circle) {
            ACC.storefinder.circle.setMap(null);
        }
    },
    init: function() {
        ACC.storefinder.initGoogleMap();
        $("#findStoresNearMe").attr("disabled", "disabled");
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                ACC.storefinder.coords = position.coords;
                $('#findStoresNearMe').removeAttr("disabled");
            }, function(error) {
                console.log("An error occurred... The error code and message are: " + error.code + "/" + error.message);
            });
        }
    }
};

ACC.futurelink = {
    _autoload: ["bindFutureStockLink"],
    bindFutureStockLink: function() {
        $(document).on("click", ".js-futureStockLink", function(e) {
            e.preventDefault();
            var url = $(this).attr("href");
            var title = $(this).attr("title");
            $.get(url, function(response) {
                ACC.overlay.open({
                    html: response,
                    title: title,
                    width: ACC.overlay.overlaySize.full,
                    customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
                })
            });
        })
    }
};

ACC.productorderform = {
    _autoload: ["headerActions", "coreTableActions", "addToCartOrderGridForm"],
    $addToCartOrderForm: $("#AddToCartOrderForm"),
    $addToCartBtn: $('#addToCartBtn'),
    $omsErrorMessageContainer: $("#globalMessages"),
    $emptySkuQuantityInputs: $(".sku-quantity[value]"),
    $nonEmptySkuQuantityInputs: $(".sku-quantity[value]"),
    $totalGridValues: $("[data-grid-total-id]"),
    $futureTooltipTemplate: $("#future-stock-template"),
    $futureTooltipErrorTemplate: $("#future-tooltip-error-template"),
    $omsErrorMessageTemplate: $("#oms-error-message-template"),
    $variantSummaryTemplate: $("#variant-summary"),
    selectedVariantData: 'selected-variant',
    selectedVariants: [],
    quantityTotal: 0,
    scrollTopPos: 0,
    headerActions: function() {
        ACC.productorderform.bindProductDetailToggle($(".product-details-toggle"));
    },
    coreTableActions: function() {
        ACC.productorderform.coreTableScrollActions(ACC.productorderform.$addToCartOrderForm);
        ACC.productorderform.bindUpdateFutureStockButton(".update_future_stock_button");
        ACC.productorderform.bindHideFutureStockInfo(".hide_future_stock_info");
        ACC.productorderform.bindVariantSelect($(".variant-select-btn"), 'AddToCartOrderForm');
        ACC.productorderform.cancelVariantModal(".closeVariantModal");
        var skuQuantityClass = '.sku-quantity';
        var skuVariantQuantityClass = '#cboxContent .sku-quantity';
        var quantityBefore = 0;
        var quantityAfter = 0;
        ACC.productorderform.$addToCartOrderForm.on('click', skuQuantityClass, function(event) {
            $(this).select();
        });
        ACC.productorderform.$addToCartOrderForm.on('focusin', skuQuantityClass, function(event) {
            quantityBefore = jQuery.trim(this.value);
            $(this).parents('tr').next('.variant-summary').remove();
            if ($(this).parents('table').data(ACC.productorderform.selectedVariantData)) {
                ACC.productorderform.selectedVariants = $(this).parents('table').data(ACC.productorderform.selectedVariantData);
            } else {
                ACC.productorderform.selectedVariants = [];
            }
            if (quantityBefore == "") {
                quantityBefore = 0;
                this.value = 0;
            }
        });
        $(skuQuantityClass).on('blur', function(event) {
            var indexPattern = "[0-9]+";
            var currentIndex = parseInt($(this).attr("id").match(indexPattern));
            var totalPrice = 0;
            var _this = this;
            var currentPrice = $("input[id='productPrice[" + currentIndex + "]']").val();
            this.value = ACC.productorderform.filterSkuEntry(this.value);
            var $currentTotalItems = $('#total-items-count');
            var currentTotalItemsValue = $currentTotalItems.html();
            var currentTotalPrice = $('#total-price-value').val();
            var $gridGroup = $(this).parents('.orderForm_grid_group');
            if (isNaN(jQuery.trim(this.value))) {
                this.value = 0;
            }
            quantityAfter = jQuery.trim(this.value);
            if (quantityAfter == "") {
                quantityAfter = 0;
                this.value = 0;
            }
            if (ACC.orderform) {
                if (sessionStorage.totalItems !== undefined && sessionStorage.totalPriceVal !== undefined) {
                    currentTotalItemsValue = sessionStorage.totalItems;
                    currentTotalPrice = sessionStorage.totalPriceVal;
                }
                if (quantityBefore == 0) {
                    $currentTotalItems.html(parseInt(currentTotalItemsValue) + parseInt(quantityAfter));
                    totalPrice = parseFloat(currentTotalPrice) + parseFloat(currentPrice) * parseInt(quantityAfter);
                } else {
                    $currentTotalItems.html(parseInt(currentTotalItemsValue) + (parseInt(quantityAfter) - parseInt(quantityBefore)));
                    totalPrice = parseFloat(currentTotalPrice) + parseFloat(currentPrice) * (parseInt(quantityAfter) - parseInt(quantityBefore));
                }
                sessionStorage.totalPrice = ACC.productorderform.formatTotalsCurrency(totalPrice);
                sessionStorage.totalItems = $currentTotalItems.html();
                sessionStorage.totalPriceVal = totalPrice;
                ACC.orderform.addToSkuQtyInput(_this);
            } else if ($gridGroup && $gridGroup.length > 0) {
                var $closestQuantityValue = $gridGroup.find('#quantityValue');
                var $closestAvgPriceValue = $gridGroup.find('#avgPriceValue');
                var $closestSubtotalValue = $gridGroup.find('#subtotalValue');
                var currentQuantityValue = $closestQuantityValue.val();
                var currentSubtotalValue = $closestSubtotalValue.val();
                if (quantityBefore == 0) {
                    $closestQuantityValue.val(parseInt(currentQuantityValue) + parseInt(quantityAfter));
                    $closestSubtotalValue.val(parseFloat(currentSubtotalValue) + parseFloat(currentPrice) * parseInt(quantityAfter));
                    $currentTotalItems.html(parseInt(currentTotalItemsValue) + parseInt(quantityAfter));
                    totalPrice = parseFloat(currentTotalPrice) + parseFloat(currentPrice) * parseInt(quantityAfter);
                } else {
                    $closestQuantityValue.val(parseInt(currentQuantityValue) + (parseInt(quantityAfter) - parseInt(quantityBefore)));
                    $closestSubtotalValue.val(parseFloat(currentSubtotalValue) + parseFloat(currentPrice) * (parseInt(quantityAfter) - parseInt(quantityBefore)));
                    $currentTotalItems.html(parseInt(currentTotalItemsValue) + (parseInt(quantityAfter) - parseInt(quantityBefore)));
                    totalPrice = parseFloat(currentTotalPrice) + parseFloat(currentPrice) * (parseInt(quantityAfter) - parseInt(quantityBefore));
                }
                ACC.productorderform.enableBeforeUnloadEvent(quantityAfter, $currentTotalItems.text());
                if ($('#total-items-count').length != 0 && $('#total-items-count').text() == 0) {
                    ACC.productorderform.$addToCartBtn.attr('disabled', 'disabled');
                    $(window).off('beforeunload', ACC.productorderform.beforeUnloadHandler);
                } else {
                    ACC.productorderform.$addToCartBtn.removeAttr('disabled');
                }
                if (parseInt($closestQuantityValue.val()) > 0) {
                    $closestAvgPriceValue.val(parseFloat($closestSubtotalValue.val()) / parseInt($closestQuantityValue.val()));
                } else {
                    $closestAvgPriceValue.val(0);
                }
            }
            if ($gridGroup && $gridGroup.length > 0) {
                var gridLevelTotalPrice = "";
                var $gridTotalValue = $gridGroup.find("[data-grid-total-id=" + 'total_value_' + currentIndex + "]");
                if (quantityAfter > 0) {
                    gridLevelTotalPrice = ACC.productorderform.formatTotalsCurrency(parseFloat(currentPrice) * parseInt(quantityAfter));
                }
                $gridTotalValue.html(gridLevelTotalPrice);
                ACC.productorderform.updateSelectedVariantGridTotal(this, quantityBefore, false, false);
            }
            $('#total-price').html(ACC.productorderform.formatTotalsCurrency(totalPrice));
            $('#total-price-value').val(totalPrice);
        });
        $('body').on('focusin', skuVariantQuantityClass, function() {
            quantityBefore = jQuery.trim(this.value);
            var currentVariantId = $(this).data('variant-id');
            var currentBaseInput = $("#AddToCartOrderForm, #cartOrderGridForm").find("[data-variant-id='" + currentVariantId + "']");
            currentBaseInput.trigger('focusin');
            currentBaseInput.parents('table').find('.variant-summary').remove();
            if (currentBaseInput.parents('table').data(ACC.productorderform.selectedVariantData)) {
                ACC.productorderform.selectedVariants = currentBaseInput.parents('table').data(ACC.productorderform.selectedVariantData);
            } else {
                ACC.productorderform.selectedVariants = [];
            }
            if (quantityBefore == "") {
                quantityBefore = 0;
                this.value = 0;
            }
        });
        $('body').on('blur', skuVariantQuantityClass, function() {
            var priceSibling = $(this).siblings('.price');
            var totalSibling = $(this).siblings('.data-grid-total');
            var currentVariantId = $(this).data('variant-id');
            var currentBaseInput = $("#AddToCartOrderForm, #cartOrderGridForm").find("[data-variant-id='" + currentVariantId + "']");
            this.value = ACC.productorderform.filterSkuEntry(this.value);
            if (isNaN(jQuery.trim(this.value)) || this.value < 0 || this.value == "") {
                this.value = 0;
            }
            currentBaseInput.val(this.value);
            currentBaseInput.trigger('blur');
            ACC.productorderform.updateVariantTotal(priceSibling, this.value, totalSibling);
            if (this.value > 0 && this.value != quantityBefore) {
                currentBaseInput.parents('table').addClass('selected');
                currentBaseInput.trigger('change');
            } else {
                if (ACC.productorderform.selectedVariants.length === 0) {
                    currentBaseInput.parents('table').removeClass('selected');
                }
            }
        });
    },
    updateSelectedVariantGridTotal: function(_this, quantityBefore, isFillQty, resetSummary) {
        var priceSibling = $(_this).siblings('.price');
        var propSibling = $(_this).siblings('.variant-prop');
        var currentSkuId = $(_this).next('.td_stock').data('sku-id');
        var currentBaseTotal = $(_this).siblings('.data-grid-total');
        if (isFillQty) {
            ACC.productorderform.selectedVariants = [];
        }
        if (_this.value != quantityBefore) {
            var newVariant = true;
            ACC.productorderform.selectedVariants.forEach(function(item, index) {
                if (item.id === currentSkuId) {
                    newVariant = false;
                    if (_this.value === '0' || _this.value === 0) {
                        ACC.productorderform.selectedVariants.splice(index, 1);
                    } else {
                        ACC.productorderform.selectedVariants[index].quantity = _this.value;
                        ACC.productorderform.selectedVariants[index].total = ACC.productorderform.updateVariantTotal(priceSibling, _this.value, currentBaseTotal);
                    }
                }
            });
            if (newVariant && _this.value > 0) {
                ACC.productorderform.selectedVariants.push({
                    id: currentSkuId,
                    size: propSibling.data('variant-prop'),
                    quantity: _this.value,
                    total: ACC.productorderform.updateVariantTotal(priceSibling, _this.value, currentBaseTotal)
                });
            }
        }
        if (resetSummary) {
            $(_this).parents('table').find('.variant-summary').remove();
        }
        ACC.productorderform.showSelectedVariant($(_this).parents('table'));
        if (_this.value > 0 && _this.value != quantityBefore) {
            $(_this).parents('table').addClass('selected');
        } else {
            if (ACC.productorderform.selectedVariants.length === 0) {
                $(_this).parents('table').removeClass('selected').find('.variant-summary').remove();
            }
        }
    },
    updateVariantTotal: function(priceSibling, quantity, totalElement) {
        var variantTotal = parseFloat(priceSibling.data('variant-price')) * parseInt(quantity);
        totalElement.html(ACC.productorderform.formatTotalsCurrency(variantTotal));
        return ACC.productorderform.formatTotalsCurrency(variantTotal);
    },
    bindUpdateFutureStockButton: function(updateFutureStockButton) {
        $('body').on('click', updateFutureStockButton, function(event) {
            event.preventDefault();
            var $gridContainer = $(this).parents('.orderForm_grid_group').find(".product-grid-container");
            var $skus = jQuery.map($gridContainer.find("input[type='hidden'].sku"), function(o) {
                return o.value
            });
            var skusId = $(this).data('skusId');
            var futureStockUrl = $(this).data('skusFutureStockUrl');
            var postData = {
                skus: $skus,
                productCode: skusId
            };
            var hideFutureStockInfo = $(this).parent().find(".hide_future_stock_info");
            var showFutureStockLink = $(this);
            $.ajax({
                url: futureStockUrl,
                type: 'POST',
                data: postData,
                traditional: true,
                dataType: 'json',
                success: function(data) {
                    ACC.productorderform.updateFuture($gridContainer, $skus, data, skusId, showFutureStockLink, hideFutureStockInfo);
                },
                error: function(xht, textStatus, ex) {
                    alert("Failed to get delivery modes. Error details [" + xht + ", " + textStatus + ", " + ex + "]");
                }
            });
        });
    },
    bindHideFutureStockInfo: function(hideFutureStockInfoLink) {
        $('body').on('click', hideFutureStockInfoLink, function(event) {
            event.preventDefault();
            var gridContainer = $(this).parent().parent().find(".product-grid-container");
            var updateFutureStockInfo = $(this).parent().find(".update_future_stock_button");
            updateFutureStockInfo.show();
            $(this).hide();
            var cell = gridContainer.find("[data-sku-id]");
            cell.children(".future_stock, .out-of-stock").remove();
        });
    },
    updateFuture: function(gridContainer, skus, freshData, callerId, showFutureStockInfoLink, hideFutureStockInfo) {
        ACC.productorderform.$omsErrorMessageContainer.find("div").remove();
        function isEmpty(obj) {
            return (Object.keys(obj).length <= 0);
        }
        if (freshData !== null && typeof freshData['basket.page.viewFuture.unavailable'] !== 'undefined') {
            $.tmpl(ACC.productorderform.$omsErrorMessageTemplate, {
                errorMessage: freshData['basket.page.viewFuture.unavailable']
            }).appendTo(ACC.productorderform.$omsErrorMessageContainer);
        } else {
            if (!isEmpty(freshData)) {
                showFutureStockInfoLink.hide();
                hideFutureStockInfo.css("display", "block");
                $.each(skus, function(index, skuId) {
                    var stocks = freshData[skuId];
                    var cell = gridContainer.find("[data-sku-id='" + skuId + "']");
                    var isCurrentlyInStock = cell[0].attributes['class'].nodeValue.indexOf("in-stock") != -1;
                    var futureStockPresent = typeof stocks !== 'undefined' && stocks !== null && stocks[0] !== null && typeof stocks[0] !== 'undefined';
                    cell.children(".future_stock, .out-of-stock").remove();
                    if (futureStockPresent) {
                        if (!isCurrentlyInStock) {
                            cell.addClass("future-stock");
                        }
                        $.tmpl(ACC.productorderform.$futureTooltipTemplate, {
                            formattedDate: stocks[0].formattedDate,
                            availabilities: stocks
                        }).appendTo(cell);
                    } else {
                        if (!isCurrentlyInStock) {
                            cell[0].attributes['class'].nodeValue = "td_stock out-of-stock";
                        }
                    }
                });
            }
        }
    },
    toJSON: function(gridForm, skipZeroQuantity) {
        var skus = gridForm.find("input.sku").map(function(index, element) {
            return element.value
        })
          , skuQuantities = gridForm.find("input.sku-quantity").map(function(index, element) {
            return parseInt(element.value)
        })
          , skusAsJSON = [];
        for (var i = 0; i < skus.length; i++) {
            if (!(skipZeroQuantity && skuQuantities[i] === 0)) {
                skusAsJSON.push({
                    "product": {
                        "code": skus[i]
                    },
                    "quantity": skuQuantities[i]
                });
            }
        }
        return JSON.stringify({
            "cartEntries": skusAsJSON
        });
    },
    formatTotalsCurrency: function(amount) {
        return Currency.formatMoney(Number(amount).toFixed(2), Currency.money_format[ACC.common.currentCurrency]);
    },
    cleanValues: function() {
        if ($(".orderForm_grid_group").length !== 0) {
            var formattedTotal = ACC.productorderform.formatTotalsCurrency('0.00');
            $('#total-price').html(formattedTotal);
            $('#quantity, #total-items-count').html(0);
            $('#quantityValue, #avgPriceValue, #subtotalValue, #total-price-value').val(0);
            ACC.productorderform.$emptySkuQuantityInputs.val(0);
            ACC.productorderform.$totalGridValues.html("");
        }
    },
    calculateGrid: function() {
        ACC.productorderform.$nonEmptySkuQuantityInputs.trigger('focusout');
    },
    bindProductDetailToggle: function(productDetailToggle) {
        productDetailToggle.on("click", function(event) {
            event.preventDefault();
            $(this).parents('.product-details').toggleClass('open');
        });
    },
    showSelectedVariant: function(currentVariant) {
        $.tmpl(ACC.productorderform.$variantSummaryTemplate, {
            variants: ACC.productorderform.selectedVariants
        }).appendTo(currentVariant);
        $('.variant-summary .variant-property').html($('.variant-detail').data('variant-property'));
        currentVariant.data(ACC.productorderform.selectedVariantData, ACC.productorderform.selectedVariants);
        currentVariant.removeClass('currentVariant');
    },
    bindVariantSelect: function(variantSelectBtn, parentId) {
        variantSelectBtn.on("click", function(event) {
            event.preventDefault();
            var currentVariant = $(this).parents('table');
            if (currentVariant.data(ACC.productorderform.selectedVariantData)) {
                ACC.productorderform.selectedVariants = currentVariant.data(ACC.productorderform.selectedVariantData);
            } else {
                ACC.productorderform.selectedVariants = [];
            }
            var titleHeader = variantSelectBtn.html();
            var tableWrap = $('#' + parentId).clone().empty().attr('id', parentId + 'Variant');
            currentVariant.addClass('currentVariant');
            var popupContent = $(this).parents('.orderForm_grid_group').clone();
            currentVariant.removeClass('currentVariant');
            $(popupContent).find('.currentVariant').siblings().remove();
            tableWrap.html(popupContent);
            tableWrap.find('.hidden-xs').removeClass('hidden-xs');
            tableWrap.find('.hide').removeClass('hide');
            scrollTopPos = $('body').scrollTop();
            $('body').scrollTop(0);
            ACC.colorbox.open(titleHeader, {
                html: tableWrap,
                width: "100%",
                reposition: false,
                className: 'variantSelectMobile',
                onCleanup: function() {
                    if (ACC.productorderform.$addToCartOrderForm.find('.selected').length > 0) {
                        ACC.productorderform.$addToCartBtn.removeAttr('disabled');
                    } else {
                        ACC.productorderform.$addToCartBtn.attr('disabled', 'disabled');
                    }
                    $('body').scrollTop(scrollTopPos);
                }
            });
        });
    },
    cancelVariantModal: function(closeVariantModal) {
        $('body').on('click', closeVariantModal, function(event) {
            event.preventDefault();
            ACC.colorbox.close();
        });
    },
    resetSelectedVariant: function() {
        ACC.productorderform.selectedVariants = [];
        $('.product-grid-container table').removeData(ACC.productorderform.selectedVariantData).removeClass('selected').removeClass('currentVariant');
    },
    addToCartOrderGridForm: function addToCartOrderGridForm() {
        ACC.productorderform.$addToCartBtn.click(function() {
            ACC.productorderform.$addToCartBtn.attr('disabled', 'disabled');
            $.ajax({
                url: ACC.productorderform.$addToCartOrderForm.attr("action"),
                type: 'POST',
                dataType: 'json',
                contentType: 'application/json',
                data: ACC.productorderform.toJSON(ACC.productorderform.$addToCartOrderForm, true),
                async: false,
                success: function(response) {
                    $(window).off('beforeunload', ACC.productorderform.beforeUnloadHandler);
                    ACC.productorderform.cleanValues();
                    ACC.productorderform.resetSelectedVariant();
                    ACC.cartFlyout.showCartFlyoutTemporarily();
                    ACC.product.displayAddToCartPopup(response);
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    console.log("The following error occured: " + textStatus, errorThrown);
                }
            });
        });
    },
    beforeUnloadHandler: function() {
        return ACC.productorderform.$addToCartOrderForm.attr('data-grid-confirm-message');
    },
    enableBeforeUnloadEvent: function(quantityAfter, currentTotalItems) {
        if (!ACC.orderform) {
            if (quantityAfter > 0 && currentTotalItems > 0) {
                $(window).off('beforeunload', ACC.productorderform.beforeUnloadHandler).on('beforeunload', ACC.productorderform.beforeUnloadHandler);
            }
        }
    },
    filterSkuEntry: function(quantityInput) {
        var filteredQty = 0;
        if (/\D/g.test(quantityInput)) {
            filteredQty = quantityInput.replace(/\D/g, '');
        } else {
            filteredQty = quantityInput;
        }
        return filteredQty;
    },
    coreTableScrollActions: function($scrollContent) {
        if ($scrollContent.hasClass('visible')) {
            ACC.productorderform.orderGridScroll($scrollContent);
            var scrollRight = $scrollContent.parent().find('.order-form-scroll.right')
              , scrollLeft = $scrollContent.parent().find('.order-form-scroll.left')
              , scrollUp = $scrollContent.parent().find('.order-form-scroll.up')
              , scrollDown = $scrollContent.parent().find('.order-form-scroll.down');
            var widthReference = $scrollContent.find('.widthReference').outerWidth()
              , heightReference = $scrollContent.find('.product-grid-container table').eq(0).height() / 2;
            var maxWidth = 0
              , maxHeight = 0;
            var widthDiff = 0
              , heightDiff = 0;
            $scrollContent.find('.product-grid-container table').each(function() {
                if ($(this).outerWidth() > maxWidth) {
                    maxWidth = $(this).outerWidth();
                }
            });
            $scrollContent.find('.orderForm_grid_group').each(function() {
                maxHeight += $(this).height();
            });
            widthDiff = maxWidth - $scrollContent.outerWidth();
            heightDiff = maxHeight - $scrollContent.height() + 17;
            $scrollContent.scroll(function() {
                if ($(this).scrollLeft() > 0) {
                    scrollLeft.show();
                } else {
                    scrollLeft.hide();
                }
                if ($(this).scrollLeft() >= widthDiff) {
                    scrollRight.hide();
                } else {
                    scrollRight.show();
                }
                if ($(this).scrollTop() > 0) {
                    scrollUp.show();
                } else {
                    scrollUp.hide();
                }
                if ($(this).scrollTop() >= heightDiff) {
                    scrollDown.hide();
                } else {
                    scrollDown.show();
                }
                $scrollContent.find('.update-future-stock').css('margin-right', -$(this).scrollLeft());
            });
            $scrollContent.parent().find('.order-form-scroll').click(function() {
                var pos = {
                    left: $scrollContent.scrollLeft(),
                    top: $scrollContent.scrollTop()
                };
                if ($(this).hasClass('right')) {
                    $scrollContent.scrollLeft(pos.left + widthReference);
                } else if ($(this).hasClass('left')) {
                    $scrollContent.scrollLeft(pos.left - widthReference);
                } else if ($(this).hasClass('up')) {
                    $scrollContent.scrollTop(pos.top - heightReference);
                } else {
                    $scrollContent.scrollTop(pos.top + heightReference);
                }
            });
        }
    },
    orderGridScroll: function(scrollContent) {
        var showRight = false;
        var calcHeight = 0;
        var maxWidth = $(scrollContent).find('.orderForm_grid_group').innerWidth();
        var maxHeight = $(scrollContent).innerHeight() - 18;
        $(scrollContent).find('.product-grid-container table').each(function() {
            if ($(this).width() > maxWidth) {
                showRight = true;
            }
            calcHeight += $(this).height();
        });
        if (showRight) {
            $(scrollContent).parent().find('.order-form-scroll.right').show();
        }
        if (calcHeight > maxHeight) {
            $(scrollContent).parent().find('.order-form-scroll.down').show();
        }
    },
    calculateVariantTotal: function(_this, quantityToAdd) {
        var $gridGroup = _this.parents('.orderForm_grid_group');
        var indexPattern = "[0-9]+";
        var currentIndex = parseInt(_this.attr("id").match(indexPattern));
        var currentPrice = $("input[id='productPrice[" + currentIndex + "]']").val();
        var $gridTotalValue = $gridGroup.find("[data-grid-total-id=" + 'total_value_' + currentIndex + "]");
        if (quantityToAdd > 0) {
            $gridTotalValue.html(ACC.productorderform.formatTotalsCurrency(parseFloat(currentPrice) * parseInt(quantityToAdd)));
        }
    }
};

ACC.wishlist = {
    _autoload: ["bindAddToCart", "bindAddAllToCart", "bindDelete", "bindHelp", "bindShareWishlistButton", "bindShareWishlistFormValidation", "getShowOverlayWishlistLoginLinkCss", "bindReopenLoginOverlay", "bindShareViaEmailCheckboxes", "setShareableEntriesList"],
    bindProductWishlistToggle: function($selector) {
        $('.js-product-wishlist-toggle-form', $selector).each(function() {
            var $wishlistform = $(this);
            ACC.overlay.bindHardLoginAjaxForm($wishlistform, function(wishlistModificationData) {
                var modificationData = wishlistModificationData.modificationData;
                ACC.wishlist.refreshWishlistCount(modificationData);
                ACC.wishlist.refreshWishlistButton(modificationData, $wishlistform);
                if (modificationData.action === 'ADD' && modificationData.result === 'SUCCESS') {
                    var $forceAddFields = $('.js-product-wishlist-toggle-form input[name=forceAdd]');
                    if ($forceAddFields.length > 0) {
                        ACC.wishlist.markProductsFromWishlistAsActive(modificationData);
                        $forceAddFields.remove();
                    }
                    var autoHideFlyout = true;
                    preparePositionWishlist('.js-wishlist-fly-out');
                    ACC.wishlistFlyout.getAndShowWishlistFlyout(autoHideFlyout);
                    ACC.tracking.trackWishlistEvent("flyoutLoad", "itemAdded");
                }
                ACC.tracking.trackAddToWishlist(wishlistModificationData.wishlistTrackingData);
            });
        });
    },
    bindDelete: function() {
        $('.wishlist .remove-item').on("click", function(event) {
            event.preventDefault();
            var url = $('.row.wishlist.removeUrl').attr('data-wishlist-remove-url');
            var productCode = $(this).attr('data-product-code');
            var loadUrl = ACC.config.encodedContextPath + '/wishlist';
            ACC.tracking.trackRemoveFromWishlist(url, productCode, loadUrl);
        });
    },
    bindAddToCart: function() {
        $('.wishlist .addToCartButton').on("click", function(event) {
            event.preventDefault();
            var productCodeArray = $.makeArray({
                'name': 'code',
                'value': $(this).data("product-code")
            });
            ACC.wishlist.addToCart(productCodeArray);
        });
    },
    bindAddAllToCart: function() {
        $('.wishlist .addAllToCartButton ').on("click", function(event) {
            event.preventDefault();
            var productCodeArray = $('#wishlistItems').find(".addToCartButton").map(function() {
                if ($(this).data("product-code") !== undefined) {
                    return {
                        'name': 'code',
                        'value': $(this).data("product-code")
                    };
                }
            });
            ACC.wishlist.addToCart(productCodeArray);
            $(this).parents('.js-add-all-wrapper').hide();
        });
    },
    addToCart: function(productCodeArray) {
        var url = $('.row.wishlist.addToCartUrl').attr('data-wishlist-addToCart-url');
        $.ajax({
            url: ACC.config.encodedContextPath + url,
            type: 'POST',
            data: productCodeArray,
            success: function(data) {
                $("#globalMessagesHolder").empty();
                $('#globalMessagesHolder').append(data);
                ACC.wishlist.updateButtonOfAddedProducts(data);
                ACC.minicart.updateMiniCartDisplay();
                ACC.cartFlyout.showCartFlyoutTemporarily();
            }
        });
    },
    refreshWishlistCount: function(wishlistModificationData) {
        $("#js-wishlist-count").html(wishlistModificationData.wishlist.wishlistEntries.length);
    },
    showWishlistCount: function(wishlistItemsCount) {
        $("#js-wishlist-count").html(wishlistItemsCount);
    },
    refreshWishlistButton: function(wishlistModification, $wishlistform) {
        var button = $wishlistform.find('#toggleWishlistButton_' + wishlistModification.formPrefix + '_' + wishlistModification.product.code);
        if (wishlistModification.isOnWishlist != true) {
            ACC.wishlist.setWishlistButtonInactive($(button));
        } else {
            ACC.wishlist.setWishlistButtonActive($(button));
        }
    },
    markProductsFromWishlistAsActive: function(wishlistModification) {
        wishlistModification.wishlist.wishlistEntries.forEach(function(wishlistEntry) {
            var productCode = wishlistEntry.product.code;
            var $wishlistBtn = $('[id^=toggleWishlistButton][id$=' + productCode + ']');
            if ($wishlistBtn.length > 0) {
                ACC.wishlist.setWishlistButtonActive($wishlistBtn);
            }
        });
    },
    bindHelp: function() {
        $(document).on("click", ".js-wishlist-help", function(e) {
            e.preventDefault();
            var title = $(this).data("help");
            var html = $(".js-help-popup-content").html();
            ACC.overlay.open({
                width: ACC.overlay.overlaySize.full,
                customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                html: html,
                title: title
            });
        });
    },
    updateButtonOfAddedProducts: function() {
        var products = $('#globalMessagesHolder').find('#successfullyAddedProducts').attr('data-successfullyAddedProducts');
        var productsArray = JSON.parse(products);
        for (var i in productsArray) {
            var button = $(".js-addToCartButton[data-product-code='" + productsArray[i] + "']");
            button.removeClass('addToCartButton').addClass('link--cta-is-in-cart').prop('type', 'button').prop('disabled', 'disabled').text(button.data('added-message'));
        }
    },
    bindShareWishlistButton: function() {
        $('.js-shareWishlistButton ').on("click", function(event) {
            event.preventDefault();
            $(".js-form-group-hidden").toggleClass("hidden");
            $(this).toggle();
        });
    },
    bindShareWishlistFormValidation: function() {
        var recipientName = $('#recipientName');
        var recipientEmail = $('#recipientEmail');
        var message = $('#message');
        var recipientNameMandatory = recipientName.data('message-mandatory');
        var recipientEmailMandatory = recipientEmail.data('message-mandatory');
        var recipientEmailInvalid = recipientEmail.data('message-invalid');
        var messageTooLong = message.data('message-toolong');
        var recipientNameMandatoryEN = recipientName.data('message-mandatory-en');
        var recipientEmailMandatoryEN = recipientEmail.data('message-mandatory-en');
        var recipientEmailInvalidEN = recipientEmail.data('message-invalid-en');
        var messageTooLongEN = message.data('message-toolong-en');
        $('#sacShareWishlistForm').formValidation({
            autoFocus: false,
            framework: 'bootstrap',
            icon: {
                valid: '',
                invalid: '',
                validating: ''
            },
            fields: {
                recipientName: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: recipientNameMandatory,
                            message_en: recipientNameMandatoryEN
                        }
                    }
                },
                recipientEmail: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: recipientEmailMandatory,
                            message_en: recipientEmailMandatoryEN
                        },
                        regexp: {
                            regexp: ACC.common.emailRegexp,
                            message: recipientEmailInvalid,
                            message_en: recipientEmailInvalidEN
                        }
                    }
                },
                message: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        stringLength: {
                            max: 350,
                            message: messageTooLong,
                            message_en: messageTooLongEN
                        }
                    }
                }
            }
        });
    },
    updateCartPageWishlistButtons: function() {
        var $cartEntries = $('.js-cart-entries');
        if ($cartEntries.length) {
            $('.js-product-wishlist-toggle-form').each(function() {
                ACC.wishlist.updateWishlistButton(this);
            });
        }
    },
    updateProductDetailsPageWishlistButton: function() {
        var $productDetail = $('.js-product-detail');
        if ($productDetail.length) {
            ACC.wishlist.updateWishlistButton('.js-product-wishlist-toggle-form');
        }
    },
    updateListingPageWishlistButton: function() {
        if ($('#js-product-list').length) {
            var $productTiles = $('.js-product-wishlist-toggle-form');
            $productTiles.each(function() {
                ACC.wishlist.updateWishlistButton(this);
            });
        }
    },
    reloadListingPageWishlistButtonState: function(sel) {
        var $getWishlistButtons = $(sel).find('.js-ajax-wishlist-form');
        $getWishlistButtons.each(function() {
            ACC.wishlist.updateWishlistButton($(this));
        });
    },
    updateWishlistButton: function(selector) {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            return;
        }
        var $form = $(selector);
        var wishlistProductCodes = ACC.cookie.getClientInfoCookie().wishlistProductCodes;
        if ($.inArray(String($form.data('product-code')), wishlistProductCodes) !== -1) {
            ACC.wishlist.setWishlistButtonActive($form.find('#toggleWishlistButton_' + $form.data('form-prefix') + '_' + $form.data('product-code')));
        }
    },
    setWishlistButtonActive: function($button) {
        var $buttonIcon = $button.find('.js-toggle-link-icon');
        var activeClass = $buttonIcon.data('icon-active');
        var $buttonWishlistText = $button.find('.js-toggle-wishlist-button-text');
        var activeText = $buttonWishlistText.data('text-active');
        var inWishlistLabel = $button.data('in-wishlist-text');
        if (typeof (activeClass) !== 'undefined') {
            $buttonIcon.addClass(activeClass);
        }
        if (typeof (activeText) !== 'undefined') {
            $buttonWishlistText.addClass('hide');
            $button.removeClass('link link--wish-list2').addClass('link link--wish-list2-active');
            $button.find('.js-toggle-heart-button').removeClass('hide');
            $button.closest('form').find('.js-toggle-heart-button-text').removeClass('hide');
        }
        $button.attr('aria-label', inWishlistLabel);
    },
    setWishlistButtonInactive: function($button) {
        var $buttonIcon = $button.find('.js-toggle-link-icon');
        var activeClass = $buttonIcon.data('icon-active');
        var $buttonWishlistText = $button.find('.js-toggle-wishlist-button-text');
        var inactiveText = $buttonWishlistText.data('text-inactive');
        var moveToWishlistLabel = $button.data('move-to-wishlist-text');
        if (typeof (activeClass) !== 'undefined') {
            $buttonIcon.removeClass(activeClass);
        }
        if (typeof (inactiveText) !== 'undefined') {
            $buttonWishlistText.removeClass('hide');
            $button.addClass('link link--wish-list2').removeClass('link link--wish-list2-active');
            $button.find('.js-toggle-heart-button').addClass('hide');
            $button.closest('form').find('.js-toggle-heart-button-text').addClass('hide');
        }
        $button.attr('aria-label', moveToWishlistLabel);
    },
    getShowOverlayWishlistLoginLinkCss: function() {
        var $wishlistForm = $('body').find('.js-product-wishlist-toggle-form');
        return $wishlistForm.length ? "show-wishlist-login-overlay" : "";
    },
    bindReopenLoginOverlay: function() {
        $(document).on("click", ".js-wishlist-overlay-link", function(e) {
            e.preventDefault();
            ACC.loginoverlay.displayLoginOverlay();
        });
    },
    bindShareViaEmailCheckboxes: function() {
        $("input[id*='shareableViaEmailInput']").each(function(i, el) {
            $(el).change(function() {
                ACC.wishlist.setShareableEntriesList();
            });
        });
    },
    setShareableEntriesList: function() {
        var productsShareableViaEmailInput = $("#productsShareableViaEmail");
        productsShareableViaEmailInput.val("");
        $("input[id*='shareableViaEmailInput']").each(function(i, el) {
            var productCode = $(el).attr('data-product-code');
            if ($(el).is(":checked")) {
                var value = productsShareableViaEmailInput.val() === "" ? productCode : "," + productCode;
                productsShareableViaEmailInput.val(productsShareableViaEmailInput.val() + value);
            }
        });
    }
};
$(document).ready(function() {
    with (ACC.wishlist) {
        updateCartPageWishlistButtons();
        updateProductDetailsPageWishlistButton();
        updateListingPageWishlistButton();
    }
});

var sessionSec;
var counter;
var carts;
function addASMHandlers() {
    revertAutocompleteNormalize();
    addCloseBtnHandler();
    addASMFormHandler();
    addHideBtnHandler();
    addCustomerListBtnHandler();
    customerListModalHandler();
    movePlacedBy();
    if ($("#sessionTimer").length && $('#asmLogoutForm').length) {
        startTimer();
    }
    if ($("#resetButton").length) {
        $("#resetButton").click(function() {
            resetSession();
        });
    }
    if (placeholderNotAvailable()) {
        $('[placeholder]').focus(function() {
            var input = $(this);
            if (input.val() == input.attr('placeholder')) {
                input.val('');
                input.removeClass('placeholder');
            }
        }).blur(function() {
            var input = $(this);
            if (input.val() == '' || input.val() == input.attr('placeholder')) {
                input.addClass('placeholder');
                input.val(input.attr('placeholder'));
            }
        }).blur();
    }
    $('[placeholder]').blur(function() {
        var input = $(this);
        if (input.val() == '') {
            if (input.attr("name")) {
                toggleBind(false);
            }
        }
    });
    if ($('.ASM_alert_cart').length) {
        $("input[name='cartId']").addClass('ASM-input-error');
    }
    if ($('.ASM_alert_customer').length) {
        $("input[name='customerName']").addClass('ASM-input-error');
    }
    if ($('.ASM_alert_cred').length) {
        $("input[name='username']").addClass('ASM-input-error');
        $("input[name='password']").addClass('ASM-input-error');
    }
    if ($('.ASM_alert_create_new').length) {
        toggleCreateAccount(true);
    }
    if ($('#_asmLogin').length) {
        var loginUser = $("#asmLoginForm input[name='username']");
        var min = 1;
        if (loginUser.val().length >= min) {
            loginUser.parent().addClass('checked');
        }
    }
    $("#asmLoginForm input[name='username'], #asmLoginForm input[name='password']").keyup(function() {
        var min = 1;
        var parentNode = $(this.parentNode)
        if (this.value.length >= (min)) {
            parentNode.addClass('checked');
            checkSignInButton(parentNode);
        } else {
            parentNode.removeClass('checked');
            checkSignInButton(parentNode);
        }
    });
    $("input[name='customerName']").keyup(function(e) {
        validateNewAccount(this);
        $(this).removeData("hover");
        removeAsmHover();
        toggleBind(false);
        toggleStartSessionButton(this, false);
        if ($(this).val().length < 3) {
            toggleCreateAccount(false);
        }
    });
    $("#_asmPersonifyForm input[name='cartId']").keyup(function() {
        formValidate(this, 14, true, 14);
        if (isErrorDisplayed()) {
            $("input[name='cartId']").removeClass('ASM-input-error');
            if ($('.ASM_alert')) {
                $('.ASM_alert').remove();
            }
        }
    });
    $("#_asmPersonifyForm input[name='customerName']").keyup(function() {
        if (isErrorDisplayed()) {
            $("input[name='customerName']").removeClass('ASM-input-error');
            if ($('.ASM_alert')) {
                $('.ASM_alert').remove();
            }
            if ($(this).val() == "") {
                $("input[name='cartId']").removeClass('ASM-input-error');
                toggleStartSessionButton($("input[name='cartId']"), true);
                $("input[name='customerId']").val("");
            }
        }
        if ($(this).val() == "") {
            $("input[name='cartId']").val("");
            $("#asmAutoCompleteCartId").empty();
        }
    });
    $("#_asmPersonifyForm input[name='cartId']").blur(function() {
        var regEx = /^\s+$/;
        if (regEx.test($(this).val())) {
            $(this).val('');
            formValidate(this, 14, true, 14);
        }
    });
    $("#_asmBindForm input[name='cartId']").keyup(function(e) {
        checkCartIdFieldAndToggleBind(this);
    });
    $("#_asmBindForm input[name='cartId']").bind('paste', function(e) {
        var inputField = this;
        setTimeout(function() {
            checkCartIdFieldAndToggleBind(inputField);
        }, 100);
    });
    $("input[name='customerName'], input[name='customerId']").hover(function() {
        var item = ($(this).attr('data-hover')) ? jQuery.parseJSON($(this).attr('data-hover')) : $(this).data("hover");
        var disabled = ($(this).attr('data-hover')) ? "disabled" : "";
        if (!(item === null || item === undefined)) {
            $(this).after('<div id="asmHover" class="' + disabled + '"><span class="name">' + item.name + '</span><span class="email">' + item.email + '</span><span class="date">' + item.date + '</span><span class="card">' + item.card + '</span></div>');
        }
    }, function() {
        removeAsmHover();
    });
    $("#_asmPersonifyForm input[name='cartId']").autocomplete({
        source: function(request, response) {
            response(carts);
        },
        appendTo: "#asmAutoCompleteCartId",
        autoFocus: true,
        minLength: 0,
        select: function(event, ui) {
            if (ui.item.value == "") {
                event.preventDefault();
            }
            toggleStartSessionButton(this, true);
        }
    });
    $("#_asmPersonifyForm input[name='cartId']").on('click, focus', function() {
        $("#_asmPersonifyForm input[name='cartId']").autocomplete('search', '');
    });
    if ($("input[name='customerName']").length > 0) {
        $("input[name='customerName']").autocomplete({
            source: function(request, response) {
                $.ajax({
                    url: ACC.config.encodedContextPath + "/assisted-service/autocomplete",
                    dataType: "jsonp",
                    data: {
                        customerId: request.term
                    },
                    success: function(data) {
                        response(data);
                    }
                });
            },
            minLength: 3,
            appendTo: "#asmAutoComplete",
            select: function(event, ui) {
                if (ui.item.value == "") {
                    event.preventDefault();
                    return;
                }
                toggleStartSessionButton(this, true);
                $(this).data('hover', {
                    name: ui.item.value,
                    email: ui.item.email,
                    card: ui.item.card,
                    date: ui.item.date
                });
                $("input[name='customerId']").val(ui.item.email);
                carts = ui.item.carts;
                if ($("input[name='cartId']").attr("orig_value") == null) {
                    $("input[name='cartId']").val('');
                    if (carts != null) {
                        if (carts.length == 1) {
                            $("input[name='cartId']").val(carts[0]);
                        } else {
                            $("input[name='cartId']").autocomplete('search', '');
                            $("input[name='cartId']").focus();
                        }
                    } else {
                        carts = [{
                            label: "No Existing Carts",
                            value: ""
                        }];
                        $("input[name='cartId']").autocomplete('search', '');
                        $("input[name='cartId']").focus();
                    }
                }
                toggleBind(true);
            }
        }).data("ui-autocomplete")._renderItem = function(ul, item) {
            if (item.value == "") {
                toggleCreateAccount(true);
                return $("<li></li>").data("item.autocomplete", item).append("<a><span class='noresult'>No Customer ID found</span></a>").appendTo(ul);
            } else {
                toggleCreateAccount(false);
            }
            return $("<li></li>").data("item.autocomplete", item).append("<a><span class='name'>" + item.value + "</span><span class='email'>" + item.email + "</span><span class='date'>" + item.date + "</span><span class='card'>" + item.card + "</span></a>").appendTo(ul);
        }
        ;
    }
    if ($("#_asmBindForm").length) {
        var customerId = $("input[name='customerName']").attr('readonly');
        var cartId = $(".cartId input").attr('disabled');
        if (customerId === "readonly") {
            $(".ASM_icon-chain").removeClass('invisible').addClass('ASM_chain-bind');
        }
    }
    if ($(".add_to_cart_form").length && $("#_asm input[name='cartId']").val() == "") {
        $(".add_to_cart_form").submit(function(event) {
            setTimeout(function() {
                var url = ACC.config.encodedContextPath + "/assisted-service/add-to-cart";
                $.post(url, function(data) {
                    $("#_asm").replaceWith(data);
                    addASMHandlers();
                })
            }, 400);
        });
    }
    enableAsmPanelButtons();
}
$(document).ready(function() {
    addASMHandlers();
});
function addASMFormHandler() {
    if ($) {
        if ($(".asmForm").length) {
            $(".asmForm").each(function() {
                $(this).submit(function() {
                    $(this).find('[placeholder]').each(function() {
                        var input = $(this);
                        if (input.val() == input.attr('placeholder')) {
                            input.val('');
                        }
                    })
                    $.ajax({
                        type: "POST",
                        url: $(this).attr('action'),
                        data: $(this).serialize(),
                        success: function(data) {
                            $("#_asm").replaceWith(data);
                            addASMHandlers();
                        }
                    });
                    return false;
                });
            });
        }
    }
}
function addCloseBtnHandler() {
    $("#_asm .closeBtn").click(function() {
        var url = ACC.config.encodedContextPath + "/assisted-service/quit";
        $.post(url, function(data) {
            var oldurl = window.location.href;
            var newurl = oldurl.replace("&asm=true", "").replace("?asm=true&", "?").replace("?asm=true", "");
            window.location.replace(newurl);
        });
    });
}
function addHideBtnHandler() {
    $("#_asm .ASM_control_collapse").click(function() {
        $("#_asm").toggleClass("ASM-collapsed");
    });
}
function startTimer() {
    sessionSec = timer;
    clearInterval(counter);
    counter = setInterval(timerFunc, 1000);
}
function timerFunc() {
    if (sessionSec <= 0) {
        clearInterval(counter);
        finishASMagentSession();
        return;
    }
    sessionSec = sessionSec - 1;
    var min = Math.floor(sessionSec / 60);
    var sec = sessionSec % 60;
    if (min < 10) {
        min = "0" + min;
    }
    if (sec < 10) {
        sec = "0" + sec;
    }
    $("#sessionTimer .ASM_timer_count").html(min + ":" + sec);
}
function resetSession() {
    var request = $.ajax({
        url: ACC.config.encodedContextPath + "/assisted-service/resetSession",
        type: "POST"
    });
    request.done(function(msg) {
        sessionSec = timer + 1;
    });
    request.fail(function(jqXHR, textStatus) {
        $('#errors').empty();
        $('#errors').append("Request failed: " + textStatus);
    });
}
function finishASMagentSession() {
    $.ajax({
        url: ACC.config.encodedContextPath + "/assisted-service/logoutasm",
        type: "POST",
        success: function(data) {
            $("#_asm").replaceWith(data);
            addASMHandlers();
        }
    });
}
function isStartEmulateButtonPresent() {
    return $(".ASM-btn-start-session").length == 1;
}
function enableAsmPanelButtons() {
    $('div[id="_asm"] button').not(".ASM-btn-start-session, .ASM-btn-create-account, .ASM-btn-login").removeAttr('disabled');
    if (isStartEmulateButtonPresent()) {
        if ($("#_asmPersonifyForm input[name='customerId']").val() != "") {
            $("#_asmPersonifyForm input[name='customerId']").parent().addClass("checked");
        }
        formValidate($("#_asmPersonifyForm input[name='cartId']")[0], 14, true, 14);
    }
}
function placeholderNotAvailable() {
    var i = document.createElement('input');
    return !('placeholder'in i);
}
function removeAsmHover() {
    $('#asmHover').remove();
}
function toggleCreateAccount(activate) {
    var bindIcon = $(".ASM_icon-chain");
    var createButton = $("#_asmCreateAccountForm button.ASM-btn-create-account[type='submit']");
    if (activate) {
        createButton.removeClass('hidden');
        bindIcon.removeClass('invisible');
    } else {
        createButton.addClass('hidden');
        bindIcon.addClass('invisible');
    }
}
function toggleActivationState(button, activate) {
    if (activate) {
        button.removeAttr('disabled');
    } else {
        button.attr('disabled', '');
    }
}
function checkSignInButton(el) {
    var signInBtn = $("#asmLoginForm button[type='submit']");
    var checkSum = $(el).parent().find('.checked').length;
    if (checkSum > 1) {
        toggleActivationState(signInBtn, true);
    } else {
        toggleActivationState(signInBtn, false);
    }
}
function checkStartSessionButton(el) {
    toggleStartSessionButton(el, false);
    var checkSum = $(el.parentNode).siblings('.checked').length;
    if (checkSum > 0) {
        toggleActivationState($("button.ASM-btn-start-session"), true);
    }
}
function checkCartIdFieldAndToggleBind(cartIdField) {
    if (!$(cartIdField).hasClass('placeholder') && $("input[name='customerId']").val().length > 0) {
        if (!isNaN(cartIdField.value) && (cartIdField.value.length == 14) && (cartIdField.value != cartIdField.getAttribute('orig_value'))) {
            $("#_asmBindForm button[type='submit']").removeClass('hidden');
            $(".ASM_icon-chain").removeClass('invisible');
            return;
        }
    }
    $("#_asmBindForm button[type='submit']").addClass('hidden');
    $(".ASM_icon-chain").addClass('invisible');
}
function toggleBind(activate) {
    if ($("#_asmBindForm").length) {
        var bindIcon = $(".ASM_icon-chain");
        var bindButton = $("#_asmBindForm button.ASM-btn-bind-cart[type='submit']");
        if (activate) {
            bindButton.removeClass('hidden');
            bindIcon.removeClass('invisible');
        } else {
            bindButton.addClass('hidden');
            if ($('.ASM-btn-create-account').hasClass('hidden')) {
                bindIcon.addClass('invisible');
            }
        }
    }
}
function toggleStartSessionButton(el, activate) {
    var checkedItem = $(el).parent();
    var button = $("button.ASM-btn-start-session");
    if (activate) {
        button.removeAttr('disabled');
        checkedItem.addClass("checked");
    } else {
        button.attr('disabled', '');
        checkedItem.removeClass("checked");
    }
}
function formValidate(el, min, number, max) {
    if (!$(el).hasClass('placeholder')) {
        if ($(el).hasClass("ASM-input-error")) {
            toggleStartSessionButton(el, false);
            return false;
        }
        if (number !== false) {
            if (isNaN(el.value)) {
                toggleStartSessionButton(el, false);
                return false;
            }
        }
        if (el.value.length >= (min)) {
            toggleStartSessionButton(el, true);
            if (max !== undefined && el.value.length > (max)) {
                toggleStartSessionButton(el, false);
            }
        } else if (el.value.length === 0) {
            checkStartSessionButton(el);
        } else {
            toggleStartSessionButton(el, false);
            return false;
        }
        return true;
    }
    return false;
}
function validateEmail(mailAddress) {
    return ($('<input>').attr({
        type: 'email',
        required: 'required'
    }).val(mailAddress))[0].checkValidity() && (mailAddress.indexOf(".") > 0);
}
function validateName(name) {
    var regEx = /^[a-zA-Z-]+\s[a-zA-Z-]+$/;
    return (name != '' && regEx.test(name));
}
function validateNewAccount(el) {
    var createAccountButton = $("#_asmCreateAccountForm button.ASM-btn-create-account[type='submit']");
    var customerValues = el.value.split(', ');
    var IdInput = $("#_asmCreateAccountForm input[name='customerId']");
    var NameInput = $("#_asmCreateAccountForm input[name='customerName']");
    if (customerValues.length > 1) {
        var validName = validateName(customerValues[0]);
        var validMail = validateEmail(customerValues[1]);
        if (validName && validMail) {
            toggleActivationState(createAccountButton, true);
            IdInput.val(customerValues[1].replace(/^\s\s*/, '').replace(/\s\s*$/, ''));
            NameInput.val(customerValues[0]);
        } else {
            toggleActivationState(createAccountButton, false);
            return false;
        }
    } else {
        toggleActivationState(createAccountButton, false);
        return false;
    }
}
function revertAutocompleteNormalize() {
    $.ui.autocomplete.prototype._normalize = function(a) {
        if (a.length && a[0].label && a[0].value) {
            return a;
        }
        return $.map(a, function(b) {
            if (typeof b === "string") {
                return {
                    label: b,
                    value: b
                };
            }
            return $.extend({
                label: b.label || b.value,
                value: b.value || b.label
            }, b);
        });
    }
    ;
}
function isErrorDisplayed() {
    return $('.ASM_alert').length;
}
function addCustomerListBtnHandler() {
    $(".js-customer-list-btn").removeClass('disabled');
    $(document).on("click", ".js-customer-list-btn", function(e) {
        e.preventDefault();
        populateCustomerListModal($(this).data('actionurl'), '.js-customer-list-modal-content', addCustomerListSelect);
    });
}
function customerListModalHandler() {
    $(document).on("click", ".ASM_customer-list-modal .pagination a", function(e) {
        e.preventDefault();
        populateCustomerListModal($(this).attr('href'), ".asm-account-section", replaceCustomerListTable);
    });
    $(document).on("change", ".ASM_customer-list-modal .sort-refine-bar .form-control", function(e) {
        e.preventDefault();
        var targetUrl = $(".js-customer-list-sorting").data('sort-url');
        targetUrl += $(this).val();
        populateCustomerListModal(targetUrl, ".asm-account-section", replaceCustomerListTable);
    });
    $(document).on("change", ".js-customer-list-select", function(e) {
        e.preventDefault();
        var targetUrl = $(this).data('search-url');
        targetUrl += $(this).val();
        var request = populateCustomerListModal(targetUrl, ".asm-account-section", replaceCustomerListTable);
        request.done(function() {
            $.colorbox.resize();
        });
    });
}
function addCustomerListSelect(componentToUpdate, data) {
    var selector = $(data).find('.js-customer-list-select');
    $(componentToUpdate).html(data);
    searchUrl = $(data).find('.js-customer-list-select').data('search-url');
    if (selector[0].options.length > 0) {
        searchUrl += selector[0].options[0].value;
    }
    var request = populateCustomerListModal(searchUrl, componentToUpdate, appendCustomerListTable);
    request.done(function() {
        ACC.colorbox.open("", {
            href: ".js-customer-list-modal-content",
            inline: true,
            className: 'ASM_customer-list-modal',
            width: 900,
            scrolling: false
        });
    });
}
function appendCustomerListTable(componentToUpdate, data) {
    $(componentToUpdate).append(data);
}
function replaceCustomerListTable(componentToUpdate, data) {
    $(componentToUpdate).html(data);
}
function populateCustomerListModal(targetUrl, componentToUpdate, callFunction) {
    var method = "GET";
    return $.ajax({
        url: targetUrl,
        type: method,
        success: function(data) {
            callFunction(componentToUpdate, data);
        },
        error: function(xht, textStatus, ex) {
            console.error("Failed to get customer list. %s", ex);
            document.location.reload();
        }
    });
}
function movePlacedBy() {
    if ($(".asm-placedby").length && $(".account-consignment").length) {
        $(".account-consignment").prepend($(".asm-placedby"));
    }
}
;
(function($, window) {
    $(function() {
        var ANIMATED_SCROLL_SPEED = 500;
        var ANIMATED_SCROLL_MARGIN = 0;
        var headerSelector = $(window).width() <= screenMaxMobile ? '#js-headerContent' : 'header';
        var headerHeight = $(headerSelector).height();
        var $topLink = $('.js-back-to-top');
        if (headerHeight) {
            $(window).scroll(function() {
                if ($(window).scrollTop() > headerHeight) {
                    $topLink.removeClass('hidden');
                } else {
                    $topLink.addClass('hidden');
                }
            });
            $topLink.click(function(e) {
                e.preventDefault();
                ACC.common.scrollToElement(headerSelector, ANIMATED_SCROLL_MARGIN, ANIMATED_SCROLL_SPEED);
            });
        }
    });
}(window.jQuery, window));

ACC.register = {
    _autoload: ['init'],
    init: function() {
        ACC.register.bindRegistrationFormResponse();
    },
    overwriteCountrySelectHandler: function() {
        $(document).off("change", "#longRegistrationFormDefinition_country");
        $('#longRegistrationFormDefinition_country').on("change", function() {
            var formDefinition = $(this).closest(".row").siblings(".js-genericForm-formDefinition").val();
            ACC.configurableForm.requestForm(formDefinition);
        });
    },
    bindRegistrationFormResponse: function() {
        $(document).on("cfInitialize.registerNewCustomer", function(event, data) {
            ACC.register.overwriteCountrySelectHandler();
            ACC.register.initRegisterForm();
        });
    },
    initRegisterForm: function() {
        ACC.register.registerShippingToggle = $("input[name='values[longRegistrationFormDefinition_shippingAddress]']");
        ACC.register.registerShippingFields = $('[id^=longRegistrationFormDefinition_shipping]');
        ACC.register.registerNewsletterToggle = $('#longRegistrationFormDefinition_newsletter');
        ACC.register.registerNewsletterField = 'longRegistrationFormDefinition_newsletterLanguage';
        if (ACC.register.registerShippingToggle !== undefined && ACC.register.registerShippingFields !== undefined) {
            ACC.register.bindHideShowShippingAddress();
            ACC.register.bindHideShowShippingAddressAction();
        }
        ACC.register.bindHideShowPasswordContent();
    },
    bindHideShowPasswordContent: function() {
        handleFormInputPassword();
    },
    bindHideShowShippingAddress: function() {
        var $shippingToggle = ACC.register.registerShippingToggle;
        var $hideFields = ACC.register.registerShippingFields;
        var $form = $shippingToggle.closest("form");
        if ($shippingToggle.filter(":checked").val() != 'NEW_ADDRESS') {
            for (var i = 0; i < $hideFields.length; i++) {
                $form.formValidation('resetField', $($hideFields[i]));
                $($hideFields[i]).closest(".row").addClass("hidden");
            }
        } else {
            for (var i = 0; i < $hideFields.length; i++) {
                $($hideFields[i]).closest(".row").removeClass("hidden");
            }
        }
    },
    bindHideShowShippingAddressAction: function() {
        var $shippingToggle = ACC.register.registerShippingToggle;
        $($shippingToggle).on('change', function() {
            ACC.register.bindHideShowShippingAddress();
        });
    }
};

ACC.accountaddressbook = {
    _autoload: ["bindViewEditAddress", "bindViewAddAddress"],
    resetFormContainers: function() {
        var $container = $('.js-address-form-container');
        var $form = $('.js-address-form');
        $form.empty();
        $container.addClass('hidden');
    },
    openFormContainers: function(formResponse, $addressForm, $formContainer, $trigger) {
        $addressForm.append(formResponse);
        $formContainer.removeClass('hidden');
        $trigger.addClass('hidden');
    },
    bindViewEditAddress: function() {
        $('.js-edit-account-address').on("click", function(e) {
            e.preventDefault();
            $("div.global-alerts").remove();
            var addressCode = $(this).data("addresscode");
            var formDefinition = $(this).data("formdefinition");
            var addressCountry = $(this).data("addresscountry");
            var $formContainer = $("#js-account-address-container-" + addressCode);
            var $addAddressorm = $("#js-account-address-form-" + addressCode);
            var $trigger = $("#js-account-address-" + addressCode);
            var url = ACC.config.encodedContextPath + '/my-account/edit-address?addressCode=' + addressCode + '&formDefinition=' + formDefinition + '&addressCountry=' + addressCountry;
            $.ajax({
                url: url,
                cache: false,
                type: 'GET',
                dataType: 'html',
                success: function(data) {
                    ACC.accountaddressbook.resetFormContainers();
                    $('#js-add-account-address-trigger').removeClass('hidden');
                    $('.js-display-address').removeClass('hidden');
                    ACC.accountaddressbook.openFormContainers(data, $addAddressorm, $formContainer, $trigger);
                    $formContainer.find('.js-tooltip').each(function() {
                        new Tooltip(this);
                    });
                    ACC.common.refreshScreenReaderBuffer();
                    ACC.configurableForm.init();
                    ACC.address.bindChinaAddress();
                    ACC.koreanaddresssearch.bindKoreanAddressSearchButton();
                }
            });
            $('.js-close-account-address').on("click", function(e) {
                var id = $(this).data("id");
                var $trigger = $("#js-account-address-" + id);
                ACC.accountaddressbook.resetFormContainers();
                $trigger.removeClass("hidden");
                ACC.common.refreshScreenReaderBuffer();
            });
        });
    },
    bindViewAddAddress: function() {
        $('.js-add-account-address').on("click", function(e) {
            e.preventDefault();
            $("div.global-alerts").remove();
            var $trigger = $('#js-add-account-address-trigger');
            var $formContainer = $('#js-add-account-address-container');
            var $addAddressForm = $('#js-add-account-address-form');
            var formDefinition = $(this).data("formdefinition");
            var requestIdentifier = $(this).data("request-identifier");
            var url = ACC.config.encodedContextPath + '/configurableForm/getForm?formDefinition=' + formDefinition + '&requestIdentifier=' + requestIdentifier;
            $.ajax({
                url: url,
                cache: false,
                type: 'GET',
                dataType: 'html',
                success: function(data) {
                    $('.js-display-address').removeClass('hidden');
                    ACC.accountaddressbook.resetFormContainers();
                    ACC.accountaddressbook.openFormContainers(data, $addAddressForm, $formContainer, $trigger);
                    ACC.common.refreshScreenReaderBuffer();
                    ACC.configurableForm.init();
                    ACC.address.bindChinaAddress();
                    ACC.koreanaddresssearch.bindKoreanAddressSearchButton();
                }
            });
            $('.js-close-account-addAddress').on("click", function() {
                ACC.accountaddressbook.resetFormContainers();
                $trigger.removeClass('hidden');
                ACC.common.refreshScreenReaderBuffer();
            });
        });
    }
};

ACC.koreanaddresssearch = {
    _autoload: ["bindKoreanAddressSearchButton"],
    bindKoreanAddressSearchButton: function() {
        $(document).on('click', '.js-koreanaddresssearch', function() {
            var url = $(this).data('url');
            ACC.overlay.showIframeOverlayForUrl(url);
        });
    }
};

ACC.giftwrap = {
    _autoload: ["bindGiftWrap"],
    submitTriggered: false,
    bindGiftWrap: function() {
        $('#giftwrap-input').on("click", function(e) {
            ACC.giftwrap.handleUpdateGiftWrap(this, e);
        });
    },
    handleUpdateGiftWrap: function(elementRef, event) {
        var form = $('#updateGiftWrapForm');
        var url = form.attr("action");
        $.postJSON(url, form.serialize(), ACC.giftwrap.replaceCartSummary);
    },
    replaceCartSummary: function(data) {
        if (data.errorMessage != '') {
            ACC.messages.showError(data.errorMessage);
        }
        if (data.isCartTotalsRefreshed) {
            $('.js-cart-summary').replaceWith(data.cartTotals);
        }
    }
};

ACC.wishlistFlyout = {
    _autoload: ["bindHoverWishlistFlyout", "bindWishlistFlyoutEvent"],
    bindHoverWishlistFlyout: function() {
        $('.js-wishlist-flyout-loading').html(ACC.blockUI.spinner_small);
        $(document).on('mouseenter', '.js-wishlist-fly-out', function() {
            if (window.innerWidth > ACC.common.screenMaxSmall) {
                ACC.wishlistFlyout.getAndShowWishlistFlyout();
                ACC.tracking.trackWishlistEvent("flyoutLoad");
            }
        });
    },
    bindWishlistFlyoutEvent: function() {
        $(document).on('click', '.js-wishlist-flyout-tracking-event', function() {
            var wishlistEvent = $(this).find('[data-wishlistEvent]').data('wishlistevent');
            if (!wishlistEvent) {
                wishlistEvent = $(this).data('wishlistevent');
            }
            ACC.tracking.trackWishlistEvent(wishlistEvent);
        });
    },
    getAndShowWishlistFlyout: function(autoHideFlyout) {
        var $wishlistHeaderIcon = $('.js-wishlist-fly-out');
        var $wishlistFlyoutContent = $('.js-wishlist-fly-out-content-area');
        if ($wishlistHeaderIcon.length === 0) {
            return;
        }
        $.get($wishlistHeaderIcon.data('flyout-action')).done(function(response) {
            $wishlistFlyoutContent.html(response);
            showFlyOut($wishlistFlyoutContent);
            if (autoHideFlyout) {
                $wishlistFlyoutContent.addClass('header-fly-out--wishlist-position');
                setTimeout(function() {
                    ACC.wishlistFlyout.hideWishlistFlyout();
                }, ACC.config.flyoutShowMillis);
            } else if ($wishlistFlyoutContent.hasClass('header-fly-out--wishlist-position')) {
                $wishlistFlyoutContent.removeClass('header-fly-out--wishlist-position');
            }
            preparePositionWishlist();
        })
    },
    hideWishlistFlyout: function() {
        hideFlyOut('.js-wishlist-fly-out-content-area');
    }
};

ACC.cartFlyout = {
    _autoload: ["bindHoverCartFlyout", "displayFlyoutIfNeeded", "setCartFlyoutTimeout", "clearCartFlyoutTimeout"],
    flyoutTimeout: undefined,
    bindHoverCartFlyout: function() {
        $(document).on('mouseenter', '.js-shopping-bag-fly-out', function() {
            if (window.innerWidth > ACC.common.screenMaxSmall) {
                ACC.cartFlyout.getAndShowCartFlyout();
            }
        });
    },
    getAndShowCartFlyout: function(autoHideFlyout) {
        var $cartHeaderIcon = $('.js-cart-header-icon');
        var $cartFlyout = $('.js-cart-flyout');
        var $shoppingBagFlyoutContent = $('.js-shopping-bag-fly-out-content-area');
        if ($cartHeaderIcon.length === 0) {
            return;
        }
        $.get($cartHeaderIcon.data('flyout-action')).done(function(response) {
            $cartFlyout.html(response);
            var $sliderContainer = $($shoppingBagFlyoutContent).find('.js-product-teaser-content');
            var $slide = $sliderContainer.addClass('js-sideswipe');
            showFlyOut($shoppingBagFlyoutContent);
            $slide.each(function() {
                new Sideswipe({
                    container: this
                });
            });
            if (autoHideFlyout) {
                $shoppingBagFlyoutContent.addClass('header-fly-out--shopping-bag-position');
                ACC.cartFlyout.flyoutTimeout = ACC.cartFlyout.setCartFlyoutTimeout();
            } else if ($shoppingBagFlyoutContent.hasClass('header-fly-out--shopping-bag-position')) {
                $shoppingBagFlyoutContent.removeClass('header-fly-out--shopping-bag-position');
            }
            preparePositionShoppingBag();
        })
    },
    showCartFlyoutTemporarily: function() {
        var autoHideFlyout = true;
        ACC.cartFlyout.getAndShowCartFlyout(autoHideFlyout);
    },
    hideCartFlyout: function() {
        hideFlyOut('.js-shopping-bag-fly-out-content-area');
    },
    displayFlyoutIfNeeded: function() {
        if (ACC.config.showFlyout) {
            ACC.cartFlyout.getAndShowCartFlyout();
        }
    },
    setCartFlyoutTimeout: function() {
        return setTimeout(function() {
            ACC.cartFlyout.hideCartFlyout();
        }, ACC.config.flyoutShowMillis);
    },
    clearCartFlyoutTimeout: function() {
        $('.js-shopping-bag-fly-out-content-area').on('mouseenter', function() {
            clearTimeout(ACC.cartFlyout.flyoutTimeout);
        });
    }
};

ACC.greetingcard = {
    _autoload: ["bindGreetingCard"],
    submitTriggered: false,
    bindGreetingCard: function() {
        $('#greetingcard-input').on("click", function(e) {
            ACC.greetingcard.handleUpdateGreetingCard(this, e);
        });
        ACC.greetingcard.toggleGreetingCardTextInput();
        var greetingCardTextInput = $('#greetingcardtext-input');
        greetingCardTextInput.on("blur", function(e) {
            ACC.greetingcard.handleUpdateGreetingCard(this, e);
        });
    },
    handleUpdateGreetingCard: function(elementRef, event) {
        var form = $('#updateGreetingCardForm');
        var url = form.attr("action");
        $.postJSON(url, form.serialize(), ACC.greetingcard.replaceCartSummary);
        ACC.greetingcard.toggleGreetingCardTextInput();
    },
    replaceCartSummary: function(data) {
        if (data.allErrors.length > 0) {
            var errors = '';
            for (var i = 0, len = data.allErrors.length; i < len; i++) {
                errors += data.allErrors[i] + "</br>";
            }
            ACC.messages.showError(errors);
        }
        if (data.errorMessage != '') {
            ACC.messages.showError(data.errorMessage);
        }
        if (data.errorMessage == '' && data.allErrors.length == 0) {
            ACC.messages.hideMessage();
        }
        if (data.isCartTotalsRefreshed) {
            $('.js-cart-summary').replaceWith(data.cartTotals);
        }
    },
    toggleGreetingCardTextInput: function() {
        if ($('#greetingcard-input').is(':checked')) {
            $('.js-textarea-visibility').show();
            $('#greetingcardtext-input').attr('required', 'required');
        } else {
            $('.js-textarea-visibility').hide();
            $('#greetingcardtext-input').removeAttr('required');
            ACC.forms.hideError($('#greetingcardtext-input'));
        }
    },
    hasGreetingCardRequiredField: function() {
        if ($('#greetingcard-input').is(':checked')) {
            return !$('#greetingcardtext-input').attr('required') || $('#greetingcardtext-input').val() !== '';
        }
        return true;
    }
};

ACC.loginoverlay = {
    bindAll: function() {
        ACC.loginoverlay.bindRequestRegisterInputFields();
        ACC.loginoverlay.bindLoginForm();
    },
    formToSubmit: null,
    loginSuccessful: false,
    followLastAction: function() {
        if (ACC.loginoverlay.formToSubmit) {
            ACC.loginoverlay.formToSubmit.submit();
            ACC.loginoverlay.formToSubmit = null;
        }
    },
    displayLoginOverlay: function() {
        $.get(ACC.loginOverlay.url, function(response) {
            ACC.overlay.showSpinner();
            ACC.overlay.open({
                html: response,
                width: ACC.overlay.overlaySize.full,
                customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                onOpen: function() {
                    ACC.loginoverlay.bindAll();
                    ACC.overlay.hideSpinner();
                    ACC.login.bindLoginFormValidation();
                }
            });
        });
    },
    bindRequestRegisterInputFields: function() {
        $("#requestRegisterForm").submit(function(event) {
            event.preventDefault();
            ACC.registeroverlay.displayRegisterOverlay();
        });
    },
    bindLoginForm: function() {
        var loginForm = $("#loginForm");
        var submitButton = loginForm.find(".js-button");
        submitButton.on('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            ACC.loginoverlay.loginFormSubmit(loginForm);
            return false;
        });
        loginForm.keydown(function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
                ACC.loginoverlay.loginFormSubmit(loginForm);
                return false;
            }
        });
    },
    loginFormSubmit: function($form) {
        $form.on("recaptchaForAjaxDone", function() {
            $form.ajaxSubmit({
                success: function(data) {
                    if (data.loginSuccessful) {
                        ACC.loginoverlay.loginSuccessful = true;
                        ACC.overlay.open({
                            title: data.loginSuccessfulLayerHeadline,
                            text: data.loginSuccessfulLayerBody,
                            timer: 2000,
                            width: ACC.overlay.overlaySize.full,
                            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                            onClose: function() {
                                ACC.loginoverlay.followLastAction();
                            }
                        });
                        ACC.common.loadMyAccountButton();
                    } else {
                        ACC.overlay.open({
                            html: data,
                            width: ACC.overlay.overlaySize.full,
                            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                            onOpen: function() {
                                ACC.loginoverlay.bindAll();
                                ACC.login.bindLoginFormValidation();
                            }
                        });
                    }
                }
            });
        });
        bindReCaptchaAjaxForm($form);
    }
};

ACC.managenewsletter = {
    _autoload: ["bindNewsletterManageEditCloseButtons", "bindRadioButtons", "bindCancelButtons", "bindMyAccountNewsletterPageSubmitForm"],
    bindNewsletterManageEditCloseButtons: function() {
        $(document).on("click", ".js-manage-newsletter-form-open-toggle", function() {
            ACC.managenewsletter.bindButton($(this), '.js-manage-newsletter-form-close-toggle', false);
        });
        $(document).on("click", ".js-manage-newsletter-form-close-toggle", function() {
            ACC.managenewsletter.bindButton($(this), '.js-manage-newsletter-form-open-toggle', true);
        });
    },
    bindButton: function(element, buttonClass, add) {
        var form = element.siblings('.js-newsletter-management-form-container').find('.js-newsletter-management-form');
        var cssClass = "hidden";
        if (add) {
            form.addClass(cssClass);
        } else {
            form.removeClass(cssClass)
        }
        element.siblings(buttonClass).removeClass(cssClass);
        element.addClass(cssClass);
    },
    bindRadioButtons: function() {
        var radioContainers = $(".js-newsletter-management-radio-container");
        radioContainers.each(function() {
            ACC.managenewsletter.setRadioButtonStatus($(this));
        })
    },
    setRadioButtonStatus: function(radioContainer) {
        var status = radioContainer.attr("data-newsletter-status");
        var componentUid = radioContainer.attr("data-component-uid");
        $("#" + componentUid + "-radio-" + status).prop("checked", true);
    },
    bindCancelButtons: function() {
        $(document).on("click", ".js-manage-newsletter-cancel", function() {
            var container = $(this).closest('.js-newsletter-management-form');
            container.addClass("hidden");
            var radioContainer = container.find('.js-newsletter-management-radio-container');
            ACC.managenewsletter.setRadioButtonStatus(radioContainer);
            $(this).closest('.js-newsletter-management-form-container').siblings('.js-manage-newsletter-form-open-toggle').removeClass('hidden');
            $(this).closest('.js-newsletter-management-form-container').siblings('.js-manage-newsletter-form-close-toggle').addClass('hidden');
        })
    },
    bindMyAccountNewsletterPageSubmitForm: function() {
        $(document).on("click", ".js-newsletter-unsubscribe-all-button", function() {
            $(".js-newsletter-unsubscribe-all-submit").click();
        });
    }
};

ACC.registeroverlay = {
    bindAll: function() {
        ACC.registeroverlay.bindSuccessResponse();
    },
    registrationSuccessful: false,
    displayRegisterOverlay: function() {
        $.get(ACC.registerOverlay.url, function(response) {
            var container = $("<div>");
            container.addClass("container");
            container.html(response);
            ACC.overlay.showSpinner();
            ACC.overlay.reset();
            ACC.overlay.open({
                html: container,
                width: ACC.overlay.overlaySize.full,
                customClass: ACC.overlay.overlayCustomClass.fullOverlay,
                onOpen: function() {
                    ACC.registeroverlay.bindAll();
                    ACC.configurableForm.init();
                    ACC.overlay.hideSpinner();
                }
            });
        });
    },
    bindSuccessResponse: function() {
        $(document).on("cfSubmitResponse.registerOverlay", function(event, data) {
            if (data.validationSuccessful) {
                $.get(ACC.registerOverlay.successUrl, function(data) {
                    ACC.overlay.open({
                        title: data.registerSuccessfulLayerHeadline,
                        text: data.registerSuccessfulLayerBody,
                        width: ACC.overlay.overlaySize.full,
                        customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                        timer: 2000
                    });
                    window.setTimeout(ACC.loginoverlay.followLastAction, 2500);
                    window.setTimeout(ACC.common.loadMyAccountButton, 2000);
                });
            }
        });
    }
};

ACC.accordion = {
    _autoload: ["bindAccordionEntryContentVisibility"],
    bindAccordionEntryContentVisibility: function() {
        $("body").on("click", ".js-accordionentry-title", function(e) {
            e.preventDefault();
            ACC.accordion.toggleAccordionEntries(this);
        });
    },
    toggleAccordionEntries: function(accordionEntryTitle) {
        var accordionEntryContent = ACC.accordion.getAccordionContentForTitle(accordionEntryTitle);
        if ($(accordionEntryContent).hasClass("hidden")) {
            ACC.accordion.openAccordionEntry(accordionEntryTitle);
        } else {
            ACC.accordion.closeAccordionEntry(accordionEntryTitle);
        }
    },
    closeAccordionEntry: function(accordionEntryTitle) {
        var accordionEntryContent = ACC.accordion.getAccordionContentForTitle(accordionEntryTitle);
        $(accordionEntryContent).addClass("hidden");
        $(accordionEntryContent).attr("aria-expanded", "false");
        $(accordionEntryContent).find(".js-icon").removeClass("glyphicon-chevron-up")
        $(accordionEntryContent).find(".js-icon").addClass("glyphicon-chevron-down");
    },
    openAccordionEntry: function(accordionEntryTitle) {
        var accordionEntryContent = ACC.accordion.getAccordionContentForTitle(accordionEntryTitle);
        $(accordionEntryContent).removeClass("hidden");
        $(accordionEntryContent).attr("aria-expanded", $(accordionEntryContent).attr("aria-expanded") === "false" ? "true" : "false");
        $(accordionEntryContent).find(".js-icon").addClass("glyphicon-chevron-up")
        $(accordionEntryContent).find(".js-icon").removeClass("glyphicon-chevron-down");
    },
    getAccordionContentForTitle: function(accordionEntryTitle) {
        var closestAccordionEntry = $(accordionEntryTitle).closest(".js-accordionentry");
        return closestAccordionEntry.find(".js-accordionentry-content");
    }
};

ACC.newsletter = {
    _autoload: ['bindNewsletterComponentForm', 'bindNewsletterComponentFormValidation'],
    successMessage: '',
    bindNewsletterComponentForm: function() {
        var newsletterFormClass = ".js-newsletterform";
        var newsletterParagraphClass = ".js-newsletter-paragraph";
        var newsletterSubmitClass = ".js-newsletter-submit";
        $(newsletterFormClass).off().on('submit', function(e) {
            e.preventDefault();
            var form = $(this);
            var email = $(form).find('.js-newsletter-email').val();
            if (ACC.newsletter.validateEmailAddress(email) !== true) {}
            var language = document.documentElement.lang;
            var options = {
                url: $(this).attr('action'),
                data: {
                    language: language
                },
                type: 'POST',
                beforeSend: function() {
                    ACC.blockUI.block($(form).find(newsletterSubmitClass));
                },
                success: function(data) {
                    var success = data['success'];
                    if (success === true) {
                        ACC.newsletter.successMessage = $(form).data('success-message');
                        ACC.newsletter.onSuccessSubscription(email);
                    } else if (success === false) {
                        ACC.messages.showError($(form).data('already-subscribed-message'));
                        ACC.overlay.close();
                    }
                },
                error: function() {
                    var message = $(form).data('error-message');
                    ACC.messages.showMessage(message, 'error');
                },
                complete: function() {
                    ACC.blockUI.unblock($(form).find(newsletterSubmitClass));
                }
            };
            $(this).ajaxSubmit(options);
        });
        $('.js-newsletter-email').on('input', function() {
            if ($(this).val() !== undefined && $(this).val().length > 0) {
                $(this).closest(newsletterFormClass).find(newsletterParagraphClass).removeClass('hidden');
                $(this).closest(newsletterFormClass).find(newsletterSubmitClass).prop('disabled', false);
            } else {
                $(this).closest(newsletterFormClass).find(newsletterParagraphClass).addClass('hidden');
                $(this).closest(newsletterFormClass).find(newsletterSubmitClass).prop('disabled', true);
            }
        });
    },
    bindNewsletterComponentFormValidation: function() {
        var recipientEmail = $('.js-newsletter-email');
        var emailMandatory = recipientEmail.data('message-mandatory');
        var emailInvalid = recipientEmail.data('message-invalid');
        var emailMandatoryEN = recipientEmail.data('message-mandatory-en');
        var emailInvalidEN = recipientEmail.data('message-invalid-en');
        $('#js-newsletterform').formValidation({
            autoFocus: false,
            framework: 'bootstrap',
            icon: {
                valid: '',
                invalid: '',
                validating: ''
            },
            fields: {
                email: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: emailMandatory,
                            message_en: emailMandatoryEN
                        },
                        regexp: {
                            regexp: ACC.common.emailRegexp,
                            message: emailInvalid,
                            message_en: emailInvalidEN
                        }
                    }
                }
            }
        }).on('success.form.fv', function(e) {
            e.preventDefault();
        });
    },
    validateEmailAddress: function(emailAddress) {
        return true;
    },
    onSuccessSubscription: function(email) {
        ACC.newsletterpopup.addCookie();
        var popupFormUrl = $('.js-newsletterform').data('popup-form-submit-url') + '&email=' + email;
        ACC.overlay.close();
        window.location = ACC.config.encodedContextPath + "/newsletterAdditionalInformation?email=" + email;
    },
    onOpenDynamicForm: function() {
        $(document).on('cfSubmitResponse.newsletterOverlay', function(event, data) {
            if (data.validationSuccessful) {
                ACC.newsletter.formWithoutErrors();
            }
        });
    },
    formWithoutErrors: function() {
        ACC.messages.showMessage(ACC.newsletter.successMessage, 'success');
        ACC.overlay.close();
    }
};

ACC.backlink = {
    _autoload: ['initBacklinks'],
    domainRegex: /(http:\/\/|https:\/\/)?([^\\/]*)/i,
    goBack: function() {
        if (localStorage.getItem('lastUrl')) {
            window.location.href = localStorage.getItem('lastUrl');
        } else {
            window.history.back();
        }
    },
    initBacklinks: function() {
        var referrer = document.referrer;
        if (!referrer) {
            $('.js-backlink').hide();
        } else {
            var referrerDomain = ACC.backlink.domainRegex.exec(referrer)[2];
            var currentDomain = ACC.backlink.domainRegex.exec(document.URL)[2];
            if (!localStorage.getItem('lastUrl')) {
                localStorage.setItem('lastUrl', referrer);
            }
            if (referrer !== document.URL) {
                localStorage.setItem('lastUrl', referrer);
            }
            if (referrerDomain !== currentDomain) {
                $('.js-backlink').hide();
            }
        }
        $('.js-backlink').on('click', function(e) {
            e.preventDefault();
            ACC.backlink.goBack();
        });
    }
};

ACC.contactform = {
    _autoload: ['init', 'bindCountryChangeResponse', 'bindLongContactFormContactEmail', 'bindSuccessResponse'],
    init: function() {
        ACC.contactform.bindDropdown();
        ACC.contactform.bindHideShowScsMemberNumber();
        ACC.contactform.bindHideShowScsMemberNumberAction();
        ACC.contactform.bindHideShowBeSwaMemberNumber();
        ACC.contactform.bindHideShowBeSwaMemberNumberAction();
    },
    bindCountryChangeResponse: function() {
        $(document).on("cfInitialize.shortContactForm cfInitialize.longContactForm", function(event, data) {
            ACC.contactform.init();
        });
    },
    bindDropdown: function() {
        $('.js-contact-button').off().on('click', function(e) {
            e.preventDefault();
            var selectedCountryEmail = $('.js-contact-selectbox');
            $('.js-shortContactFormDefinition_recipientEmail').val(selectedCountryEmail.val());
            var selectedCountryIsoCode = selectedCountryEmail.find(':selected').data('country');
            $('#shortContactFormDefinition_country').val(selectedCountryIsoCode);
            $('.js-shortContactFormDefinition').data('country', selectedCountryIsoCode);
            ACC.contactform.reloadForm("shortContactFormDefinition", selectedCountryIsoCode);
            if (!$('.js-shortContactFormDefinition-info-box__trigger.active').length) {
                $('.js-shortContactFormDefinition-info-box__trigger').addClass('active');
                var $infoBoxTarget = $('.js-shortContactFormDefinition-info-box__target');
                $infoBoxTarget.addClass('active');
                $infoBoxTarget.css('display', 'block');
                window.location.hash = '#valuesshortContactFormDefinition_title1';
            }
        });
    },
    reloadForm: function(formDefinition, selectedCountryIsoCode) {
        var form = $('.js-shortContactFormDefinition');
        var reloadFormEndPoint = $(form).find(".js-reloadFormWithoutValidation").length > 0 ? "reloadCheckedFormNV" : "reloadCheckedForm";
        var formConfig = '#' + $(form).attr("id");
        var countryIsoCode = selectedCountryIsoCode;
        var requestIdentifier = form.data("request-identifier");
        form.attr('action', ACC.config.encodedContextPath + '/configurableForm/' + reloadFormEndPoint);
        form.find(".js-genericForm-formDefinition").remove();
        var data = {
            formDefinition: formDefinition,
            requestIdentifier: requestIdentifier
        };
        if ($('.js-shortContactFormDefinition_country').prop('disabled')) {
            data['values[shortContactFormDefinition_country]'] = countryIsoCode;
        }
        var options = {
            data: data,
            type: 'POST',
            success: function(data) {
                ACC.blockUI.unblock(form);
                var $newFormWrapper = $(data);
                $(formConfig + 'Wrapper').replaceWith($newFormWrapper);
                $('.js-shortContactFormDefinition').data("country", selectedCountryIsoCode);
                ACC.configurableForm.reinit($newFormWrapper.find('form.js-configurable-form'));
            },
            error: ACC.configurableForm.handleResponseError,
            context: {
                form: form,
                formConfig: formConfig
            }
        };
        form.ajaxSubmit(options);
    },
    bindSuccessResponse: function() {
        $(document).on("cfSubmitResponse.shortContactForm cfSubmitResponse.longContactForm", function(event, data) {
            if (data.validationSuccessful) {
                ACC.messages.showMessage(data.successMessage, 'success');
                $(data.formConfig).trigger("reset");
                $(data.formConfig).data('formValidation').resetForm();
            }
            ACC.contactform.init();
        });
    },
    bindHideShowScsMemberNumber: function() {
        ACC.contactform.hideShowMemberNumber($('.js-longContactFormDefinition_scsMemberNumber'), $('#valueslongContactFormDefinition_scsMember1'));
        ACC.contactform.hideShowMemberNumber($('.js-shortContactFormDefinition_scsMemberNumber'), $('#valuesshortContactFormDefinition_scsMember1'));
    },
    bindHideShowScsMemberNumberAction: function() {
        $("input[name='values[longContactFormDefinition_scsMember]']").off().on('change', function() {
            ACC.contactform.bindHideShowScsMemberNumber();
        });
        $("input[name='values[shortContactFormDefinition_scsMember]']").off().on('change', function() {
            ACC.contactform.bindHideShowScsMemberNumber();
        });
    },
    bindHideShowBeSwaMemberNumber: function() {
        ACC.contactform.hideShowMemberNumber($('.js-longContactFormDefinition_beSwaMemberNumber'), $('#valueslongContactFormDefinition_beSwaMember1'));
        ACC.contactform.hideShowMemberNumber($('.js-shortContactFormDefinition_beSwaMemberNumber'), $('#valuesshortContactFormDefinition_beSwaMember1'));
    },
    bindHideShowBeSwaMemberNumberAction: function() {
        $("input[name='values[longContactFormDefinition_beSwaMember]']").off().on('change', function() {
            ACC.contactform.bindHideShowBeSwaMemberNumber();
        });
        $("input[name='values[shortContactFormDefinition_beSwaMember]']").off().on('change', function() {
            ACC.contactform.bindHideShowBeSwaMemberNumber();
        });
    },
    hideShowMemberNumber: function($memberNumberField, $memberToggle) {
        var $form = $memberNumberField.closest("form");
        if (!$memberToggle.is(':checked')) {
            $form.formValidation('resetField', $memberNumberField);
            $memberNumberField.closest(".row").hide();
        } else {
            $memberNumberField.closest(".row").show();
        }
    },
    bindLongContactFormContactEmail: function() {
        $('.js-longContactFormDefinition_recipientEmail').val($('.js-contact-selectbox').data("current-contact-email"));
    }
};

ACC.tabnavigationmodule = {
    _autoload: ["bindTabNavigationModuleEntryContentVisibility", "bindCloseContentTab"],
    bindTabNavigationModuleEntryContentVisibility: function() {
        var screenMaxMobile = ACC.common.screenMaxMobile;
        var tabContentLargeFirst = $(".js-tab-navigation__list").find(".js-tabnavigation-content-first");
        if (($(window).width() < screenMaxMobile) && (tabContentLargeFirst.hasClass("active")) && (typeof tabContentLargeFirst !== 'undefined')) {
            tabContentLargeFirst.removeClass("active");
        }
        $("body").on("click", ".js-tabnavigation-link", function(e) {
            e.preventDefault();
            var contentID = $(this).find("a").data("tabcontentId");
            if (($(window).width() < screenMaxMobile) && ($(this).hasClass('js-tabnavigation-link-large'))) {
                ACC.tabnavigationmodule.pushContent(contentID, $(this));
            } else {
                ACC.tabnavigationmodule.toogleContent(contentID)
            }
        });
    },
    toogleContent: function(contentID) {
        var activeCssClass = "active";
        var screenMaxMobile = ACC.common.screenMaxMobile;
        var config = {
            delay: 250
        };
        $(".js-tabnavigation-content").removeClass(activeCssClass);
        var navigationTabs = $(".js-tabnavigation-link");
        navigationTabs.removeClass(activeCssClass);
        navigationTabs.find("a").removeClass(activeCssClass);
        $(".js-tabnavigation-content-for-" + contentID).addClass(activeCssClass);
        var navigationTab = $(".js-tabnavigation-link-for-" + contentID);
        navigationTab.addClass(activeCssClass);
        navigationTab.find("a").addClass(activeCssClass);
        if (($(window).width() < screenMaxMobile) && ($(this).find(navigationTab))) {
            $(document).scrollTop(navigationTab.find('.sideswipe-trigger.active').offset().top, config.delay);
        }
    },
    pushContent: function(contentID, selector) {
        if ($(".js-tab-content-container").data("id") !== contentID) {
            $(".js-tab-content-container").html($(".js-tabnavigation-content-for-" + contentID).html());
            $(".js-tab-content-container").data("id", contentID);
        }
        $(".st-vertical-offset").css({
            "height": selector.offset().top
        });
        $(".st-container").addClass("st-menu-open-right");
    },
    bindCloseContentTab: function() {
        $(".js-tab-content-back, .js-tab-content-close").click(function(e) {
            e.preventDefault();
            $(".st-container").removeClass("st-menu-open st-menu-open-right");
        });
        $(".st-menu-right").on("swiperight", function(e) {
            e.preventDefault();
            $(".st-container").removeClass("st-menu-open st-menu-open-right");
        });
    }
};

ACC.contentstage = {
    _autoload: ["removeComponentNavigationMenu"],
    removeComponentNavigationMenu: function() {
        $('.content-stage-item .roundabound__left').each(function(index, value) {
            ACC.contentstage.hideElementIfNecessary($(value));
        });
        $('.content-stage-item .roundabound__right').each(function(index, value) {
            ACC.contentstage.hideElementIfNecessary($(value));
        });
    },
    hideElementIfNecessary: function(value) {
        if (value.parents(".content-stage").data("num-entries") <= 1) {
            value.hide();
        }
    }
};

ACC.tooltip = {
    _autoload: ["bindTabTooltip"],
    bindTabTooltip: function() {
        $("body").keyup(function(event) {
            if (event.keyCode === 9) {
                if (!$(event.target).hasClass('js-tooltip-trigger') && !$(event.target).hasClass('js-tooltip-close')) {
                    $(".js-tooltip-close").trigger('click');
                }
            }
        });
    }
};

ACC.tracking = {
    _autoload: ["bindTeaserPositions", "bindTeaserPromotionImpressionsTracking", "bindTeaserPromotionClick", "bindMyAccountWishlistClick", "bindClickAndCollectRadioButton", "trackGeneralFormErrors", "bindClickAndReserveButton", "trackFormFieldErrorsStaticFormsBindingResults"],
    createTeaserEventData: function(teaserEntry) {
        return {
            id: teaserEntry.attr('gtm-promotion-id'),
            name: teaserEntry.attr('gtm-promotion-name'),
            creative: teaserEntry.attr('gtm-promotion-creative'),
            position: teaserEntry.data('position')
        }
    },
    bindTeaserPromotionClick: function() {
        $('.js-teaser-entry').on('click', 'a:not(.js-teaser-tracking-excluded), .js-play-button, .js-contentstage-play-button', function() {
            var teaserEntry = $(this).closest('.js-teaser-entry');
            ACC.tracking.pushTeaserEvent("promotionClick", [ACC.tracking.createTeaserEventData(teaserEntry)]);
        });
        $('.js-teaser-entry-wrapper, .js-teaser-entry-wrapper-xs').on('roundabound-slide', function() {
            var teaserEntry = $(this).find('.js-teaser-entry');
            if ($(this).closest('.js-teaser-roundabound').is(':visible') && !teaserEntry.hasClass('js-slide-tracking-excluded')) {
                ACC.tracking.pushTeaserEvent("promotionImpressions", [ACC.tracking.createTeaserEventData(teaserEntry)]);
                teaserEntry.addClass('js-slide-tracking-excluded');
            }
        });
    },
    bindTeaserPromotionImpressionsTracking: function() {
        var teasers = $.map($('.js-teaser-entry:visible'), function(teaser) {
            return ACC.tracking.createTeaserEventData($(teaser));
        });
        if (teasers.length) {
            ACC.tracking.pushTeaserEvent("promotionImpressions", teasers);
        }
    },
    pushTeaserEvent: function(name, teasers) {
        dataLayer.push({
            event: name,
            teasers: teasers
        });
    },
    bindTeaserPositions: function() {
        $('.js-teaser-entry-wrapper > .js-teaser-entry').each(function(index) {
            var index = ++index;
            $(this).attr('data-position', index);
            ACC.tracking.addPositionToMobileTeasers($(this), index);
        });
    },
    addPositionToMobileTeasers: function(element, index) {
        var container = $(element).closest('.js-teaser-container');
        if (container) {
            $(container).find('.js-teaser-roundabound').find(".js-teaser-entry[data-uid='" + $(element).data('uid') + "']").attr('data-position', index);
        }
    },
    buildFacetTrackingData: function() {
        var filterSelection = {};
        $('.js-reinit-fold-out[data-facet-code],.js-applied-facet').each(function(index, value) {
            var facetCode = $(value).data('facet-code');
            filterSelection[facetCode] = ACC.tracking.buildFacetValue(facetCode);
        });
        return {
            event: "productFilter",
            filterSelection: filterSelection
        };
    },
    buildFacetValue: function(facetCode) {
        var result = "";
        $('.js-facet-values').find(".js-applied-facet[data-facet-code='" + facetCode + "']").each(function(index, value) {
            if (index > 0) {
                result = result + "|";
            }
            result = result + $(value).data('facet-value-default-name');
        });
        return result;
    },
    trackWishlistEvent: function(wishlistEvent, wishlistStatus) {
        $.ajax({
            url: $('.js-wishlist-fly-out').data('wishlist-header-status-action'),
            method: "GET",
            data: {
                wishlistStatus: wishlistStatus ? wishlistStatus : "notloggedin",
                wishlistEvent: wishlistEvent
            },
            cache: false,
            datatype: 'json'
        }).done(function(response) {
            dataLayer.push(response);
        });
    },
    trackAddToWishlist: function(trackData) {
        if (trackData && trackData.products) {
            trackData.products.forEach(function(product) {
                if (product.inStock !== undefined) {
                    delete product.inStock;
                }
                if (!product.coupon) {
                    product.coupon = "";
                }
            });
            dataLayer.push(trackData);
        }
    },
    trackRemoveFromWishlist: function(url, productCode, loadUrl) {
        $.ajax({
            url: ACC.config.encodedContextPath + url,
            type: 'POST',
            data: {
                productCodePost: productCode
            },
            success: function(modificationData) {
                if (modificationData) {
                    modificationData.products.forEach(function(product) {
                        if (!product.coupon) {
                            product.coupon = "";
                        }
                        if (product.inStock !== undefined) {
                            delete product.inStock;
                        }
                    });
                    dataLayer.push(modificationData);
                }
                window.location.href = loadUrl;
            }
        });
    },
    bindMyAccountWishlistClick: function() {
        $(document).on("click", ".js-trackMyAccountWishlistLogin", function() {
            dataLayer.push({
                "event": "myAccountWishlist",
                "wishlistEvent": $(this).find('[data-wishlistevent]').data('wishlistevent')
            });
        });
    },
    bindClickAndCollectRadioButton: function() {
        $(document).on('click', '.js-trackingdata-clickandcollect', function() {
            dataLayer.push({
                "event": "click&collect",
                "c&cEvent": "SelectC&C"
            });
        });
    },
    pushClickAndCollectStoreSearch: function(inputSearchValue) {
        if ($('.js-trackingdata-clickandcollect').length) {
            dataLayer.push({
                "event": "click&collect",
                "c&cEvent": "c&cStoreSearch",
                "c&cSearchedCity": inputSearchValue
            });
        }
    },
    pushClickAndCollectSelectedStore: function(selectedStore) {
        if ($('.js-trackingdata-clickandcollect').length) {
            dataLayer.push({
                "event": "click&collect",
                "c&cEvent": "c&cStoreSelection",
                "c&cSelectedStore": selectedStore
            });
        }
    },
    trackGeneralFormErrors: function() {
        $('.js-datalayer-error').each(function() {
            var formId = $(this).data("formid");
            var errorMessage = $(this).data("errormessage");
            if (formId && errorMessage) {
                dataLayer.push({
                    "event": "userError",
                    "formID": formId,
                    "formError": errorMessage
                });
            }
        });
    },
    trackFormFieldErrorsConfigurableFormsBindingResults: function($cForm) {
        $('.js-fielderror-en', $cForm || '.js-configurable-form').each(function() {
            var $form = $('.has-error').closest('form');
            var formId = ACC.configurableForm.getFormIdForTracking($form);
            var fieldId = formId + "_" + $(this).parent().find('input').attr('id');
            $(this.children).each(function() {
                ACC.tracking.pushFormFieldError(formId, fieldId, $(this).html());
            });
        });
    },
    trackFormFieldErrorsStaticFormsBindingResults: function() {
        $('.js-static-form-tracking .js-fielderror-en').each(function() {
            var $form = $('.has-error').closest('form');
            var formId = $form.attr('id');
            var fieldId = formId + "_" + $(this).parent().find('input').attr('id');
            $(this.children).each(function() {
                ACC.tracking.pushFormFieldError(formId, fieldId, $(this).html());
            });
        });
    },
    pushFormFieldError: function(formId, fieldId, errorMessage) {
        if (formId && fieldId && errorMessage) {
            dataLayer.push({
                "event": "userError",
                "formID": formId,
                "fieldID": fieldId,
                "formError": errorMessage
            });
        }
    },
    pushFormSubmit: function(formId) {
        if (formId) {
            dataLayer.push({
                "event": "formSubmit",
                "formID": formId
            });
        }
    },
    bindClickAndReserveButton: function() {
        $(document).on('click', '.js-trackingdata-clickandreservelink', function() {
            ACC.tracking.clickAndReserveProductCode = $(this).data('product-code');
            dataLayer.push({
                "event": "click&reserve",
                "c&rEvent": "pdpButton",
                "c&rProductSKU": ACC.tracking.clickAndReserveProductCode
            });
        });
    },
    pushClickAndReserveStoreSearch: function(inputSearchValue) {
        if ($('.js-trackingdata-clickandreservelink').length) {
            dataLayer.push({
                "event": "click&reserve",
                "c&rEvent": "pdpStoreSearch",
                "c&rSearchedCity": inputSearchValue,
                "c&rProductSKU": ACC.tracking.clickAndReserveProductCode
            });
        }
    },
    pushClickAndReserveSelectedStore: function(selectedStore) {
        if ($('.js-trackingdata-clickandreservelink').length) {
            dataLayer.push({
                "event": "click&reserve",
                "c&rEvent": "pdpStoreSelection",
                "c&rSelectedStore": selectedStore,
                "c&rProductSKU": ACC.tracking.clickAndReserveProductCode
            });
        }
    },
    pushClickAndReserveConfirmReservation: function(selectedStore) {
        if ($('.js-trackingdata-clickandreservelink').length) {
            dataLayer.push({
                "event": "click&reserve",
                "c&rEvent": "submitReservation",
                "c&rSelectedStore": selectedStore,
                "c&rProductSKU": ACC.tracking.clickAndReserveProductCode
            });
        }
    },
    pushStyleFilterTrackingData: function(eventId, remix_style) {
        dataLayer.push({
            event: eventId,
            remix_style: remix_style
        })
    },
    pushProductDisplayedInList: function(remix_sku_list) {
        dataLayer.push({
            event: 'remix_configurator_list_impressions',
            remix_sku: remix_sku_list
        })
    },
    pushProductClicked: function(product_sku) {
        dataLayer.push({
            event: 'remix_configurator_list_click',
            remix_sku: product_sku
        })
    },
    pushProductAdded2VirtualCart: function(product_sku) {
        dataLayer.push({
            event: 'remix_configurator_addToVirtualCart',
            remix_sku: product_sku
        })
    },
    pushProductDetailLayer: function(product_sku) {
        dataLayer.push({
            event: 'remix_detailLayer_view',
            remix_sku: product_sku
        });
    },
    pushSuggLayerShow: function(term) {
        dataLayer.push({
            "event": "suggLayerShow",
            "query": term
        });
    },
    pushSuggSearchClick: function(term, type, id) {
        dataLayer.push({
            "event": "searchClick",
            "query": term,
            "searchResultType": type,
            "searchResultClicked": id
        });
    }
};

ACC.profile = {
    _autoload: [["bindSubmitPersonalInfoOnEnter", $(".js-updateProfileButton").length != 0], ["bindSubmitPasswordChangeOnEnter", $(".js-updatePasswordButton").length != 0], ["bindSubmitEmailChangeOnEnter", $(".js-updateEmailButton").length != 0], ["bindSubmitNewAddressOnEnter", $(".js-addressBookNewAddress").length != 0], "reloadProfileSiteAfterChangeEmail", "showMessageAfterReload"],
    bindSubmitPersonalInfoOnEnter: function() {
        $(document).on("keypress", ".js-updateProfileFormDefinition", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
                $(".js-updateProfileButton").click();
                return false;
            }
        })
    },
    bindSubmitPasswordChangeOnEnter: function() {
        $(document).on("keypress", ".js-updatePasswordFormDefinition", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
                $(".js-updatePasswordButton").click();
                return false;
            }
        })
    },
    bindSubmitEmailChangeOnEnter: function() {
        $(document).on("keypress", ".js-updateEmailFormDefinition", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
                $(".js-updateEmailButton").click();
                return false;
            }
        })
    },
    bindSubmitNewAddressOnEnter: function() {
        $(document).on("keypress", ".js-addressBookNewAddressFormDefinition", function(e) {
            if (e.keyCode == 13) {
                e.preventDefault();
                e.stopPropagation();
                $(".js-addressBookNewAddress").click();
                return false;
            }
        })
    },
    reloadProfileSiteAfterChangeEmail: function() {
        $(document).on("cfSubmitResponse.updateEmailForm", function(event, data) {
            if (data.validationSuccessful) {
                sessionStorage.setItem("successMessage", data.successMessage);
                location.reload();
            }
        });
    },
    showMessageAfterReload: function() {
        if (ACC.cookie.checkIfCookiesAreDisabled()) {
            return;
        }
        if (sessionStorage.getItem("successMessage")) {
            setTimeout(function() {
                ACC.messages.showMessage(sessionStorage.getItem("successMessage"), 'success');
                sessionStorage.removeItem("successMessage");
            }, 0);
        }
    }
};

ACC.mainnavigationtracking = {
    _autoload: ["bindEvents"],
    bindEvents: function() {
        $(document).on('click touchend', '.js-track-navigation-link-click', ACC.mainnavigationtracking.pushSiteMainNavigationClickAction);
        if (ACC.common.device === 'mobile') {
            $(document).on('click touchend', '.js-track-navigation-menu-click', ACC.mainnavigationtracking.pushSiteMainNavigationDisplayActionMobile);
        } else {
            $(document).on('mouseenter', '.js-navigation-tab', ACC.mainnavigationtracking.pushSiteMainNavigationDisplayAction);
        }
    },
    pushSiteMainNavigationDisplayActionMobile: function() {
        if ($(this).data('text-track') && $(this).find('.fold-out-target').is(":hidden")) {
            ACC.mainnavigationtracking.pushSiteMainNavigationData("display", $(this).data('text-track'));
        }
    },
    pushSiteMainNavigationDisplayAction: function() {
        if ($(this).data('text-track')) {
            ACC.mainnavigationtracking.pushSiteMainNavigationData("display", $(this).data('text-track'));
        }
    },
    pushSiteMainNavigationClickAction: function() {
        if ($(this).data('text-track')) {
            ACC.mainnavigationtracking.pushSiteMainNavigationData("click", $(this).data('text-track'));
        }
    },
    pushSiteMainNavigationData: function(event, element) {
        dataLayer.push({
            event: "siteMainNavigation",
            navAction: event,
            navigationElement: element
        });
    }
};

$(document).ready(function() {
    var dataLayer = window.dataLayer = window.dataLayer || [];
    var trackingData = {};
    trackingData.breakPoint = ACC.screenDetection.screenLayout();
    if (trackingData.breakPoint === "S" || trackingData.breakPoint === "M") {
        trackingData.siteVersion = "Mob";
    }
    if (trackingData.breakPoint === "L" || trackingData.breakPoint === "XL") {
        trackingData.siteVersion = "Web";
    }
    dataLayer.push(trackingData);
});

ACC.storefindertracking = {
    _autoload: ["bindStoreFinderButton"],
    bindStoreFinderButton: function() {
        $(document).on('click', '.js-storelocator-headerlink', function() {
            ACC.storefindertracking.pushDataLayerInteraction('headerClick');
        }).on('click', '.js-storelocator-footerlink', function() {
            ACC.storefindertracking.pushDataLayerInteraction('footerClick');
        });
    },
    bindStoreFinderInteraction: function() {
        $(document).on('click', '.js-storelocator-query', function() {
            ACC.storefindertracking.pushDataLayerInteraction('storeSearchInput');
        }).on('click', '.js-use-my-location', function() {
            ACC.storefindertracking.pushDataLayerInteraction('crosshairButton');
        }).on('click', '.js-storelocator-filter', function() {
            ACC.storefindertracking.pushDataLayerInteraction('filterButton');
        }).on('change', '.js-storelocator-filter-option', function() {
            if ($(this).is(':checked')) {
                ACC.storefindertracking.pushDataLayerInteraction('filterSelection', $(this).data('defaultname'));
            }
        }).on('click', '.js-storelocator-store-details', function() {
            ACC.storefindertracking.pushDataLayerInteraction('selectStoreDetails', $(this).data('store-id'));
        }).on('click', '.js-storelocator-store-directions', function() {
            ACC.storefindertracking.pushDataLayerInteraction('getDirections', $(this).data('store-id'));
        }).on('click', '.js-storelocator-store-phone', function() {
            ACC.storefindertracking.pushDataLayerInteraction('tapToPhone', $(this).data('store-id'));
        });
    },
    pushDataLayerInteraction: function(interaction, content) {
        var storeLocatorEvent = {
            "event": "storeLocator",
            "storeLocatorInteraction": interaction
        };
        if (content) {
            storeLocatorEvent.storeLocatorContent = content;
        }
        dataLayer.push(storeLocatorEvent);
    }
};

ACC.productListClickEventTracking = {
    _autoload: ["bindClickEvent"],
    bindClickEvent: function() {
        $(document).on("click", ".js-dataLayerProdCarouserClickedEvent", function() {
            var position = $(this).data("click-event-position");
            var list = $(this).closest(".js-product-teaser").find(".js-dataLayerProdListClickedEventProducts");
            if ($(list).length == 0) {
                list = $(this).closest(".js-dataLayerProdListClickedEventProducts");
            }
            var products = JSON.parse(list.data("productlist"));
            delete products[position].inStock;
            delete products[position].quantity;
            delete products[position].brand;
            var productCarouselClickTrackingData = {
                "event": "productClick",
                "listType": list.data("productcarousellisttype"),
                "listID": list.data("productcarousellistid"),
                "click": [products[position]]
            };
            dataLayer.push(productCarouselClickTrackingData);
        });
    }
};

ACC.socialmediatracking = {
    _autoload: ["bindTrackingEvent"],
    bindTrackingEvent: function() {
        $(document).on('click', '.js-socialIconLinkTracking', function() {
            var network = $(this).data('network');
            dataLayer.push({
                "event": "socialSharing",
                "network": network
            });
        });
    }
};

ACC.screenDetection = {
    bindAll: function() {
        this.screenLayout();
    },
    screenLayout: function() {
        var currMqIdx = undefined;
        var mqDetector = $(".js-mq-detector");
        var mqSelectors = [mqDetector.find(".visible-xs"), mqDetector.find(".visible-sm"), mqDetector.find(".visible-md"), mqDetector.find(".visible-lg")];
        for (var i = 0; i <= mqSelectors.length; i++) {
            if (mqSelectors[i].is(":visible")) {
                if (currMqIdx != i) {
                    currMqIdx = i;
                    return (mqSelectors[i].data("size"));
                }
                break;
            }
        }
    }
}
$(document).ready(function() {
    ACC.screenDetection.bindAll();
});

isBlank = function isBlank(str) {
    return (!str || /^\s*$/.test(str));
}
;
bindReCaptchaForms = function(reCaptchaContainer, widgetId) {
    var form = $(reCaptchaContainer).closest("form");
    $(form).bindFirst("submit", function(event) {
        var token = $(this).find(".g-recaptcha-response").val();
        if (isBlank(token)) {
            event.preventDefault();
            event.stopImmediatePropagation();
            grecaptcha.execute(widgetId);
            return false;
        } else {
            $(this).append("<input type='hidden' name='g-recaptcha-token' value='" + token + "' />");
        }
    });
}
;
bindReCaptchaAjaxForm = function(form) {
    var reCaptchaContainer = form.find(".g-recaptcha")[0];
    $(reCaptchaContainer).css({
        position: 'fixed',
        top: '40px'
    });
    if (!ACC.config.recaptchaEnabled) {
        form.trigger("recaptchaForAjaxDone");
        return;
    }
    var widgetId = renderReCaptcha(reCaptchaContainer, true);
    var token = grecaptcha.getResponse(widgetId)
    if (token === "") {
        validateAjaxFormToken(form, widgetId);
    } else {
        form.append("<input type='hidden' name='g-recaptcha-token' value='" + token + "' />");
    }
}
;
validateAjaxFormToken = function(form, widgetId) {
    var token = grecaptcha.getResponse(widgetId);
    if (isBlank(token)) {
        grecaptcha.execute(widgetId)
    } else {
        form.append("<input type='hidden' name='g-recaptcha-token' value='" + token + "' />");
        form.trigger("recaptchaForAjaxDone");
    }
}
;
renderReCaptcha = function(reCaptchaContainer, isAjax) {
    return grecaptcha.render(reCaptchaContainer, {
        'sitekey': ACC.config.recaptchaSiteKey,
        'size': 'invisible',
        'callback': function(token) {
            if (!isAjax) {
                var form = $(reCaptchaContainer).closest("form");
                ACC.configurableForm.reinit($(form));
                $(form).submit();
            } else {
                var form = $(reCaptchaContainer).closest("form");
                validateAjaxFormToken(form)
            }
        }
    });
}
;
reCaptchaEnabledForCurrentPage = function() {
    return $(".js-shortContactFormDefinition").length > 0 || $(".js-longContactFormDefinition").length > 0 || $("#sacShareWishlistForm").length > 0 || $(".js-longRegistrationFormDefinition").length > 0 || $("#js-newsletterform").length > 0 || $(".js-newsletter-management-form").length > 0 || $(".js-recaptcha-sacNewsletterSignupForm").length > 0 || $(".js-recaptcha-login-form").length > 0;
}
;
recaptchaOnloadCallback = function() {
    if (ACC.config.recaptchaEnabled && reCaptchaEnabledForCurrentPage()) {
        $(".g-recaptcha").each(function() {
            var reCaptchaContainer = this;
            $(reCaptchaContainer).css({
                position: 'fixed',
                top: '40px'
            });
            if ($(this).find(".grecaptcha-badge").length > 0) {
                grecaptcha.reset();
                return false;
            }
        });
        $(".g-recaptcha").each(function() {
            var reCaptchaContainer = this;
            if ($(this).closest("form").attr("id") == "loginForm" && $(this).closest(".swal2-content").length) {
                return;
            }
            if (!($(reCaptchaContainer).find(".grecaptcha-badge").length > 0)) {
                var widgetId = renderReCaptcha(reCaptchaContainer);
                bindReCaptchaForms(this, widgetId);
            }
        });
    }
}
;
$(document).ajaxComplete(function() {
    recaptchaOnloadCallback();
});

var CF_SUBMIT_RESPONSE = "cfSubmitResponse.";
var CF_INITIALIZE = "cfInitialize.";
var COUNTRY_AA = "aa";
var COUNTRY_AD = "ad";
$(document).ready(function() {
    ACC.configurableForm.init();
});
ACC.configurableForm = {
    init: function() {
        ACC.configurableForm.bindCountryDropDown();
        ACC.configurableForm.preventSubmitDisablingIfNotWanted();
        ACC.configurableForm.reinit();
        ACC.configurableForm.scrollToErrorIfNotInViewport();
    },
    reinit: function($cForm) {
        ACC.configurableForm.bindFields($cForm);
        ACC.configurableForm.bindDateFields($cForm);
        ACC.configurableForm.bindPhoneTextFields($cForm);
        ACC.configurableForm.bindSelectTabOutToggle();
        ACC.configurableForm.bindTextAreaCharacterCount($cForm);
        ACC.configurableForm.bindButtons($cForm);
        ACC.configurableForm.initReadonlyHack($cForm);
        ACC.configurableForm.initAjaxForms($cForm);
        ACC.configurableForm.initFormValidation($cForm);
        ACC.tracking.trackFormFieldErrorsConfigurableFormsBindingResults($cForm);
        ACC.configurableForm.triggerFormInitializeEvent($cForm);
        ACC.configurableForm.deleteEmptyRows();
    },
    triggerFormInitializeEvent: function($cForm) {
        setTimeout(function() {
            $($cForm || 'form.js-configurable-form').each(function() {
                var $form = $(this);
                var requestIdentifier = $form.data("request-identifier");
                $(document).triggerHandler(CF_INITIALIZE + requestIdentifier, {
                    form: $form
                });
            })
        }, 0);
    },
    bindButtons: function($cForm) {
        $('.js-configurable-form-button', $cForm || 'form.js-configurable-form').click(function() {
            if ($(this).data !== undefined && $.isEmptyObject($(this).data('action'))) {
                $(this).closest('form').attr('action', $(this).data('action'));
            }
        });
    },
    bindFields: function($cForm) {
        $('.js-genericFormField', $cForm || 'form.js-configurable-form').blur(function() {
            $(this).closest('.form-group').find('.js-backend-validation-error').each(function() {
                $(this).hide();
                $(this).empty();
            });
        });
    },
    bindButtons: function() {
        $('.js-configurable-form-button').click(function() {
            $(this).closest('form').attr('action', $(this).data('action'));
        });
    },
    initFormValidation: function($cForm) {
        $($cForm || '.js-configurable-form').closest(".js-configurable-form-wrapper").find('.js-genericForm-init').each(function() {
            eval($(this).text());
        });
        $($cForm || '.js-configurable-form').each(function() {
            $(this).on('err.field.fv', function(e, data) {
                ACC.configurableForm.trackFieldError(data);
            });
        });
    },
    trackFieldError: function(data) {
        $(data.element).closest('.has-error').find('[data-fv-result="INVALID"]').each(function() {
            if (!$(this).data('tracked')) {
                var validator = $(this).data('fv-validator');
                var messageEN = null;
                if (validator === 'callback') {
                    messageEN = data.fv.getOptions(data.element, validator, null).callback(data.element.val(), validator, data.element).message_en;
                } else {
                    messageEN = data.fv.getOptions(data.element, validator, null).message_en;
                }
                var formId = ACC.configurableForm.getFormIdForTracking($(data.fv.$form[0]));
                ACC.tracking.pushFormFieldError(formId, data.element[0].id, messageEN);
                $(this).attr('data-tracked', true);
            }
        });
    },
    getFormIdForTracking: function($form) {
        var formId = $form.data('request-identifier');
        if (!formId || formId === 'cfRequest' || formId === 'cfResponse') {
            formId = $form.find('.js-genericForm-formDefinition').val();
        }
        return formId;
    },
    preventSubmitDisablingIfNotWanted: function() {
        $('body').off('submit.preventSubmitDisablingIfNotWanted').on('submit.preventSubmitDisablingIfNotWanted', '.js-configurable-form', function() {
            var $form = $(this);
            if (!$form.hasClass('js-block-submit') && !$form.hasClass('js-block-ajax-submit')) {
                var $ele = $form.find('.js-button');
                $ele.prop('disabled', false).removeClass('disabled');
            }
        });
    },
    bindCountryDropDown: function() {
        $(ACC.configurableForm.getFormDefinitions()).each(function() {
            var formDefinition = this;
            $(document).off("change." + formDefinition).on("change." + formDefinition, "#" + formDefinition + "_country", function(event) {
                ACC.configurableForm.requestForm(formDefinition);
            });
        });
    },
    bindDateFields: function($cForm) {
        $('.cfDatepicker', $cForm || 'form.js-configurable-form').each(function() {
            var dateFormat = $('#' + $(this).attr('id') + 'DateFormat').val();
            $(this).datepicker({
                dateFormat: dateFormat.replace('yyyy', 'yy').toLowerCase()
            });
        });
        $('.cfDatepicker', $cForm || 'form.js-configurable-form').change(function() {
            $(this).closest("form").formValidation('revalidateField', $(this).attr('name'));
        });
    },
    bindPhoneTextFields: function($cForm) {
        $('.js-genericFormField-phone', $cForm || 'form.js-configurable-form').each(function() {
            var country = $(this).closest('form').data('country').toLowerCase();
            if (country && country === COUNTRY_AA) {
                country = COUNTRY_AD;
            }
            $(this).intlTelInput({
                preferredCountries: [country.toLowerCase()],
                nationalMode: false,
                intialCountry: country.toLowerCase()
            });
            var phoneCountryInput = $("#" + $(this).attr('id').slice(0, -6) + "_phoneCountry");
            var phoneInput = $("#" + $(this).attr('id').slice(0, -6) + "_phone");
            var selectedPhoneCountry = phoneInput.siblings('.flag-container').children('.selected-flag').attr('title');
            var shouldChangeCountry = selectedPhoneCountry === undefined || selectedPhoneCountry === "Unknown";
            if ((country && phoneInput.val().indexOf('+') === -1) || shouldChangeCountry) {
                phoneCountryInput.val(country.toUpperCase());
                $(this).intlTelInput("setCountry", country);
            }
            $(this).on("countrychange", function(e, countryData) {
                if (typeof countryData.iso2 !== 'undefined') {
                    $(phoneCountryInput).val(countryData.iso2.toUpperCase());
                }
            });
        });
    },
    initReadonlyHack: function($cForm) {
        $($cForm || '.js-configurable-form').submit(function() {
            if (this.checkValidity()) {
                $(this).find(".js-readonly").prop("disabled", false);
            }
        });
    },
    initAjaxForms: function($cForm) {
        $($cForm || 'form.js-configurable-form').filter('[data-ajaxform="true"]').each(function() {
            var $form = $(this);
            var formConfig = '#' + $(this).attr("id");
            var requestIdentifier = $(this).data("request-identifier");
            var options = {
                data: {
                    requestIdentifier: requestIdentifier
                },
                type: 'POST',
                success: ACC.configurableForm.handleResponseSuccess,
                error: ACC.configurableForm.handleResponseError,
                context: {
                    form: $form,
                    requestIdentifier: requestIdentifier,
                    formConfig: formConfig,
                    isFormSubmit: true
                }
            };
            if ($(this).hasClass('js-block-ajax-submit')) {
                $(this).blockAjaxForm(Object.assign(options, {
                    blockSelector: $form.data('block-selector'),
                    beforeSerialize: function() {
                        if (ACC.forms.hasValidationErrors($form)) {
                            return false;
                        }
                    }
                }));
            } else {
                $(this).ajaxForm(options);
            }
        });
    },
    handleResponseSuccess: function(responseText) {
        var $form = this.form;
        ACC.blockUI.unblock($form);
        var successMessage = $form.data("success-message");
        var validationSuccessful = ACC.configurableForm.responseHasValidForm(responseText);
        var formConfigWrapper = this.formConfig + 'Wrapper';
        if (validationSuccessful) {
            $form.data('validation-successful', true);
            if (responseText.requestIdentifier === "cfRequest") {
                location.reload();
            }
        } else {
            $(formConfigWrapper).html($(responseText).closest(formConfigWrapper).html());
            ACC.configurableForm.reinit($('form.js-configurable-form', formConfigWrapper));
            ACC.configurableForm.scrollToError();
        }
        $(document).trigger(CF_SUBMIT_RESPONSE + this.requestIdentifier, {
            validationSuccessful: validationSuccessful,
            responseText: responseText,
            form: this.form,
            requestIdentifier: this.requestIdentifier,
            formConfig: this.formConfig,
            isFormSubmit: this.isFormSubmit,
            successMessage: successMessage
        });
    },
    handleResponseError: function(jqXHR, status, errorThrown) {
        ACC.blockUI.unblock(this.form);
        ACC.configurableForm.showFormMessage(this.formConfig, ACC.serversideAjaxErrorText, 'error');
    },
    requestForm: function(formDefinition) {
        var form = $('#' + formDefinition + '_country').closest("form");
        var reloadFormEndPoint = $(form).find(".js-reloadFormWithoutValidation").length > 0 ? "reloadCheckedFormNV" : "reloadCheckedForm";
        var formConfig = '#' + $(form).attr("id");
        var countryIsoCode = $('#' + formDefinition + '_country').val();
        var requestIdentifier = form.data("request-identifier");
        form.attr('action', ACC.config.encodedContextPath + '/configurableForm/' + reloadFormEndPoint);
        form.find(".js-genericForm-formDefinition").remove();
        var options = {
            data: {
                formDefinition: formDefinition,
                countryIsoCode: countryIsoCode,
                requestIdentifier: requestIdentifier
            },
            type: 'POST',
            success: function(data) {
                ACC.blockUI.unblock(form);
                var $newFormWrapper = $(data);
                $(formConfig + 'Wrapper').replaceWith($newFormWrapper);
                ACC.configurableForm.reinit($newFormWrapper.find('form.js-configurable-form'));
            },
            error: ACC.configurableForm.handleResponseError,
            context: {
                form: form,
                formConfig: formConfig
            }
        };
        form.ajaxSubmit(options);
    },
    showFormMessage: function(formConfig, text, type) {
        var $formWrapper = $(formConfig + 'Wrapper');
        var $formGlobalAlerts = $formWrapper.find(".global-alerts");
        if ($formGlobalAlerts.length === 0) {
            $formGlobalAlerts = $("<div class=\"global-alerts\"></div>");
            $formWrapper.prepend($formGlobalAlerts);
        }
        $formGlobalAlerts.empty().append(ACC.messages.buildMessageContainer(text, type));
        $('html, body').stop().animate({
            scrollTop: $formGlobalAlerts.offset().top
        }, 800);
    },
    responseHasValidForm: function(response) {
        var validationSuccessful = true;
        var $forms = $(response).find('form.js-configurable-form');
        if ($forms.length == 0) {
            validationSuccessful = false;
        } else {
            $forms.each(function() {
                if (!$(this).data('validation-successful')) {
                    validationSuccessful = false;
                }
            });
        }
        return validationSuccessful;
    },
    getFormDefinitions: function() {
        var formDefinitions = new Array();
        $('.js-genericForm-formDefinition').each(function() {
            formDefinitions.push($(this).val());
        });
        return formDefinitions;
    },
    isInViewport: function(element) {
        var elementTop = element.offset().top;
        var elementBottom = elementTop + element.outerHeight();
        var viewportTop = $(window).scrollTop();
        var viewportBottom = viewportTop + $(window).height();
        return elementBottom > viewportTop && elementTop < viewportBottom;
    },
    scrollToErrorIfNotInViewport: function() {
        if ($('div.global-alerts').length != 0) {
            if (!ACC.configurableForm.isInViewport($('div.global-alerts').first())) {
                $scrollTo = $('#globalMessagesHolder').length > 0 ? $('#globalMessagesHolder') : $('div.global-alerts').first();
                $('html, body').stop().animate({
                    scrollTop: $scrollTo.offset().top
                }, 800);
            }
        }
    },
    scrollToError: function() {
        var globalErrorOffset = 0;
        if ($('div.global-alerts').length != 0) {
            globalErrorOffset = $('div.global-alerts').first().offset().top;
        }
        var firstFieldErrorOffset = 0;
        if ($('div.has-error').length != 0) {
            firstFieldErrorOffset = $('div.has-error').first().offset().top;
        }
        var scrollTo = 0;
        if (globalErrorOffset != 0 && firstFieldErrorOffset != 0) {
            scrollTo = Math.min(globalErrorOffset, firstFieldErrorOffset);
        } else {
            scrollTo = Math.max(globalErrorOffset, firstFieldErrorOffset);
        }
        $(window).scrollTop(scrollTo);
    },
    deleteEmptyRows: function($cForm) {
        $('.form-spacing', $cForm || 'form.js-configurable-form').each(function() {
            if ($(this).text().trim() === '') {
                {
                    $(this).remove();
                }
            }
        });
    },
    bindTextAreaCharacterCount: function($cForm) {
        $('.js-genericFormField-textarea', $cForm || 'form.js-configurable-form').each(function() {
            $(this).keyup(function() {
                var value = $(this).val();
                var $remainingChars = $(this).parent().find('.js-remaining-chars');
                var MAX_TEXT_LENGTH = $remainingChars.data('maxlength');
                $remainingChars.html(MAX_TEXT_LENGTH - value.length);
            });
        });
    },
    bindSelectTabOutToggle: function() {
        $(".js-tab-out[data-field-code]").each(function() {
            var fieldCode = $(this).data("field-code");
            var $selectOptions = $(".tab-out-trigger.js-" + fieldCode);
            var $tabs = $(".js-" + fieldCode + "-tab-target");
            $selectOptions.change(function() {
                var checkedOption = this.value;
                $tabs.each(function() {
                    var $tab = $(this);
                    if (checkedOption == $tab.data("option-value")) {
                        $(this).removeClass("hidden");
                    } else {
                        $(this).addClass("hidden");
                    }
                });
            });
        });
    }
};

function _autoload() {
    $.each(ACC, function(section, obj) {
        if ($.isArray(obj._autoload)) {
            $.each(obj._autoload, function(key, value) {
                if ($.isArray(value)) {
                    if (value[1]) {
                        ACC[section][value[0]]();
                    } else {
                        if (value[2]) {
                            ACC[section][value[2]]()
                        }
                    }
                } else {
                    ACC[section][value]();
                }
            })
        }
    })
}
$(function() {
    _autoload();
});

ACC.overlay = {
    spinner: $("<img src='" + ACC.config.commonResourcePath + "/images/spinner.gif' />"),
    overlaySize: {
        small: "30%",
        medium: "50%",
        big: "80%",
        full: "100%"
    },
    overlayCustomClass: {
        fullOverlay: "full-overlay full-overlay--active overlay__radius--none",
        fullOverlayAutoHeight: "full-overlay full-overlay--active full-overlay-auto-height",
    },
    config: {
        width: "100%",
        showConfirmButton: false,
        showCloseButton: true,
        onOpen: function() {
            ACC.common.refreshScreenReaderBuffer();
        },
        onClose: function() {
            ACC.common.refreshScreenReaderBuffer();
        }
    },
    open: function(config) {
        var configValue = $.extend({}, ACC.overlay.config, config);
        var result = swal(configValue).catch(swal.noop);
        customComponents();
        return result;
    },
    close: function() {
        swal.close();
    },
    reset: function() {
        swal.resetDefaults();
    },
    showSpinner: function() {
        swal.showLoading();
    },
    hideSpinner: function() {
        swal.hideLoading();
    },
    clickCancel: function() {
        $(document).on("click", ".js-overlayCancelBtn", function(e) {
            swal.clickCancel()
        });
    },
    showIframeOverlayForUrl: function(url) {
        swal({
            html: "<iframe scrolling=\"no\" src=" + url + "></iframe>",
            width: ACC.overlay.overlaySize.medium,
            showConfirmButton: false,
            showCloseButton: true,
            allowOutsideClick: false,
            customClass: 'js-overlay ',
            onOpen: function() {
                $('.js-overlay').addClass('iframe');
                var top = parseInt($('.js-overlay').css('padding-top'));
                var $iframe = $('#swal2-content').find('iframe');
                $iframe.height($(window).height() - 2 * top);
                ACC.common.refreshScreenReaderBuffer();
                $(".js-form-input-password").each(function() {
                    new FormsInputPassword({
                        container: this
                    });
                });
            },
            onClose: function() {
                ACC.common.refreshScreenReaderBuffer();
            }
        });
    },
    showOverlayForUrl: function(url) {
        $.get(url, function(response) {
            swal({
                html: response,
                width: ACC.overlay.overlaySize.full,
                showConfirmButton: false,
                showCloseButton: true,
                customClass: 'js-overlay ' + ACC.overlay.overlayCustomClass.fullOverlayAutoHeight,
                onOpen: function() {
                    ACC.common.refreshScreenReaderBuffer();
                    $(".js-form-input-password").each(function() {
                        new FormsInputPassword({
                            container: this
                        });
                    });
                    $(".swal2-content .js-fold-out").each(function() {
                        if ($(this).hasClass("js-popup-foldout")) {
                            new FoldOut({
                                container: this
                            });
                        }
                    });
                },
                onClose: function() {
                    ACC.common.refreshScreenReaderBuffer();
                }
            });
        });
    },
    showOverlayForLink: function($link) {
        var urlToOpen = $link.attr('href');
        if ($link.data("overlay-page")) {
            urlToOpen = urlToOpen + 'contentslot/' + $link.data("overlay-page");
            if ($link.data("overlay-contentslot")) {
                urlToOpen += '?contentSlotUid=' + $link.data("overlay-contentslot");
            }
        }
        urlToOpen = ACC.common.appendFragmentOnlyRequestParameter(urlToOpen);
        if ($link.data('login-required') && (!ACC.cookie.getClientInfoCookie() || !ACC.cookie.getClientInfoCookie().isLoggedIn)) {
            ACC.loginoverlay.displayLoginOverlay();
            return;
        }
        ACC.overlay.showOverlayForUrl(urlToOpen);
    },
    bindHardLoginAjaxForm: function(selector, successCallback) {
        $(selector).blockAjaxForm({
            blockSelector: ':find(.js-button)',
            success: function(data, status, xhr) {
                if (successCallback != null) {
                    successCallback(data, status, xhr);
                }
            },
            error: function(data) {
                if (data.status === 401) {
                    ACC.loginoverlay.formToSubmit = $(selector);
                    ACC.loginoverlay.displayLoginOverlay();
                }
            }
        });
    },
    bindOverlayLink: function() {
        $(document).on("click", ".js-overlay-link", function(e) {
            e.preventDefault();
            var link = $(this);
            ACC.overlay.showOverlayForLink(link);
            $('.js-form-input-password-retrigger').addClass('js-form-input-password');
        });
    },
    bindOverlayForms: function() {
        $(document).on("submit", ".js-overlay form", function(e) {
            e.preventDefault();
            var $ele = $(this);
            $ele.blockAjaxSubmit({
                target: swal.getContent()
            });
            return false;
        });
    }
};
document.addEventListener('DOMContentLoaded', function() {
    ACC.overlay.bindOverlayLink();
    ACC.overlay.bindOverlayForms();
    ACC.overlay.clickCancel();
    ACC.overlay.overlaySize;
}, false);

ACC.csrftoken = {
    updateCsrfToken: function() {
        var fetchToken = true;
        var tokenInfoJson = sessionStorage.getItem("CSRFTokenInfo");
        if (tokenInfoJson != null) {
            var tokenInfo = JSON.parse(tokenInfoJson);
            if (tokenInfo != null && typeof tokenInfo.token != 'undefined') {
                var ageInMillis = new Date().getTime() - tokenInfo.timestamp;
                if (ageInMillis <= ACC.config.csrfTokenTimeoutMs) {
                    fetchToken = false;
                }
                if (tokenInfo.currentSite != ACC.env.currentSite) {
                    fetchToken = true;
                }
            }
        }
        if (fetchToken) {
            $.ajax({
                url: ACC.config.encodedContextPath + "/csrf/token",
                success: function(token, textStatus, jqXHR) {
                    var tokenInfo = {};
                    tokenInfo.timestamp = new Date().getTime();
                    tokenInfo.token = token;
                    tokenInfo.currentSite = ACC.env.currentSite;
                    sessionStorage.setItem("CSRFTokenInfo", JSON.stringify(tokenInfo));
                },
                async: false,
                error: function() {
                    sessionStorage.removeItem("CSRFTokenInfo");
                }
            });
        }
    },
    setCurrentCsrfTokenValueAjax: function(options) {
        ACC.csrftoken.updateCsrfToken();
        var tokenInfo = JSON.parse(sessionStorage.getItem("CSRFTokenInfo"));
        var tokenParam = "CSRFToken=" + tokenInfo.token;
        var hasData = (typeof options.data != 'undefined');
        var tokenPosition = options.data.indexOf("CSRFToken");
        if (!hasData) {
            options.data = options.data + tokenParam;
        } else if (tokenPosition != -1) {
            var originalData = options.data;
            options.data = options.data.substring(0, tokenPosition) + tokenParam;
            var successiveParamsPos = originalData.indexOf("&", tokenPosition, originalData.length);
            if (successiveParamsPos != -1) {
                options.data = options.data + originalData.substring(successiveParamsPos, originalData.length);
            }
        } else {
            options.data = options.data + "&" + tokenParam;
        }
    },
    setCurrentCsrfTokenValue: function(form) {
        ACC.csrftoken.updateCsrfToken();
        var tokenInfo = JSON.parse(sessionStorage.getItem("CSRFTokenInfo"));
        var existingTokenField = $("input[name=CSRFToken]", form);
        if (existingTokenField != null && existingTokenField.length > 0) {
            existingTokenField.val(tokenInfo.token);
        } else {
            $(form).append("<input type='hidden' name='CSRFToken' value='" + tokenInfo.token + "' />")
        }
    },
    prepareCsrfForPostForms: function() {
        $("body").on("submit", "form[method='post']", function(e) {
            ACC.csrftoken.setCurrentCsrfTokenValue(e.target);
        });
    },
    prepareCsrfForAjaxPostForms: function() {
        $.ajaxPrefilter(function(options, originalOptions, jqXHR) {
            if (options.type === "post" || options.type === "POST") {
                ACC.csrftoken.setCurrentCsrfTokenValueAjax(options);
                ACC.csrftoken.scheduleFetchTokenRetryIfNecessary(originalOptions, options, jqXHR);
            }
        });
    },
    scheduleFetchTokenRetryIfNecessary: function(originalOptions, options, jqXHR) {
        originalOptions._error = originalOptions.error;
        options.error = function(_jqXHR, _textStatus, _errorThrown) {
            if (jqXHR.status != 403) {
                if (originalOptions._error) {
                    originalOptions._error(_jqXHR, _textStatus, _errorThrown);
                }
                return;
            }
            if (!originalOptions.alreadyRetriedOnce) {
                sessionStorage.removeItem("CSRFTokenInfo");
                ACC.csrftoken.setCurrentCsrfTokenValueAjax(originalOptions);
                originalOptions.alreadyRetriedOnce = true;
                $.ajax(originalOptions);
            }
        }
    },
    bindCsrfTokenRemoval: function() {
        $(document).on("click", ".js-logout, form[action$='/register']", function(e) {
            sessionStorage.removeItem("CSRFTokenInfo");
        })
    },
    handleCsrfToken: function() {
        ACC.csrftoken.updateCsrfToken();
        ACC.csrftoken.prepareCsrfForAjaxPostForms();
        ACC.csrftoken.prepareCsrfForPostForms();
        ACC.csrftoken.bindCsrfTokenRemoval();
    }
};

ACC.login = {
    toggleMemberForms: function(checkbox, wrapperForm) {
        if (checkbox.prop('checked')) {
            wrapperForm.show().removeClass("register-hidden").attr('required', 'true');
        } else {
            wrapperForm.hide().addClass("register-hidden").removeAttr('required');
        }
    },
    toggleHeight: function(checkbox, wrapperForm) {
        if (checkbox.prop('checked')) {
            wrapperForm.removeClass("checkout__form-column");
        } else {
            wrapperForm.addClass("checkout__form-column");
        }
    },
    hideMemberForm: function(checkbox, wrapperForm) {
        if (checkbox.is(":checked")) {
            checkbox.prop("checked", false);
            ACC.login.toggleMemberForms(checkbox, wrapperForm);
        }
    },
    showBeSwarovskiFields: function() {
        var besCheckbox = $(".js-beswarovski-checkbox");
        besCheckbox.change(function() {
            ACC.login.hideMemberForm($(".js-scs-checkbox"), $(".js-scs-member"));
            ACC.login.toggleMemberForms(besCheckbox, $(".js-beswarovski-member"));
        });
    },
    showSCSFields: function() {
        var scsCheckbox = $(".js-scs-checkbox");
        scsCheckbox.change(function() {
            ACC.login.hideMemberForm($(".js-beswarovski-checkbox"), $(".js-beswarovski-member"));
            ACC.login.toggleMemberForms(scsCheckbox, $(".js-scs-member"));
            var checkoutRegisterButton = $(".js-scs-checkout");
            if (checkoutRegisterButton != null) {
                ACC.login.toggleHeight(scsCheckbox, $(".checkout__form-column"));
            }
        });
    },
    bindCustomRegisterFormSubmit: function() {
        $(".js-registerContainer").on('click', '.js-registerContainerSubmit', function(event) {
            event.preventDefault();
            var foldable = $(".js-registerContainer .form-checkbox:checkbox:checked").closest(".fold-out");
            if (foldable.size() != 0) {
                var submitButton = $(foldable).find("form .form-submit__submit");
                $(submitButton).trigger("click");
            } else {
                window.location = $(this).data("action");
            }
        });
    },
    bindLoginFormValidation: function() {
        $('.js-loginForm').formValidation({
            autoFocus: false,
            framework: 'bootstrap',
            icon: {
                valid: '',
                invalid: '',
                validating: ''
            },
            fields: {
                j_username: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'blur',
                    validators: {
                        notEmpty: {
                            message: ACC.usernameMandatoryMessage
                        },
                        regexp: {
                            regexp: ACC.common.emailRegexp,
                            message: ACC.usernameInvalidMessage
                        }
                    }
                },
                j_password: {
                    onError: function(e, data) {
                        ACC.configurableForm.trackFieldError(data);
                    },
                    trigger: 'keyup',
                    validators: {
                        notEmpty: {
                            message: ACC.passwordMandatoryMessage
                        }
                    }
                }
            }
        })
    }
};
$(document).ready(function() {
    with (ACC.login) {
        showBeSwarovskiFields();
        showSCSFields();
        bindCustomRegisterFormSubmit();
        bindLoginFormValidation();
    }
});

ACC.orderhistory = {
    bindAll: function() {
        var orderDetailSelector = 'js-orderhistory-orderdetails';
        this.bindShowMoreHistoryDetails(orderDetailSelector);
        $('div.' + orderDetailSelector).hide;
        this.bindLoadNextPagination();
    },
    bindShowMoreHistoryDetails: function(selector) {
        $('a.' + selector).click(function(event) {
            event.preventDefault();
            var selData = '[data-order=' + $(this).data("order") + ']';
            $('div.' + selector + selData).slideToggle(200);
            $('a.' + selector + selData).toggle();
        });
    },
    bindLoadNextPagination: function() {
        $(document).on('click', '.js-load-next-wrapper .js-load-next', function(e) {
            e.preventDefault();
            var $ele = $(this);
            var url = $ele.attr('href');
            $ele.blockGet(ACC.common.appendFragmentOnlyRequestParameter(url), function(data) {
                $('.js-load-next-wrapper').replaceWith(data);
                initQuickview();
                $(".js-fold-out").each(function() {
                    if (!$(this).hasClass("js-popup-foldout")) {
                        new FoldOut({
                            container: this
                        });
                    }
                });
            });
        });
    }
};
$(document).ready(function() {
    ACC.orderhistory.bindAll();
});

ACC.qrcode = {
    _autoload: ["bindShareAction", "bindShareSocialIconLinkAction"],
    bindShareAction: function() {
        $(".js-link-share__qr").click(function() {
            if (!$(this).find((".js-social-icon-link-share__qr"))) {
                var qrtitle = $("#qrtitle").text();
                var url = ACC.config.encodedContextPath + "/product-share/qr?url=" + encodeURI(window.location.href);
                var urlqr = encodeURI(window.location.href);
                $.get(url, function(response) {
                    swal({
                        html: response,
                        width: ACC.overlay.overlaySize.full,
                        title: qrtitle,
                        showConfirmButton: false,
                        customClass: 'js-overlay ',
                        showCloseButton: true,
                        onOpen: function() {
                            var $qrcodeCanvas = $("#qrcodeCanvas");
                            $qrcodeCanvas.prev("p").removeAttr("style");
                            $qrcodeCanvas.removeAttr("style");
                            $qrcodeCanvas.qrcode({
                                width: 200,
                                height: 200,
                                text: urlqr
                            });
                            ACC.common.refreshScreenReaderBuffer();
                        },
                        onClose: function() {
                            ACC.common.refreshScreenReaderBuffer();
                        }
                    });
                });
            }
        });
    },
    bindShareSocialIconLinkAction: function() {
        $(".js-social-icon-link-share__qr").click(function() {
            var qrtitle = $("#qrtitle").text();
            var url = $(this).data('shared-url');
            ACC.colorbox.close();
            $.get(url, function(response) {
                swal({
                    html: response,
                    width: ACC.overlay.overlaySize.full,
                    title: qrtitle,
                    showConfirmButton: false,
                    customClass: 'js-overlay ',
                    showCloseButton: true,
                    onOpen: function() {
                        var $qrcodeCanvas = $("#qrcodeCanvas");
                        $qrcodeCanvas.prev("p").removeAttr("style");
                        $qrcodeCanvas.removeAttr("style");
                        $qrcodeCanvas.qrcode({
                            width: 200,
                            height: 200,
                            text: url
                        });
                        ACC.common.refreshScreenReaderBuffer();
                    },
                    onClose: function() {
                        ACC.common.refreshScreenReaderBuffer();
                    }
                });
            });
        });
    }
};

ACC.richRelevanceTracking = {
    maxAdditionalItems: 15,
    trackAdditionaProducts: function(RR_) {
        var sku = $('[data-rich-relevance-product-code]');
        if (sku) {
            $.each(sku, function(i) {
                if ($(this).data('rich-relevance-product-code')) {
                    RR_.addItemId($(this).data('rich-relevance-product-code'));
                }
                return i < ACC.richRelevanceTracking.maxAdditionalItems - 1;
            });
        }
    },
    trackCommon: function(data, existingPlaceholders) {
        var json = ACC.cookie.getRichRelevanceTrackingCookie();
        var sessionId = ACC.cookie.getRichRelevanceSessionCookie();
        R3_COMMON = new r3_common();
        R3_COMMON.setClickthruServer(ACC.config.baseUrl + ACC.config.encodedContextPath);
        R3_COMMON.setBaseUrl(window.location.protocol + '//' + ACC.config.richRelevanceEnviroment + '.richrelevance.com/rrserver/');
        R3_COMMON.setApiKey(ACC.config.richRelevanceApiKey);
        R3_COMMON.setRegionId(ACC.config.richRelevanceRegion);
        R3_COMMON.setSessionId(sessionId);
        if (json.user) {
            R3_COMMON.setUserId(json.user);
        }
        R3_COMMON.setCartValue(json.orderDiscounts);
        if (typeof existingPlaceholders === 'undefined' || existingPlaceholders == null || (existingPlaceholders != null && existingPlaceholders.length == 0)) {
            R3_COMMON.addPlacementType(data.pageType);
        } else {
            var uniquePlacementNames = [];
            $(existingPlaceholders).each(function(i, value) {
                var placementName = $(value).data('placement-name');
                if ($.inArray(placementName, uniquePlacementNames) === -1) {
                    if (placementName.indexOf(data.pageType) >= 0) {
                        R3_COMMON.addPlacementType(placementName);
                        uniquePlacementNames.push(placementName);
                    }
                }
            });
        }
    },
    trackHomepage: function(data) {
        R3_HOME = new r3_home();
        ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);
    },
    trackContentPage: function(data) {
        ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);
    },
    trackCart: function(data) {
        R3_CART = new r3_cart();
        $(data.cartProducts).each(function(i, value) {
            if (value['productCode']) {
                R3_CART.addItemId(value['productCode']);
            }
            return i < ACC.richRelevanceTracking.maxAdditionalItems - 1;
        });
    },
    trackCategory: function(data) {
        R3_CATEGORY = new r3_category();
        ACC.richRelevanceTracking.trackAdditionaProducts(R3_COMMON);
        R3_CATEGORY.setId(data.categoryCode);
        R3_CATEGORY.setName(data.categoryName);
    },
    trackItemPage: function(data) {
        R3_COMMON.addCategoryHintId(data.categoryCode);
        R3_ITEM = new r3_item();
        R3_ITEM.setId(data.productCode);
    },
    trackPersonalPage: function(data) {
        R3_HOME = new r3_home();
    },
    trackSearchPage: function(data) {
        R3_SEARCH = new r3_search();
        var keywords = $('meta[name=keywords]').attr("content");
        R3_SEARCH.setTerms(keywords);
        $(data.searchProducts).each(function(i, value) {
            if (value['productCode']) {
                R3_SEARCH.addItemId(value['productCode']);
            }
            return i < ACC.richRelevanceTracking.maxAdditionalItems - 1;
        });
    },
    trackPurchasedPage: function(data) {
        R3_PURCHASED = new r3_purchased();
        R3_PURCHASED.setOrderNumber(data.orderCode);
        $(data.purchasedProducts).each(function(i, value) {
            if (value['productCode']) {
                R3_PURCHASED.addItemIdPriceQuantity(value['productCode'], value['productPrice'].toFixed(2), value['productQuantity'], value['productSKU']);
            }
        });
    },
    trackWishlistPage: function(data) {
        R3_WISHLIST = new r3_wishlist();
        $(data.wishlistProducts).each(function(i, value) {
            if (value['productCode']) {
                R3_WISHLIST.addItemId(value['productCode']);
            }
            return i < ACC.richRelevanceTracking.maxAdditionalItems - 1;
        });
    },
    trackAddToCartPage: function(productCode) {
        R3_ADDTOCART = new r3_addtocart();
        if (productCode) {
            R3_ADDTOCART.addItemIdToCart(productCode);
        }
        return R3_ADDTOCART;
    },
    trackAddToCartEvent: function() {
        var productCode = $('.js-rich-relevance-add-to-cart').data('rich-relevance-product-code');
        var richRelevanceTrackingData = {
            pageType: 'add_to_cart_page'
        };
        ACC.richRelevanceTracking.trackCommon(richRelevanceTrackingData);
        ACC.richRelevanceTracking.trackAddToCartPage(productCode);
        rr_flush_onload();
        r3();
    },
    trackPageSpecific: function(richRelevanceTrackingData) {
        switch (richRelevanceTrackingData.pageType) {
        case 'cart_page':
            ACC.richRelevanceTracking.trackCart(richRelevanceTrackingData);
            break;
        case 'category_page':
            ACC.richRelevanceTracking.trackCategory(richRelevanceTrackingData);
            break;
        case 'wish_list_page':
            ACC.richRelevanceTracking.trackWishlistPage(richRelevanceTrackingData);
            break;
        case 'home_page':
            ACC.richRelevanceTracking.trackHomepage(richRelevanceTrackingData);
            break;
        case 'item_page':
            ACC.richRelevanceTracking.trackItemPage(richRelevanceTrackingData);
            break;
        case 'personal_page':
            ACC.richRelevanceTracking.trackPersonalPage(richRelevanceTrackingData);
            break;
        case 'search_page':
            ACC.richRelevanceTracking.trackSearchPage(richRelevanceTrackingData);
            break;
        case 'purchase_complete_page':
            ACC.richRelevanceTracking.trackPurchasedPage(richRelevanceTrackingData);
            break;
        case 'error_page':
            break;
        default:
            ACC.richRelevanceTracking.trackContentPage(richRelevanceTrackingData);
        }
    }
};
$(document).ready(function() {
    if (ACC.cookie.checkIfCookiesAreDisabled()) {
        return;
    }
    $('.js-richrelevance-component.fallback').hide();
    if (typeof richRelevanceTrackingData != 'undefined') {
        var timeOut = ACC.config.richRelevanceTimeOut;
        var existingPlaceholders = $(".js-richrelevance-component");
        ACC.richRelevanceTracking.trackCommon(richRelevanceTrackingData, existingPlaceholders);
        ACC.richRelevanceTracking.trackPageSpecific(richRelevanceTrackingData);
        rr_flush_onload();
        RR.jsonCallback = function() {
            if (!ACC.richRelevanceTracking.timeOutExceeded) {
                clearTimeout(ACC.richRelevanceTracking.timeOut);
                ACC.richRelevanceRenderer.renderAll();
            }
        }
        ;
        r3();
        ACC.richRelevanceTracking.timeOut = setTimeout(function() {
            ACC.richRelevanceTracking.timeOutExceeded = true;
            console.log('Timeout for RichRelevance');
            RR.data = undefined;
            ACC.richRelevanceRenderer.renderAll();
        }, timeOut)
    }
});

ACC.richRelevanceRenderer = {
    renderAll: function() {
        var existingPlaceholders = $(".js-richrelevance-component");
        var dataAvailable = RR.data;
        if (dataAvailable) {
            ACC.richRelevanceRenderer.filterRecommendations(existingPlaceholders, RR.data.JSON.placements);
            ACC.richRelevanceDataLayerTracker.trackProductsToDataLayer(dataAvailable);
        } else {
            ACC.richRelevanceRenderer.fallbackAll(existingPlaceholders);
        }
        ACC.carousel.bindCarousel();
    },
    showFallback: function(name) {
        var divsforShow = $(".js-richrelevance-component[data-placement-name='" + name + "'].fallback");
        var divsforHide = $(".js-richrelevance-component[data-placement-name='" + name + "']:not(.fallback)");
        divsforShow.show();
        divsforHide.hide();
    },
    getPlacementForName: function(placements, name) {
        var toReturn;
        $(placements).each(function(i, value) {
            if (value.placement_name == name) {
                toReturn = value;
                return false;
            }
        });
        return toReturn;
    },
    fallbackAll: function(existingPlaceholders) {
        existingPlaceholders.each(function() {
            var placeholder = $(this);
            var placeholderName = placeholder.data('placement-name');
            ACC.richRelevanceRenderer.showFallback(placeholderName);
        });
    },
    filterRecommendations: function(existingPlaceholders, placements) {
        existingPlaceholders.each(function() {
            var placeholder = $(this);
            var placeholderName = placeholder.data('placement-name');
            var matchingPlacement = ACC.richRelevanceRenderer.getPlacementForName(placements, placeholderName);
            if (matchingPlacement) {
                ACC.richRelevanceRenderer.renderRecommendations(placeholder, matchingPlacement);
            } else {
                ACC.richRelevanceRenderer.showFallback(placeholderName);
            }
        });
    },
    renderRecommendationItem: function(renderItem) {
        var cssClass = renderItem.extraClass ? renderItem.extraClass : '';
        var position = renderItem.positionIndex ? renderItem.positionIndex : '';
        var itemDiv = $('<div class="product-item sideswipe__item js-quickviewlist js-trackingrichrelevanceclickedevent' + ' product-item--product-teaser ' + cssClass + '" data-productcode="' + renderItem.productCode + '" data-positionindex="' + position + '" role="option"></div>');
        var linkA = $('<a href="' + renderItem.productUrl + '" title="' + renderItem.productName + '"/>');
        var productPrimaryImage = '<img class="product-item__image js-quickviewlist-trigger js-lazyload" data-srcset="' + renderItem.primaryImageUrl + '" alt="' + renderItem.productName + '" title="' + renderItem.productName + '"/>';
        linkA.append(productPrimaryImage);
        linkA.append(ACC.richRelevanceRenderer.getItemInfoDiv(renderItem.productName, renderItem.productPrice, renderItem.salePrice));
        itemDiv.append(linkA);
        return itemDiv;
    },
    getItemInfoDiv: function(productName, productPrice, salePrice) {
        var itemInfoDiv = '<div class="product-item__text"><h4 class="headline headline--hl4 product-item__name">' + productName + '</h4>';
        if (salePrice) {
            itemInfoDiv += '<div class="product-item__text">' + '<div class="text text--copy14 force-color force-color--cardinal product-item__price-strike">' + productPrice + '</div></div> <br> <div class="text text--copy3 product-item__price">' + salePrice + '</div></div>';
        } else {
            itemInfoDiv += '<div class="text text--copy3 product-item__price">' + productPrice + '</div></div>';
        }
        return itemInfoDiv;
    },
    renderBuyTogetherItem: function(productCode, productName, productUrl, primaryImageUrl, productPrice, salePrice, extraClass, positionIndex) {
        var cssClass = extraClass ? extraClass : '';
        var itemDiv = $('<div class="product-item sideswipe__item js-quickviewlist product-item--product-bundle ' + 'js-trackingrichrelevanceclickedevent ' + cssClass + '" data-productcode="' + productCode + '" data-positionindex="' + positionIndex + '" role="option"></div>');
        var linkA = $('<a href=' + productUrl + ' title=' + productName + '/>');
        var productPrimaryImage = '<img class="product-item__image  js-quickviewlist-trigger js-lazyload" data-src="' + primaryImageUrl + '" alt="' + productName + '" title="' + productName + '"/>';
        linkA.append(productPrimaryImage);
        linkA.append(ACC.richRelevanceRenderer.getItemInfoDiv(productName, productPrice, salePrice));
        itemDiv.append(linkA);
        return itemDiv;
    },
    renderBuyTogether: function(componentContainer, placement) {
        var headerContainer = $('<h5 class="headline headline--hl5 text-center">' + placement.strategy_message + '</h5>');
        componentContainer.append(headerContainer);
        var carouselContainer = $('<div class="product-bundle" data-placementname="' + placement.placement_name + '"><div class="va-table"><div class="va-cell va-cell--top ' + 'product-bundle__column-left js-bundle-left" ></div> <div class="va-cell product-bundle__column-center">' + '<img class="product-bundle__plus" src="../../../_ui/responsive/theme-swarovski/images/icons/plus_black.svg"/>' + '<br/><br/><br/><br/></div><div class="va-cell va-cell--top product-bundle__column-right js-bundle-right"></div></div></div>');
        var seed = placement.seed;
        var seedItemContainer = ACC.richRelevanceRenderer.renderBuyTogetherItem(seed.id, seed.name, seed.link_url, seed.image_url, seed.price, 'js-rr-seed', 1);
        carouselContainer.find('.js-bundle-left').append(seedItemContainer);
        $(placement.items).each(function(i) {
            var itemDiv = ACC.richRelevanceRenderer.renderBuyTogetherItem(this.id, this.name, this.link_url, this.image_url, this.price, this.sale_price, '', i + 2);
            carouselContainer.find('.js-bundle-right').append(itemDiv);
            return false;
        });
        componentContainer.append(carouselContainer);
    },
    renderDefault: function(componentContainer, placement) {
        var max = componentContainer.data('max-num-items');
        var headerContainer = $('<div class="headline headline--hl5 text-center">' + placement.strategy_message + '</div>');
        componentContainer.append(headerContainer);
        var carouselContainer = $('<div class="product-teaser text-center" data-placementname="' + placement.placement_name + '"><div class="product-teaser__content product-teaser__content--left-alignment sideswipe js-sideswipe slide" role="listbox" tabindex="0">' + '<div class="product-teaser__products sideswipe__items js-sideswipe__items"></div><div class="sideswipe__left hidden-xs">\n' + '<div class="va-table"><div class="va-cell"><div class="link-wrapper"><a class="link link--arrow-carousel link--arrow-carousel-left" href="#" aria-label="' + ACC.rr_carouselAriaLabelPrev + '"><span class="link__icon link__icon--left"></span></a></div></div></div></div><div class="sideswipe__right hidden-xs"><div class="va-table"><div class="va-cell"><div class="link-wrapper"><a class="link link--arrow-carousel link--arrow-carousel-right" href="#" aria-label="' + ACC.rr_carouselAriaLabelNext + '"><span class="link__icon link__icon--left"></span></a></div></div></div></div></div></div>');
        $(placement.items).each(function(i) {
            var renderItem = {
                productCode: this.id,
                productName: this.name,
                productUrl: this.link_url,
                primaryImageUrl: this.image_url,
                productPrice: this.price,
                salePrice: this.sale_price,
                positionIndex: i + 1
            };
            var itemDiv = ACC.richRelevanceRenderer.renderRecommendationItem(renderItem);
            carouselContainer.find('.js-sideswipe__items').append(itemDiv);
            return i < max - 1;
        });
        componentContainer.append(carouselContainer);
    },
    renderHinted: function(componentContainer, placement) {
        var max = componentContainer.data('max-num-items');
        var arrowContainer = $('<div class="sideswipe__left hidden-xs"><div class="va-table"><div class="va-cell"><div class="link-wrapper"><a class="link link--arrow-carousel link--arrow-carousel-left" href="#" aria-label="' + ACC.rr_carouselAriaLabelPrev + '"><span class="link__icon link__icon--left"></span></a></div></div></div></div><div class="sideswipe__right hidden-xs"><div class="va-table"><div class="va-cell"><div class="link-wrapper"><a class="link link--arrow-carousel link--arrow-carousel-right" href="#" aria-label="' + ACC.rr_carouselAriaLabelNext + '"><span class="link__icon link__icon--left"></span></a></div></div></div></div>');
        var hintedContainer = $('<div class="row"><div class="col-sm-3 js-hinted-left-container" data-placementname="' + placement.placement_name + '"></div><div class="col-sm-9 js-hinted-right-container"></div></div>');
        var headline = placement.strategy_message.split('|');
        var seedHeadline = headline[0];
        var seedHeadlineContainer = $('<div class="product-teaser-hint"><div class="va-table"><div class="va-cell text-center"><h4 class="headline headline--hl4-dem js-hinted-headline"></h4></div></div></div>');
        seedHeadlineContainer.find('.js-hinted-headline').append(seedHeadline);
        hintedContainer.find('.js-hinted-left-container').append(seedHeadlineContainer);
        var seedItem = placement.seed;
        var seedRenderItem = {
            productCode: seedItem.id,
            productName: seedItem.name,
            productUrl: seedItem.link_url,
            primaryImageUrl: seedItem.image_url,
            productPrice: seedItem.price,
            extraClass: "js-rr-seed"
        };
        var seedItemContainer = ACC.richRelevanceRenderer.renderRecommendationItem(seedRenderItem);
        var seedContainer = $('<div class="product-teaser-hint-single-slider"><div class="product-teaser text-center"><div class="product-teaser__content sideswipe js-sideswipe slide" role="listbox" tabindex="0"><div class="product-teaser__products js-sideswipe-items sideswipe__items" role="listbox"></div></div></div></div>');
        seedContainer.find('.js-sideswipe-items').append(seedItemContainer);
        hintedContainer.find('.js-hinted-left-container').append(seedContainer);
        var carouselHeadline = headline[1];
        var carouselHeadlineContainer = $('<div class="product-teaser-hint"><div class="va-table"><div class="va-cell text-center"><h4 class="headline headline--hl4 js-hinted-headline"></h4></div></div></div>');
        carouselHeadlineContainer.find('.js-hinted-headline').append(carouselHeadline);
        hintedContainer.find('.js-hinted-right-container').append(carouselHeadlineContainer);
        var carouselItemContainer = $('<div class="product-teaser text-center"><div class="product-teaser__content sideswipe js-sideswipe slide" role="listbox" tabindex="0"><div class="product-teaser__products js-sideswipe-items sideswipe__items" role="listbox">');
        $(placement.items).each(function(i) {
            var renderItem = {
                productCode: this.id,
                productName: this.name,
                productUrl: this.link_url,
                primaryImageUrl: this.image_url,
                productPrice: this.price,
                positionIndex: i + 1
            };
            var itemDiv = ACC.richRelevanceRenderer.renderRecommendationItem(renderItem);
            carouselItemContainer.find('.js-sideswipe-items').append(itemDiv);
            return i < max - 1;
        });
        carouselItemContainer.find('.js-sideswipe').append(arrowContainer);
        hintedContainer.find('.js-hinted-right-container').append(carouselItemContainer);
        componentContainer.append(hintedContainer);
    },
    setProductPriceData: function(productCodes, placement) {
        $.ajax({
            url: ACC.config.richRelevanceTrackingPriceDataUrl,
            cache: false,
            type: 'GET',
            contentType: "application/json",
            async: false,
            data: {
                "products": productCodes
            },
            dataType: "json",
            success: function(result) {
                $(placement.items).each(function(i) {
                    if (result[this.id]) {
                        if (result[this.id].originalValue !== null) {
                            placement.items[i].sale_price = result[this.id].formattedValue;
                            placement.items[i].price = result[this.id].formattedOriginalValue;
                        } else {
                            placement.items[i].price = result[this.id].formattedValue;
                        }
                    }
                });
            }
        });
    },
    renderRecommendations: function(componentContainer, placement) {
        var codes = [];
        $(placement.items).each(function() {
            codes.push(this.id);
        });
        var productCodes = codes.toString();
        if (productCodes !== "") {
            ACC.richRelevanceRenderer.setProductPriceData(productCodes, placement);
        }
        if (placement.seed !== undefined) {
            if (placement.strategy_name === 'BuyTogether') {
                ACC.richRelevanceRenderer.renderBuyTogether(componentContainer, placement);
            } else {
                ACC.richRelevanceRenderer.renderHinted(componentContainer, placement);
            }
        } else {
            ACC.richRelevanceRenderer.renderDefault(componentContainer, placement);
        }
        if (typeof Sideswipe === 'function') {
            $(".js-sideswipe").each(function() {
                new Sideswipe({
                    container: this
                });
            });
        }
    }
};

ACC.richRelevanceDataLayerTracker = {
    _autoload: ["bindClickEvent"],
    bindClickEvent: function() {
        $(document).on("click", ".js-trackingrichrelevanceclickedevent", function() {
            $.ajax({
                url: ACC.config.richRelevanceTrackingDataLayerClickUrl,
                cache: false,
                type: 'GET',
                contentType: "application/json",
                data: {
                    "listId": $(this).closest("*[data-placementname]").attr("data-placementname"),
                    "listType": "productTeaserComponent",
                    "product": $(this).closest("*[data-productcode]").attr("data-productcode"),
                    "event": "productClick",
                    "position": $(this).closest("*[data-positionindex]").attr("data-positionindex")
                },
                dataType: "json",
                success: function(result) {
                    dataLayer.push(result);
                }
            });
        });
    },
    trackProductsToDataLayer: function(dataAvailable) {
        dataAvailable.JSON.placements.forEach(function(placement) {
            var productCodes = "";
            if (placement.seed) {
                productCodes += placement.seed.id ? placement.seed.id + "," : "";
            }
            placement.items.forEach(function(item) {
                productCodes += item.id + ",";
            });
            if (productCodes !== "") {
                $.ajax({
                    url: ACC.config.richRelevanceTrackingDataLayerUrl,
                    cache: false,
                    type: 'GET',
                    contentType: "application/json",
                    data: {
                        "listId": placement.placement_name,
                        "listType": "productTeaserComponent",
                        "products": productCodes,
                        "event": "productImpressions"
                    },
                    dataType: "json",
                    success: function(result) {
                        dataLayer.push(result);
                    }
                });
            }
        });
    }
};

(function($) {
    $.fn.giftCardConfigurator = function() {
        var MAX_TEXT_LENGTH = 350;
        var MAX_RECIPIENT_NAME_LENGTH = 50;
        var ANIMATED_SCROLL_SPEED = 500;
        var ANIMATED_SCROLL_MARGIN = 0;
        var $configurator = this;
        var $customValue = $configurator.find('.js-custom-value');
        var $valueField = $configurator.find('input[name="value"]');
        var $recipientName = $configurator.find('.js-recipient-name');
        var $recipientEmail = $configurator.find('.js-recipient-email');
        var $text = $configurator.find('.js-text');
        var $charCount = $configurator.find('.js-charcount');
        var $remainingChars = $configurator.find('.js-remaining-chars');
        var $amountSection = $configurator.find('.js-amounts');
        var $submit = $configurator.find('.js-submit');
        var minValue = parseInt($customValue.data('min'));
        var maxValue = parseInt($customValue.data('max'));
        var errorFieldMap = {
            'design': $submit,
            'value': $customValue,
            'recipientName': $recipientName,
            'recipientEmail': $recipientEmail,
            'text': $text,
            'general': $submit
        };
        var isDigitalTypeSelected = function() {
            return $configurator.find('.js-type:checked').hasClass('js-type-digital');
        };
        var showActiveTypePanel = function() {
            if ($configurator.find('.js-type:checked').hasClass('js-type-digital')) {
                $configurator.find('.js-panel-physical').addClass('hidden');
                $configurator.find('.js-panel-digital').removeClass('hidden');
            } else {
                $configurator.find('.js-panel-physical').removeClass('hidden');
                $configurator.find('.js-panel-digital').addClass('hidden');
            }
        };
        var toggleConfiguratorSteps = function(showStep, hideStep) {
            var hideClass = 'giftcard-step-container--hidden';
            hideStep.addClass(hideClass);
            showStep.removeClass(hideClass);
            ACC.common.scrollToElement(showStep, ANIMATED_SCROLL_MARGIN, ANIMATED_SCROLL_SPEED);
        };
        var validateType = function() {
            var valid = true;
            if (isDigitalTypeSelected()) {
                var recipientNameValue = $recipientName.val();
                if (recipientNameValue.length === 0 || recipientNameValue.length > MAX_RECIPIENT_NAME_LENGTH) {
                    ACC.forms.showError($recipientName);
                    valid = false;
                }
                if ($recipientEmail.val().length === 0) {
                    ACC.forms.showError($recipientEmail);
                    valid = false;
                }
            }
            return valid;
        };
        var validateText = function() {
            if (isDigitalTypeSelected()) {
                var value = $text.val();
                if (value.length > MAX_TEXT_LENGTH) {
                    ACC.forms.showError($text);
                    return false;
                }
            }
            return true;
        };
        var validateValue = function($field) {
            var value = $field.val();
            if (isNaN(value) || value < minValue || value > maxValue) {
                ACC.forms.showError($customValue);
                return false;
            } else {
                ACC.forms.hideError($customValue);
                return true;
            }
        };
        var handleSubmissionErrors = function(errors) {
            if (errors && errors.length > 0) {
                $.each(errors, function(index, value) {
                    var field = errorFieldMap[value];
                    if (!field) {
                        field = errorFieldMap.general;
                    }
                    ACC.forms.showError(field);
                });
            } else {
                ACC.forms.showError(errorFieldMap.general);
            }
            ACC.common.scrollToElement($amountSection, ANIMATED_SCROLL_MARGIN, ANIMATED_SCROLL_SPEED);
        };
        var handleSubmissionSuccess = function(data) {
            if (data.cartItems) {
                ACC.minicart.updateMiniCartItems(data.cartItems);
                ACC.common.scrollToElement('header', ANIMATED_SCROLL_MARGIN, ANIMATED_SCROLL_SPEED);
                ACC.cartFlyout.showCartFlyoutTemporarily();
            }
        };
        var submitForm = function() {
            $configurator.find('.js-submit').blockPost($configurator.attr('action'), $configurator.serialize()).done(function(data) {
                if (data && data.success) {
                    handleSubmissionSuccess(data);
                } else if (data) {
                    handleSubmissionErrors(data.errors);
                } else {
                    handleSubmissionErrors();
                }
            }).fail(function() {
                handleSubmissionErrors();
            });
        };
        $configurator.on('submit', function(e) {
            e.preventDefault();
            var valueValid = validateValue($valueField);
            var typeValid = validateType();
            var textValid = validateText();
            if (valueValid && typeValid && textValid) {
                submitForm();
            } else {
                ACC.common.scrollToElement($amountSection, ANIMATED_SCROLL_MARGIN, ANIMATED_SCROLL_SPEED);
            }
        });
        $configurator.on('click', '.js-select-images a', function(e) {
            e.preventDefault();
            var $this = $(this);
            var toggleClass = 'giftcard-steps__slider-link--selected';
            $configurator.find('.js-preview img').attr('src', $this.attr('href'));
            $configurator.find('input[name="design"]').val($this.data('design'));
            $configurator.find('.js-select-images a').removeClass(toggleClass);
            $configurator.find('#js-giftcard-dynamic-image').attr('src', $this.attr('href'));
            $this.addClass(toggleClass);
        });
        $configurator.on('click', '.js-amounts a', function(e) {
            e.preventDefault();
            var $this = $(this);
            var toggleClass = "giftcard-steps__value-link--selected";
            $customValue.val($this.data('value'));
            ACC.forms.hideError($customValue);
            $valueField.val($this.data('value'));
            $configurator.find('.js-amounts a').removeClass(toggleClass);
            $this.addClass(toggleClass);
        });
        $configurator.on('click', '.js-links a', function(e) {
            e.preventDefault();
            ACC.overlay.showOverlayForLink($(this));
        });
        $configurator.on('keydown', '.js-custom-value', function(e) {
            if (e.which === 13 || e.which === 8 || e.which === 37 || e.which === 39) {
                return true;
            }
            if (!(e.which >= 48 && e.which <= 57 || e.which >= 96 && e.which <= 105)) {
                e.preventDefault();
            }
        });
        $configurator.on('keyup', '.js-custom-value', function() {
            $configurator.find('.js-amounts a').removeClass('giftcard-steps__value-link--selected');
            validateValue($(this));
            $valueField.val($(this).val());
        });
        $configurator.on('change', '.js-type', function() {
            showActiveTypePanel();
        });
        $configurator.on('keyup', '.js-recipient-name, .js-recipient-email, .js-text', function() {
            ACC.forms.hideError($(this));
        });
        $configurator.on('click', '.js-giftcard-action', function(e) {
            e.preventDefault();
            var $this = $(this);
            var $hideStep = $this.closest('.js-giftcard-step');
            var getStepData = $this.data('giftcard-step-show');
            var $showStep = $configurator.find('.js-giftcard-step[data-giftcard-current-step="' + getStepData + '"]');
            toggleConfiguratorSteps($showStep, $hideStep);
        });
        showActiveTypePanel();
        return this;
    }
}(jQuery));
$(document).ready(function() {
    var $configurators = $('.giftcard-configurator');
    if ($configurators.length === 0) {
        return;
    }
    $.each($configurators, function() {
        $(this).giftCardConfigurator();
    });
});
/*
    ImageViewer v 1.1.3
    Author: Sudhanshu Yadav
    Copyright (c) 2015 to Sudhanshu Yadav - ignitersworld.com , released under the MIT license.
    Demo on: http://ignitersworld.com/lab/imageViewer.html
*/

!function(i, e, t, n) {
    "use strict";
    function a(i, e, t, n) {
        return i /= n,
        i--,
        -t * (i * i * i * i - 1) + e
    }
    function o(i) {
        return i.complete && ("undefined" == typeof i.naturalWidth || 0 !== i.naturalWidth)
    }
    function s(i, e) {
        this.container = i,
        this.onStart = e.onStart || h,
        this.onMove = e.onMove || h,
        this.onEnd = e.onEnd || h,
        this.sliderId = e.sliderId || "slider" + Math.ceil(1e6 * Math.random())
    }
    function r(e, t) {
        var n = this;
        e.is("#iv-container") && (n._fullPage = !0),
        n.container = e,
        t = n.options = i.extend({}, r.defaults, t),
        n.zoomValue = 100,
        e.find(".snap-view").length || e.prepend(v),
        e.addClass("iv-container"),
        "static" == e.css("position") && e.css("position", "relative"),
        n.snapView = e.find(".iv-snap-view"),
        n.snapImageWrap = e.find(".iv-snap-image-wrap"),
        n.imageWrap = e.find(".iv-image-wrap"),
        n.snapHandle = e.find(".iv-snap-handle"),
        n.zoomHandle = e.find(".iv-zoom-handle"),
        n._viewerId = "iv" + Math.floor(1e6 * Math.random())
    }
    var h = function() {}
      , m = i("body")
      , c = i(e)
      , l = i(t)
      , d = 15
      , u = 5;
    !function() {
        for (var i = 0, t = ["ms", "moz", "webkit", "o"], n = 0; n < t.length && !e.requestAnimationFrame; ++n)
            e.requestAnimationFrame = e[t[n] + "RequestAnimationFrame"],
            e.cancelAnimationFrame = e[t[n] + "CancelAnimationFrame"] || e[t[n] + "CancelRequestAnimationFrame"];
        e.requestAnimationFrame || (e.requestAnimationFrame = function(t, n) {
            var a = (new Date).getTime()
              , o = Math.max(0, 16 - (a - i))
              , s = e.setTimeout(function() {
                t(a + o)
            }, o);
            return i = a + o,
            s
        }
        ),
        e.cancelAnimationFrame || (e.cancelAnimationFrame = function(i) {
            clearTimeout(i)
        }
        )
    }();
    var v = '<div class="iv-loader"></div> <div class="iv-snap-view"><div class="iv-snap-image-wrap"><div class="iv-snap-handle"></div></div><div class="iv-zoom-slider"><div class="iv-zoom-handle"></div></div></div><div class="iv-image-view" ><div class="iv-image-wrap" ></div></div>';
    i(function() {
        m.length || (m = i("body")),
        m.append('<div id="iv-container">' + v + '<div class="iv-close"></div><div>')
    }),
    s.prototype.init = function() {
        var i = this
          , e = (this.container,
        "." + this.sliderId);
        return this.container.on("touchstart" + e + " mousedown" + e, function(t) {
            t.preventDefault();
            var n = ("touchstart" == t.type ? "touchmove" : "mousemove") + e
              , a = ("touchstart" == t.type ? "touchend" : "mouseup") + e
              , o = t.originalEvent
              , s = o.clientX || o.touches[0].clientX
              , r = o.clientY || o.touches[0].clientY
              , h = i.onStart(t, {
                x: s,
                y: r
            });
            if (h !== !1) {
                var m = function(e) {
                    e.preventDefault(),
                    o = e.originalEvent;
                    var t = o.clientX || o.touches[0].clientX
                      , n = o.clientY || o.touches[0].clientY;
                    i.onMove(e, {
                        dx: t - s,
                        dy: n - r,
                        mx: t,
                        my: n
                    })
                }
                  , c = function() {
                    l.off(n, m),
                    l.off(a, c),
                    i.onEnd()
                };
                l.on(n, m),
                l.on(a, c)
            }
        }),
        this
    }
    ,
    r.prototype = {
        constructor: r,
        _init: function() {
            function i(i) {
                t.snapView && (x || e.zoomValue <= 100 || !e.loaded || (clearTimeout(z),
                x = !0,
                e.snapView.css("opacity", 1),
                i || (z = setTimeout(function() {
                    e.snapView.css("opacity", 0),
                    x = !1
                }, 4e3))))
            }
            var e = this
              , t = e.options
              , n = !1
              , o = this.container
              , r = "." + e._viewerId
              , h = this.snapHandle
              , m = this.snapImageWrap
              , v = this.imageWrap
              , f = new s(m,{
                sliderId: e._viewerId,
                onStart: function() {
                    if (!e.loaded)
                        return !1;
                    var i = h[0].style;
                    this.curHandleTop = parseFloat(i.top),
                    this.curHandleLeft = parseFloat(i.left),
                    this.handleWidth = parseFloat(i.width),
                    this.handleHeight = parseFloat(i.height),
                    this.width = m.width(),
                    this.height = m.height(),
                    clearInterval(p.slideMomentumCheck),
                    cancelAnimationFrame(p.sliderMomentumFrame)
                },
                onMove: function(i, t) {
                    var n = this.curHandleLeft + 100 * t.dx / this.width
                      , a = this.curHandleTop + 100 * t.dy / this.height;
                    n = Math.max(0, n),
                    n = Math.min(100 - this.handleWidth, n),
                    a = Math.max(0, a),
                    a = Math.min(100 - this.handleHeight, a);
                    var o = e.containerDim
                      , s = e.imageDim.w * (e.zoomValue / 100)
                      , r = e.imageDim.h * (e.zoomValue / 100)
                      , m = s < o.w ? (o.w - s) / 2 : -s * n / 100
                      , c = r < o.h ? (o.h - r) / 2 : -r * a / 100;
                    h.css({
                        top: a + "%",
                        left: n + "%"
                    }),
                    e.currentImg.css({
                        left: m,
                        top: c
                    })
                }
            }).init()
              , p = e._imageSlider = new s(v,{
                sliderId: e._viewerId,
                onStart: function(i, t) {
                    if (!e.loaded)
                        return !1;
                    if (!n) {
                        var a = this;
                        f.onStart(),
                        a.imgWidth = e.imageDim.w * e.zoomValue / 100,
                        a.imgHeight = e.imageDim.h * e.zoomValue / 100,
                        a.positions = [t, t],
                        a.startPosition = t,
                        e._clearFrames(),
                        a.slideMomentumCheck = setInterval(function() {
                            a.currentPos && (a.positions.shift(),
                            a.positions.push({
                                x: a.currentPos.mx,
                                y: a.currentPos.my
                            }))
                        }, 50)
                    }
                },
                onMove: function(i, e) {
                    n || (this.currentPos = e,
                    f.onMove(i, {
                        dx: -e.dx * f.width / this.imgWidth,
                        dy: -e.dy * f.height / this.imgHeight
                    }))
                },
                onEnd: function() {
                    function i() {
                        60 >= s && (e.sliderMomentumFrame = requestAnimationFrame(i)),
                        r += a(s, t / 3, -t / 3, 60),
                        h += a(s, o / 3, -o / 3, 60),
                        f.onMove(null, {
                            dx: -(r * f.width / e.imgWidth),
                            dy: -(h * f.height / e.imgHeight)
                        }),
                        s++
                    }
                    if (!n) {
                        var e = this
                          , t = this.positions[1].x - this.positions[0].x
                          , o = this.positions[1].y - this.positions[0].y;
                        if (Math.abs(t) > 30 || Math.abs(o) > 30) {
                            var s = 1
                              , r = e.currentPos.dx
                              , h = e.currentPos.dy;
                            i()
                        }
                    }
                }
            }).init()
              , g = 0;
            v.on("mousewheel" + r + " DOMMouseScroll" + r, function(n) {
                if (t.zoomOnMouseWheel && e.loaded) {
                    e._clearFrames();
                    var a = Math.max(-1, Math.min(1, n.originalEvent.wheelDelta || -n.originalEvent.detail))
                      , s = e.zoomValue * (100 + a * d) / 100;
                    if (s >= 100 && s <= t.maxZoom ? g = 0 : g += Math.abs(a),
                    !(g > u)) {
                        n.preventDefault();
                        var r = o.offset()
                          , h = (n.pageX || n.originalEvent.pageX) - r.left
                          , m = (n.pageY || n.originalEvent.pageY) - r.top;
                        e.zoom(s, {
                            x: h,
                            y: m
                        }),
                        i()
                    }
                }
            }),
            v.on("touchstart" + r, function(i) {
                if (e.loaded) {
                    var t = i.originalEvent.touches[0]
                      , a = i.originalEvent.touches[1];
                    if (t && a) {
                        n = !0;
                        var s = o.offset()
                          , r = Math.sqrt(Math.pow(a.pageX - t.pageX, 2) + Math.pow(a.pageY - t.pageY, 2))
                          , h = e.zoomValue
                          , m = {
                            x: (a.pageX + t.pageX) / 2 - s.left,
                            y: (a.pageY + t.pageY) / 2 - s.top
                        }
                          , c = function(i) {
                            i.preventDefault();
                            var t = i.originalEvent.touches[0]
                              , n = i.originalEvent.touches[1]
                              , a = Math.sqrt(Math.pow(n.pageX - t.pageX, 2) + Math.pow(n.pageY - t.pageY, 2))
                              , o = h + (a - r) / 2;
                            e.zoom(o, m)
                        }
                          , d = function() {
                            l.off("touchmove", c),
                            l.off("touchend", d),
                            n = !1
                        };
                        l.on("touchmove", c),
                        l.on("touchend", d)
                    }
                }
            });
            var w, M = 0;
            v.on("click" + r, function(i) {
                0 == M ? (M = Date.now(),
                w = {
                    x: i.pageX,
                    y: i.pageY
                }) : Date.now() - M < 500 && Math.abs(i.pageX - w.x) < 50 && Math.abs(i.pageY - w.y) < 50 ? (e.zoomValue == t.zoomValue ? e.zoom(200) : e.resetZoom(),
                M = 0) : M = 0
            });
            var z, x, y = e.snapView.find(".iv-zoom-slider");
            new s(y,{
                sliderId: e._viewerId,
                onStart: function(i) {
                    return e.loaded ? (this.leftOffset = y.offset().left,
                    this.handleWidth = e.zoomHandle.width(),
                    void this.onMove(i)) : !1
                },
                onMove: function(i, n) {
                    var a = (i.pageX || i.originalEvent.touches[0].pageX) - this.leftOffset - this.handleWidth / 2;
                    a = Math.max(0, a),
                    a = Math.min(e._zoomSliderLength, a);
                    var o = 100 + (t.maxZoom - 100) * a / e._zoomSliderLength;
                    e.zoom(o)
                }
            }).init();
            v.on("touchmove" + r + " mousemove" + r, function() {
                i()
            });
            var D = {};
            D["mouseenter" + r + " touchstart" + r] = function() {
                x = !1,
                i(!0)
            }
            ,
            D["mouseleave" + r + " touchend" + r] = function() {
                x = !1,
                i()
            }
            ,
            e.snapView.on(D),
            t.refreshOnResize && c.on("resize" + r, function() {
                e.refresh()
            }),
            e._fullPage && (o.on("touchmove" + r + " mousewheel" + r + " DOMMouseScroll" + r, function(i) {
                i.preventDefault()
            }),
            o.find(".iv-close").on("click" + r, function() {
                e.hide()
            }))
        },
        zoom: function(i, e) {
            function t() {
                l++,
                20 > l && (n._zoomFrame = requestAnimationFrame(t));
                var h = a(l, s, i - s, 20)
                  , d = h / s
                  , g = n.imageDim.w * h / 100
                  , w = n.imageDim.h * h / 100
                  , M = -((e.x - m) * d - e.x)
                  , z = -((e.y - c) * d - e.y);
                M = Math.min(M, u),
                z = Math.min(z, v),
                f > M + g && (M = f - g),
                p > z + w && (z = p - w),
                r.css({
                    height: w + "px",
                    width: g + "px",
                    left: M + "px",
                    top: z + "px"
                }),
                n.zoomValue = h,
                n._resizeHandle(g, w, M, z),
                n.zoomHandle.css("left", (h - 100) * n._zoomSliderLength / (o - 100) + "px")
            }
            i = Math.round(Math.max(100, i)),
            i = Math.min(this.options.maxZoom, i),
            e = e || {
                x: this.containerDim.w / 2,
                y: this.containerDim.h / 2
            };
            var n = this
              , o = this.options.maxZoom
              , s = this.zoomValue
              , r = this.currentImg
              , h = this.containerDim
              , m = parseFloat(r.css("left"))
              , c = parseFloat(r.css("top"));
            n._clearFrames();
            var l = 0
              , h = n.containerDim
              , d = n.imageDim
              , u = (h.w - d.w) / 2
              , v = (h.h - d.h) / 2
              , f = h.w - u
              , p = h.h - v;
            t()
        },
        _clearFrames: function() {
            clearInterval(this._imageSlider.slideMomentumCheck),
            cancelAnimationFrame(this._imageSlider.sliderMomentumFrame),
            cancelAnimationFrame(this._zoomFrame)
        },
        resetZoom: function() {
            this.zoom(this.options.zoomValue)
        },
        _calculateDimensions: function() {
            var i = this
              , e = i.currentImg
              , t = i.container
              , n = i.snapView
              , a = e.width()
              , o = e.height()
              , s = t.width()
              , r = t.height()
              , h = n.innerWidth()
              , m = n.innerHeight();
            i.containerDim = {
                w: s,
                h: r
            };
            var c, l, d = a / o;
            c = a > o && r >= s || d * r > s ? s : d * r,
            l = c / d,
            i.imageDim = {
                w: c,
                h: l
            },
            e.css({
                width: c + "px",
                height: l + "px",
                left: (s - c) / 2 + "px",
                top: (r - l) / 2 + "px",
                "max-width": "none",
                "max-height": "none"
            });
            var u = c > l ? h : c * m / l
              , v = l > c ? m : l * h / c;
            i.snapImageDim = {
                w: u,
                h: v
            },
            i.snapImg.css({
                width: u,
                height: v
            }),
            i._zoomSliderLength = h - i.zoomHandle.outerWidth()
        },
        refresh: function() {
            this.loaded && (this._calculateDimensions(),
            this.resetZoom())
        },
        _resizeHandle: function(i, e, t, n) {
            var a = this.currentImg
              , o = i || this.imageDim.w * this.zoomValue / 100
              , s = e || this.imageDim.h * this.zoomValue / 100
              , r = Math.max(100 * -(t || parseFloat(a.css("left"))) / o, 0)
              , h = Math.max(100 * -(n || parseFloat(a.css("top"))) / s, 0)
              , m = Math.min(100 * this.containerDim.w / o, 100)
              , c = Math.min(100 * this.containerDim.h / s, 100);
            this.snapHandle.css({
                top: h + "%",
                left: r + "%",
                width: m + "%",
                height: c + "%"
            })
        },
        show: function(i, e) {
            this._fullPage && (this.container.show(),
            i && this.load(i, e))
        },
        hide: function() {
            this._fullPage && this.container.hide()
        },
        options: function(i, e) {
            return e ? void (this.options[i] = e) : this.options[i]
        },
        destroy: function(i, e) {
            var t = "." + this._viewerId;
            return this._fullPage ? (container.off(t),
            container.find('[class^="iv"]').off(t)) : this.container.remove('[class^="iv"]'),
            c.off(t),
            null
        },
        load: function(e, t) {
            function n() {
                a.loaded = !0,
                a.zoomValue = 100,
                h.show(),
                a.snapImg.show(),
                a.refresh(),
                a.resetZoom(),
                s.find(".iv-loader").hide()
            }
            var a = this
              , s = this.container;
            s.find(".iv-snap-image,.iv-large-image").remove();
            var r = this.container.find(".iv-snap-image-wrap");
            r.prepend('<img class="iv-snap-image" src="' + e + '" />'),
            this.imageWrap.prepend('<img class="iv-large-image" src="' + e + '" />'),
            t && this.imageWrap.append('<img class="iv-large-image" src="' + t + '" />');
            var h = this.currentImg = this.container.find(".iv-large-image");
            this.snapImg = this.container.find(".iv-snap-image"),
            a.loaded = !1,
            s.find(".iv-loader").show(),
            h.hide(),
            a.snapImg.hide(),
            o(h[0]) ? n() : i(h[0]).on("load", n)
        }
    },
    r.defaults = {
        zoomValue: 100,
        snapView: !0,
        maxZoom: 500,
        refreshOnResize: !0,
        zoomOnMouseWheel: !0
    },
    e.ImageViewer = function(e, t) {
        var n, a, o;
        e && ("string" == typeof e || e instanceof Element || e[0]instanceof Element) || (t = e,
        e = i("#iv-container")),
        e = i(e),
        e.is("img") ? (n = e,
        a = n[0].src,
        o = n.attr("high-res-src") || n.attr("data-high-res-src"),
        e = n.wrap('<div class="iv-container" style="display:inline-block; overflow:hidden"></div>').parent(),
        n.css({
            opacity: 0,
            position: "relative",
            zIndex: -1
        })) : (a = e.attr("src") || e.attr("data-src"),
        o = e.attr("high-res-src") || e.attr("data-high-res-src"));
        var s = new r(e,t);
        return s._init(),
        a && s.load(a, o),
        s
    }
    ,
    i.fn.ImageViewer = function(t) {
        return this.each(function() {
            var n = i(this)
              , a = e.ImageViewer(n, t);
            n.data("ImageViewer", a)
        })
    }
}(window.jQuery, window, document);

var screenMaxMobile = 759;
var popperQuickView = null;
var popperTooltip = null;
var popperSearchSuggestion = null;
var stMenuElements = null;
var deviceType = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'mobile' : 'desktop');
if ($.fn.slider) {
    $.fn.slider = null;
}
$(document).ready(function() {
    stMenuElements = $(".js-st-menu-element");
    var stMenuSelector = function(link) {
        stMenuElements.map(function(i, el) {
            if (!$(el).hasClass(link)) {
                $(el).addClass('hidden');
            } else {
                if ($(el).hasClass("hidden")) {
                    $(el).removeClass("hidden");
                }
            }
        });
    };
    var searchNavContainerClass = '.js-search-navigation-wrapper-demo'
      , searchContentClass = '.js-search-navigation-content-demo'
      , $searchInput = $(searchNavContainerClass).find(".js-search-navigation-demo")
      , $searchContent = $(searchNavContainerClass).find(searchContentClass);
    $searchInput.keyup(function() {
        var $closestSearchContent = $(this).closest(searchNavContainerClass).find(searchContentClass);
        if (this.value.length >= 2) {
            $closestSearchContent.removeClass("hidden");
        } else {
            $closestSearchContent.addClass("hidden");
        }
    });
    $searchInput.blur(function() {
        if (!$('.user-is-tabbing').find('.js-search-navigation-demo.isFocused').length) {
            $searchContent.addClass("hidden");
        }
    });
    $(document).on('click', function(event) {
        if (!$(event.target).hasClass('js-search-navigation-demo')) {
            $searchContent.addClass("hidden");
        }
    });
    function closeSearchFlyout() {
        if (!$(searchNavContainerClass).find('.isFocused').length) {
            $searchContent.addClass("hidden");
        }
        if (!$('.js-search-navigation-container').find('.isFocused').length) {
            $('.js-search-items-container').addClass('hidden');
        }
    }
    $(".js-content-stage-media").on("click", ".js-play-link", function() {
        var play = $(this);
        play.off("click");
        play.fadeOut(250, function() {
            var media = play.parents(".content-stage-item__media");
            var $itemContainer = play.closest(".content-stage-item");
            var video = media.find(".content-stage-item__video");
            var iframe = media.find(".content-stage-item__iframe");
            iframe.attr("src", "https://www.youtube.com/embed/" + video.attr("data-youtube-code") + "?autoplay=1&rel=0");
            video.removeClass("hidden");
            $itemContainer.parents(".roundabound.slide").removeClass("slide");
            media.find('.roundabound__right, .roundabound__left').addClass('roundabound--video-control');
        });
    });
    $(".teaser-wide__image-wrapper .link--play").on("click", function() {
        var playbutton = $(this);
        playbutton.off("click");
        playbutton.fadeOut(250, function() {
            var div = playbutton.parents(".teaser-wide__media");
            var divImage = div.find(".teaser-wide__image");
            var divVideo = div.find(".teaser-wide__video");
            var iframe = divVideo.find(".teaser-wide__iframe");
            iframe.attr("src", "https://www.youtube.com/embed/" + div.attr("data-youtube-code") + "?autoplay=1&rel=0");
            iframe.fadeIn(250);
            divImage.fadeOut(250);
        });
    });
    $(".context-menu__area").click(function(e) {
        e.stopPropagation();
    });
    $(".context-menu, .link--arrow-back, .link--hamburger, .header__logo-positioning-absolute img").click(function() {
        if ($(".context-menu").is(":visible")) {
            $(".context-menu").hide();
        } else {
            $(".context-menu").show();
        }
    });
    $('.checkbox').click(function() {
        $(this).toggleClass('checked');
    });
    $(".js-validation-demo").off("click").on("click", function() {
        var demoForm = $(this).parents(".validation-demo");
        var formMolecules = demoForm.find(".form-molecule, .form-combo-molecule");
        formMolecules.each(function() {
            var molecule = $(this);
            molecule.removeClass("invalid valid");
            if ((Math.random() * 2) > 1) {
                molecule.addClass("invalid");
            } else {
                molecule.addClass("valid");
            }
        });
        demoForm.removeClass("invalid valid");
        if ((Math.random() * 2) > 1) {
            demoForm.addClass("invalid");
        } else {
            demoForm.addClass("valid");
        }
    });
    $(".js-tab-navigation-demo").off("click").on("click", function() {
        var tab = $(this).parents(".tab-navigation");
        if (tab.hasClass("tab-navigation--standard")) {
            tab.removeClass("tab-navigation--standard").addClass("tab-navigation--large");
            $(".js-tab-navigation-demo").val("toggle tab navigation style to standard");
        } else {
            tab.removeClass("tab-navigation--large").addClass("tab-navigation--standard");
            $(".js-tab-navigation-demo").val("toggle tab navigation style to large");
        }
        $(window).trigger("resize");
    });
    $(".js-show-spinner-demo").on("click", function() {
        $(".js-spinner-demo-animation").removeClass("hidden");
    });
    $('.js-st-menu-trigger').click(function() {
        $(".st-vertical-offset").css({
            "height": $(this).offset().top
        });
        var link = $(this).data("menu-item");
        stMenuSelector(link);
        $(".st-container").addClass("st-menu-open");
    });
    $(".js-product-list__st-filter").click(function() {
        $(".st-vertical-offset").css({
            "height": $(this).offset().top
        });
        $(".st-container").addClass("st-menu-open");
    });
    $(".js-product-list__st-sort").click(function() {
        $(".st-vertical-offset").css({
            "height": $(this).offset().top
        });
        $(".st-container").addClass("st-menu-open-right");
    });
    $('.mobile-filter__apply-filter').click(function() {
        $('.st-container').removeClass('st-menu-open');
    });
    $(".st-close, .st-pusher__overlay").click(function() {
        $(".st-container").removeClass("st-menu-open st-menu-open-right");
    });
    $(window).resize(function() {
        if ($(window).width() > screenMaxMobile) {
            $('.st-container').removeClass('st-menu-open st-menu-open-right');
        }
    });
    $('.select-option').click(function() {
        $('.select-option').toggleClass('select-option__background-inverse');
    });
    var mapArrow = $('.store-locator__listview-arrow').find('.link--arrow');
    var storeLocatorInput = $('.store-locator__input-field').find('.form-input-text__input');
    var showListView = function() {
        $(mapArrow).addClass('link--arrow-left').removeClass('link--arrow-right');
        $('.store-locator__listview').addClass('store-locator__listview--active');
        $('.store-locator__listview-arrow').addClass('store-locator__listview-arrow--active');
        setTimeout(function() {
            $('.store-locator__information').addClass('store-locator__information--active');
        }, 300);
        $('.store-locator__information').css('display', 'block');
    };
    var hideListView = function() {
        $(mapArrow).addClass('link--arrow-right').removeClass('link--arrow-left');
        $('.store-locator__information').removeClass('store-locator__information--active');
        setTimeout(function() {
            $('.store-locator__listview').removeClass('store-locator__listview--active');
            $('.store-locator__listview-arrow').removeClass('store-locator__listview-arrow--active');
        }, 250);
    }
    var openListView = function() {
        $('.store-locator__search-field').removeAttr('style');
        showListView()
    }
    openListView();
    $(document).on('click', '.store-locator__listview-arrow', function() {
        if ($('.store-locator__listview').hasClass('store-locator__listview--active')) {
            hideListView();
        } else {
            showListView();
        }
    })
    $(document).on('click', '.store-locator__filter-button', function() {
        $('.button__text').toggleClass('button__text--active');
    })
    $(storeLocatorInput).focus(function() {
        if ($(window).width() <= screenMaxMobile) {
            $('.store-locator__search-field').addClass('store-locator__search-field--active');
            openListView();
        }
    });
    $(storeLocatorInput).keydown(function() {
        $('.store-locator__suggestion-box').addClass('store-locator__suggestion-box--active');
    });
    $(storeLocatorInput).focusout(function() {
        $('.store-locator__suggestion-box').removeClass('store-locator__suggestion-box--active');
        if ($(window).width() <= screenMaxMobile) {
            $('.store-locator__search-field').removeClass('store-locator__search-field--active');
            openListView();
        }
    });
    $(".js-sticky-header-demo").off("click").on("click", function() {
        var header = $('header');
        var nextElement = header.next();
        if (header.hasClass('header--sticky')) {
            header.removeClass('header--sticky');
            nextElement.removeClass('sticky-content');
            $(".js-sticky-header-demo").val('enable sticky header');
        } else {
            header.addClass('header--sticky');
            nextElement.addClass('sticky-content');
            $(".js-sticky-header-demo").val('disable sticky header');
        }
    });
    function handleStickyContainer() {
        if ($('.sticky-disabler').isInViewport()) {
            $('.sticky-container').fadeOut();
        } else {
            if ($(window).scrollTop() > 0) {
                $('.sticky-container').fadeIn();
            } else {
                $('.sticky-container').fadeOut();
            }
        }
    }
    if ($('.sticky-disabler').length > 0) {
        $(window).on('DOMContentLoaded load resize scroll', function() {
            if ($('.order-summary-mobile').length > 0) {
                handleStickyContainer();
            } else if (window.innerWidth <= screenMaxMobile) {
                handleStickyContainer();
            }
        });
    }
    var stickyElements = $('.sticky');
    Stickyfill.add(stickyElements);
    $('a[data-scroll-target]').click(function() {
        var target = $(this).attr("data-scroll-target");
        if (target.length > 1) {
            $("html, body").animate({
                "scrollTop": ($(target).offset().top - 50)
            }, 1000);
        }
    });
    $(document).on('click', '.js-form-popup-example-1', function() {
        swal({
            title: 'Title'
        });
    });
    $(document).on('click', '.js-form-popup-example-2', function() {
        swal({
            title: 'Title',
            text: 'Lorem ipsum dolor sit ....',
            showCancelButton: true
        });
    });
    var markup = "";
    $(document).on('click', '.js-form-popup-example-3', function() {
        var popupHtml = $(this).data('popup-target');
        if (!popupHtml) {
            return;
        }
        swal({
            showConfirmButton: false,
            html: $(popupHtml).html(),
            customClass: "swal2-popup",
            onOpen: function() {
                $(".swal2-content .js-fold-out").each(function() {
                    if ($(this).hasClass("js-popup-foldout")) {
                        new FoldOut({
                            container: this
                        });
                    }
                });
                $(".swal2-content .form-input-password").each(function() {
                    new FormsInputPassword({
                        container: this
                    });
                });
                if ($('.beswarovski__login-details').length > 0) {
                    var height = $('.beswarovski__login-details').height();
                    $('.js-beswarovski__form-spacing').css("height", height);
                }
            },
            onClose: function() {
                if (markup !== "") {
                    markup.appendTo("body");
                    markup = "";
                }
            }
        });
        markup = $(popupHtml);
        $(popupHtml).detach();
    });
    $(document).on('click', '.js-form-popup-not-dismissable', function() {
        var popupHtml = $(this).data('popup-target');
        swal({
            showConfirmButton: false,
            html: $(popupHtml).html(),
            customClass: "swal2-popup",
            allowEscapeKey: false,
            allowOutsideClick: false
        });
        markup = $(popupHtml);
        $(popupHtml).detach();
    });
    $(document).on('click', '.js-form-popup-close', function() {
        if (markup !== "") {
            markup.appendTo("body");
            markup = "";
        }
    });
    var getInputField1Wrapper = $(window).width() > screenMaxMobile ? '.js-engraving-input-1' : '.js-engraving-mobile-input-1'
      , getInputField2Wrapper = $(window).width() > screenMaxMobile ? '.js-engraving-input-2' : '.js-engraving-mobile-input-2'
      , getInputField1 = getInputField1Wrapper + ' input'
      , getInputField2 = getInputField2Wrapper + ' input'
      , $getFakeEl = $('.js-calc-text-width');
    function checkInputErrorState(errorState, sel) {
        var errorClass = "has-error";
        if (errorState) {
            $(sel).addClass(errorClass);
            setTimeout(function() {
                $(sel).removeClass(errorClass);
            }, 1500);
        }
    }
    function checkMaxInputLength(sel) {
        var getContainerMaxWidth = $('.engraving-item__text-preview-container').width(), getInputValField = $(sel).closest(getInputField1Wrapper).length ? '.js-upper-field' : '.js-bottom-field', getInputValWidth = $getFakeEl.width(), getInputVal = $(sel).val(), getTextLength = getInputVal.length, validTextValue, getInputValUpdated, errorState = false;
        for (var i = getTextLength; i > 0; i--) {
            getInputValWidth = $getFakeEl.width();
            if (getInputValWidth >= getContainerMaxWidth) {
                getInputValUpdated = $(sel).val();
                validTextValue = getInputValUpdated.substring(0, getInputValUpdated.length - 1);
                $(sel).val(validTextValue);
                $getFakeEl.html(validTextValue);
                $(getInputValField).html(validTextValue);
                errorState = true;
                checkInputErrorState(errorState, sel);
            } else {
                return;
            }
        }
    }
    $(document).on('click', '.js-font-select-1, .js-font-select-2', function() {
        var $self = $(this)
          , $fontSwitch = $('.js-font-switch')
          , fontNimbus = 'font-nimbus-roman'
          , fontBank = 'font-bank-script';
        if ($self.hasClass('js-font-select-1')) {
            $fontSwitch.removeClass(fontBank).addClass(fontNimbus);
        } else {
            $fontSwitch.removeClass(fontNimbus).addClass(fontBank);
        }
        $(getInputField1 + ',' + getInputField2).keyup();
    });
    $(document).on('keyup paste', getInputField1 + ',' + getInputField2, function() {
        var $firstField = $('.js-upper-field')
          , $secondField = $('.js-bottom-field')
          , $textPreviewBlock = $('.engraving-item__text-preview-block')
          , textRegularMarginCss = 'engraving-item__text-preview-block--regular-margin'
          , textBigMarginCss = 'engraving-item__text-preview-block--big-margin'
          , $self = $(this);
        if ($self.closest(getInputField1Wrapper).length) {
            $firstField.html($self.val());
            $getFakeEl.html($self.val());
        } else {
            $secondField.html($self.val());
            $getFakeEl.html($self.val());
        }
        if ($(getInputField2).val() === '') {
            $textPreviewBlock.addClass(textBigMarginCss).removeClass(textRegularMarginCss);
        } else {
            $textPreviewBlock.addClass(textRegularMarginCss).removeClass(textBigMarginCss);
        }
        checkMaxInputLength($self);
    });
    function changeSliderValues(currentValues) {
        var getVal = currentValues.split(',');
        $('.js-price-range-min').each(function() {
            $(this).val(getVal[0]);
        });
        $('.js-price-range-max').each(function() {
            $(this).val(getVal[1]);
        });
    }
    $('.js-price-slider-demo').each(function() {
        var bootstrapSlider = $(this).bootstrapSlider({
            tooltip: 'hide'
        });
        $(this).bind('change', function() {
            changeSliderValues($(this).val());
        });
    });
    function setZoomContainerCss() {
        $(window).resize(function() {
            var windowWidth = $(window).width();
            var windowHeight = $(window).height();
            $(".js-zoom").css({
                'width': windowWidth,
                'height': windowHeight
            });
        })
    }
    $(document).on("click", ".js-product-gallery-overlay-demo", function(e) {
        e.preventDefault();
        if ($(window).width() > screenMaxMobile) {
            var windowWidth = $(window).width();
            var windowHeight = $(window).height();
            $(".js-zoom").css({
                'width': windowWidth,
                'height': windowHeight
            });
            var html = $(this).closest(".js-product-detail-view").find(".js-zoom-wrapper").html();
            swal({
                showConfirmButton: false,
                showCloseButton: true,
                html: html,
                customClass: 'js-product-detail-view__zoom-overlay product-detail-view__zoom-overlay',
                animation: false,
                onOpen: function() {
                    var $getOverlayWrapper = $('.swal2-container');
                    $('#swal2-title').remove();
                    $getOverlayWrapper.css({
                        'padding': '0'
                    });
                    var zoomDiv = $getOverlayWrapper.find(".js-zoom");
                    zoomDiv.removeClass('hidden');
                    $(".js-overlay-gallery-pdp-image").removeClass('hidden');
                    setZoomContainerCss();
                },
                onClose: function() {
                    $(".js-overlay-gallery-pdp-image").addClass('hidden');
                }
            });
        }
    });
    if ($(window).width() > screenMaxMobile) {
        var $accessBox = $("#js-accesskey-box")
          , $getLinks = $accessBox.find('a');
        $getLinks.first().on("focus", function() {
            $accessBox.removeClass("sr-only");
        });
        $getLinks.last().on("focusout", function() {
            $accessBox.addClass("sr-only");
        });
    }
    $('.js-navigation-tab').each(function() {
        var $self = $(this)
          , getItemData = $self.data('navigation-tab');
        if (getItemData && $('[data-navigation-content="' + getItemData + '"]').length) {
            $self.find('a').attr('aria-haspopup', "true");
        }
    });
    function triggerMainNavFlyout(e) {
        var getKey = e.keyCode || e.which
          , $getNavLinks = $('.link--main-nav.isFocused, .link--main-nav .isFocused');
        if ($getNavLinks.length && getKey === 9) {
            var activeElement = e.currentTarget.activeElement
              , $getNavigationTab = $(activeElement).closest('.js-navigation-tab')
              , nextIndex = $getNavigationTab.next().data('navigation-tab')
              , $getSearchInput = $('#main-navigation').find('.js-search-form, .js-search-navigation-demo')
              , getNextNavPageIndex = $('.js-navigation-page:not(".hidden")').next().data('navigation-page')
              , $getNextNavPage = $('.js-navigation-page[data-navigation-page="' + getNextNavPageIndex + '"]')
              , $getFirstNavItem = $getNextNavPage.find('.js-navigation-tab').first();
            $getNavigationTab.trigger('mouseenter');
            var $getOpenFlyout = $('.main-navigation__fly-out.active')
              , $getActiveFlyoutLink = $getOpenFlyout.find('a');
            $getNavLinks.on('focusout', function() {
                $getActiveFlyoutLink.first().trigger('focus');
                if (!($(this).closest('.js-navigation-tab').next().length) && !($getNextNavPage.length) && !($(this).hasClass('link--main-nav-more-left')) && !$getOpenFlyout.length) {
                    $(window).trigger('resize');
                    $getSearchInput.focus();
                }
            });
            $getActiveFlyoutLink.last().on('focusout', function() {
                $getOpenFlyout.removeClass('active');
                if (nextIndex) {
                    $('.js-navigation-page [data-navigation-tab="' + nextIndex + '"]').find('a').trigger('focus');
                } else if ($getNextNavPage.length) {
                    $('.link--main-nav-more-right').focus();
                    $getFirstNavItem.find('a').focus();
                } else {
                    $(window).trigger('resize');
                    $getSearchInput.focus();
                }
            });
        }
    }
    $(document).on("mouseenter", "a", function() {
        $(this).attr("rel", $(this).attr("title"));
        $(this).removeAttr("title");
    });
    $(document).on("mouseleave", "a", function() {
        $(this).attr("title", $(this).attr("rel"));
        $(this).removeAttr("rel");
    });
    $(document).on("click", ".js-mobile-zoom", function(e) {
        e.preventDefault();
        var imgSrc = $(this).css("background-image").replace('url("', '').replace('")', '')
          , highResolutionImage = $(this).data('image-zoom');
        ImageViewer({
            snapView: false
        }).show(imgSrc, highResolutionImage);
    });
    $(document).on("click", ".js-product-detail-view__zoom-overlay", function() {
        swal.close();
    });
    $(document).on('change', 'input[type=email]', function() {
        $(this).val($(this).val().toLowerCase());
    });
    function handleFirstTab(e) {
        if (e.keyCode === 9) {
            $("body").addClass("user-is-tabbing");
            window.removeEventListener('keydown', handleFirstTab);
            window.addEventListener('mousedown', handleMouseDownOnce);
        }
    }
    function handleMouseDownOnce() {
        $("body").removeClass("user-is-tabbing");
        window.removeEventListener('mousedown', handleMouseDownOnce);
        window.addEventListener('keydown', handleFirstTab);
    }
    function setFocusedElement(e) {
        $('.isFocused').removeClass('isFocused');
        $(document.activeElement).addClass('isFocused');
        initAfterActiveSet(e);
    }
    $(document).on('keydown', function(e) {
        handleFirstTab(e);
        setFocusedElement(e);
    });
    function initAfterActiveSet(e) {
        closeSearchFlyout();
        triggerMainNavFlyout(e);
    }
});

var carouselSpeed = 3000;
var screenMaxMobile = 759;
var screenMaxSmall = 1024;
function AutoHidePlaceholders() {
    $("input[type=text]").off("focusin").on("focusin", function() {
        var formInput = $(this);
        if (formInput.attr("placeholder") && formInput.attr("placeholder").length > 0) {
            formInput.data("hidden-placeholder", formInput.attr("placeholder"));
            formInput.removeAttr("placeholder");
        }
    }).off("focusout").on("focusout", function() {
        var formInput = $(this);
        if (formInput.data("hidden-placeholder") && formInput.data("hidden-placeholder").length > 0) {
            formInput.attr("placeholder", formInput.data("hidden-placeholder"));
            formInput.removeData("hidden-placeholder");
        }
    });
}
function FoldOut(parameters) {
    var config = {
        delay: 250,
        fancy: false
    };
    var elements = {
        container: null,
        parent: null,
        target: null,
        trigger: null
    };
    function toggle() {
        if (elements.target.hasClass("active")) {
            elements.target.slideUp(config.delay, function() {
                $(this).removeClass("active");
            });
            elements.trigger.removeClass("active").attr("aria-expanded", "false");
        } else {
            if (elements.parent !== null && !elements.parent.hasClass("multiple")) {
                elements.parent.find(".fold-out-target.active").slideUp(config.delay, function() {
                    $(this).removeClass("active");
                    $(document).scrollTop(elements.parent.find(".fold-out-target.active").prev().offset().top, config.delay);
                });
                if (elements.parent.hasClass("fold-out-exclusive-checkboxes")) {
                    elements.parent.find(".fold-out-trigger.form-checkbox.active").removeAttr("checked");
                }
                elements.parent.find(".fold-out-trigger.active").removeClass("active");
            }
            if (elements.target.children().length > 0) {
                if (!config.fancy) {
                    elements.target.children().css({
                        "opacity": 0
                    });
                } else {
                    elements.target.children().css({
                        "margin-left": "-10px",
                        "opacity": 0
                    });
                }
                elements.target.slideDown(config.delay).addClass("active");
                elements.target.children().each(function(index, element) {
                    if (!config.fancy) {
                        $(element).delay((index + 1) * config.delay / elements.target.children().length).animate({
                            "opacity": 1
                        }, config.delay);
                    } else {
                        $(element).delay((index + 1) * config.delay / elements.target.children().length).animate({
                            "margin-left": 0,
                            "opacity": 1
                        }, config.delay);
                    }
                });
            } else {
                elements.target.slideDown(config.delay).addClass("active");
            }
            elements.trigger.addClass("active").attr("aria-expanded", "true");
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-fold-out");
        elements.target = $(elements.container.find(".fold-out-target")[0]);
        elements.trigger = $(elements.container.find(".fold-out-trigger")[0]);
        elements.trigger.off("click").on("click", toggle);
        if (!elements.trigger.find('a').length) {
            elements.trigger.attr("tabindex", 0).attr("role", "button");
        }
        elements.trigger.off("keydown").on("keydown", function(keyboardEvent) {
            if (keyboardEvent.keyCode === 32) {
                keyboardEvent.preventDefault();
            }
        });
        elements.trigger.off("keyup").on("keyup", function(keyboardEvent) {
            if (keyboardEvent.keyCode === 13 || keyboardEvent.keyCode === 32) {
                $(this).click();
            }
        });
        elements.parent = elements.container.parents(".fold-out-group")[0];
        if (elements.parent === undefined) {
            elements.parent = null;
        } else {
            elements.parent = $(elements.parent);
        }
        var delay = parseInt(elements.container.attr("data-fold-out-delay"), 10);
        if (!isNaN(delay)) {
            config.delay = delay;
        }
        if (elements.container.attr("data-fold-out-fancy") === "true") {
            config.fancy = true;
        }
    }
    setup();
}
function FormsReset(parameters) {
    var elements = {
        container: null,
        form: null
    };
    function resetForm() {
        elements.form[0].reset();
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-reset");
        elements.form = $(elements.container.parents("form"));
        if (elements.form.length > 0) {
            elements.container.off("click").on("click", resetForm);
        }
    }
    setup();
}
function FormsInputAmount(parameters) {
    var elements = {
        container: null,
        input: null,
        minus: null,
        plus: null
    };
    function check() {
        var value = elements.input.val();
        if (value === "") {
            elements.minus.removeClass("active");
            elements.plus.addClass("active");
        } else {
            var numbersOnly = /[0-9]+/g;
            if (numbersOnly.test(value)) {
                var numValue = parseInt(value, 10);
                if (numValue < 1) {
                    elements.minus.removeClass("active");
                    elements.plus.addClass("active");
                } else {
                    elements.minus.addClass("active");
                    elements.plus.addClass("active");
                }
            } else {
                elements.minus.removeClass("active");
                elements.plus.removeClass("active");
            }
        }
    }
    function minus() {
        if (elements.minus.hasClass("active")) {
            var value = elements.input.val();
            var numValue = parseInt(value, 10);
            if (!isNaN(numValue) && numValue > 0) {
                elements.input.val(--numValue);
                check();
            }
        }
    }
    function plus() {
        if (elements.plus.hasClass("active")) {
            var value = elements.input.val();
            var numValue = parseInt(value, 10);
            if (isNaN(numValue) && value === "") {
                elements.input.val("1");
                check();
            } else {
                elements.input.val(++numValue);
                check();
            }
        }
    }
    function inputKeydown(keyboardEvent) {
        switch (keyboardEvent.key) {
        case "Alt":
        case "ArrowLeft":
        case "ArrowRight":
        case "Backspace":
        case "CapsLock":
        case "Control":
        case "Del":
        case "Delete":
        case "End":
        case "Enter":
        case "Home":
        case "Insert":
        case "Left":
        case "NumLock":
        case "Right":
        case "Scroll":
        case "ScrollLock":
        case "Shift":
        case "Tab":
        case "0":
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
            break;
        case "-":
        case "ArrowDown":
        case "Down":
        case "PageDown":
        case "Subtract":
            keyboardEvent.preventDefault();
            minus();
            break;
        case "+":
        case "Add":
        case "ArrowUp":
        case "PageUp":
        case "Up":
            keyboardEvent.preventDefault();
            plus();
            break;
        default:
            keyboardEvent.preventDefault();
            check();
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-input-amount");
        elements.input = $(elements.container.find(".form-input-amount__input")[0]);
        elements.minus = $(elements.container.find(".form-input-amount__minus")[0]);
        elements.plus = $(elements.container.find(".form-input-amount__plus")[0]);
        elements.input.off("keydown").on("keydown", inputKeydown);
        elements.input.off("keyup").on("keyup", check);
        elements.minus.off("click").on("click", minus);
        elements.plus.off("click").on("click", plus);
        check();
    }
    setup();
}
function FormsInputClearable(parameters) {
    var elements = {
        clear: null,
        container: null,
        input: null
    };
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-input-clearable");
        elements.clear = $(elements.container.find(".form-input-clearable__clear")[0]);
        elements.input = $(elements.container.find(".form-input-clearable__input")[0]);
        elements.clear.off("click").on("click", function() {
            elements.input.val("");
        });
    }
    setup();
}
function handleFormInputPassword() {
    $(".js-form-input-password").each(function() {
        new FormsInputPassword({
            container: this
        });
    });
}
function FormsInputPassword(parameters) {
    var elements = {
        container: null,
        eye: null,
        input: null
    };
    function toggle() {
        if (elements.input.attr("type") === "text") {
            elements.input.attr("type", "password");
            elements.eye.removeClass("active");
        } else {
            elements.input.attr("type", "text");
            elements.eye.addClass("active");
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-input-password");
        elements.eye = $(elements.container.find(".form-input-password__eye")[0]);
        elements.input = $(elements.container.find(".form-input-password__input")[0]);
        elements.eye.off("click").on("click", toggle);
    }
    setup();
}
function FormsShowOnInput(parameters) {
    var elements = {
        container: null,
        form: null,
        target: null
    };
    function check() {
        if (elements.target.css("display") === "none" && elements.container.val().length > 0) {
            elements.target.stop().css({
                "display": "block",
                "opacity": 0
            }).animate({
                "opacity": 1
            }, 250);
        } else if (elements.target.css("display") === "block" && elements.container.val().length < 1) {
            elements.target.stop().animate({
                "opacity": 0
            }, 250, function() {
                elements.target.css({
                    "display": "none"
                });
            });
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-show-on-input");
        elements.form = elements.container.parents("form");
        if (elements.form.length === 1) {
            elements.form = $(elements.form[0]);
            elements.target = elements.form.find(".forms-show-on-input");
            if (elements.target.length > 0) {
                elements.container.on("keyup", check);
            }
        }
    }
    setup();
}
function FormsTextarea(parameters) {
    var config = {
        left: null,
        linePlural: null,
        lineReached: null,
        lineSingular: null,
        max: null,
        now: null
    };
    var elements = {
        container: null,
        maxlength: null,
        textarea: null
    };
    function change() {
        var line;
        var newLines = elements.textarea.val().match(/(\r\n|\n|\r)/g);
        var numberOfNewLines = 0;
        if (newLines != null) {
            numberOfNewLines = newLines.length;
        }
        config.now = elements.textarea.val().length + numberOfNewLines;
        config.left = config.max - config.now;
        if (config.now >= config.max) {
            line = config.lineReached;
        } else {
            if (config.left > 1) {
                line = config.linePlural;
            } else {
                line = config.lineSingular;
            }
        }
        elements.maxlength.text(line.replace("[X]", config.left));
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-form-textarea");
        elements.maxlength = $(elements.container.find(".form-textarea__maxlength")[0]);
        elements.textarea = $(elements.container.find(".form-textarea__textarea")[0]);
        config.max = parseInt(elements.textarea.attr("maxlength"), 10);
        if (!isNaN(config.max) && config.max > 0) {
            config.linePlural = elements.maxlength.attr("data-line-plural") || "[X] characters left";
            config.lineReached = elements.maxlength.attr("data-line-reached") || "maximum of {{inputMaxLength}} characters reached";
            config.lineSingular = elements.maxlength.attr("data-line-singular") || "[X] character left";
            elements.textarea.off("keyup").on("keyup", change);
            change();
        }
    }
    setup();
}
function MainNavigationMore(parameters) {
    var config = {
        page: 0,
        pages: 0,
        resizeDelay: 250,
        resizeTimeout: null
    };
    var elements = {
        container: null,
        group: null,
        moreLeft: null,
        moreRight: null,
        containerWidth: null,
        pagesWidth: [0]
    };
    function resize() {
        elements.moreLeft.addClass("hidden");
        elements.moreRight.addClass("hidden");
        if (window.innerWidth < 1024) {
            elements.containerWidth = $(parameters.container).outerWidth() - $(".main-navigation__item--search").outerWidth() - 250;
        } else {
            elements.containerWidth = $(parameters.container).outerWidth() - 325;
        }
        config.page = 0;
        config.pages = 0;
        elements.pagesWidth = [0]
        var currentPage = 0;
        $(elements.group).html("");
        $('<div>', {
            'data-navigation-page': "0",
            'class': 'clearfix js-navigation-page main-navigation__page hidden'
        }).appendTo($(elements.group));
        $(".js-outsideview-menu").find(".main-navigation__item").each(function() {
            var elementWidth = $(this).outerWidth(true);
            if (elements.pagesWidth[currentPage] + elementWidth > elements.containerWidth) {
                currentPage++;
                config.pages++;
                elements.pagesWidth.push(0);
                $('<div>', {
                    'data-navigation-page': currentPage,
                    'class': 'clearfix js-navigation-page main-navigation__page hidden'
                }).appendTo($(elements.group));
            }
            elements.pagesWidth[currentPage] += elementWidth;
            $(elements.group).find("div[data-navigation-page='" + currentPage + "']").append($(this).clone().css("float", "left"));
        });
        $(elements.group).find("div[data-navigation-page='0']").removeClass("hidden");
        if (currentPage) {
            elements.moreRight.removeClass("hidden")
        }
    }
    function resizeTimeout() {
        window.clearTimeout(config.resizeTimeout);
        config.resizeTimeout = window.setTimeout(resize, config.resizeDelay);
    }
    function update() {
        $(elements.group).children().each(function() {
            $(this).addClass("hidden");
        });
        $(elements.group).find("div[data-navigation-page='" + config.page + "']").removeClass("hidden");
        if (config.pages > 0 && config.page !== 0) {
            elements.moreLeft.removeClass("hidden");
        } else {
            elements.moreLeft.addClass("hidden");
        }
        if (config.pages > 0 && config.page !== config.pages) {
            elements.moreRight.removeClass("hidden");
        } else {
            elements.moreRight.addClass("hidden");
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-main-navigation-more");
        elements.group = elements.container.find(".main-navigation__group");
        elements.groupClone = elements.group.clone();
        if (window.innerWidth < 1024) {
            elements.containerWidth = $(elements.group).outerWidth() - $(".main-navigation__item--search").outerWidth() - 30;
        } else {
            elements.containerWidth = $(elements.group).outerWidth();
        }
        elements.groupClone.removeClass("main-navigation__group");
        $('<div>', {
            'class': 'js-outsideview-menu main-navigation--outsideview main-navigation'
        }).appendTo(document.body);
        elements.groupClone.appendTo(".js-outsideview-menu");
        var currentPage = 0;
        $(elements.group).html("");
        $('<div>', {
            'data-navigation-page': "0",
            'class': 'clearfix js-navigation-page main-navigation__page hidden'
        }).appendTo($(elements.group));
        $(".js-outsideview-menu").find(".main-navigation__item").each(function() {
            var elementWidth = $(this).outerWidth(true);
            if (elements.pagesWidth[currentPage] + elementWidth > elements.containerWidth) {
                currentPage++;
                config.pages++;
                elements.pagesWidth.push(0);
                $('<div>', {
                    'data-navigation-page': currentPage,
                    'class': 'clearfix js-navigation-page main-navigation__page hidden'
                }).appendTo($(elements.group));
            }
            elements.pagesWidth[currentPage] += elementWidth;
            $(elements.group).find("div[data-navigation-page='" + currentPage + "']").append($(this).clone().css("float", "left"));
        });
        $(elements.group).find("div[data-navigation-page='0']").removeClass("hidden");
        elements.moreLeft = elements.container.find(".main-navigation__item--more-left").off("click").on("click", function(e) {
            e.preventDefault();
            config.page--;
            update();
        });
        elements.moreRight = elements.container.find(".main-navigation__item--more-right").off("click").on("click", function(e) {
            e.preventDefault();
            config.page++;
            update();
        });
        if (currentPage) {
            elements.moreRight.removeClass("hidden")
        }
        $(window).resize(resizeTimeout);
    }
    setTimeout(function() {
        setup();
    }, 1)
}
function MoreOrLess(parameters) {
    var config = {
        lastScrollHeight: 0,
        reactToResize: true,
        resizeDelay: 250,
        resizeTimeout: null
    };
    var elements = {
        container: null,
        content: null,
        less: null,
        marker: null,
        more: null
    };
    function getHeightToMarker() {
        return (elements.marker.offset().top - elements.content.offset().top);
    }
    function less() {
        elements.content.animate({
            "height": getHeightToMarker()
        }, 250, function() {
            elements.container.removeClass("active");
            config.reactToResize = true;
        });
    }
    function more() {
        elements.content.animate({
            "height": elements.content.prop("scrollHeight")
        }, 250, function() {
            elements.content.css("height", "auto");
            elements.container.addClass("active");
            config.reactToResize = false;
        });
    }
    function resize() {
        if (config.lastScrollHeight !== elements.content.prop("scrollHeight")) {
            if (elements.more.is(":visible")) {
                elements.content.css("height", getHeightToMarker());
            } else {
                if (!elements.container.hasClass("more-or-less--all-sizes")) {
                    elements.content.css("height", "auto");
                }
            }
        }
        config.lastScrollHeight = elements.content.prop("scrollHeight");
    }
    function resizeTimeout() {
        if (config.reactToResize) {
            window.clearTimeout(config.resizeTimeout);
            config.resizeTimeout = window.setTimeout(resize, config.resizeDelay);
        } else {
            window.clearTimeout(config.resizeTimeout);
        }
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-more-or-less");
        elements.content = $(elements.container.find(".more-or-less__content")[0]);
        elements.less = $(elements.container.find(".more-or-less__less"));
        elements.marker = $(elements.container.find(".more-or-less__marker"));
        elements.more = $(elements.container.find(".more-or-less__more")[0]);
        elements.more.off("click").on("click", more);
        if (elements.less.length > 0) {
            elements.less = $(elements.less[0]);
            elements.less.off("click").on("click", less);
        } else {
            elements.less = null;
        }
        if (elements.marker.length > 0) {
            elements.marker = $(elements.marker[0]);
            elements.content.append($("<div class=\"more-or-less__spacer\"></div>"));
            if (!elements.more.is(":visible")) {
                elements.content.css("height", "auto");
            }
            $(window).resize(resizeTimeout);
            resize();
        } else {
            if (elements.less) {
                elements.less.remove();
            }
            if (elements.more) {
                elements.more.remove();
            }
        }
    }
    setup();
}
function Roundabound(parameters) {
    var config = {
        delay: carouselSpeed,
        interval: null
    };
    var elements = {
        bullet: null,
        container: null,
        items: null,
        left: null,
        pagination: null,
        right: null
    };
    var items = {
        active: null,
        activeIndex: null,
        count: null,
        target: null,
        targetIndex: null
    };
    function lock() {
        elements.container.addClass("transitioning");
    }
    function locked() {
        return elements.container.hasClass("transitioning");
    }
    function updatePagination(force) {
        if (elements.pagination !== null) {
            elements.pagination.find(".roundabound__bullet.active").removeClass("active");
            $(elements.pagination.find(".roundabound__bullet").get(force ? items.targetIndex : items.activeIndex)).addClass("active");
        }
    }
    function unlock() {
        elements.container.removeClass("transitioning");
    }
    function updateItems() {
        if (items.count === null) {
            items.count = elements.items.children(".roundabound__item").length;
        }
        if (items.count > 1) {
            if (elements.left !== null) {
                elements.left.show();
            }
            if (elements.right !== null) {
                elements.right.show();
            }
            if (elements.pagination !== null) {
                elements.pagination.show();
            }
        } else {
            if (elements.left !== null) {
                elements.left.hide();
            }
            if (elements.right !== null) {
                elements.right.hide();
            }
            if (elements.pagination !== null) {
                elements.pagination.hide();
            }
        }
        items.active = $(elements.items.children(".roundabound__item.active").get(0));
        items.activeIndex = items.active.index();
        if (items.activeIndex >= (items.count - 1)) {
            items.next = $(elements.items.children(".roundabound__item").get(0));
        } else {
            items.next = $(elements.items.children(".roundabound__item").get(items.activeIndex + 1));
        }
        if (items.activeIndex < 1) {
            items.previous = $(elements.items.children(".roundabound__item").get(-1));
        } else {
            items.previous = $(elements.items.children(".roundabound__item").get(items.activeIndex - 1));
        }
        addSliderAriaLabels(elements.items.children(".roundabound__item"), items.active.attr('aria-selected', 'true'));
    }
    function update() {
        updateItems();
        unlock();
    }
    function transitionSlide(transactionObject) {
        var activeLeft;
        switch (transactionObject.direction) {
        case "left":
            items.target.css({
                "left": "100%"
            });
            activeLeft = "-100%";
            break;
        case "right":
            items.target.css({
                "left": "-100%"
            });
            activeLeft = "100%";
            break;
        }
        updatePagination(true);
        elements.items.css({
            "height": items.active.outerHeight()
        });
        items.active.css({
            position: "absolute"
        }).animate({
            left: activeLeft
        }, 500, function() {
            items.active.css({
                position: "relative"
            }).removeClass("active");
        });
        items.target.addClass("active").animate({
            left: 0
        }, 500, function() {
            elements.items.css({
                "height": "auto"
            });
            update();
        });
    }
    function transitionSwipe(transactionObject) {
        items.active.css({
            "z-index": 1
        });
        items.target.css({
            "display": "block",
            "opacity": 0,
            "z-index": 2
        });
        var activeLeft;
        switch (transactionObject.direction) {
        case "left":
            items.target.css({
                "left": "200px"
            });
            activeLeft = "-200px";
            break;
        case "right":
            items.target.css({
                "left": "-200px"
            });
            activeLeft = "200px";
            break;
        }
        items.active.css({
            position: "absolute"
        }).animate({
            left: activeLeft,
            opacity: 0
        }, 250, function() {
            items.active.css({
                display: "none",
                position: "relative"
            }).removeClass("active");
            updatePagination(true);
        });
        items.target.animate({
            left: 0,
            opacity: 1
        }, 500, function() {
            items.target.addClass("active");
            update();
        });
    }
    function transitionTyping() {
        var activeTextOriginal = items.active.text().trim();
        var activeText = activeTextOriginal;
        var targetTextOriginal = items.target.text().trim();
        var targetText = "";
        var activeInterval = window.setInterval(function() {
            activeText = activeText.substr(0, activeText.length - 1);
            items.active.text(activeText);
            if (activeText.length < 1) {
                window.clearInterval(activeInterval);
                updatePagination(true);
                items.active.removeClass("active");
                items.active.text(activeTextOriginal);
                items.target.text(targetText);
                items.target.addClass("active");
                var targetInterval = window.setInterval(function() {
                    targetText = targetTextOriginal.substring(0, targetText.length + 1);
                    items.target.text(targetText);
                    if (targetText.length >= targetTextOriginal.length) {
                        window.clearInterval(targetInterval);
                        update();
                    }
                }, (500 / targetTextOriginal.length));
            }
        }, (500 / activeTextOriginal.length));
    }
    function transitionVertical(transactionObject) {
        items.active.css({
            "z-index": 1
        });
        items.target.css({
            "display": "block",
            "opacity": 0,
            "z-index": 2
        });
        var activeTop;
        switch (transactionObject.direction) {
        case "left":
            items.target.css({
                "top": "100%"
            });
            activeTop = "-100%";
            break;
        case "right":
            items.target.css({
                "top": "-100%"
            });
            activeTop = "100%";
            break;
        }
        items.active.css({
            position: "absolute"
        }).animate({
            top: activeTop,
            opacity: 0
        }, 125, function() {
            items.active.css({
                display: "none",
                position: "relative"
            }).removeClass("active");
            updatePagination(true);
        });
        items.target.animate({
            top: 0,
            opacity: 1
        }, 250, function() {
            items.target.addClass("active");
            update();
        });
    }
    function transitionFade() {
        items.active.css({
            "z-index": 1
        });
        items.target.css({
            "display": "block",
            "opacity": 0,
            "z-index": 2
        });
        items.active.css({
            position: "absolute"
        }).animate({
            opacity: 0
        }, 250, function() {
            items.active.css({
                display: "none",
                position: "relative"
            }).removeClass("active");
            updatePagination(true);
            items.target.animate({
                opacity: 1
            }, 250, function() {
                items.target.addClass("active");
                update();
            });
        });
    }
    function transition(transitionObject) {
        if (!locked() && transitionObject.target !== items.activeIndex && items.count > 1) {
            lock();
            switch (transitionObject.target) {
            case "next":
                items.target = items.next;
                break;
            case "previous":
                items.target = items.previous;
                break;
            default:
                items.target = $(elements.items.children(".roundabound__item").get(transitionObject.target));
                if (transitionObject.target < items.activeIndex) {
                    transitionObject.direction = "right";
                } else {
                    transitionObject.direction = "left";
                }
            }
            items.targetIndex = items.target.index();
            switch (elements.container.attr("data-roundabound-transition")) {
            case "fade":
                transitionFade();
                break;
            case "slide":
                transitionSlide(transitionObject);
                break;
            case "swipe":
                transitionSwipe(transitionObject);
                break;
            case "typing":
                transitionTyping();
                break;
            case "vertical":
                transitionVertical(transitionObject);
                break;
            default:
                transitionSwipe(transitionObject);
            }
            $(items.target).trigger("roundabound-slide");
        }
    }
    function slideStop() {
        window.clearInterval(config.interval);
    }
    function slideStart() {
        slideStop();
        if (elements.container.hasClass("slide") && items.count > 1) {
            config.interval = window.setInterval(function() {
                transition({
                    direction: "left",
                    event: "click",
                    target: "next"
                });
            }, config.delay);
        }
    }
    var stopVideos = function($this) {
        var $sliderWrapper = $this.closest('.roundabound');
        var $getVideo = $sliderWrapper.find('video');
        if ($getVideo.length) {
            $getVideo.each(function() {
                $(this).get(0).pause();
            });
        }
    };
    function addEvents() {
        elements.left.off("click").on("click", function(clickEvent) {
            clickEvent.preventDefault();
            transition({
                direction: "right",
                event: "click",
                target: "previous"
            });
            stopVideos($(this));
        });
        elements.right.off("click").on("click", function(clickEvent) {
            clickEvent.preventDefault();
            transition({
                direction: "left",
                event: "click",
                target: "next"
            });
            stopVideos($(this));
            return false;
        });
        elements.container.off("swipeleft").on("swipeleft", function(swipeEvent) {
            swipeEvent.preventDefault();
            transition({
                direction: "left",
                event: "swipe",
                target: "next"
            });
            stopVideos($(this));
        });
        elements.container.off("swiperight").on("swiperight", function(swipeEvent) {
            swipeEvent.preventDefault();
            transition({
                direction: "right",
                event: "swipe",
                target: "previous"
            });
            stopVideos($(this));
        });
        if (elements.container.hasClass("slide") && items.count > 1) {
            elements.container.off("mouseenter").on("mouseenter", slideStop);
            elements.container.off("mouseleave").on("mouseleave", slideStart);
            slideStart();
        }
    }
    function addPagination() {
        if (elements.pagination.length > 0) {
            elements.bullet = elements.pagination.contents();
            elements.pagination.empty();
            for (var i = 0; i < items.count; i++) {
                var bullet = elements.bullet.clone();
                bullet.off("click").on("click", function(clickEvent) {
                    clickEvent.preventDefault();
                    transition({
                        event: "click",
                        target: $(this).index()
                    });
                });
                elements.pagination.append(bullet);
            }
            updatePagination(false);
        } else {
            elements.pagination = null;
        }
    }
    function keyboardNavigation() {
        $(document).on('keyup', function(e) {
            if (elements.container.hasClass('isFocused') || elements.container.find('.isFocused').length) {
                var sliderParams = {
                    event: e,
                    rightButton: 'roundabound__right',
                    leftButton: 'roundabound__left'
                };
                var transitionObject = sliderKeyboardControl(sliderParams);
                if (transitionObject) {
                    transition(transitionObject);
                }
            }
        });
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-roundabound");
        elements.items = elements.container.find(".roundabound__items");
        elements.left = elements.container.find(".roundabound__left").css({
            "z-index": 5
        });
        elements.pagination = elements.container.find(".roundabound__pagination");
        elements.right = elements.container.find(".roundabound__right").css({
            "z-index": 5
        });
        if (elements.container.hasClass("slide")) {
            elements.container.off("focusin").on("focusin", slideStop);
            elements.container.off("focusout").on("focusout", function() {
                if (!elements.container.is(":hover")) {
                    slideStart();
                }
            });
        }
        var delay = parseInt(elements.container.attr("data-roundabound-delay"), 10);
        if (!isNaN(delay)) {
            config.delay = delay;
        }
        updateItems();
        addPagination();
        addEvents();
        keyboardNavigation();
    }
    setup();
}
function Sideswipe(parameters) {
    var config = {
        resizeDelay: 250,
        resizeTimeout: null,
        transitionDelay: carouselSpeed,
        transitionInterval: null
    };
    var items = {
        active: null,
        activeIndex: null,
        activeTrigger: null,
        clickOnActives: null,
        containers: [],
        count: null,
        target: null,
        targetIndex: null,
        triggers: null,
        width: null,
        widths: []
    };
    var elements = {
        container: null,
        items: null,
        left: null,
        right: null
    };
    function unlock() {
        elements.container.removeClass("transitioning");
    }
    function lock() {
        elements.container.addClass("transitioning");
    }
    function locked() {
        return elements.container.hasClass("transitioning");
    }
    function getItemOffset(itemIndex) {
        items.offset = 0;
        for (var i = 0; i < itemIndex; i++) {
            items.offset += items.widths[i];
        }
        items.offset += items.widths[itemIndex];
        return items.offset;
    }
    function switchActive() {
        items.active.removeClass("active");
        items.target.addClass("active");
        items.active = $(elements.items.children(".sideswipe__item.active").get(0));
        items.activeIndex = items.active.index();
        items.activeTrigger = items.active.find(".sideswipe-trigger");
        if (items.activeTrigger.length > 0) {
            items.activeTrigger.click();
        }
        items.target = null;
        items.targetIndex = null;
        addSliderAriaLabels(elements.items.children(".sideswipe__item"), items.active.attr('aria-selected', 'true'));
    }
    function transition(transitioningObject) {
        if (!locked()) {
            if (elements.container.hasClass("overflowing")) {
                switch (transitioningObject.target) {
                case "next":
                    if ((items.activeIndex + 1) >= items.count) {
                        items.targetIndex = 0;
                    } else {
                        items.targetIndex = (items.activeIndex + 1);
                    }
                    break;
                case "previous":
                    if ((items.activeIndex - 1) < 0) {
                        items.targetIndex = (items.count - 1);
                    } else {
                        items.targetIndex = (items.activeIndex - 1);
                    }
                    break;
                }
                items.target = $(elements.items.children().get(items.targetIndex));
                lock();
                var overflow = items.width - elements.items.prop("clientWidth")
                  , getOffset = getItemOffset(items.targetIndex)
                  , allowedAction = getOffset <= overflow;
                if (!allowedAction && transitioningObject.target === 'next') {
                    var lastItemWidth = items.widths.pop();
                    allowedAction = overflow > (getOffset - lastItemWidth);
                }
                if (allowedAction) {
                    elements.items.animate({
                        "left": ('-' + getItemOffset(items.targetIndex))
                    }, 250, function() {
                        switchActive();
                        unlock();
                    });
                } else {
                    elements.items.animate({
                        "left": '0'
                    }, 250, function() {
                        items.active.removeClass("active");
                        unlock();
                        updateItems();
                    });
                }
            } else {
                if (typeof (transitioningObject.target) === "number" && transitioningObject.target >= 0 && transitioningObject.target <= items.count) {
                    lock();
                    items.targetIndex = transitioningObject.target;
                    items.target = $(elements.items.children().get(items.targetIndex));
                    switchActive();
                    unlock();
                }
            }
        }
    }
    function slideStop() {
        window.clearInterval(config.transitionInterval);
    }
    function slideStart() {
        slideStop();
        config.transitionInterval = window.setInterval(function() {
            transition({
                direction: "left",
                event: "click",
                target: "next"
            });
        }, config.transitionDelay);
    }
    function addEvents() {
        elements.left.off("click").on("click", function(clickEvent) {
            clickEvent.preventDefault();
            transition({
                direction: "right",
                event: "click",
                target: "previous"
            });
        });
        elements.right.off("click").on("click", function(clickEvent) {
            clickEvent.preventDefault();
            transition({
                direction: "left",
                event: "click",
                target: "next"
            });
        });
        elements.container.off("swipeleft").on("swipeleft", function(swipeEvent) {
            swipeEvent.preventDefault();
            transition({
                direction: "left",
                event: "swipe",
                target: "next"
            });
        });
        elements.container.off("swiperight").on("swiperight", function(swipeEvent) {
            swipeEvent.preventDefault();
            transition({
                direction: "right",
                event: "swipe",
                target: "previous"
            });
        });
        elements.container.off("slidestart").on("slidestart", function() {
            slideStart();
        });
        elements.container.off("slidestop").on("slidestop", function() {
            slideStop();
        });
        elements.items.children(".sideswipe__item").on("click", function(clickEvent) {
            if ($(clickEvent.target).attr("href") === "undefined") {
                clickEvent.preventDefault();
            }
        });
        if (elements.container.hasClass("slide")) {
            elements.container.off("mouseenter").on("mouseenter", slideStop);
            elements.container.off("mouseleave").on("mouseleave", slideStart);
            slideStart();
        }
    }
    function keyboardNavigation() {
        $(document).on('keyup', function(e) {
            if (elements.container.hasClass('isFocused') || elements.container.find('.isFocused').length) {
                var sliderParams = {
                    event: e,
                    rightButton: 'sideswipe__right',
                    leftButton: 'sideswipe__left'
                };
                var transitionObject = sliderKeyboardControl(sliderParams);
                if (transitionObject) {
                    transition(transitionObject);
                }
            }
        });
    }
    function updateItems() {
        items.width = 0;
        if (items.count === null) {
            items.count = elements.items.children(".sideswipe__item").length;
        }
        items.active = $(elements.items.children(".sideswipe__item.active").get(0));
        items.activeIndex = items.active.index();
        for (var i = 0; i < items.count; i++) {
            items.containers[i] = $(elements.items.children().get(i));
            items.width += items.containers[i].outerWidth(true);
            items.widths[i] = items.containers[i].outerWidth(true);
        }
    }
    function reset() {
        elements.items.css({
            "left": "auto",
            "width": "auto"
        });
    }
    function resize() {
        updateItems();
        var isTabNavMobile = $(elements.container).closest('.js-tab-out').length && $(window).width() <= screenMaxMobile;
        if (items.width > elements.items.prop("clientWidth") && !isTabNavMobile) {
            elements.container.addClass("overflowing");
            var leftMargin = '0'
              , getOffsetValue = elements.items.outerWidth() - getItemOffset(items.activeIndex);
            if ($(elements.container).closest('.js-tab-out').length) {
                leftMargin = getOffsetValue > 0 ? '0' : getOffsetValue;
                if (getOffsetValue < 0) {
                    var itemWidthVisible = Math.floor(elements.items.outerWidth() / items.active.width());
                    items.activeIndex + 1 >= items.count ? items.activeIndex = '-' + items.count - 1 : items.activeIndex -= itemWidthVisible;
                } else {
                    items.activeIndex = items.count - 1;
                }
            }
            elements.items.css({
                "left": leftMargin
            });
        } else {
            elements.container.removeClass("overflowing");
            reset();
        }
    }
    function resizeTimeout() {
        window.clearTimeout(config.resizeTimeout);
        config.resizeTimeout = window.setTimeout(resize, config.resizeDelay);
    }
    function setup() {
        elements.container = $(parameters.container).removeClass("js-sideswipe");
        elements.items = elements.container.find(".sideswipe__items");
        elements.left = elements.container.find(".sideswipe__left").css({
            "z-index": 5
        });
        elements.right = elements.container.find(".sideswipe__right").css({
            "z-index": 5
        });
        if (elements.container.hasClass("slide")) {
            elements.container.off("focusin").on("focusin", slideStop);
            elements.container.off("focusout").on("focusout", function() {
                if (!elements.container.is(":hover")) {
                    slideStart();
                }
            });
        }
        var delay = parseInt(elements.container.attr("data-sideswipe-delay"), 10);
        if (!isNaN(delay)) {
            config.transitionDelay = delay;
        }
        addEvents();
        keyboardNavigation();
        $(window).resize(resizeTimeout);
        resize();
    }
    setup();
}
function addSliderAriaLabels(inactiveElements, activeElement) {
    $(inactiveElements).attr('aria-selected', 'false');
    activeElement.attr('aria-selected', 'true');
}
function sliderKeyboardControl(sliderParams) {
    var getKey = sliderParams.event.which
      , keyType = getKey === 39 ? 'next' : null
      , keyType = getKey === 37 ? 'prev' : keyType
      , keyType = getKey === 13 ? 'enter' : keyType
      , $focusedEl = $('.isFocused');
    var transitionObject = false;
    if (keyType === 'next') {
        transitionObject = {
            direction: "left",
            event: "click",
            target: "next"
        };
    } else if (keyType === 'prev') {
        transitionObject = {
            direction: "right",
            event: "click",
            target: "previous"
        };
    } else if (keyType === 'enter') {
        if ($focusedEl.hasClass(sliderParams.rightButton)) {
            transitionObject = {
                direction: "left",
                event: "click",
                target: "next"
            };
        } else if ($focusedEl.hasClass(sliderParams.leftButton)) {
            transitionObject = {
                direction: "right",
                event: "click",
                target: "previous"
            };
        }
    }
    return transitionObject;
}
function TabOut(parameters) {
    var elements = {
        container: null,
        targets: null,
        triggers: null
    };
    function setup() {
        elements.container = $(parameters.container);
        elements.targets = $(elements.container.find(".tab-out-target"));
        elements.triggers = $(elements.container.find(".tab-out-trigger"));
        elements.triggers.off("keydown").on("keydown", function(keyboardEvent) {
            if (keyboardEvent.keyCode === 32) {
                keyboardEvent.preventDefault();
            }
        });
        elements.triggers.off("keyup").on("keyup", function(keyboardEvent) {
            if (keyboardEvent.keyCode === 13 || keyboardEvent.keyCode === 32) {
                $(this).click();
            }
        });
    }
    setup();
}
function hideCalendarDays($datePicker) {
    var $nextMonthDays = $datePicker.find('.new.day')
      , $prevMonthDays = $datePicker.find('.old.day');
    if ($nextMonthDays.length) {
        $nextMonthDays.hide();
    }
    if ($prevMonthDays.length) {
        $prevMonthDays.addClass('invisible');
        if ($prevMonthDays.length === 7) {
            $prevMonthDays.closest('tr').hide();
        }
    }
}
function Datepicker(parameters) {
    var $selfContainer = $(parameters.container)
      , $datePicker = $selfContainer.find('.js-datepicker')
      , $dateSection = $selfContainer.find('.js-date-section')
      , $editDate = $selfContainer.find('.js-edit-date')
      , $selectedDate = $selfContainer.find('.js-selected-date')
      , $pickDate = $selfContainer.find('.js-pick-date-wrapper')
      , preferredDateValue = $('#preferredDeliveryDate').val()
      , minDateValue = $('#minDeliveryDate').val()
      , minDateTime = minDateValue ? new Date(minDateValue) : new Date();
    $editDate.on('click', function(e) {
        e.preventDefault();
        $dateSection.addClass('hidden');
        $pickDate.removeClass('hidden');
    });
    $datePicker.on('show changeMonth', function() {
        setTimeout(function() {
            hideCalendarDays($datePicker);
        }, 0);
    });
    $datePicker.datepicker({
        defaultDate: minDateTime
    });
    $datePicker.on('changeDate', function() {
        var dateVal = $datePicker.datepicker('getFormattedDate');
        $selectedDate.val(dateVal);
        $dateSection.removeClass('hidden');
        $pickDate.addClass('hidden');
        hideCalendarDays($datePicker);
    });
    if (preferredDateValue) {
        $datePicker.datepicker("setDate", new Date(preferredDateValue));
        $datePicker.trigger("changeDate");
    }
}
function Breadcrumb(parameters) {
    var config = {
        resizeDelay: 250,
        resizeTimeout: null
    };
    var elements = {
        container: null,
        breadcrumbItems: [],
        breadcrumbFullWidth: 0,
        breadcrumbWrapperWidth: 0,
        hiddenBreadcrumbs: null,
        flyOutContentWrapper: null,
        flyOutArrayEntries: null,
        breadcrumbPath: null
    };
    function generateBreadcrumbComponent() {
        elements.container.css("opacity", 0);
        var firstElementAndDotsWidth = elements.breadcrumbItems[0].width + 21;
        var lastElementPosition = elements.breadcrumbItems.length - 1;
        var lastElementWidth = elements.breadcrumbItems[lastElementPosition].width;
        var newBreadcrumbsWidth = 0;
        var maxBreadcrumbsWidth = elements.breadcrumbWrapperWidth - firstElementAndDotsWidth - lastElementWidth;
        var i = 0;
        for (i = 1; i < elements.breadcrumbItems.length; i++) {
            $(elements.breadcrumbPath.children(".link-wrapper")[1]).remove();
        }
        for (i = elements.breadcrumbItems.length - 2; i > 1; i--) {
            if (newBreadcrumbsWidth + elements.breadcrumbItems[i].width > maxBreadcrumbsWidth) {
                break;
            }
            newBreadcrumbsWidth += elements.breadcrumbItems[i].width;
        }
        var endHiddenElement = i;
        elements.hiddenBreadcrumbs.html("");
        for (i = 1; i <= endHiddenElement; i++) {
            var hiddenElementText = elements.breadcrumbItems[i].item.find(".link__text").html();
            var hrefElement = elements.breadcrumbItems[i].item.find('a').attr('href');
            hrefElement = hrefElement ? hrefElement : "";
            var hiddenElementContent = '<a class="link link--link text-uppercase" data-text-content="' + hiddenElementText + '" href="' + hrefElement + '">';
            hiddenElementContent += '<span class="link__text">' + hiddenElementText + '</span>';
            hiddenElementContent += '<span class="link__icon link__icon--right"></span>';
            hiddenElementContent += '</a>';
            $('<div>', {
                'class': 'link-wrapper link--breadcrumb-flyout'
            }).html(hiddenElementContent).appendTo(elements.hiddenBreadcrumbs);
        }
        if (endHiddenElement !== 0) {
            var elementText = "...";
            var elementContent = '<a class="link link--breadcrumb breadcrumbs__link text-uppercase" data-text-content="' + elementText + '" href="#">';
            elementContent += '<span class="link__text">' + elementText + '</span>';
            elementContent += '</a>';
            $('<div>', {
                'class': 'link-wrapper js-breadcrumb-fly-out js-breadcrumbPlaceHolder'
            }).html(elementContent).appendTo(elements.breadcrumbPath);
        }
        for (i = endHiddenElement + 1; i < elements.breadcrumbItems.length; i++) {
            var elementText = elements.breadcrumbItems[i].item.find(".link__text").html();
            var hrefElement = elements.breadcrumbItems[i].item.find('a').attr('href');
            hrefElement = hrefElement ? hrefElement : "";
            var elementContent = '<a class="link link--breadcrumb breadcrumbs__link text-uppercase" data-text-content="' + elementText + '" href="' + hrefElement + '">';
            elementContent += '<span class="link__text">' + elementText + '</span>';
            elementContent += '</a>';
            $('<div>', {
                'class': 'link-wrapper'
            }).html(elementContent).appendTo(elements.breadcrumbPath);
        }
        $(".breadcrumbs--footer").find(".breadcrumbs__path").html($(".breadcrumbs--header").find(".breadcrumbs__path").html());
        elements.container.animate({
            opacity: 1
        }, 300);
    }
    function resize() {
        elements.breadcrumbWrapperWidth = elements.breadcrumbPath.width();
        generateBreadcrumbComponent();
    }
    function resizeTimeout() {
        window.clearTimeout(config.resizeTimeout);
        config.resizeTimeout = window.setTimeout(resize, config.resizeDelay);
    }
    function setup() {
        elements.container = $(parameters.container);
        elements.breadcrumbPath = elements.container.find('.breadcrumbs__path');
        var headerFlyout = '<div class="header-fly-out header-fly-out--breadcrumb js-breadcrumb-fly-out-content">';
        headerFlyout += '<div class="js-breadcrumb-content-wrapper">';
        headerFlyout += '</div></div>';
        $(elements.breadcrumbPath.children('.link-wrapper')[0]).after(headerFlyout)
        $.each(elements.breadcrumbPath.children(".link-wrapper"), function() {
            if ($(this).hasClass("js-breadcrumb-fly-out")) {
                return;
            }
            elements.breadcrumbItems.push({
                "item": $(this).clone(),
                "width": $(this).outerWidth() + 1
            })
            elements.breadcrumbFullWidth += $(this).outerWidth() + 1;
        });
        elements.breadcrumbWrapperWidth = elements.breadcrumbPath.width();
        elements.hiddenBreadcrumbs = elements.container.find(".js-breadcrumb-content-wrapper");
        generateBreadcrumbComponent();
        $(window).resize(resizeTimeout);
    }
    setup();
}
function VideoPlayer(parameters) {
    var elements = {
        container: null,
        video: null,
        videoBackward: null,
        videoControls: null,
        videoForward: null,
        videoFullscreen: null,
        videoPlayButton: null,
        videoPlayPause: null,
        videoProgress: null,
        videoProgressBar: null,
        videoTime: null,
        videoVolume: null
    };
    var volume_step_size = 1 / 6;
    function changeVolumeIcon(volume) {
        switch (volume) {
        case 0:
            elements.videoVolume.removeClass('vol6').addClass('vol0');
            break;
        case 17:
            elements.videoVolume.removeClass('vol0').addClass('vol1');
            break;
        case 33:
            elements.videoVolume.removeClass('vol1').addClass('vol2');
            break;
        case 50:
            elements.videoVolume.removeClass('vol2').addClass('vol3');
            break;
        case 67:
            elements.videoVolume.removeClass('vol3').addClass('vol4');
            break;
        case 83:
            elements.videoVolume.removeClass('vol4').addClass('vol5');
            break;
        case 100:
            elements.videoVolume.removeClass('vol5').addClass('vol6');
            break;
        }
    }
    function alterVolume(dir) {
        if (dir) {
            var currentVolume = elements.video.volume;
            if (dir === '+') {
                if (currentVolume < 1) {
                    if (currentVolume >= volume_step_size * 5) {
                        elements.video.volume = 1;
                    } else {
                        if (currentVolume + volume_step_size <= 1) {
                            elements.video.volume += volume_step_size;
                        } else {
                            elements.video.volume = 1;
                        }
                    }
                } else if (currentVolume >= 1) {
                    elements.video.volume = 0;
                }
            }
            currentVolume <= 0 ? elements.video.muted = true : elements.video.muted = false;
            changeVolumeIcon(elements.video.volume.toFixed(2) * 100);
        }
    }
    function changeButtonState(type) {
        if (type === 'playpause') {
            if (elements.video.paused || elements.video.ended) {
                elements.videoPlayPause.attr('data-state', 'play');
            } else {
                elements.videoPlayPause.attr('data-state', 'pause');
            }
        }
    }
    function convertTime() {
        var currentTime = elements.video.currentTime;
        var duration = elements.video.duration;
        var currentTimeMinute = Math.floor(currentTime / 60);
        var currentTimeSeconds = Math.floor(currentTime % 3600 % 60);
        var durationMinute = Math.floor(duration / 60);
        var durationSeconds = Math.floor(duration % 3600 % 60);
        if (currentTimeMinute < 10) {
            currentTimeMinute = '0' + currentTimeMinute;
        }
        if (currentTimeSeconds < 10) {
            currentTimeSeconds = '0' + currentTimeSeconds;
        }
        if (durationMinute < 10) {
            durationMinute = '0' + durationMinute;
        }
        if (durationSeconds < 10) {
            durationSeconds = '0' + durationSeconds;
        }
        return currentTimeMinute + ':' + currentTimeSeconds + ' / ' + durationMinute + ':' + durationSeconds;
    }
    function isFullScreen() {
        return !!(document.fullScreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || document.fullscreenElement);
    }
    function setFullscreenData(state) {
        elements.container.attr('data-fullscreen', !!state);
    }
    function handleFullscreen() {
        if (isFullScreen()) {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitCancelFullScreen) {
                document.webkitCancelFullScreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
            setFullscreenData(false);
        } else {
            if (elements.container.get(0).requestFullscreen) {
                elements.container.get(0).requestFullscreen();
            } else if (elements.container.get(0).mozRequestFullScreen) {
                elements.container.get(0).mozRequestFullScreen();
            } else if (elements.container.get(0).webkitRequestFullScreen) {
                elements.container.get(0).webkitRequestFullScreen();
            } else if (elements.container.get(0).msRequestFullscreen) {
                elements.container.get(0).msRequestFullscreen();
            }
            setFullscreenData(true);
        }
    }
    function handlePlayPause(e) {
        e.preventDefault();
        if (elements.video.paused || elements.video.ended) {
            elements.videoPlayButton.hide();
            elements.video.play();
        } else {
            elements.videoPlayButton.show();
            elements.video.pause();
        }
    }
    function setup() {
        var supportsVideo = !!document.createElement('video').canPlayType;
        if (supportsVideo) {
            elements.container = $(parameters.container);
            elements.video = elements.container.find('.videoplayer__video').get(0);
            elements.videoBackward = elements.container.find('.videoplayer__backward');
            elements.videoControls = elements.container.find('.videoplayer__controls');
            elements.videoForward = elements.container.find('.videoplayer__forward');
            elements.videoFullscreen = elements.container.find('.videoplayer__fullscreen');
            elements.videoPlayButton = elements.container.find('.videoplayer__overlay');
            elements.videoPlayPause = elements.container.find('.videoplayer__playpause');
            elements.videoProgress = elements.container.find('.videoplayer__progress-element');
            elements.videoProgressBar = elements.container.find('.videoplayer__progressbar');
            elements.videoTime = elements.container.find('.videoplayer__time');
            elements.videoVolume = elements.container.find('.videoplayer__volume');
        }
        if ($(window).width() <= screenMaxMobile) {
            elements.container.closest('.videoContainer').show();
        }
        elements.container.addClass('loading-spinner');
        elements.video.controls = false;
        elements.video.volume = 0;
        elements.video.onloadeddata = function(e) {
            elements.container.removeClass('loading-spinner');
            elements.videoPlayButton.show();
            elements.videoControls.show();
        }
        ;
        elements.videoControls.attr('data-state', 'visible');
        var supportsProgress = (document.createElement('progress').max !== undefined);
        if (!supportsProgress) {
            elements.videoProgress.attr('data-state', 'fake');
        }
        var fullScreenEnabled = !!(document.fullscreenEnabled || document.mozFullScreenEnabled || document.msFullscreenEnabled || document.webkitSupportsFullscreen || document.webkitFullscreenEnabled || document.createElement('video').webkitRequestFullScreen);
        if (!fullScreenEnabled) {
            elements.videoFullscreen.hide();
        }
        document.addEventListener('webkitfullscreenchange', function() {
            setFullscreenData(!!document.webkitIsFullScreen);
        });
        document.addEventListener('mozfullscreenchange', function() {
            setFullscreenData(!!document.mozFullScreen);
        });
        document.addEventListener('msfullscreenchange', function() {
            setFullscreenData(!!document.msFullscreenElement);
        });
        document.addEventListener('fullscreenchange', function() {
            setFullscreenData(!!(document.fullScreen || document.fullscreenElement));
        });
        $(elements.video).on('loadedmetadata', function() {
            elements.video.volume = 1;
            elements.videoProgress.attr('max', elements.video.duration);
            elements.videoTime.text(convertTime());
        });
        elements.video.addEventListener('pause', function() {
            changeButtonState('playpause');
        }, false);
        elements.video.addEventListener('play', function() {
            changeButtonState('playpause');
        }, false);
        elements.video.addEventListener('timeupdate', function() {
            if (!elements.videoProgress.get(0).getAttribute('max')) {
                elements.videoProgress.attr('max', elements.video.duration);
            }
            elements.videoProgress.val(elements.video.currentTime);
            elements.videoProgressBar.css("width", Math.floor((elements.video.currentTime / elements.video.duration) * 100) + '%');
            elements.videoTime.text(convertTime());
        });
        elements.video.addEventListener('volumechange', function() {
            alterVolume();
        }, false);
        elements.videoBackward.on('click', function() {
            if (elements.video.duration * 0.1 > 1) {
                elements.video.currentTime = elements.video.currentTime - (elements.video.duration * 0.1);
            } else {
                elements.video.currentTime = elements.video.currentTime - 1;
            }
        });
        elements.videoForward.on('click', function() {
            if (elements.video.duration * 0.1 > 1) {
                elements.video.currentTime = elements.video.currentTime + (elements.video.duration * 0.1);
            } else {
                elements.video.currentTime = elements.video.currentTime + 1;
            }
        });
        elements.videoFullscreen.on('click', function() {
            handleFullscreen();
        });
        elements.videoPlayButton.on('click', function(e) {
            handlePlayPause(e);
        });
        elements.videoPlayPause.on('click', function(e) {
            handlePlayPause(e);
        });
        $(elements.video).on('click', function(e) {
            handlePlayPause(e);
        });
        elements.videoProgress.on('click', function(e) {
            var pos = (e.pageX - (elements.videoProgress.get(0).getBoundingClientRect().x || elements.videoProgress.get(0).getBoundingClientRect().left)) / elements.videoProgress.get(0).offsetWidth;
            elements.video.currentTime = pos * elements.video.duration;
        });
        elements.videoVolume.on('click', function() {
            alterVolume('+');
        });
    }
    setup();
}
$.fn.isInViewport = function() {
    var elementTop = $(this).offset().top;
    var elementBottom = elementTop + $(this).outerHeight();
    var viewportTop = $(window).scrollTop();
    var viewportBottom = viewportTop + $(window).height();
    return elementBottom > viewportTop && elementTop < viewportBottom;
}
;
function customComponents() {
    new AutoHidePlaceholders();
    $(".js-fold-out").each(function() {
        if (!$(this).hasClass("js-popup-foldout")) {
            new FoldOut({
                container: this
            });
        }
    });
    $(".js-form-reset").each(function() {
        new FormsReset({
            container: this
        });
    });
    $(".js-form-input-amount").each(function() {
        new FormsInputAmount({
            container: this
        });
    });
    $(".js-form-input-clearable").each(function() {
        new FormsInputClearable({
            container: this
        });
    });
    handleFormInputPassword();
    $(".js-form-show-on-input").each(function() {
        new FormsShowOnInput({
            container: this
        });
    });
    $(".js-form-textarea").each(function() {
        new FormsTextarea({
            container: this
        });
    });
    $(".js-main-navigation-more").each(function() {
        new MainNavigationMore({
            container: this
        });
    });
    $(".js-more-or-less").each(function() {
        new MoreOrLess({
            container: this
        });
    });
    $(".js-roundabound").each(function() {
        new Roundabound({
            container: this
        });
    });
    $(".js-sideswipe").each(function() {
        new Sideswipe({
            container: this
        });
    });
    $(".js-tab-out").each(function() {
        new TabOut({
            container: this
        });
    });
    $(".js-videoPlayer").each(function() {
        $(this).removeClass("js-videoPlayer");
        new VideoPlayer({
            container: this
        });
    });
    $(".js-date-container").each(function() {
        new Datepicker({
            container: this
        });
    });
    $(".breadcrumbs--header").each(function() {
        new Breadcrumb({
            container: this
        });
    });
}
$(document).ready(function() {
    customComponents();
});

$(document).on('mouseenter', '.js-navigation-tab', function() {
    var index = $(this).data('navigation-tab');
    if (!index) {
        return;
    }
    var $subMenuContainer = $('[data-navigation-content~="' + index + '"]');
    closeMainNavigationFlyOut();
    $subMenuContainer.addClass('active');
});
$(document).on('keydown', '.link--main-nav-more-right', function(e) {
    if (e.which === 9) {
        $('.link--main-nav-more-right').trigger('click');
        $('.link--main-nav-more-left').trigger('focus');
    }
});
function closeMainNavigationFlyOut(event) {
    if (event && event.type === 'click') {
        event.preventDefault();
    }
    $('.main-navigation__fly-out').removeClass('active');
}
var eventsToCloseMainNavigation = [{
    listener: 'click',
    element: '.js-main-navigation-close'
}, {
    listener: 'mouseleave',
    element: '.main-navigation__fly-out'
}, {
    listener: 'mouseenter',
    element: '.header__content'
}];
eventsToCloseMainNavigation.forEach(function(arg) {
    if (arg.listener === 'click') {
        $(document).on(arg.listener, arg.element, function(clickEvent) {
            closeMainNavigationFlyOut(clickEvent);
        });
    } else {
        $(document).on(arg.listener, arg.element, closeMainNavigationFlyOut);
    }
});

var popperTooltip = null;
var hideFlyOut = function(content) {
    var disable = $(content).data('disable');
    if (disable) {
        return;
    } else {
        if (popperTooltip) {
            $(popperTooltip).removeClass("header-fly-out--active");
            setTimeout(function() {
                $(popperTooltip).addClass('hidden');
            }, 250);
        }
    }
};
var showFlyOut = function(content) {
    if (popperTooltip) {
        $(popperTooltip).removeClass("header-fly-out--active");
        $(popperTooltip).addClass('hidden');
    }
    popperTooltip = $(content);
    popperTooltip.removeClass('hidden');
    setTimeout(function() {
        $(content).addClass("header-fly-out--active");
    }, 250);
};
$(document).on('mouseleave', '.header__right, .breadcrumbs__path', function() {
    hideFlyOut(null);
});
$(document).on('mouseenter', '.js-login-fly-out', function() {
    if (window.innerWidth > screenMaxSmall) {
        showFlyOut('.js-login-fly-out-content');
    }
    var loggedInPosition = $(".header__right").width() - ($(".js-login-fly-out").offset().left - $(".header__right").offset().left + $(".js-login-fly-out").width()) - 150;
    var screenWidth = $(document).width();
    if (screenWidth < 1025) {
        loggedInPosition += 66;
    }
    if (1025 <= screenWidth && screenWidth < 1450) {
        loggedInPosition += 46;
    }
    $(".header-fly-out--my-account").css("right", loggedInPosition + "px");
});
$(document).on('mouseenter', '.js-notloggedin-fly-out', function() {
    if (window.innerWidth > screenMaxSmall) {
        showFlyOut('.js-notloggedin-fly-out-content');
    }
    var notLoggedInPosition = $(".header__right").width() - ($(".js-notloggedin-fly-out").offset().left - $(".header__right").offset().left + $(".js-notloggedin-fly-out").width()) - 150;
    var screenWidth = $(document).width();
    if (screenWidth < 1025) {
        notLoggedInPosition += 66;
    }
    if (1025 <= screenWidth && screenWidth < 1450) {
        notLoggedInPosition += 46;
    }
    $(".header-fly-out--my-account").css("right", notLoggedInPosition + "px");
});
$(document).on('mouseenter', '.js-breadcrumb-fly-out', function() {
    preparePositionBreadcrumb('.js-breadcrumb-fly-out');
    showFlyOut('.js-breadcrumb-fly-out-content');
});
function preparePositionShoppingBag() {
    var container = $(".header__right");
    var link = $(".js-shopping-bag-fly-out");
    var screenWidth = $(document).width();
    var topArrow = screenWidth >= 1450 ? 33 : 28;
    var icon = 14;
    var cartPosition = container.width() - (link.offset().left - container.offset().left) - link.outerWidth() / 2 - topArrow - icon;
    if ($(".js-shopping-bag-fly-out-content").hasClass('header-fly-out--shopping-bag-position')) {
        cartPosition += ($('.header__content').width() - $(".header__content>.container").width()) / 2 - 12.5;
    }
    if (screenWidth < 1450 && screenWidth >= 1025) {
        cartPosition += 30;
    }
    if (screenWidth < 1025) {
        cartPosition = 13;
    }
    $(".header-fly-out--shopping-bag").css("right", cartPosition + "px");
}
function preparePositionWishlist() {
    var container = $(".header__right");
    var link = $(".js-wishlist-fly-out");
    var screenWidth = $(document).width();
    var topArrow = screenWidth >= 1450 ? 33 : 28;
    var icon = 14;
    var wishListPosition = container.width() - (link.offset().left - container.offset().left) - link.outerWidth() / 2 - topArrow - icon;
    if ($(".js-wishlist-fly-out-content").hasClass('header-fly-out--wishlist-position')) {
        wishListPosition += ($('.header__content').width() - $(".header__content>.container").width()) / 2 - 12.5;
    }
    if (screenWidth < 1025) {
        wishListPosition += 20;
    }
    if (1025 <= screenWidth && screenWidth < 1450) {
        wishListPosition += 30;
    }
    $(".header-fly-out--wishlist").css("right", wishListPosition + "px");
}
function preparePositionBreadcrumb(linkFlyOut) {
    var link = $(linkFlyOut)
      , linkCenterPosition = $(link).position().left + ($(link).width() / 2);
    $('.header-fly-out--breadcrumb').css('left', linkCenterPosition - 25);
}
;/*! jQuery Mobile v1.4.5 | Copyright 2010, 2014 jQuery Foundation, Inc. | jquery.org/license */

(function(e, t, n) {
    typeof define == "function" && define.amd ? define(["jquery"], function(r) {
        return n(r, e, t),
        r.mobile
    }) : n(e.jQuery, e, t)
}
)(this, document, function(e, t, n, r) {
    (function(e, t, n, r) {
        function T(e) {
            while (e && typeof e.originalEvent != "undefined")
                e = e.originalEvent;
            return e
        }
        function N(t, n) {
            var i = t.type, s, o, a, l, c, h, p, d, v;
            t = e.Event(t),
            t.type = n,
            s = t.originalEvent,
            o = e.event.props,
            i.search(/^(mouse|click)/) > -1 && (o = f);
            if (s)
                for (p = o.length,
                l; p; )
                    l = o[--p],
                    t[l] = s[l];
            i.search(/mouse(down|up)|click/) > -1 && !t.which && (t.which = 1);
            if (i.search(/^touch/) !== -1) {
                a = T(s),
                i = a.touches,
                c = a.changedTouches,
                h = i && i.length ? i[0] : c && c.length ? c[0] : r;
                if (h)
                    for (d = 0,
                    v = u.length; d < v; d++)
                        l = u[d],
                        t[l] = h[l]
            }
            return t
        }
        function C(t) {
            var n = {}, r, s;
            while (t) {
                r = e.data(t, i);
                for (s in r)
                    r[s] && (n[s] = n.hasVirtualBinding = !0);
                t = t.parentNode
            }
            return n
        }
        function k(t, n) {
            var r;
            while (t) {
                r = e.data(t, i);
                if (r && (!n || r[n]))
                    return t;
                t = t.parentNode
            }
            return null
        }
        function L() {
            g = !1
        }
        function A() {
            g = !0
        }
        function O() {
            E = 0,
            v.length = 0,
            m = !1,
            A()
        }
        function M() {
            L()
        }
        function _() {
            D(),
            c = setTimeout(function() {
                c = 0,
                O()
            }, e.vmouse.resetTimerDuration)
        }
        function D() {
            c && (clearTimeout(c),
            c = 0)
        }
        function P(t, n, r) {
            var i;
            if (r && r[t] || !r && k(n.target, t))
                i = N(n, t),
                e(n.target).trigger(i);
            return i
        }
        function H(t) {
            var n = e.data(t.target, s), r;
            !m && (!E || E !== n) && (r = P("v" + t.type, t),
            r && (r.isDefaultPrevented() && t.preventDefault(),
            r.isPropagationStopped() && t.stopPropagation(),
            r.isImmediatePropagationStopped() && t.stopImmediatePropagation()))
        }
        function B(t) {
            var n = T(t).touches, r, i, o;
            n && n.length === 1 && (r = t.target,
            i = C(r),
            i.hasVirtualBinding && (E = w++,
            e.data(r, s, E),
            D(),
            M(),
            d = !1,
            o = T(t).touches[0],
            h = o.pageX,
            p = o.pageY,
            P("vmouseover", t, i),
            P("vmousedown", t, i)))
        }
        function j(e) {
            if (g)
                return;
            d || P("vmousecancel", e, C(e.target)),
            d = !0,
            _()
        }
        function F(t) {
            if (g)
                return;
            var n = T(t).touches[0]
              , r = d
              , i = e.vmouse.moveDistanceThreshold
              , s = C(t.target);
            d = d || Math.abs(n.pageX - h) > i || Math.abs(n.pageY - p) > i,
            d && !r && P("vmousecancel", t, s),
            P("vmousemove", t, s),
            _()
        }
        function I(e) {
            if (g)
                return;
            A();
            var t = C(e.target), n, r;
            P("vmouseup", e, t),
            d || (n = P("vclick", e, t),
            n && n.isDefaultPrevented() && (r = T(e).changedTouches[0],
            v.push({
                touchID: E,
                x: r.clientX,
                y: r.clientY
            }),
            m = !0)),
            P("vmouseout", e, t),
            d = !1,
            _()
        }
        function q(t) {
            var n = e.data(t, i), r;
            if (n)
                for (r in n)
                    if (n[r])
                        return !0;
            return !1
        }
        function R() {}
        function U(t) {
            var n = t.substr(1);
            return {
                setup: function() {
                    q(this) || e.data(this, i, {});
                    var r = e.data(this, i);
                    r[t] = !0,
                    l[t] = (l[t] || 0) + 1,
                    l[t] === 1 && b.bind(n, H),
                    e(this).bind(n, R),
                    y && (l.touchstart = (l.touchstart || 0) + 1,
                    l.touchstart === 1 && b.bind("touchstart", B).bind("touchend", I).bind("touchmove", F).bind("scroll", j))
                },
                teardown: function() {
                    --l[t],
                    l[t] || b.unbind(n, H),
                    y && (--l.touchstart,
                    l.touchstart || b.unbind("touchstart", B).unbind("touchmove", F).unbind("touchend", I).unbind("scroll", j));
                    var r = e(this)
                      , s = e.data(this, i);
                    s && (s[t] = !1),
                    r.unbind(n, R),
                    q(this) || r.removeData(i)
                }
            }
        }
        var i = "virtualMouseBindings", s = "virtualTouchID", o = "vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "), u = "clientX clientY pageX pageY screenX screenY".split(" "), a = e.event.mouseHooks ? e.event.mouseHooks.props : [], f = e.event.props.concat(a), l = {}, c = 0, h = 0, p = 0, d = !1, v = [], m = !1, g = !1, y = "addEventListener"in n, b = e(n), w = 1, E = 0, S, x;
        e.vmouse = {
            moveDistanceThreshold: 10,
            clickDistanceThreshold: 10,
            resetTimerDuration: 1500
        };
        for (x = 0; x < o.length; x++)
            e.event.special[o[x]] = U(o[x]);
        y && n.addEventListener("click", function(t) {
            var n = v.length, r = t.target, i, o, u, a, f, l;
            if (n) {
                i = t.clientX,
                o = t.clientY,
                S = e.vmouse.clickDistanceThreshold,
                u = r;
                while (u) {
                    for (a = 0; a < n; a++) {
                        f = v[a],
                        l = 0;
                        if (u === r && Math.abs(f.x - i) < S && Math.abs(f.y - o) < S || e.data(u, s) === f.touchID) {
                            t.preventDefault(),
                            t.stopPropagation();
                            return
                        }
                    }
                    u = u.parentNode
                }
            }
        }, !0)
    }
    )(e, t, n),
    function(e) {
        e.mobile = {}
    }(e),
    function(e, t) {
        var r = {
            touch: "ontouchend"in n
        };
        e.mobile.support = e.mobile.support || {},
        e.extend(e.support, r),
        e.extend(e.mobile.support, r)
    }(e),
    function(e, t, r) {
        function l(t, n, i, s) {
            var o = i.type;
            i.type = n,
            s ? e.event.trigger(i, r, t) : e.event.dispatch.call(t, i),
            i.type = o
        }
        var i = e(n)
          , s = e.mobile.support.touch
          , o = "touchmove scroll"
          , u = s ? "touchstart" : "mousedown"
          , a = s ? "touchend" : "mouseup"
          , f = s ? "touchmove" : "mousemove";
        e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "), function(t, n) {
            e.fn[n] = function(e) {
                return e ? this.bind(n, e) : this.trigger(n)
            }
            ,
            e.attrFn && (e.attrFn[n] = !0)
        }),
        e.event.special.scrollstart = {
            enabled: !0,
            setup: function() {
                function s(e, n) {
                    r = n,
                    l(t, r ? "scrollstart" : "scrollstop", e)
                }
                var t = this, n = e(t), r, i;
                n.bind(o, function(t) {
                    if (!e.event.special.scrollstart.enabled)
                        return;
                    r || s(t, !0),
                    clearTimeout(i),
                    i = setTimeout(function() {
                        s(t, !1)
                    }, 50)
                })
            },
            teardown: function() {
                e(this).unbind(o)
            }
        },
        e.event.special.tap = {
            tapholdThreshold: 750,
            emitTapOnTaphold: !0,
            setup: function() {
                var t = this
                  , n = e(t)
                  , r = !1;
                n.bind("vmousedown", function(s) {
                    function a() {
                        clearTimeout(u)
                    }
                    function f() {
                        a(),
                        n.unbind("vclick", c).unbind("vmouseup", a),
                        i.unbind("vmousecancel", f)
                    }
                    function c(e) {
                        f(),
                        !r && o === e.target ? l(t, "tap", e) : r && e.preventDefault()
                    }
                    r = !1;
                    if (s.which && s.which !== 1)
                        return !1;
                    var o = s.target, u;
                    n.bind("vmouseup", a).bind("vclick", c),
                    i.bind("vmousecancel", f),
                    u = setTimeout(function() {
                        e.event.special.tap.emitTapOnTaphold || (r = !0),
                        l(t, "taphold", e.Event("taphold", {
                            target: o
                        }))
                    }, e.event.special.tap.tapholdThreshold)
                })
            },
            teardown: function() {
                e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),
                i.unbind("vmousecancel")
            }
        },
        e.event.special.swipe = {
            scrollSupressionThreshold: 30,
            durationThreshold: 1e3,
            horizontalDistanceThreshold: 30,
            verticalDistanceThreshold: 30,
            getLocation: function(e) {
                var n = t.pageXOffset
                  , r = t.pageYOffset
                  , i = e.clientX
                  , s = e.clientY;
                if (e.pageY === 0 && Math.floor(s) > Math.floor(e.pageY) || e.pageX === 0 && Math.floor(i) > Math.floor(e.pageX))
                    i -= n,
                    s -= r;
                else if (s < e.pageY - r || i < e.pageX - n)
                    i = e.pageX - n,
                    s = e.pageY - r;
                return {
                    x: i,
                    y: s
                }
            },
            start: function(t) {
                var n = t.originalEvent.touches ? t.originalEvent.touches[0] : t
                  , r = e.event.special.swipe.getLocation(n);
                return {
                    time: (new Date).getTime(),
                    coords: [r.x, r.y],
                    origin: e(t.target)
                }
            },
            stop: function(t) {
                var n = t.originalEvent.touches ? t.originalEvent.touches[0] : t
                  , r = e.event.special.swipe.getLocation(n);
                return {
                    time: (new Date).getTime(),
                    coords: [r.x, r.y]
                }
            },
            handleSwipe: function(t, n, r, i) {
                if (n.time - t.time < e.event.special.swipe.durationThreshold && Math.abs(t.coords[0] - n.coords[0]) > e.event.special.swipe.horizontalDistanceThreshold && Math.abs(t.coords[1] - n.coords[1]) < e.event.special.swipe.verticalDistanceThreshold) {
                    var s = t.coords[0] > n.coords[0] ? "swipeleft" : "swiperight";
                    return l(r, "swipe", e.Event("swipe", {
                        target: i,
                        swipestart: t,
                        swipestop: n
                    }), !0),
                    l(r, s, e.Event(s, {
                        target: i,
                        swipestart: t,
                        swipestop: n
                    }), !0),
                    !0
                }
                return !1
            },
            eventInProgress: !1,
            setup: function() {
                var t, n = this, r = e(n), s = {};
                t = e.data(this, "mobile-events"),
                t || (t = {
                    length: 0
                },
                e.data(this, "mobile-events", t)),
                t.length++,
                t.swipe = s,
                s.start = function(t) {
                    if (e.event.special.swipe.eventInProgress)
                        return;
                    e.event.special.swipe.eventInProgress = !0;
                    var r, o = e.event.special.swipe.start(t), u = t.target, l = !1;
                    s.move = function(t) {
                        if (!o || t.isDefaultPrevented())
                            return;
                        r = e.event.special.swipe.stop(t),
                        l || (l = e.event.special.swipe.handleSwipe(o, r, n, u),
                        l && (e.event.special.swipe.eventInProgress = !1)),
                        Math.abs(o.coords[0] - r.coords[0]) > e.event.special.swipe.scrollSupressionThreshold && t.preventDefault()
                    }
                    ,
                    s.stop = function() {
                        l = !0,
                        e.event.special.swipe.eventInProgress = !1,
                        i.off(f, s.move),
                        s.move = null
                    }
                    ,
                    i.on(f, s.move).one(a, s.stop)
                }
                ,
                r.on(u, s.start)
            },
            teardown: function() {
                var t, n;
                t = e.data(this, "mobile-events"),
                t && (n = t.swipe,
                delete t.swipe,
                t.length--,
                t.length === 0 && e.removeData(this, "mobile-events")),
                n && (n.start && e(this).off(u, n.start),
                n.move && i.off(f, n.move),
                n.stop && i.off(a, n.stop))
            }
        },
        e.each({
            scrollstop: "scrollstart",
            taphold: "tap",
            swipeleft: "swipe.left",
            swiperight: "swipe.right"
        }, function(t, n) {
            e.event.special[t] = {
                setup: function() {
                    e(this).bind(n, e.noop)
                },
                teardown: function() {
                    e(this).unbind(n)
                }
            }
        })
    }(e, this)
});

var SidebarMenuEffects = (function() {
    function hasParentClass(e, classname) {
        if (e === document)
            return false;
        if (classie.has(e, classname)) {
            return true;
        }
        return e.parentNode && hasParentClass(e.parentNode, classname);
    }
    function mobilecheck() {
        var check = false;
        (function(a) {
            if (/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4)))
                check = true
        }
        )(navigator.userAgent || navigator.vendor || window.opera);
        return check;
    }
    function init() {
        var container = document.getElementById('st-container')
          , reset = document.getElementById('closeMenu')
          , buttons = Array.prototype.slice.call(document.querySelectorAll('#st-trigger-effects > button'))
          , eventtype = mobilecheck() ? 'touchstart' : 'click'
          , resetMenu = function() {
            classie.remove(container, 'st-menu-open');
        }
          , bodyClickFn = function(evt) {
            if (!hasParentClass(evt.target, 'st-menu')) {
                resetMenu();
                document.removeEventListener(eventtype, bodyClickFn);
            }
        }
          , resetClickFn = function(evt) {
            if (evt.target == reset) {
                resetMenu();
                document.removeEventListener(eventtype, bodyClickFn);
            }
        };
        buttons.forEach(function(el, i) {
            var effect = el.getAttribute('data-effect');
            el.addEventListener(eventtype, function(ev) {
                ev.stopPropagation();
                ev.preventDefault();
                container.className = 'st-container';
                classie.add(container, effect);
                setTimeout(function() {
                    classie.add(container, 'st-menu-open');
                }, 25);
                document.addEventListener(eventtype, bodyClickFn);
                document.addEventListener(eventtype, resetClickFn);
            });
        });
    }
    init();
}
)();
/*!
  * Stickyfill – `position: sticky` polyfill
  * v. 2.0.2 | https://github.com/wilddeer/stickyfill
  * MIT License
  */
!function(a, b) {
    "use strict";
    function c(a, b) {
        if (!(a instanceof b))
            throw new TypeError("Cannot call a class as a function")
    }
    function d(a, b) {
        for (var c in b)
            b.hasOwnProperty(c) && (a[c] = b[c])
    }
    function e(a) {
        return parseFloat(a) || 0
    }
    function f(a) {
        for (var b = 0; a; )
            b += a.offsetTop,
            a = a.offsetParent;
        return b
    }
    function g() {
        function c() {
            a.pageXOffset != k.left ? (k.top = a.pageYOffset,
            k.left = a.pageXOffset,
            n.refreshAll()) : a.pageYOffset != k.top && (k.top = a.pageYOffset,
            k.left = a.pageXOffset,
            l.forEach(function(a) {
                return a._recalcPosition()
            }))
        }
        function d() {
            f = setInterval(function() {
                l.forEach(function(a) {
                    return a._fastCheck()
                })
            }, 500)
        }
        function e() {
            clearInterval(f)
        }
        c(),
        a.addEventListener("scroll", c),
        a.addEventListener("resize", n.refreshAll),
        a.addEventListener("orientationchange", n.refreshAll);
        var f = void 0
          , g = void 0
          , h = void 0;
        "hidden"in b ? (g = "hidden",
        h = "visibilitychange") : "webkitHidden"in b && (g = "webkitHidden",
        h = "webkitvisibilitychange"),
        h ? (b[g] || d(),
        b.addEventListener(h, function() {
            b[g] ? e() : d()
        })) : d()
    }
    var h = function() {
        function a(a, b) {
            for (var c = 0; c < b.length; c++) {
                var d = b[c];
                d.enumerable = d.enumerable || !1,
                d.configurable = !0,
                "value"in d && (d.writable = !0),
                Object.defineProperty(a, d.key, d)
            }
        }
        return function(b, c, d) {
            return c && a(b.prototype, c),
            d && a(b, d),
            b
        }
    }()
      , i = !1;
    a.getComputedStyle ? !function() {
        var a = b.createElement("div");
        ["", "-webkit-", "-moz-", "-ms-"].some(function(b) {
            try {
                a.style.position = b + "sticky"
            } catch (a) {}
            return "" != a.style.position
        }) && (i = !0)
    }() : i = !0;
    var j = "undefined" != typeof ShadowRoot
      , k = {
        top: null,
        left: null
    }
      , l = []
      , m = function() {
        function g(a) {
            if (c(this, g),
            !(a instanceof HTMLElement))
                throw new Error("First argument must be HTMLElement");
            if (l.some(function(b) {
                return b._node === a
            }))
                throw new Error("Stickyfill is already applied to this node");
            this._node = a,
            this._stickyMode = null,
            this._active = !1,
            l.push(this),
            this.refresh()
        }
        return h(g, [{
            key: "refresh",
            value: function() {
                if (!i && !this._removed) {
                    this._active && this._deactivate();
                    var c = this._node
                      , g = getComputedStyle(c);
                    if (!isNaN(parseFloat(g.top)) && "table-cell" != g.display && "none" != g.display) {
                        this._active = !0;
                        var h = c.parentNode
                          , k = j && h instanceof ShadowRoot ? h.host : h
                          , l = c.getBoundingClientRect()
                          , m = k.getBoundingClientRect()
                          , n = getComputedStyle(k);
                        this._parent = {
                            node: k,
                            styles: {
                                position: k.style.position
                            },
                            offsetHeight: k.offsetHeight
                        },
                        this._offsetToWindow = {
                            left: l.left,
                            right: b.documentElement.clientWidth - l.right
                        },
                        this._offsetToParent = {
                            top: l.top - m.top - e(n.borderTopWidth),
                            left: l.left - m.left - e(n.borderLeftWidth),
                            right: -l.right + m.right - e(n.borderRightWidth)
                        },
                        this._styles = {
                            position: c.style.position,
                            top: c.style.top,
                            bottom: c.style.bottom,
                            left: c.style.left,
                            right: c.style.right,
                            width: c.style.width,
                            marginTop: c.style.marginTop,
                            marginLeft: c.style.marginLeft,
                            marginRight: c.style.marginRight
                        };
                        var o = e(g.top);
                        this._limits = {
                            start: l.top + a.pageYOffset - o,
                            end: m.top + a.pageYOffset + k.offsetHeight - e(n.borderBottomWidth) - c.offsetHeight - o - e(g.marginBottom)
                        };
                        var p = n.position;
                        "absolute" != p && "relative" != p && (k.style.position = "relative");
                        var q = this._clone = {};
                        q.node = b.createElement("div"),
                        d(q.node.style, {
                            width: l.right - l.left + "px",
                            height: l.bottom - l.top + "px",
                            marginTop: g.marginTop,
                            marginBottom: g.marginBottom,
                            marginLeft: g.marginLeft,
                            marginRight: g.marginRight,
                            cssFloat: g.cssFloat,
                            padding: 0,
                            border: 0,
                            borderSpacing: 0,
                            fontSize: "1em",
                            position: "static"
                        }),
                        h.insertBefore(q.node, c),
                        q.docOffsetTop = f(q.node),
                        this._recalcPosition()
                    }
                }
            }
        }, {
            key: "_recalcPosition",
            value: function() {
                if (this._active && !this._removed) {
                    var a = k.top <= this._limits.start ? "start" : k.top >= this._limits.end ? "end" : "middle";
                    if (this._stickyMode != a) {
                        switch (a) {
                        case "start":
                            d(this._node.style, {
                                position: "absolute",
                                left: this._offsetToParent.left + "px",
                                right: this._offsetToParent.right + "px",
                                top: this._offsetToParent.top + "px",
                                bottom: "auto",
                                width: "auto",
                                marginLeft: 0,
                                marginRight: 0,
                                marginTop: 0
                            });
                            break;
                        case "middle":
                            d(this._node.style, {
                                position: "fixed",
                                left: this._offsetToWindow.left + "px",
                                right: this._offsetToWindow.right + "px",
                                top: this._styles.top,
                                bottom: "auto",
                                width: "auto",
                                marginLeft: 0,
                                marginRight: 0,
                                marginTop: 0
                            });
                            break;
                        case "end":
                            d(this._node.style, {
                                position: "absolute",
                                left: this._offsetToParent.left + "px",
                                right: this._offsetToParent.right + "px",
                                top: "auto",
                                bottom: 0,
                                width: "auto",
                                marginLeft: 0,
                                marginRight: 0
                            })
                        }
                        this._stickyMode = a
                    }
                }
            }
        }, {
            key: "_fastCheck",
            value: function() {
                this._active && !this._removed && (Math.abs(f(this._clone.node) - this._clone.docOffsetTop) > 1 || Math.abs(this._parent.node.offsetHeight - this._parent.offsetHeight) > 1) && this.refresh()
            }
        }, {
            key: "_deactivate",
            value: function() {
                var a = this;
                this._active && !this._removed && (this._clone.node.parentNode.removeChild(this._clone.node),
                delete this._clone,
                d(this._node.style, this._styles),
                delete this._styles,
                l.some(function(b) {
                    return b !== a && b._parent && b._parent.node === a._parent.node
                }) || d(this._parent.node.style, this._parent.styles),
                delete this._parent,
                this._stickyMode = null,
                this._active = !1,
                delete this._offsetToWindow,
                delete this._offsetToParent,
                delete this._limits)
            }
        }, {
            key: "remove",
            value: function() {
                var a = this;
                this._deactivate(),
                l.some(function(b, c) {
                    if (b._node === a._node)
                        return l.splice(c, 1),
                        !0
                }),
                this._removed = !0
            }
        }]),
        g
    }()
      , n = {
        stickies: l,
        Sticky: m,
        addOne: function(a) {
            if (!(a instanceof HTMLElement)) {
                if (!a.length || !a[0])
                    return;
                a = a[0]
            }
            for (var b = 0; b < l.length; b++)
                if (l[b]._node === a)
                    return l[b];
            return new m(a)
        },
        add: function(a) {
            if (a instanceof HTMLElement && (a = [a]),
            a.length) {
                for (var b = [], c = function(c) {
                    var d = a[c];
                    return d instanceof HTMLElement ? l.some(function(a) {
                        if (a._node === d)
                            return b.push(a),
                            !0
                    }) ? "continue" : void b.push(new m(d)) : (b.push(void 0),
                    "continue")
                }, d = 0; d < a.length; d++) {
                    c(d)
                }
                return b
            }
        },
        refreshAll: function() {
            l.forEach(function(a) {
                return a.refresh()
            })
        },
        removeOne: function(a) {
            if (!(a instanceof HTMLElement)) {
                if (!a.length || !a[0])
                    return;
                a = a[0]
            }
            l.some(function(b) {
                if (b._node === a)
                    return b.remove(),
                    !0
            })
        },
        remove: function(a) {
            if (a instanceof HTMLElement && (a = [a]),
            a.length)
                for (var b = function(b) {
                    var c = a[b];
                    l.some(function(a) {
                        if (a._node === c)
                            return a.remove(),
                            !0
                    })
                }, c = 0; c < a.length; c++)
                    b(c)
        },
        removeAll: function() {
            for (; l.length; )
                l[0].remove()
        }
    };
    i || g(),
    "undefined" != typeof module && module.exports ? module.exports = n : a.Stickyfill = n
}(window, document);

var screenMaxMobile = 759;
var QuickView = function(container) {
    var targetID = $(container).data("product-target");
    var quickView = {
        reference: $(container),
        trigger: $(container).find(".js-quickviewlist-trigger"),
        target: $(targetID),
        mouseleave: true,
        height: $(container).height(),
        delayMillis: 500,
        inject: function(target) {
            var isCarousel = $(container).closest('.js-product-teaser-content').length;
            var isInspiration = $(container).closest('.js-inspirational-layaout-content').length;
            if (isInspiration) {
                injectInspirationCarousel(target);
            } else if (isCarousel) {
                injectProductCarousel(target);
            } else {
                injectProductList(target);
            }
        }
    };
    var injectProductCarousel = function(target) {
        var teaser = target.closest('.js-product-teaser').find('.js-teaser-quickview');
        if (teaser.length) {
            var cssleft = teaser.css('left');
            var offsetleft = teaser.offset().left;
            var itemLeft = $(quickView.trigger).offset().left + parseInt(cssleft, 10) - offsetleft;
            var widthDifference = $(quickView.target).outerWidth() - $(quickView.trigger).width();
            var itemRight = itemLeft - widthDifference;
            if ($(quickView.trigger).parent().hasClass('quick-view--left') || $(quickView.target).hasClass('quick-view--left')) {
                itemLeft = itemRight;
            }
            target.css({
                'transform': 'translate3d(' + itemLeft + 'px, 0px, 0px)',
                'will-change': 'unset'
            })
        }
    };
    var injectProductList = function(target) {
        var itemLeft = $(quickView.trigger).position().left - $(quickView.target).find('.js-quick-view-media').position().left;
        if ($(quickView.trigger).hasClass('quick-view--left')) {
            itemLeft = 0;
        }
        target.css({
            'transform': 'translate3d(' + itemLeft + 'px, 0px, 0px)',
            'will-change': 'unset'
        })
    };
    var injectInspirationCarousel = function(target) {
        var itemLeft = $(target).closest('.js-product-teaser').width() / 2;
        var top = $(window).height() / 2;
        var quickviewWidth = parseInt($(target).css('width'), 10) / 2;
        var left = -parseInt($(target).css('margin-left'), 10);
        var quickviewHeight = $('.js-quickviewlist-target').height() / 2;
        top = -(top - quickviewHeight);
        itemLeft = itemLeft - quickviewWidth;
        target.css({
            'transform': 'translate3d(' + itemLeft + 'px, ' + top + 'px, 0px)',
            'left': left,
            'will-change': 'unset'
        })
    };
    $(quickView.target).on("click", ".js-quick-view-close", function(e) {
        e.preventDefault();
        if (popperQuickView) {
            popperQuickView.destroy();
        }
        quickView.target.addClass("hidden");
        quickView.mouseleave = true;
    });
    $(quickView.reference).removeClass("js-quickview");
    $(quickView.trigger).on("mouseleave", function() {
        quickView.mouseleave = true;
    });
    $(quickView.trigger).on("mouseenter", function() {
        if ($(window).width() > screenMaxMobile) {
            $(this).closest('.js-product-teaser-content').trigger('slidestop');
            var target = quickView.target;
            var targetClass = $(this).closest('.js-quickviewlist').data('product-target');
            quickView.mouseleave = false;
            if (popperQuickView) {
                popperQuickView.destroy();
                $(popperQuickView.popper).addClass('hidden');
            }
            if ($(this).closest('.js-product-teaser').length) {
                target = $(this).closest('.js-product-teaser').find(targetClass);
                if ($(this).offset().left > $(window).width() / 2 && !$(this).closest('.js-inspirational-layout-content').length) {
                    $(target).closest('.js-quickviewlist').addClass('quick-view--left');
                    $(target).find('.js-quick-view-media').addClass('pull-right');
                    $(target).find('.js-quick-view-info').addClass('pull-right');
                    $(target).addClass('quick-view--left js-quick-view-left');
                }
            }
            setTimeout(function() {
                if (!quickView.mouseleave) {
                    if (popperQuickView) {
                        popperQuickView.destroy();
                    }
                    popperQuickView = new Popper(quickView.reference,target,{
                        onCreate: function() {
                            quickView.inject(target);
                        },
                        onUpdate: function() {
                            quickView.inject(target);
                        }
                    });
                    target.removeClass("hidden");
                    $(quickView.trigger).trigger('quickViewMouseenter', container);
                }
            }, quickView.delayMillis);
        }
    });
    $(quickView.target).on("mouseleave", function(ev) {
        if (!$(ev.target).hasClass('js-quick-view-thumbs')) {
            $('.js-product-teaser-content').trigger('slidestart');
            if (!($(ev.target).is("select"))) {
                if (popperQuickView) {
                    popperQuickView.destroy();
                }
                $(quickView.trigger).trigger('carouselDestroy', $(this).find(".js-overlay-owl-carousel"));
                quickView.target.addClass("hidden");
                quickView.mouseleave = true;
            }
        }
    })
    $(quickView.target).on("mouseenter", function() {
        $('.js-product-teaser-content').each(function() {
            $(this).trigger('slidestop');
        });
    })
};
function initQuickview() {
    var lastelement;
    var lastelementleft = 0;
    $('.js-quickviewlist').each(function(index, element) {
        var thisElementLeft = $(element).offset().left;
        if (lastelementleft > thisElementLeft) {
            $(lastelement).addClass('quick-view--left js-quick-view-left');
            $(lastelement).find('.js-quick-view-media').addClass('pull-right');
            $(lastelement).find('.js-quick-view-info').addClass('pull-right');
        } else {
            if (!$(this).next().hasClass('js-quickviewlist') && $('.js-quickviewlist').length > 2) {
                $(this).find('.js-quick-view-media').addClass('pull-right');
                $(this).find('.js-quick-view-info').addClass('pull-right');
            } else {
                lastelementleft = thisElementLeft;
                lastelement = element;
            }
        }
        new QuickView(this);
    });
}
initQuickview();

(function(global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global.Popper = factory());
}(this, (function() {
    'use strict';
    var nativeHints = ['native code', '[object MutationObserverConstructor]'];
    var isNative = (function(fn) {
        return nativeHints.some(function(hint) {
            return (fn || '').toString().indexOf(hint) > -1;
        });
    }
    );
    var isBrowser = typeof window !== 'undefined';
    var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];
    var timeoutDuration = 0;
    for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {
        if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {
            timeoutDuration = 1;
            break;
        }
    }
    function microtaskDebounce(fn) {
        var scheduled = false;
        var i = 0;
        var elem = document.createElement('span');
        var observer = new MutationObserver(function() {
            fn();
            scheduled = false;
        }
        );
        observer.observe(elem, {
            attributes: true
        });
        return function() {
            if (!scheduled) {
                scheduled = true;
                elem.setAttribute('x-index', i);
                i = i + 1;
            }
        }
        ;
    }
    function taskDebounce(fn) {
        var scheduled = false;
        return function() {
            if (!scheduled) {
                scheduled = true;
                setTimeout(function() {
                    scheduled = false;
                    fn();
                }, timeoutDuration);
            }
        }
        ;
    }
    var supportsNativeMutationObserver = isBrowser && isNative(window.MutationObserver);
    var debounce = supportsNativeMutationObserver ? microtaskDebounce : taskDebounce;
    function isFunction(functionToCheck) {
        var getType = {};
        return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';
    }
    function getStyleComputedProperty(element, property) {
        if (element.nodeType !== 1) {
            return [];
        }
        var css = window.getComputedStyle(element, null);
        return property ? css[property] : css;
    }
    function getParentNode(element) {
        if (element.nodeName === 'HTML') {
            return element;
        }
        return element.parentNode || element.host;
    }
    function getScrollParent(element) {
        if (!element || ['HTML', 'BODY', '#document'].indexOf(element.nodeName) !== -1) {
            return window.document.body;
        }
        var _getStyleComputedProp = getStyleComputedProperty(element)
          , overflow = _getStyleComputedProp.overflow
          , overflowX = _getStyleComputedProp.overflowX
          , overflowY = _getStyleComputedProp.overflowY;
        if (/(auto|scroll)/.test(overflow + overflowY + overflowX)) {
            return element;
        }
        return getScrollParent(getParentNode(element));
    }
    function getOffsetParent(element) {
        var offsetParent = element && element.offsetParent;
        var nodeName = offsetParent && offsetParent.nodeName;
        if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {
            return window.document.documentElement;
        }
        if (['TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {
            return getOffsetParent(offsetParent);
        }
        return offsetParent;
    }
    function isOffsetContainer(element) {
        var nodeName = element.nodeName;
        if (nodeName === 'BODY') {
            return false;
        }
        return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;
    }
    function getRoot(node) {
        if (node.parentNode !== null) {
            return getRoot(node.parentNode);
        }
        return node;
    }
    function findCommonOffsetParent(element1, element2) {
        if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {
            return window.document.documentElement;
        }
        var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;
        var start = order ? element1 : element2;
        var end = order ? element2 : element1;
        var range = document.createRange();
        range.setStart(start, 0);
        range.setEnd(end, 0);
        var commonAncestorContainer = range.commonAncestorContainer;
        if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {
            if (isOffsetContainer(commonAncestorContainer)) {
                return commonAncestorContainer;
            }
            return getOffsetParent(commonAncestorContainer);
        }
        var element1root = getRoot(element1);
        if (element1root.host) {
            return findCommonOffsetParent(element1root.host, element2);
        } else {
            return findCommonOffsetParent(element1, getRoot(element2).host);
        }
    }
    function getScroll(element) {
        var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';
        var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';
        var nodeName = element.nodeName;
        if (nodeName === 'BODY' || nodeName === 'HTML') {
            var html = window.document.documentElement;
            var scrollingElement = window.document.scrollingElement || html;
            return scrollingElement[upperSide];
        }
        return element[upperSide];
    }
    function includeScroll(rect, element) {
        var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
        var scrollTop = getScroll(element, 'top');
        var scrollLeft = getScroll(element, 'left');
        var modifier = subtract ? -1 : 1;
        rect.top += scrollTop * modifier;
        rect.bottom += scrollTop * modifier;
        rect.left += scrollLeft * modifier;
        rect.right += scrollLeft * modifier;
        return rect;
    }
    function getBordersSize(styles, axis) {
        var sideA = axis === 'x' ? 'Left' : 'Top';
        var sideB = sideA === 'Left' ? 'Right' : 'Bottom';
        return +styles['border' + sideA + 'Width'].split('px')[0] + +styles['border' + sideB + 'Width'].split('px')[0];
    }
    var isIE10 = undefined;
    var isIE10$1 = function() {
        if (isIE10 === undefined) {
            isIE10 = navigator.appVersion.indexOf('MSIE 10') !== -1;
        }
        return isIE10;
    };
    function getSize(axis, body, html, computedStyle) {
        return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE10$1() ? html['offset' + axis] + computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')] + computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')] : 0);
    }
    function getWindowSizes() {
        var body = window.document.body;
        var html = window.document.documentElement;
        var computedStyle = isIE10$1() && window.getComputedStyle(html);
        return {
            height: getSize('Height', body, html, computedStyle),
            width: getSize('Width', body, html, computedStyle)
        };
    }
    var classCallCheck = function(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    };
    var createClass = function() {
        function defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value"in descriptor)
                    descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }
        return function(Constructor, protoProps, staticProps) {
            if (protoProps)
                defineProperties(Constructor.prototype, protoProps);
            if (staticProps)
                defineProperties(Constructor, staticProps);
            return Constructor;
        }
        ;
    }();
    var defineProperty = function(obj, key, value) {
        if (key in obj) {
            Object.defineProperty(obj, key, {
                value: value,
                enumerable: true,
                configurable: true,
                writable: true
            });
        } else {
            obj[key] = value;
        }
        return obj;
    };
    var _extends = Object.assign || function(target) {
        for (var i = 1; i < arguments.length; i++) {
            var source = arguments[i];
            for (var key in source) {
                if (Object.prototype.hasOwnProperty.call(source, key)) {
                    target[key] = source[key];
                }
            }
        }
        return target;
    }
    ;
    function getClientRect(offsets) {
        return _extends({}, offsets, {
            right: offsets.left + offsets.width,
            bottom: offsets.top + offsets.height
        });
    }
    function getBoundingClientRect(element) {
        var rect = {};
        if (isIE10$1()) {
            try {
                rect = element.getBoundingClientRect();
                var scrollTop = getScroll(element, 'top');
                var scrollLeft = getScroll(element, 'left');
                rect.top += scrollTop;
                rect.left += scrollLeft;
                rect.bottom += scrollTop;
                rect.right += scrollLeft;
            } catch (err) {}
        } else {
            rect = element.getBoundingClientRect();
        }
        var result = {
            left: rect.left,
            top: rect.top,
            width: rect.right - rect.left,
            height: rect.bottom - rect.top
        };
        var sizes = element.nodeName === 'HTML' ? getWindowSizes() : {};
        var width = sizes.width || element.clientWidth || result.right - result.left;
        var height = sizes.height || element.clientHeight || result.bottom - result.top;
        var horizScrollbar = element.offsetWidth - width;
        var vertScrollbar = element.offsetHeight - height;
        if (horizScrollbar || vertScrollbar) {
            var styles = getStyleComputedProperty(element);
            horizScrollbar -= getBordersSize(styles, 'x');
            vertScrollbar -= getBordersSize(styles, 'y');
            result.width -= horizScrollbar;
            result.height -= vertScrollbar;
        }
        return getClientRect(result);
    }
    function getOffsetRectRelativeToArbitraryNode(children, parent) {
        var isIE10 = isIE10$1();
        var isHTML = parent.nodeName === 'HTML';
        var childrenRect = getBoundingClientRect(children);
        var parentRect = getBoundingClientRect(parent);
        var scrollParent = getScrollParent(children);
        var styles = getStyleComputedProperty(parent);
        var borderTopWidth = +styles.borderTopWidth.split('px')[0];
        var borderLeftWidth = +styles.borderLeftWidth.split('px')[0];
        var offsets = getClientRect({
            top: childrenRect.top - parentRect.top - borderTopWidth,
            left: childrenRect.left - parentRect.left - borderLeftWidth,
            width: childrenRect.width,
            height: childrenRect.height
        });
        offsets.marginTop = 0;
        offsets.marginLeft = 0;
        if (!isIE10 && isHTML) {
            var marginTop = +styles.marginTop.split('px')[0];
            var marginLeft = +styles.marginLeft.split('px')[0];
            offsets.top -= borderTopWidth - marginTop;
            offsets.bottom -= borderTopWidth - marginTop;
            offsets.left -= borderLeftWidth - marginLeft;
            offsets.right -= borderLeftWidth - marginLeft;
            offsets.marginTop = marginTop;
            offsets.marginLeft = marginLeft;
        }
        if (isIE10 ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {
            offsets = includeScroll(offsets, parent);
        }
        return offsets;
    }
    function getViewportOffsetRectRelativeToArtbitraryNode(element) {
        var html = window.document.documentElement;
        var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);
        var width = Math.max(html.clientWidth, window.innerWidth || 0);
        var height = Math.max(html.clientHeight, window.innerHeight || 0);
        var scrollTop = getScroll(html);
        var scrollLeft = getScroll(html, 'left');
        var offset = {
            top: scrollTop - relativeOffset.top + relativeOffset.marginTop,
            left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,
            width: width,
            height: height
        };
        return getClientRect(offset);
    }
    function isFixed(element) {
        var nodeName = element.nodeName;
        if (nodeName === 'BODY' || nodeName === 'HTML') {
            return false;
        }
        if (getStyleComputedProperty(element, 'position') === 'fixed') {
            return true;
        }
        return isFixed(getParentNode(element));
    }
    function getBoundaries(popper, reference, padding, boundariesElement) {
        var boundaries = {
            top: 0,
            left: 0
        };
        var offsetParent = findCommonOffsetParent(popper, reference);
        if (boundariesElement === 'viewport') {
            boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent);
        } else {
            var boundariesNode = void 0;
            if (boundariesElement === 'scrollParent') {
                boundariesNode = getScrollParent(getParentNode(popper));
                if (boundariesNode.nodeName === 'BODY') {
                    boundariesNode = window.document.documentElement;
                }
            } else if (boundariesElement === 'window') {
                boundariesNode = window.document.documentElement;
            } else {
                boundariesNode = boundariesElement;
            }
            var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent);
            if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {
                var _getWindowSizes = getWindowSizes()
                  , height = _getWindowSizes.height
                  , width = _getWindowSizes.width;
                boundaries.top += offsets.top - offsets.marginTop;
                boundaries.bottom = height + offsets.top;
                boundaries.left += offsets.left - offsets.marginLeft;
                boundaries.right = width + offsets.left;
            } else {
                boundaries = offsets;
            }
        }
        boundaries.left += padding;
        boundaries.top += padding;
        boundaries.right -= padding;
        boundaries.bottom -= padding;
        return boundaries;
    }
    function getArea(_ref) {
        var width = _ref.width
          , height = _ref.height;
        return width * height;
    }
    function computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {
        var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;
        if (placement.indexOf('auto') === -1) {
            return placement;
        }
        var boundaries = getBoundaries(popper, reference, padding, boundariesElement);
        var rects = {
            top: {
                width: boundaries.width,
                height: refRect.top - boundaries.top
            },
            right: {
                width: boundaries.right - refRect.right,
                height: boundaries.height
            },
            bottom: {
                width: boundaries.width,
                height: boundaries.bottom - refRect.bottom
            },
            left: {
                width: refRect.left - boundaries.left,
                height: boundaries.height
            }
        };
        var sortedAreas = Object.keys(rects).map(function(key) {
            return _extends({
                key: key
            }, rects[key], {
                area: getArea(rects[key])
            });
        }).sort(function(a, b) {
            return b.area - a.area;
        });
        var filteredAreas = sortedAreas.filter(function(_ref2) {
            var width = _ref2.width
              , height = _ref2.height;
            return width >= popper.clientWidth && height >= popper.clientHeight;
        });
        var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;
        var variation = placement.split('-')[1];
        return computedPlacement + (variation ? '-' + variation : '');
    }
    function getReferenceOffsets(state, popper, reference) {
        var commonOffsetParent = findCommonOffsetParent(popper, reference);
        return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent);
    }
    function getOuterSizes(element) {
        var styles = window.getComputedStyle(element);
        var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);
        var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);
        var result = {
            width: element.offsetWidth + y,
            height: element.offsetHeight + x
        };
        return result;
    }
    function getOppositePlacement(placement) {
        var hash = {
            left: 'right',
            right: 'left',
            bottom: 'top',
            top: 'bottom'
        };
        return placement.replace(/left|right|bottom|top/g, function(matched) {
            return hash[matched];
        });
    }
    function getPopperOffsets(popper, referenceOffsets, placement) {
        placement = placement.split('-')[0];
        var popperRect = getOuterSizes(popper);
        var popperOffsets = {
            width: popperRect.width,
            height: popperRect.height
        };
        var isHoriz = ['right', 'left'].indexOf(placement) !== -1;
        var mainSide = isHoriz ? 'top' : 'left';
        var secondarySide = isHoriz ? 'left' : 'top';
        var measurement = isHoriz ? 'height' : 'width';
        var secondaryMeasurement = !isHoriz ? 'height' : 'width';
        popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;
        if (placement === secondarySide) {
            popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];
        } else {
            popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];
        }
        return popperOffsets;
    }
    function find(arr, check) {
        if (Array.prototype.find) {
            return arr.find(check);
        }
        return arr.filter(check)[0];
    }
    function findIndex(arr, prop, value) {
        if (Array.prototype.findIndex) {
            return arr.findIndex(function(cur) {
                return cur[prop] === value;
            });
        }
        var match = find(arr, function(obj) {
            return obj[prop] === value;
        });
        return arr.indexOf(match);
    }
    function runModifiers(modifiers, data, ends) {
        var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));
        modifiersToRun.forEach(function(modifier) {
            if (modifier.function) {
                console.warn('`modifier.function` is deprecated, use `modifier.fn`!');
            }
            var fn = modifier.function || modifier.fn;
            if (modifier.enabled && isFunction(fn)) {
                data.offsets.popper = getClientRect(data.offsets.popper);
                data.offsets.reference = getClientRect(data.offsets.reference);
                data = fn(data, modifier);
            }
        });
        return data;
    }
    function update() {
        if (this.state.isDestroyed) {
            return;
        }
        var data = {
            instance: this,
            styles: {},
            arrowStyles: {},
            attributes: {},
            flipped: false,
            offsets: {}
        };
        data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference);
        data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);
        data.originalPlacement = data.placement;
        data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);
        data.offsets.popper.position = 'absolute';
        data = runModifiers(this.modifiers, data);
        if (!this.state.isCreated) {
            this.state.isCreated = true;
            this.options.onCreate(data);
        } else {
            this.options.onUpdate(data);
        }
    }
    function isModifierEnabled(modifiers, modifierName) {
        return modifiers.some(function(_ref) {
            var name = _ref.name
              , enabled = _ref.enabled;
            return enabled && name === modifierName;
        });
    }
    function getSupportedPropertyName(property) {
        var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];
        var upperProp = property.charAt(0).toUpperCase() + property.slice(1);
        for (var i = 0; i < prefixes.length - 1; i++) {
            var prefix = prefixes[i];
            var toCheck = prefix ? '' + prefix + upperProp : property;
            if (typeof window.document.body.style[toCheck] !== 'undefined') {
                return toCheck;
            }
        }
        return null;
    }
    function destroy() {
        this.state.isDestroyed = true;
        if (isModifierEnabled(this.modifiers, 'applyStyle')) {
            this.popper.removeAttribute('x-placement');
            this.popper.style.left = '';
            this.popper.style.position = '';
            this.popper.style.top = '';
            this.popper.style[getSupportedPropertyName('transform')] = '';
        }
        this.disableEventListeners();
        if (this.options.removeOnDestroy) {
            this.popper.parentNode.removeChild(this.popper);
        }
        return this;
    }
    function attachToScrollParents(scrollParent, event, callback, scrollParents) {
        var isBody = scrollParent.nodeName === 'BODY';
        var target = isBody ? window : scrollParent;
        target.addEventListener(event, callback, {
            passive: true
        });
        if (!isBody) {
            attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);
        }
        scrollParents.push(target);
    }
    function setupEventListeners(reference, options, state, updateBound) {
        state.updateBound = updateBound;
        window.addEventListener('resize', state.updateBound, {
            passive: true
        });
        var scrollElement = getScrollParent(reference);
        attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);
        state.scrollElement = scrollElement;
        state.eventsEnabled = true;
        return state;
    }
    function enableEventListeners() {
        if (!this.state.eventsEnabled) {
            this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);
        }
    }
    function removeEventListeners(reference, state) {
        window.removeEventListener('resize', state.updateBound);
        state.scrollParents.forEach(function(target) {
            target.removeEventListener('scroll', state.updateBound);
        });
        state.updateBound = null;
        state.scrollParents = [];
        state.scrollElement = null;
        state.eventsEnabled = false;
        return state;
    }
    function disableEventListeners() {
        if (this.state.eventsEnabled) {
            window.cancelAnimationFrame(this.scheduleUpdate);
            this.state = removeEventListeners(this.reference, this.state);
        }
    }
    function isNumeric(n) {
        return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);
    }
    function setStyles(element, styles) {
        Object.keys(styles).forEach(function(prop) {
            var unit = '';
            if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {
                unit = 'px';
            }
            element.style[prop] = styles[prop] + unit;
        });
    }
    function setAttributes(element, attributes) {
        Object.keys(attributes).forEach(function(prop) {
            var value = attributes[prop];
            if (value !== false) {
                element.setAttribute(prop, attributes[prop]);
            } else {
                element.removeAttribute(prop);
            }
        });
    }
    function applyStyle(data) {
        setStyles(data.instance.popper, data.styles);
        setAttributes(data.instance.popper, data.attributes);
        if (data.arrowElement && Object.keys(data.arrowStyles).length) {
            setStyles(data.arrowElement, data.arrowStyles);
        }
        return data;
    }
    function applyStyleOnLoad(reference, popper, options, modifierOptions, state) {
        var referenceOffsets = getReferenceOffsets(state, popper, reference);
        var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);
        popper.setAttribute('x-placement', placement);
        setStyles(popper, {
            position: 'absolute'
        });
        return options;
    }
    function computeStyle(data, options) {
        var x = options.x
          , y = options.y;
        var popper = data.offsets.popper;
        var legacyGpuAccelerationOption = find(data.instance.modifiers, function(modifier) {
            return modifier.name === 'applyStyle';
        }).gpuAcceleration;
        if (legacyGpuAccelerationOption !== undefined) {
            console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');
        }
        var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;
        var offsetParent = getOffsetParent(data.instance.popper);
        var offsetParentRect = getBoundingClientRect(offsetParent);
        var styles = {
            position: popper.position
        };
        var offsets = {
            left: Math.floor(popper.left),
            top: Math.floor(popper.top),
            bottom: Math.floor(popper.bottom),
            right: Math.floor(popper.right)
        };
        var sideA = x === 'bottom' ? 'top' : 'bottom';
        var sideB = y === 'right' ? 'left' : 'right';
        var prefixedProperty = getSupportedPropertyName('transform');
        var left = void 0
          , top = void 0;
        if (sideA === 'bottom') {
            top = -offsetParentRect.height + offsets.bottom;
        } else {
            top = offsets.top;
        }
        if (sideB === 'right') {
            left = -offsetParentRect.width + offsets.right;
        } else {
            left = offsets.left;
        }
        if (gpuAcceleration && prefixedProperty) {
            styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';
            styles[sideA] = 0;
            styles[sideB] = 0;
            styles.willChange = 'transform';
        } else {
            var invertTop = sideA === 'bottom' ? -1 : 1;
            var invertLeft = sideB === 'right' ? -1 : 1;
            styles[sideA] = top * invertTop;
            styles[sideB] = left * invertLeft;
            styles.willChange = sideA + ', ' + sideB;
        }
        var attributes = {
            'x-placement': data.placement
        };
        data.attributes = _extends({}, attributes, data.attributes);
        data.styles = _extends({}, styles, data.styles);
        data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);
        return data;
    }
    function isModifierRequired(modifiers, requestingName, requestedName) {
        var requesting = find(modifiers, function(_ref) {
            var name = _ref.name;
            return name === requestingName;
        });
        var isRequired = !!requesting && modifiers.some(function(modifier) {
            return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;
        });
        if (!isRequired) {
            var _requesting = '`' + requestingName + '`';
            var requested = '`' + requestedName + '`';
            console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');
        }
        return isRequired;
    }
    function arrow(data, options) {
        if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {
            return data;
        }
        var arrowElement = options.element;
        if (typeof arrowElement === 'string') {
            arrowElement = data.instance.popper.querySelector(arrowElement);
            if (!arrowElement) {
                return data;
            }
        } else {
            if (!data.instance.popper.contains(arrowElement)) {
                console.warn('WARNING: `arrow.element` must be child of its popper element!');
                return data;
            }
        }
        var placement = data.placement.split('-')[0];
        var _data$offsets = data.offsets
          , popper = _data$offsets.popper
          , reference = _data$offsets.reference;
        var isVertical = ['left', 'right'].indexOf(placement) !== -1;
        var len = isVertical ? 'height' : 'width';
        var sideCapitalized = isVertical ? 'Top' : 'Left';
        var side = sideCapitalized.toLowerCase();
        var altSide = isVertical ? 'left' : 'top';
        var opSide = isVertical ? 'bottom' : 'right';
        var arrowElementSize = getOuterSizes(arrowElement)[len];
        if (reference[opSide] - arrowElementSize < popper[side]) {
            data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);
        }
        if (reference[side] + arrowElementSize > popper[opSide]) {
            data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];
        }
        var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;
        var popperMarginSide = getStyleComputedProperty(data.instance.popper, 'margin' + sideCapitalized).replace('px', '');
        var sideValue = center - getClientRect(data.offsets.popper)[side] - popperMarginSide;
        sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);
        data.arrowElement = arrowElement;
        data.offsets.arrow = {};
        data.offsets.arrow[side] = Math.round(sideValue);
        data.offsets.arrow[altSide] = '';
        return data;
    }
    function getOppositeVariation(variation) {
        if (variation === 'end') {
            return 'start';
        } else if (variation === 'start') {
            return 'end';
        }
        return variation;
    }
    var placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];
    var validPlacements = placements.slice(3);
    function clockwise(placement) {
        var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
        var index = validPlacements.indexOf(placement);
        var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));
        return counter ? arr.reverse() : arr;
    }
    var BEHAVIORS = {
        FLIP: 'flip',
        CLOCKWISE: 'clockwise',
        COUNTERCLOCKWISE: 'counterclockwise'
    };
    function flip(data, options) {
        if (isModifierEnabled(data.instance.modifiers, 'inner')) {
            return data;
        }
        if (data.flipped && data.placement === data.originalPlacement) {
            return data;
        }
        var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement);
        var placement = data.placement.split('-')[0];
        var placementOpposite = getOppositePlacement(placement);
        var variation = data.placement.split('-')[1] || '';
        var flipOrder = [];
        switch (options.behavior) {
        case BEHAVIORS.FLIP:
            flipOrder = [placement, placementOpposite];
            break;
        case BEHAVIORS.CLOCKWISE:
            flipOrder = clockwise(placement);
            break;
        case BEHAVIORS.COUNTERCLOCKWISE:
            flipOrder = clockwise(placement, true);
            break;
        default:
            flipOrder = options.behavior;
        }
        flipOrder.forEach(function(step, index) {
            if (placement !== step || flipOrder.length === index + 1) {
                return data;
            }
            placement = data.placement.split('-')[0];
            placementOpposite = getOppositePlacement(placement);
            var popperOffsets = data.offsets.popper;
            var refOffsets = data.offsets.reference;
            var floor = Math.floor;
            var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);
            var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);
            var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);
            var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);
            var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);
            var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;
            var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
            var flippedVariation = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);
            if (overlapsRef || overflowsBoundaries || flippedVariation) {
                data.flipped = true;
                if (overlapsRef || overflowsBoundaries) {
                    placement = flipOrder[index + 1];
                }
                if (flippedVariation) {
                    variation = getOppositeVariation(variation);
                }
                data.placement = placement + (variation ? '-' + variation : '');
                data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));
                data = runModifiers(data.instance.modifiers, data, 'flip');
            }
        });
        return data;
    }
    function keepTogether(data) {
        var _data$offsets = data.offsets
          , popper = _data$offsets.popper
          , reference = _data$offsets.reference;
        var placement = data.placement.split('-')[0];
        var floor = Math.floor;
        var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;
        var side = isVertical ? 'right' : 'bottom';
        var opSide = isVertical ? 'left' : 'top';
        var measurement = isVertical ? 'width' : 'height';
        if (popper[side] < floor(reference[opSide])) {
            data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];
        }
        if (popper[opSide] > floor(reference[side])) {
            data.offsets.popper[opSide] = floor(reference[side]);
        }
        return data;
    }
    function toValue(str, measurement, popperOffsets, referenceOffsets) {
        var split = str.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);
        var value = +split[1];
        var unit = split[2];
        if (!value) {
            return str;
        }
        if (unit.indexOf('%') === 0) {
            var element = void 0;
            switch (unit) {
            case '%p':
                element = popperOffsets;
                break;
            case '%':
            case '%r':
            default:
                element = referenceOffsets;
            }
            var rect = getClientRect(element);
            return rect[measurement] / 100 * value;
        } else if (unit === 'vh' || unit === 'vw') {
            var size = void 0;
            if (unit === 'vh') {
                size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
            } else {
                size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
            }
            return size / 100 * value;
        } else {
            return value;
        }
    }
    function parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {
        var offsets = [0, 0];
        var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;
        var fragments = offset.split(/(\+|\-)/).map(function(frag) {
            return frag.trim();
        });
        var divider = fragments.indexOf(find(fragments, function(frag) {
            return frag.search(/,|\s/) !== -1;
        }));
        if (fragments[divider] && fragments[divider].indexOf(',') === -1) {
            console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');
        }
        var splitRegex = /\s*,\s*|\s+/;
        var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];
        ops = ops.map(function(op, index) {
            var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';
            var mergeWithPrevious = false;
            return op.reduce(function(a, b) {
                if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {
                    a[a.length - 1] = b;
                    mergeWithPrevious = true;
                    return a;
                } else if (mergeWithPrevious) {
                    a[a.length - 1] += b;
                    mergeWithPrevious = false;
                    return a;
                } else {
                    return a.concat(b);
                }
            }, []).map(function(str) {
                return toValue(str, measurement, popperOffsets, referenceOffsets);
            });
        });
        ops.forEach(function(op, index) {
            op.forEach(function(frag, index2) {
                if (isNumeric(frag)) {
                    offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);
                }
            });
        });
        return offsets;
    }
    function offset(data, _ref) {
        var offset = _ref.offset;
        var placement = data.placement
          , _data$offsets = data.offsets
          , popper = _data$offsets.popper
          , reference = _data$offsets.reference;
        var basePlacement = placement.split('-')[0];
        var offsets = void 0;
        if (isNumeric(+offset)) {
            offsets = [+offset, 0];
        } else {
            offsets = parseOffset(offset, popper, reference, basePlacement);
        }
        if (basePlacement === 'left') {
            popper.top += offsets[0];
            popper.left -= offsets[1];
        } else if (basePlacement === 'right') {
            popper.top += offsets[0];
            popper.left += offsets[1];
        } else if (basePlacement === 'top') {
            popper.left += offsets[0];
            popper.top -= offsets[1];
        } else if (basePlacement === 'bottom') {
            popper.left += offsets[0];
            popper.top += offsets[1];
        }
        data.popper = popper;
        return data;
    }
    function preventOverflow(data, options) {
        var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);
        if (data.instance.reference === boundariesElement) {
            boundariesElement = getOffsetParent(boundariesElement);
        }
        var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement);
        options.boundaries = boundaries;
        var order = options.priority;
        var popper = data.offsets.popper;
        var check = {
            primary: function primary(placement) {
                var value = popper[placement];
                if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {
                    value = Math.max(popper[placement], boundaries[placement]);
                }
                return defineProperty({}, placement, value);
            },
            secondary: function secondary(placement) {
                var mainSide = placement === 'right' ? 'left' : 'top';
                var value = popper[mainSide];
                if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {
                    value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));
                }
                return defineProperty({}, mainSide, value);
            }
        };
        order.forEach(function(placement) {
            var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';
            popper = _extends({}, popper, check[side](placement));
        });
        data.offsets.popper = popper;
        return data;
    }
    function shift(data) {
        var placement = data.placement;
        var basePlacement = placement.split('-')[0];
        var shiftvariation = placement.split('-')[1];
        if (shiftvariation) {
            var _data$offsets = data.offsets
              , reference = _data$offsets.reference
              , popper = _data$offsets.popper;
            var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;
            var side = isVertical ? 'left' : 'top';
            var measurement = isVertical ? 'width' : 'height';
            var shiftOffsets = {
                start: defineProperty({}, side, reference[side]),
                end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])
            };
            data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);
        }
        return data;
    }
    function hide(data) {
        if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {
            return data;
        }
        var refRect = data.offsets.reference;
        var bound = find(data.instance.modifiers, function(modifier) {
            return modifier.name === 'preventOverflow';
        }).boundaries;
        if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {
            if (data.hide === true) {
                return data;
            }
            data.hide = true;
            data.attributes['x-out-of-boundaries'] = '';
        } else {
            if (data.hide === false) {
                return data;
            }
            data.hide = false;
            data.attributes['x-out-of-boundaries'] = false;
        }
        return data;
    }
    function inner(data) {
        var placement = data.placement;
        var basePlacement = placement.split('-')[0];
        var _data$offsets = data.offsets
          , popper = _data$offsets.popper
          , reference = _data$offsets.reference;
        var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;
        var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;
        popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);
        data.placement = getOppositePlacement(placement);
        data.offsets.popper = getClientRect(popper);
        return data;
    }
    var modifiers = {
        shift: {
            order: 100,
            enabled: true,
            fn: shift
        },
        offset: {
            order: 200,
            enabled: true,
            fn: offset,
            offset: 0
        },
        preventOverflow: {
            order: 300,
            enabled: true,
            fn: preventOverflow,
            priority: ['left', 'right', 'top', 'bottom'],
            padding: 5,
            boundariesElement: 'scrollParent'
        },
        keepTogether: {
            order: 400,
            enabled: true,
            fn: keepTogether
        },
        arrow: {
            order: 500,
            enabled: true,
            fn: arrow,
            element: '[x-arrow]'
        },
        flip: {
            order: 600,
            enabled: true,
            fn: flip,
            behavior: 'flip',
            padding: 5,
            boundariesElement: 'viewport'
        },
        inner: {
            order: 700,
            enabled: false,
            fn: inner
        },
        hide: {
            order: 800,
            enabled: true,
            fn: hide
        },
        computeStyle: {
            order: 850,
            enabled: true,
            fn: computeStyle,
            gpuAcceleration: true,
            x: 'bottom',
            y: 'right'
        },
        applyStyle: {
            order: 900,
            enabled: true,
            fn: applyStyle,
            onLoad: applyStyleOnLoad,
            gpuAcceleration: undefined
        }
    };
    var Defaults = {
        placement: 'bottom',
        eventsEnabled: true,
        removeOnDestroy: false,
        onCreate: function onCreate() {},
        onUpdate: function onUpdate() {},
        modifiers: modifiers
    };
    var Popper = function() {
        function Popper(reference, popper) {
            var _this = this;
            var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
            classCallCheck(this, Popper);
            this.scheduleUpdate = function() {
                return requestAnimationFrame(_this.update);
            }
            ;
            this.update = debounce(this.update.bind(this));
            this.options = _extends({}, Popper.Defaults, options);
            this.state = {
                isDestroyed: false,
                isCreated: false,
                scrollParents: []
            };
            this.reference = reference.jquery ? reference[0] : reference;
            this.popper = popper.jquery ? popper[0] : popper;
            this.options.modifiers = {};
            Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function(name) {
                _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});
            });
            this.modifiers = Object.keys(this.options.modifiers).map(function(name) {
                return _extends({
                    name: name
                }, _this.options.modifiers[name]);
            }).sort(function(a, b) {
                return a.order - b.order;
            });
            this.modifiers.forEach(function(modifierOptions) {
                if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {
                    modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);
                }
            });
            this.update();
            var eventsEnabled = this.options.eventsEnabled;
            if (eventsEnabled) {
                this.enableEventListeners();
            }
            this.state.eventsEnabled = eventsEnabled;
        }
        createClass(Popper, [{
            key: 'update',
            value: function update$$1() {
                return update.call(this);
            }
        }, {
            key: 'destroy',
            value: function destroy$$1() {
                return destroy.call(this);
            }
        }, {
            key: 'enableEventListeners',
            value: function enableEventListeners$$1() {
                return enableEventListeners.call(this);
            }
        }, {
            key: 'disableEventListeners',
            value: function disableEventListeners$$1() {
                return disableEventListeners.call(this);
            }
        }]);
        return Popper;
    }();
    Popper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;
    Popper.placements = placements;
    Popper.Defaults = Defaults;
    return Popper;
}
)));

var popperElement = null;
var Tooltip = function(parameters) {
    var screens = {
        mobile: 759,
        small: 1024,
        medium: 1448,
        setTopValue: function(size, position) {
            if (size < screens.small) {
                return '15px';
            } else if ((screens.small < size) && (size < screens.medium)) {
                if (position === "bottom") {
                    return '15px';
                } else {
                    return '20px';
                }
            } else if (size > screens.medium) {
                if (position === "bottom") {
                    return '15px';
                } else {
                    return '30px';
                }
            }
            return 0;
        }
    };
    var $parameters = $(parameters);
    var tooltip = {
        reference: $parameters,
        trigger: $parameters.find('.js-tooltip-trigger'),
        target: $parameters.find('.js-tooltip-target'),
        triangle: $parameters.find('.tooltip-content__triangle'),
        position: null,
        displayed: false,
        isSocialTooltip: false,
        delay: 250,
        inject: function(reference, target, screenSize) {
            this.position = target.attr("x-placement");
            tooltip.socialTooltip(screenSize);
            if (!tooltip.isSocialTooltip) {
                if (this.position === "bottom" || screenSize === "mobile") {
                    target.css({
                        top: screens.setTopValue($(window).width(), this.position)
                    })
                } else {
                    target.css({
                        top: screens.setTopValue($(window).width(), this.position)
                    })
                }
            }
        },
        close: function(popper, container) {
            if (!popper) {
                return;
            }
            popper.destroy();
            $(container).addClass('hidden');
        },
        show: function(mobile) {
            if (popperElement) {
                popperElement.destroy();
            }
            tooltip.displayed = true;
            tooltip.target.removeClass('hidden');
            popperElement = new Popper(tooltip.reference,tooltip.target,{
                placement: 'top',
                eventsEnabled: false,
                onCreate: function() {
                    tooltip.inject(tooltip.reference, tooltip.target, mobile)
                },
                onUdate: function() {
                    tooltip.inject(tooltip.reference, tooltip.target, mobile)
                }
            })
            setTimeout(function() {
                if (!tooltip.isSocialTooltip) {
                    if (mobile) {
                        if (tooltip.position === "bottom") {
                            tooltip.triangle.css({
                                left: tooltip.trigger[0].offsetLeft + tooltip.trigger.width() / 2,
                                top: 0,
                                transform: 'rotate(180deg)'
                            });
                        } else {
                            tooltip.triangle.css({
                                left: tooltip.trigger[0].offsetLeft - 6,
                                bottom: 0
                            });
                        }
                    } else {
                        if (tooltip.position === "top") {
                            tooltip.triangle.css({
                                left: tooltip.trigger[0].offsetLeft - 2,
                                bottom: 0
                            });
                        } else if (tooltip.position === "bottom") {
                            tooltip.triangle.css({
                                left: tooltip.trigger[0].offsetLeft + 17,
                                top: 0,
                                transform: 'rotate(180deg)'
                            });
                        }
                    }
                }
            }, 10);
        },
        hide: function() {
            tooltip.target.addClass('hidden');
            tooltip.triangle.removeAttr('style');
            tooltip.close(popperElement, $(popperElement.popper));
            popperElement = null;
            tooltip.displayed = false;
        },
        socialTooltip: function(screenSize) {
            if (tooltip.trigger.hasClass('js-social-icons-tooltip')) {
                tooltip.isSocialTooltip = true;
                var $triangle = $('.js-triangle');
                var triangleWidth = $triangle.outerWidth(true);
                var triangleHeight = $triangle.outerHeight(true);
                if (screenSize === "mobile") {
                    tooltip.triangle.css({
                        left: tooltip.target.outerWidth() / 2 + tooltip.trigger.outerWidth(true) / 2 + triangleWidth / 2,
                        top: 0,
                        transform: 'rotate(180deg)'
                    });
                } else {
                    tooltip.triangle.css({
                        left: tooltip.trigger[0].offsetLeft + tooltip.trigger.outerWidth() / 2 + triangleWidth / 2,
                        top: 0,
                        transform: 'rotate(180deg)'
                    });
                }
                tooltip.target.css({
                    top: tooltip.target.outerHeight() + tooltip.trigger.outerHeight() + triangleHeight / 2
                })
            }
        }
    }
    var timer = tooltip.target.data('tooltip-close-timer');
    var preShow = function(e) {
        if ($(window).width() <= screens.mobile) {
            tooltip.show("mobile");
        } else {
            tooltip.show(null);
        }
        e.stopImmediatePropagation();
    }
    $(tooltip.reference).removeClass('js-tooltip');
    $(tooltip.trigger).not('.js-social-icons-tooltip').on('mouseenter mousedown focusin tap', function(event) {
        event.preventDefault();
        if (popperElement) {
            tooltip.hide();
            event.stopImmediatePropagation()
            return;
        }
        if (event.type === 'mouseenter') {
            setTimeout(function() {
                if (tooltip.target.hasClass('hidden')) {
                    preShow(event);
                    return;
                }
            }, tooltip.delay);
        } else if (event.type === 'click') {
            preShow(event);
            return;
        } else if (event.type === 'focusin') {
            preShow(event);
            return;
        } else if (event.type === 'tap') {
            preShow(event);
            return;
        }
    });
    $('.js-social-icons-tooltip').on('click', function(event) {
        event.preventDefault();
        if (!tooltip.isSocialTooltip && $(window).width() <= screens.mobile) {
            tooltip.target.css({
                width: tooltip.target.parent().width()
            });
        }
        if (tooltip.target.hasClass('hidden')) {
            preShow(event);
            return;
        }
    })
    $('.js-tooltip-close').on('click', function() {
        if (popperElement) {
            tooltip.hide();
        }
    });
    $('.js-tooltip-close').on('focusout', function() {
        if (popperElement) {
            tooltip.hide();
        }
    });
    $(tooltip.trigger).not('.js-social-icons-tooltip').on('mouseleave', function() {
        if ($(window).width() >= screens.mobile) {
            setTimeout(function() {
                if (tooltip.displayed) {
                    tooltip.hide();
                } else {
                    return;
                }
            }, timer);
        }
    })
    $('body').on('click', function() {
        if (popperElement) {
            tooltip.hide();
        }
    })
    $(tooltip.target).on("mouseenter", function() {
        tooltip.displayed = false;
    });
    $(tooltip.target).not('.js-social-icons-tooltip-target').on("mouseleave", function() {
        tooltip.displayed = false;
        tooltip.hide();
    });
    $(tooltip.target).not('.js-social-icons-tooltip-target').on("click", function(event) {
        event.stopPropagation();
    });
}
$('.js-tooltip').each(function() {
    new Tooltip(this);
});

$(document).ready(function() {
    swal.setDefaults({
        position: 'bottom',
        width: '100%',
        buttonsStyling: false,
        onOpen: function() {
            $('.swal2-confirm, .swal2-cancel').addClass('link link--cta link--cta-big link--cta-standard text-uppercase margin-left-right pointer');
            $('.swal2-contentwrapper').addClass('container');
        }
    });
});
$(document).on('click', '.js-form-popup-close', function() {
    swal.close();
});

var fullOverlay = function(parameters) {
    var overlay = {
        trigger: $(parameters),
        target: $(parameters).data('popup-target'),
        image: $(parameters).data('overlay-image'),
        isInspirational: $(parameters).find(".inspirational-item__zoom").length > 0,
        show: function() {
            setTimeout(function() {
                if (overlay.image && overlay.isInspirational) {
                    $('.inspirational-overlay__image').attr('src', overlay.image);
                }
                initQuickview();
                var $overlay = $('#swal2-content').find('.js-inspirational-layout-content');
                var $sliderContiner = $overlay.find('.js-product-teaser-content');
                var $slide = $sliderContiner.addClass('js-sideswipe');
                $slide.each(function() {
                    new Sideswipe({
                        container: this
                    });
                });
            }, 100)
        }
    }
    var popper = {
        screenMaxMobile: 759,
        view: null,
        trigger: $(overlay.target).find('.js-quickview'),
        target: $(overlay.target).find('.js-quick-view-container'),
        show: function(trigger, target) {
            if ($(window).width() <= popper.screenMaxMobile) {
                return;
            }
            if (popper.view) {
                popper.view.destroy();
            }
            var popperElement = $(target).find('.quick-view');
            var referenceElement = trigger;
            var module = null;
            if (overlay.isInspirational) {
                module = 'inspirational';
                $(target).removeClass('hidden');
                referenceElement = $('.inspirational-overlay');
                popperElement.addClass('quickview-inspirational');
            }
            popper.view = new Popper(referenceElement,popperElement,{
                placement: 'top',
                onCreate: function() {
                    popper.setPopperProperties(referenceElement, popperElement, module);
                },
                onUpdate: function() {
                    popper.setPopperProperties(referenceElement, popperElement, module);
                }
            });
        },
        setPopperProperties: function(referenceElement, popperElement, module) {
            var translateValues = popper.getTranslateValues(popperElement);
            if (module === 'inspirational') {
                popperElement.css({
                    'transform': 'translate(' + translateValues.x + 'px, 12%)',
                    'will-change': 'unset'
                })
            }
        },
        getTranslateValues: function(element) {
            var matrix = element.css('transform').replace(/[^0-9\-.,]/g, '').split(',');
            return {
                x: matrix[12] || matrix[4],
                y: matrix[13] || matrix[5]
            }
        },
        closePopper: function(popperElement, container) {
            if (!popperElement) {
                return;
            }
            popperElement.destroy();
            $(container).addClass('hidden');
        },
        init: function() {
            $.each(this.trigger, function(i, el) {
                $(el).attr('index', i);
            });
        }
    }
    popper.init();
    $(overlay.trigger).on("click", function() {
        overlay.show();
    })
    $(popper.trigger).on("click", function() {
        if (popper.view) {
            popper.closePopper(popper.view, '.js-quick-view-container')
        }
        var triggerIndex = $(this).attr('index');
        var target;
        $.each(popper.target, function(i, el) {
            if ($(el).attr("js-form-popup-example-3") === triggerIndex) {
                target = el;
                return;
            }
        })
        popper.show(this, target);
    })
    $(document).keyup(function(event) {
        if (event.keyCode === 27) {
            if ($(overlay.target).hasClass('full-overlay--active')) {
                overlay.hide();
            }
        }
    });
    $('.quick-view__close').on('click', function() {
        popper.closePopper(popper.view, '.js-quick-view-container');
    });
}
$('.js-form-popup-example-3').each(function() {
    new fullOverlay(this);
});
"use strict";
var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
    return typeof obj;
}
: function(obj) {
    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
}
;
var windowIsDefined = (typeof window === "undefined" ? "undefined" : _typeof(window)) === "object";
(function(factory) {
    if (typeof define === "function" && define.amd) {
        define(["jquery"], factory);
    } else if ((typeof module === "undefined" ? "undefined" : _typeof(module)) === "object" && module.exports) {
        var jQuery;
        try {
            jQuery = require("jquery");
        } catch (err) {
            jQuery = null;
        }
        module.exports = factory(jQuery);
    } else if (window) {
        window.Slider = factory(window.jQuery);
    }
}
)(function($) {
    var NAMESPACE_MAIN = 'slider';
    var NAMESPACE_ALTERNATE = 'bootstrapSlider';
    if (windowIsDefined && !window.console) {
        window.console = {};
    }
    if (windowIsDefined && !window.console.log) {
        window.console.log = function() {}
        ;
    }
    if (windowIsDefined && !window.console.warn) {
        window.console.warn = function() {}
        ;
    }
    var Slider;
    (function($) {
        'use strict';
        var slice = Array.prototype.slice;
        function noop() {}
        function defineBridget($) {
            if (!$) {
                return;
            }
            function addOptionMethod(PluginClass) {
                if (PluginClass.prototype.option) {
                    return;
                }
                PluginClass.prototype.option = function(opts) {
                    if (!$.isPlainObject(opts)) {
                        return;
                    }
                    this.options = $.extend(true, this.options, opts);
                }
                ;
            }
            var logError = typeof console === 'undefined' ? noop : function(message) {
                console.error(message);
            }
            ;
            function bridge(namespace, PluginClass) {
                $.fn[namespace] = function(options) {
                    if (typeof options === 'string') {
                        var args = slice.call(arguments, 1);
                        for (var i = 0, len = this.length; i < len; i++) {
                            var elem = this[i];
                            var instance = $.data(elem, namespace);
                            if (!instance) {
                                logError("cannot call methods on " + namespace + " prior to initialization; " + "attempted to call '" + options + "'");
                                continue;
                            }
                            if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {
                                logError("no such method '" + options + "' for " + namespace + " instance");
                                continue;
                            }
                            var returnValue = instance[options].apply(instance, args);
                            if (returnValue !== undefined && returnValue !== instance) {
                                return returnValue;
                            }
                        }
                        return this;
                    } else {
                        var objects = this.map(function() {
                            var instance = $.data(this, namespace);
                            if (instance) {
                                instance.option(options);
                                instance._init();
                            } else {
                                instance = new PluginClass(this,options);
                                $.data(this, namespace, instance);
                            }
                            return $(this);
                        });
                        if (!objects || objects.length > 1) {
                            return objects;
                        } else {
                            return objects[0];
                        }
                    }
                }
                ;
            }
            $.bridget = function(namespace, PluginClass) {
                addOptionMethod(PluginClass);
                bridge(namespace, PluginClass);
            }
            ;
            return $.bridget;
        }
        defineBridget($);
    }
    )($);
    (function($) {
        var ErrorMsgs = {
            formatInvalidInputErrorMsg: function formatInvalidInputErrorMsg(input) {
                return "Invalid input value '" + input + "' passed in";
            },
            callingContextNotSliderInstance: "Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"
        };
        var SliderScale = {
            linear: {
                toValue: function toValue(percentage) {
                    var rawValue = percentage / 100 * (this.options.max - this.options.min);
                    var shouldAdjustWithBase = true;
                    if (this.options.ticks_positions.length > 0) {
                        var minv, maxv, minp, maxp = 0;
                        for (var i = 1; i < this.options.ticks_positions.length; i++) {
                            if (percentage <= this.options.ticks_positions[i]) {
                                minv = this.options.ticks[i - 1];
                                minp = this.options.ticks_positions[i - 1];
                                maxv = this.options.ticks[i];
                                maxp = this.options.ticks_positions[i];
                                break;
                            }
                        }
                        var partialPercentage = (percentage - minp) / (maxp - minp);
                        rawValue = minv + partialPercentage * (maxv - minv);
                        shouldAdjustWithBase = false;
                    }
                    var adjustment = shouldAdjustWithBase ? this.options.min : 0;
                    var value = adjustment + Math.round(rawValue / this.options.step) * this.options.step;
                    if (value < this.options.min) {
                        return this.options.min;
                    } else if (value > this.options.max) {
                        return this.options.max;
                    } else {
                        return value;
                    }
                },
                toPercentage: function toPercentage(value) {
                    if (this.options.max === this.options.min) {
                        return 0;
                    }
                    if (this.options.ticks_positions.length > 0) {
                        var minv, maxv, minp, maxp = 0;
                        for (var i = 0; i < this.options.ticks.length; i++) {
                            if (value <= this.options.ticks[i]) {
                                minv = i > 0 ? this.options.ticks[i - 1] : 0;
                                minp = i > 0 ? this.options.ticks_positions[i - 1] : 0;
                                maxv = this.options.ticks[i];
                                maxp = this.options.ticks_positions[i];
                                break;
                            }
                        }
                        if (i > 0) {
                            var partialPercentage = (value - minv) / (maxv - minv);
                            return minp + partialPercentage * (maxp - minp);
                        }
                    }
                    return 100 * (value - this.options.min) / (this.options.max - this.options.min);
                }
            },
            logarithmic: {
                toValue: function toValue(percentage) {
                    var min = this.options.min === 0 ? 0 : Math.log(this.options.min);
                    var max = Math.log(this.options.max);
                    var value = Math.exp(min + (max - min) * percentage / 100);
                    if (Math.round(value) === this.options.max) {
                        return this.options.max;
                    }
                    value = this.options.min + Math.round((value - this.options.min) / this.options.step) * this.options.step;
                    if (value < this.options.min) {
                        return this.options.min;
                    } else if (value > this.options.max) {
                        return this.options.max;
                    } else {
                        return value;
                    }
                },
                toPercentage: function toPercentage(value) {
                    if (this.options.max === this.options.min) {
                        return 0;
                    } else {
                        var max = Math.log(this.options.max);
                        var min = this.options.min === 0 ? 0 : Math.log(this.options.min);
                        var v = value === 0 ? 0 : Math.log(value);
                        return 100 * (v - min) / (max - min);
                    }
                }
            }
        };
        Slider = function Slider(element, options) {
            createNewSlider.call(this, element, options);
            return this;
        }
        ;
        function createNewSlider(element, options) {
            this._state = {
                value: null,
                enabled: null,
                offset: null,
                size: null,
                percentage: null,
                inDrag: false,
                over: false
            };
            this.ticksCallbackMap = {};
            this.handleCallbackMap = {};
            if (typeof element === "string") {
                this.element = document.querySelector(element);
            } else if (element instanceof HTMLElement) {
                this.element = element;
            }
            options = options ? options : {};
            var optionTypes = Object.keys(this.defaultOptions);
            for (var i = 0; i < optionTypes.length; i++) {
                var optName = optionTypes[i];
                var val = options[optName];
                val = typeof val !== 'undefined' ? val : getDataAttrib(this.element, optName);
                val = val !== null ? val : this.defaultOptions[optName];
                if (!this.options) {
                    this.options = {};
                }
                this.options[optName] = val;
            }
            if (this.options.rtl === 'auto') {
                this.options.rtl = window.getComputedStyle(this.element).direction === 'rtl';
            }
            if (this.options.orientation === "vertical" && (this.options.tooltip_position === "top" || this.options.tooltip_position === "bottom")) {
                if (this.options.rtl) {
                    this.options.tooltip_position = "left";
                } else {
                    this.options.tooltip_position = "right";
                }
            } else if (this.options.orientation === "horizontal" && (this.options.tooltip_position === "left" || this.options.tooltip_position === "right")) {
                this.options.tooltip_position = "top";
            }
            function getDataAttrib(element, optName) {
                var dataName = "data-slider-" + optName.replace(/_/g, '-');
                var dataValString = element.getAttribute(dataName);
                try {
                    return JSON.parse(dataValString);
                } catch (err) {
                    return dataValString;
                }
            }
            var origWidth = this.element.style.width;
            var updateSlider = false;
            var parent = this.element.parentNode;
            var sliderTrackSelection;
            var sliderTrackLow, sliderTrackHigh;
            var sliderMinHandle;
            var sliderMaxHandle;
            if (this.sliderElem) {
                updateSlider = true;
            } else {
                this.sliderElem = document.createElement("div");
                this.sliderElem.className = "slider";
                var sliderTrack = document.createElement("div");
                sliderTrack.className = "slider-track";
                sliderTrackLow = document.createElement("div");
                sliderTrackLow.className = "slider-track-low";
                sliderTrackSelection = document.createElement("div");
                sliderTrackSelection.className = "slider-selection";
                sliderTrackHigh = document.createElement("div");
                sliderTrackHigh.className = "slider-track-high";
                sliderMinHandle = document.createElement("div");
                sliderMinHandle.className = "slider-handle min-slider-handle";
                sliderMinHandle.setAttribute('role', 'slider');
                sliderMinHandle.setAttribute('aria-valuemin', this.options.min);
                sliderMinHandle.setAttribute('aria-valuemax', this.options.max);
                sliderMaxHandle = document.createElement("div");
                sliderMaxHandle.className = "slider-handle max-slider-handle";
                sliderMaxHandle.setAttribute('role', 'slider');
                sliderMaxHandle.setAttribute('aria-valuemin', this.options.min);
                sliderMaxHandle.setAttribute('aria-valuemax', this.options.max);
                sliderTrack.appendChild(sliderTrackLow);
                sliderTrack.appendChild(sliderTrackSelection);
                sliderTrack.appendChild(sliderTrackHigh);
                this.rangeHighlightElements = [];
                var rangeHighlightsOpts = this.options.rangeHighlights;
                if (Array.isArray(rangeHighlightsOpts) && rangeHighlightsOpts.length > 0) {
                    for (var j = 0; j < rangeHighlightsOpts.length; j++) {
                        var rangeHighlightElement = document.createElement("div");
                        var customClassString = rangeHighlightsOpts[j].class || "";
                        rangeHighlightElement.className = "slider-rangeHighlight slider-selection " + customClassString;
                        this.rangeHighlightElements.push(rangeHighlightElement);
                        sliderTrack.appendChild(rangeHighlightElement);
                    }
                }
                var isLabelledbyArray = Array.isArray(this.options.labelledby);
                if (isLabelledbyArray && this.options.labelledby[0]) {
                    sliderMinHandle.setAttribute('aria-labelledby', this.options.labelledby[0]);
                }
                if (isLabelledbyArray && this.options.labelledby[1]) {
                    sliderMaxHandle.setAttribute('aria-labelledby', this.options.labelledby[1]);
                }
                if (!isLabelledbyArray && this.options.labelledby) {
                    sliderMinHandle.setAttribute('aria-labelledby', this.options.labelledby);
                    sliderMaxHandle.setAttribute('aria-labelledby', this.options.labelledby);
                }
                this.ticks = [];
                if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {
                    this.ticksContainer = document.createElement('div');
                    this.ticksContainer.className = 'slider-tick-container';
                    for (i = 0; i < this.options.ticks.length; i++) {
                        var tick = document.createElement('div');
                        tick.className = 'slider-tick';
                        if (this.options.ticks_tooltip) {
                            var tickListenerReference = this._addTickListener();
                            var enterCallback = tickListenerReference.addMouseEnter(this, tick, i);
                            var leaveCallback = tickListenerReference.addMouseLeave(this, tick);
                            this.ticksCallbackMap[i] = {
                                mouseEnter: enterCallback,
                                mouseLeave: leaveCallback
                            };
                        }
                        this.ticks.push(tick);
                        this.ticksContainer.appendChild(tick);
                    }
                    sliderTrackSelection.className += " tick-slider-selection";
                }
                this.tickLabels = [];
                if (Array.isArray(this.options.ticks_labels) && this.options.ticks_labels.length > 0) {
                    this.tickLabelContainer = document.createElement('div');
                    this.tickLabelContainer.className = 'slider-tick-label-container';
                    for (i = 0; i < this.options.ticks_labels.length; i++) {
                        var label = document.createElement('div');
                        var noTickPositionsSpecified = this.options.ticks_positions.length === 0;
                        var tickLabelsIndex = this.options.reversed && noTickPositionsSpecified ? this.options.ticks_labels.length - (i + 1) : i;
                        label.className = 'slider-tick-label';
                        label.innerHTML = this.options.ticks_labels[tickLabelsIndex];
                        this.tickLabels.push(label);
                        this.tickLabelContainer.appendChild(label);
                    }
                }
                var createAndAppendTooltipSubElements = function createAndAppendTooltipSubElements(tooltipElem) {
                    var arrow = document.createElement("div");
                    arrow.className = "tooltip-arrow";
                    var inner = document.createElement("div");
                    inner.className = "tooltip-inner";
                    tooltipElem.appendChild(arrow);
                    tooltipElem.appendChild(inner);
                };
                var sliderTooltip = document.createElement("div");
                sliderTooltip.className = "tooltip tooltip-main";
                sliderTooltip.setAttribute('role', 'presentation');
                createAndAppendTooltipSubElements(sliderTooltip);
                var sliderTooltipMin = document.createElement("div");
                sliderTooltipMin.className = "tooltip tooltip-min";
                sliderTooltipMin.setAttribute('role', 'presentation');
                createAndAppendTooltipSubElements(sliderTooltipMin);
                var sliderTooltipMax = document.createElement("div");
                sliderTooltipMax.className = "tooltip tooltip-max";
                sliderTooltipMax.setAttribute('role', 'presentation');
                createAndAppendTooltipSubElements(sliderTooltipMax);
                this.sliderElem.appendChild(sliderTrack);
                this.sliderElem.appendChild(sliderTooltip);
                this.sliderElem.appendChild(sliderTooltipMin);
                this.sliderElem.appendChild(sliderTooltipMax);
                if (this.tickLabelContainer) {
                    this.sliderElem.appendChild(this.tickLabelContainer);
                }
                if (this.ticksContainer) {
                    this.sliderElem.appendChild(this.ticksContainer);
                }
                this.sliderElem.appendChild(sliderMinHandle);
                this.sliderElem.appendChild(sliderMaxHandle);
                parent.insertBefore(this.sliderElem, this.element);
                this.element.style.display = "none";
            }
            if ($) {
                this.$element = $(this.element);
                this.$sliderElem = $(this.sliderElem);
            }
            this.eventToCallbackMap = {};
            this.sliderElem.id = this.options.id;
            this.touchCapable = 'ontouchstart'in window || window.DocumentTouch && document instanceof window.DocumentTouch;
            this.touchX = 0;
            this.touchY = 0;
            this.tooltip = this.sliderElem.querySelector('.tooltip-main');
            this.tooltipInner = this.tooltip.querySelector('.tooltip-inner');
            this.tooltip_min = this.sliderElem.querySelector('.tooltip-min');
            this.tooltipInner_min = this.tooltip_min.querySelector('.tooltip-inner');
            this.tooltip_max = this.sliderElem.querySelector('.tooltip-max');
            this.tooltipInner_max = this.tooltip_max.querySelector('.tooltip-inner');
            if (SliderScale[this.options.scale]) {
                this.options.scale = SliderScale[this.options.scale];
            }
            if (updateSlider === true) {
                this._removeClass(this.sliderElem, 'slider-horizontal');
                this._removeClass(this.sliderElem, 'slider-vertical');
                this._removeClass(this.sliderElem, 'slider-rtl');
                this._removeClass(this.tooltip, 'hide');
                this._removeClass(this.tooltip_min, 'hide');
                this._removeClass(this.tooltip_max, 'hide');
                ["left", "right", "top", "width", "height"].forEach(function(prop) {
                    this._removeProperty(this.trackLow, prop);
                    this._removeProperty(this.trackSelection, prop);
                    this._removeProperty(this.trackHigh, prop);
                }, this);
                [this.handle1, this.handle2].forEach(function(handle) {
                    this._removeProperty(handle, 'left');
                    this._removeProperty(handle, 'right');
                    this._removeProperty(handle, 'top');
                }, this);
                [this.tooltip, this.tooltip_min, this.tooltip_max].forEach(function(tooltip) {
                    this._removeProperty(tooltip, 'left');
                    this._removeProperty(tooltip, 'right');
                    this._removeProperty(tooltip, 'top');
                    this._removeProperty(tooltip, 'margin-left');
                    this._removeProperty(tooltip, 'margin-right');
                    this._removeProperty(tooltip, 'margin-top');
                    this._removeClass(tooltip, 'right');
                    this._removeClass(tooltip, 'left');
                    this._removeClass(tooltip, 'top');
                }, this);
            }
            if (this.options.orientation === 'vertical') {
                this._addClass(this.sliderElem, 'slider-vertical');
                this.stylePos = 'top';
                this.mousePos = 'pageY';
                this.sizePos = 'offsetHeight';
            } else {
                this._addClass(this.sliderElem, 'slider-horizontal');
                this.sliderElem.style.width = origWidth;
                this.options.orientation = 'horizontal';
                if (this.options.rtl) {
                    this.stylePos = 'right';
                } else {
                    this.stylePos = 'left';
                }
                this.mousePos = 'pageX';
                this.sizePos = 'offsetWidth';
            }
            if (this.options.rtl) {
                this._addClass(this.sliderElem, 'slider-rtl');
            }
            this._setTooltipPosition();
            if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {
                this.options.max = Math.max.apply(Math, this.options.ticks);
                this.options.min = Math.min.apply(Math, this.options.ticks);
            }
            if (Array.isArray(this.options.value)) {
                this.options.range = true;
                this._state.value = this.options.value;
            } else if (this.options.range) {
                this._state.value = [this.options.value, this.options.max];
            } else {
                this._state.value = this.options.value;
            }
            this.trackLow = sliderTrackLow || this.trackLow;
            this.trackSelection = sliderTrackSelection || this.trackSelection;
            this.trackHigh = sliderTrackHigh || this.trackHigh;
            if (this.options.selection === 'none') {
                this._addClass(this.trackLow, 'hide');
                this._addClass(this.trackSelection, 'hide');
                this._addClass(this.trackHigh, 'hide');
            } else if (this.options.selection === 'after' || this.options.selection === 'before') {
                this._removeClass(this.trackLow, 'hide');
                this._removeClass(this.trackSelection, 'hide');
                this._removeClass(this.trackHigh, 'hide');
            }
            this.handle1 = sliderMinHandle || this.handle1;
            this.handle2 = sliderMaxHandle || this.handle2;
            if (updateSlider === true) {
                this._removeClass(this.handle1, 'round triangle');
                this._removeClass(this.handle2, 'round triangle hide');
                for (i = 0; i < this.ticks.length; i++) {
                    this._removeClass(this.ticks[i], 'round triangle hide');
                }
            }
            var availableHandleModifiers = ['round', 'triangle', 'custom'];
            var isValidHandleType = availableHandleModifiers.indexOf(this.options.handle) !== -1;
            if (isValidHandleType) {
                this._addClass(this.handle1, this.options.handle);
                this._addClass(this.handle2, this.options.handle);
                for (i = 0; i < this.ticks.length; i++) {
                    this._addClass(this.ticks[i], this.options.handle);
                }
            }
            this._state.offset = this._offset(this.sliderElem);
            this._state.size = this.sliderElem[this.sizePos];
            this.setValue(this._state.value);
            this.handle1Keydown = this._keydown.bind(this, 0);
            this.handle1.addEventListener("keydown", this.handle1Keydown, false);
            this.handle2Keydown = this._keydown.bind(this, 1);
            this.handle2.addEventListener("keydown", this.handle2Keydown, false);
            this.mousedown = this._mousedown.bind(this);
            this.touchstart = this._touchstart.bind(this);
            this.touchmove = this._touchmove.bind(this);
            if (this.touchCapable) {
                var supportsPassive = false;
                try {
                    var opts = Object.defineProperty({}, 'passive', {
                        get: function get() {
                            supportsPassive = true;
                        }
                    });
                    window.addEventListener("test", null, opts);
                } catch (e) {}
                var eventOptions = supportsPassive ? {
                    passive: true
                } : false;
                this.sliderElem.addEventListener("touchstart", this.touchstart, eventOptions);
                this.sliderElem.addEventListener("touchmove", this.touchmove, eventOptions);
            }
            this.sliderElem.addEventListener("mousedown", this.mousedown, false);
            this.resize = this._resize.bind(this);
            window.addEventListener("resize", this.resize, false);
            if (this.options.tooltip === 'hide') {
                this._addClass(this.tooltip, 'hide');
                this._addClass(this.tooltip_min, 'hide');
                this._addClass(this.tooltip_max, 'hide');
            } else if (this.options.tooltip === 'always') {
                this._showTooltip();
                this._alwaysShowTooltip = true;
            } else {
                this.showTooltip = this._showTooltip.bind(this);
                this.hideTooltip = this._hideTooltip.bind(this);
                if (this.options.ticks_tooltip) {
                    var callbackHandle = this._addTickListener();
                    var mouseEnter = callbackHandle.addMouseEnter(this, this.handle1);
                    var mouseLeave = callbackHandle.addMouseLeave(this, this.handle1);
                    this.handleCallbackMap.handle1 = {
                        mouseEnter: mouseEnter,
                        mouseLeave: mouseLeave
                    };
                    mouseEnter = callbackHandle.addMouseEnter(this, this.handle2);
                    mouseLeave = callbackHandle.addMouseLeave(this, this.handle2);
                    this.handleCallbackMap.handle2 = {
                        mouseEnter: mouseEnter,
                        mouseLeave: mouseLeave
                    };
                } else {
                    this.sliderElem.addEventListener("mousedown", this.showTooltip, false);
                    this.sliderElem.addEventListener("mouseleave", this.hideTooltip, false);
                }
                this.handle1.addEventListener("focus", this.showTooltip, false);
                this.handle1.addEventListener("blur", this.hideTooltip, false);
                this.handle2.addEventListener("focus", this.showTooltip, false);
                this.handle2.addEventListener("blur", this.hideTooltip, false);
            }
            if (this.options.enabled) {
                this.enable();
            } else {
                this.disable();
            }
        }
        Slider.prototype = {
            _init: function _init() {},
            constructor: Slider,
            defaultOptions: {
                id: "",
                min: 0,
                max: 10,
                step: 1,
                precision: 0,
                orientation: 'horizontal',
                value: 5,
                range: false,
                selection: 'before',
                tooltip: 'show',
                tooltip_split: false,
                handle: 'round',
                reversed: false,
                rtl: 'auto',
                enabled: true,
                formatter: function formatter(val) {
                    if (Array.isArray(val)) {
                        return val[0] + " : " + val[1];
                    } else {
                        return val;
                    }
                },
                natural_arrow_keys: false,
                ticks: [],
                ticks_positions: [],
                ticks_labels: [],
                ticks_snap_bounds: 0,
                ticks_tooltip: false,
                scale: 'linear',
                focus: false,
                tooltip_position: null,
                labelledby: null,
                rangeHighlights: []
            },
            getElement: function getElement() {
                return this.sliderElem;
            },
            getValue: function getValue() {
                if (this.options.range) {
                    return this._state.value;
                } else {
                    return this._state.value[0];
                }
            },
            setValue: function setValue(val, triggerSlideEvent, triggerChangeEvent) {
                if (!val) {
                    val = 0;
                }
                var oldValue = this.getValue();
                this._state.value = this._validateInputValue(val);
                var applyPrecision = this._applyPrecision.bind(this);
                if (this.options.range) {
                    this._state.value[0] = applyPrecision(this._state.value[0]);
                    this._state.value[1] = applyPrecision(this._state.value[1]);
                    this._state.value[0] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[0]));
                    this._state.value[1] = Math.max(this.options.min, Math.min(this.options.max, this._state.value[1]));
                } else {
                    this._state.value = applyPrecision(this._state.value);
                    this._state.value = [Math.max(this.options.min, Math.min(this.options.max, this._state.value))];
                    this._addClass(this.handle2, 'hide');
                    if (this.options.selection === 'after') {
                        this._state.value[1] = this.options.max;
                    } else {
                        this._state.value[1] = this.options.min;
                    }
                }
                if (this.options.max > this.options.min) {
                    this._state.percentage = [this._toPercentage(this._state.value[0]), this._toPercentage(this._state.value[1]), this.options.step * 100 / (this.options.max - this.options.min)];
                } else {
                    this._state.percentage = [0, 0, 100];
                }
                this._layout();
                var newValue = this.options.range ? this._state.value : this._state.value[0];
                this._setDataVal(newValue);
                if (triggerSlideEvent === true) {
                    this._trigger('slide', newValue);
                }
                if (oldValue !== newValue && triggerChangeEvent === true) {
                    this._trigger('change', {
                        oldValue: oldValue,
                        newValue: newValue
                    });
                }
                return this;
            },
            destroy: function destroy() {
                this._removeSliderEventHandlers();
                this.sliderElem.parentNode.removeChild(this.sliderElem);
                this.element.style.display = "";
                this._cleanUpEventCallbacksMap();
                this.element.removeAttribute("data");
                if ($) {
                    this._unbindJQueryEventHandlers();
                    this.$element.removeData('slider');
                }
            },
            disable: function disable() {
                this._state.enabled = false;
                this.handle1.removeAttribute("tabindex");
                this.handle2.removeAttribute("tabindex");
                this._addClass(this.sliderElem, 'slider-disabled');
                this._trigger('slideDisabled');
                return this;
            },
            enable: function enable() {
                this._state.enabled = true;
                this.handle1.setAttribute("tabindex", 0);
                this.handle2.setAttribute("tabindex", 0);
                this._removeClass(this.sliderElem, 'slider-disabled');
                this._trigger('slideEnabled');
                return this;
            },
            toggle: function toggle() {
                if (this._state.enabled) {
                    this.disable();
                } else {
                    this.enable();
                }
                return this;
            },
            isEnabled: function isEnabled() {
                return this._state.enabled;
            },
            on: function on(evt, callback) {
                this._bindNonQueryEventHandler(evt, callback);
                return this;
            },
            off: function off(evt, callback) {
                if ($) {
                    this.$element.off(evt, callback);
                    this.$sliderElem.off(evt, callback);
                } else {
                    this._unbindNonQueryEventHandler(evt, callback);
                }
            },
            getAttribute: function getAttribute(attribute) {
                if (attribute) {
                    return this.options[attribute];
                } else {
                    return this.options;
                }
            },
            setAttribute: function setAttribute(attribute, value) {
                this.options[attribute] = value;
                return this;
            },
            refresh: function refresh() {
                this._removeSliderEventHandlers();
                createNewSlider.call(this, this.element, this.options);
                if ($) {
                    $.data(this.element, 'slider', this);
                }
                return this;
            },
            relayout: function relayout() {
                this._resize();
                this._layout();
                return this;
            },
            _removeSliderEventHandlers: function _removeSliderEventHandlers() {
                this.handle1.removeEventListener("keydown", this.handle1Keydown, false);
                this.handle2.removeEventListener("keydown", this.handle2Keydown, false);
                if (this.options.ticks_tooltip) {
                    var ticks = this.ticksContainer.getElementsByClassName('slider-tick');
                    for (var i = 0; i < ticks.length; i++) {
                        ticks[i].removeEventListener('mouseenter', this.ticksCallbackMap[i].mouseEnter, false);
                        ticks[i].removeEventListener('mouseleave', this.ticksCallbackMap[i].mouseLeave, false);
                    }
                    this.handle1.removeEventListener('mouseenter', this.handleCallbackMap.handle1.mouseEnter, false);
                    this.handle2.removeEventListener('mouseenter', this.handleCallbackMap.handle2.mouseEnter, false);
                    this.handle1.removeEventListener('mouseleave', this.handleCallbackMap.handle1.mouseLeave, false);
                    this.handle2.removeEventListener('mouseleave', this.handleCallbackMap.handle2.mouseLeave, false);
                }
                this.handleCallbackMap = null;
                this.ticksCallbackMap = null;
                if (this.showTooltip) {
                    this.handle1.removeEventListener("focus", this.showTooltip, false);
                    this.handle2.removeEventListener("focus", this.showTooltip, false);
                }
                if (this.hideTooltip) {
                    this.handle1.removeEventListener("blur", this.hideTooltip, false);
                    this.handle2.removeEventListener("blur", this.hideTooltip, false);
                }
                if (this.showTooltip) {
                    this.sliderElem.removeEventListener("mouseenter", this.showTooltip, false);
                }
                if (this.hideTooltip) {
                    this.sliderElem.removeEventListener("mouseleave", this.hideTooltip, false);
                }
                this.sliderElem.removeEventListener("touchstart", this.touchstart, false);
                this.sliderElem.removeEventListener("touchmove", this.touchmove, false);
                this.sliderElem.removeEventListener("mousedown", this.mousedown, false);
                window.removeEventListener("resize", this.resize, false);
            },
            _bindNonQueryEventHandler: function _bindNonQueryEventHandler(evt, callback) {
                if (this.eventToCallbackMap[evt] === undefined) {
                    this.eventToCallbackMap[evt] = [];
                }
                this.eventToCallbackMap[evt].push(callback);
            },
            _unbindNonQueryEventHandler: function _unbindNonQueryEventHandler(evt, callback) {
                var callbacks = this.eventToCallbackMap[evt];
                if (callbacks !== undefined) {
                    for (var i = 0; i < callbacks.length; i++) {
                        if (callbacks[i] === callback) {
                            callbacks.splice(i, 1);
                            break;
                        }
                    }
                }
            },
            _cleanUpEventCallbacksMap: function _cleanUpEventCallbacksMap() {
                var eventNames = Object.keys(this.eventToCallbackMap);
                for (var i = 0; i < eventNames.length; i++) {
                    var eventName = eventNames[i];
                    delete this.eventToCallbackMap[eventName];
                }
            },
            _showTooltip: function _showTooltip() {
                if (this.options.tooltip_split === false) {
                    this._addClass(this.tooltip, 'in');
                    this.tooltip_min.style.display = 'none';
                    this.tooltip_max.style.display = 'none';
                } else {
                    this._addClass(this.tooltip_min, 'in');
                    this._addClass(this.tooltip_max, 'in');
                    this.tooltip.style.display = 'none';
                }
                this._state.over = true;
            },
            _hideTooltip: function _hideTooltip() {
                if (this._state.inDrag === false && this.alwaysShowTooltip !== true) {
                    this._removeClass(this.tooltip, 'in');
                    this._removeClass(this.tooltip_min, 'in');
                    this._removeClass(this.tooltip_max, 'in');
                }
                this._state.over = false;
            },
            _setToolTipOnMouseOver: function _setToolTipOnMouseOver(tempState) {
                var formattedTooltipVal = this.options.formatter(!tempState ? this._state.value[0] : tempState.value[0]);
                var positionPercentages = !tempState ? getPositionPercentages(this._state, this.options.reversed) : getPositionPercentages(tempState, this.options.reversed);
                this._setText(this.tooltipInner, formattedTooltipVal);
                this.tooltip.style[this.stylePos] = positionPercentages[0] + "%";
                if (this.options.orientation === 'vertical') {
                    this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px");
                } else {
                    this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
                }
                function getPositionPercentages(state, reversed) {
                    if (reversed) {
                        return [100 - state.percentage[0], this.options.range ? 100 - state.percentage[1] : state.percentage[1]];
                    }
                    return [state.percentage[0], state.percentage[1]];
                }
            },
            _addTickListener: function _addTickListener() {
                return {
                    addMouseEnter: function addMouseEnter(reference, tick, index) {
                        var enter = function enter() {
                            var tempState = reference._state;
                            var idString = index >= 0 ? index : this.attributes['aria-valuenow'].value;
                            var hoverIndex = parseInt(idString, 10);
                            tempState.value[0] = hoverIndex;
                            tempState.percentage[0] = reference.options.ticks_positions[hoverIndex];
                            reference._setToolTipOnMouseOver(tempState);
                            reference._showTooltip();
                        };
                        tick.addEventListener("mouseenter", enter, false);
                        return enter;
                    },
                    addMouseLeave: function addMouseLeave(reference, tick) {
                        var leave = function leave() {
                            reference._hideTooltip();
                        };
                        tick.addEventListener("mouseleave", leave, false);
                        return leave;
                    }
                };
            },
            _layout: function _layout() {
                var positionPercentages;
                if (this.options.reversed) {
                    positionPercentages = [100 - this._state.percentage[0], this.options.range ? 100 - this._state.percentage[1] : this._state.percentage[1]];
                } else {
                    positionPercentages = [this._state.percentage[0], this._state.percentage[1]];
                }
                this.handle1.style[this.stylePos] = positionPercentages[0] + "%";
                this.handle1.setAttribute('aria-valuenow', this._state.value[0]);
                if (isNaN(this.options.formatter(this._state.value[0]))) {
                    this.handle1.setAttribute('aria-valuetext', this.options.formatter(this._state.value[0]));
                }
                this.handle2.style[this.stylePos] = positionPercentages[1] + "%";
                this.handle2.setAttribute('aria-valuenow', this._state.value[1]);
                if (isNaN(this.options.formatter(this._state.value[1]))) {
                    this.handle2.setAttribute('aria-valuetext', this.options.formatter(this._state.value[1]));
                }
                if (this.rangeHighlightElements.length > 0 && Array.isArray(this.options.rangeHighlights) && this.options.rangeHighlights.length > 0) {
                    for (var _i = 0; _i < this.options.rangeHighlights.length; _i++) {
                        var startPercent = this._toPercentage(this.options.rangeHighlights[_i].start);
                        var endPercent = this._toPercentage(this.options.rangeHighlights[_i].end);
                        if (this.options.reversed) {
                            var sp = 100 - endPercent;
                            endPercent = 100 - startPercent;
                            startPercent = sp;
                        }
                        var currentRange = this._createHighlightRange(startPercent, endPercent);
                        if (currentRange) {
                            if (this.options.orientation === 'vertical') {
                                this.rangeHighlightElements[_i].style.top = currentRange.start + "%";
                                this.rangeHighlightElements[_i].style.height = currentRange.size + "%";
                            } else {
                                if (this.options.rtl) {
                                    this.rangeHighlightElements[_i].style.right = currentRange.start + "%";
                                } else {
                                    this.rangeHighlightElements[_i].style.left = currentRange.start + "%";
                                }
                                this.rangeHighlightElements[_i].style.width = currentRange.size + "%";
                            }
                        } else {
                            this.rangeHighlightElements[_i].style.display = "none";
                        }
                    }
                }
                if (Array.isArray(this.options.ticks) && this.options.ticks.length > 0) {
                    var styleSize = this.options.orientation === 'vertical' ? 'height' : 'width';
                    var styleMargin;
                    if (this.options.orientation === 'vertical') {
                        styleMargin = 'marginTop';
                    } else {
                        if (this.options.rtl) {
                            styleMargin = 'marginRight';
                        } else {
                            styleMargin = 'marginLeft';
                        }
                    }
                    var labelSize = this._state.size / (this.options.ticks.length - 1);
                    if (this.tickLabelContainer) {
                        var extraMargin = 0;
                        if (this.options.ticks_positions.length === 0) {
                            if (this.options.orientation !== 'vertical') {
                                this.tickLabelContainer.style[styleMargin] = -labelSize / 2 + "px";
                            }
                            extraMargin = this.tickLabelContainer.offsetHeight;
                        } else {
                            for (i = 0; i < this.tickLabelContainer.childNodes.length; i++) {
                                if (this.tickLabelContainer.childNodes[i].offsetHeight > extraMargin) {
                                    extraMargin = this.tickLabelContainer.childNodes[i].offsetHeight;
                                }
                            }
                        }
                        if (this.options.orientation === 'horizontal') {
                            this.sliderElem.style.marginBottom = extraMargin + "px";
                        }
                    }
                    for (var i = 0; i < this.options.ticks.length; i++) {
                        var percentage = this.options.ticks_positions[i] || this._toPercentage(this.options.ticks[i]);
                        if (this.options.reversed) {
                            percentage = 100 - percentage;
                        }
                        this.ticks[i].style[this.stylePos] = percentage + "%";
                        this._removeClass(this.ticks[i], 'in-selection');
                        if (!this.options.range) {
                            if (this.options.selection === 'after' && percentage >= positionPercentages[0]) {
                                this._addClass(this.ticks[i], 'in-selection');
                            } else if (this.options.selection === 'before' && percentage <= positionPercentages[0]) {
                                this._addClass(this.ticks[i], 'in-selection');
                            }
                        } else if (percentage >= positionPercentages[0] && percentage <= positionPercentages[1]) {
                            this._addClass(this.ticks[i], 'in-selection');
                        }
                        if (this.tickLabels[i]) {
                            this.tickLabels[i].style[styleSize] = labelSize + "px";
                            if (this.options.orientation !== 'vertical' && this.options.ticks_positions[i] !== undefined) {
                                this.tickLabels[i].style.position = 'absolute';
                                this.tickLabels[i].style[this.stylePos] = percentage + "%";
                                this.tickLabels[i].style[styleMargin] = -labelSize / 2 + 'px';
                            } else if (this.options.orientation === 'vertical') {
                                if (this.options.rtl) {
                                    this.tickLabels[i].style['marginRight'] = this.sliderElem.offsetWidth + "px";
                                } else {
                                    this.tickLabels[i].style['marginLeft'] = this.sliderElem.offsetWidth + "px";
                                }
                                this.tickLabelContainer.style[styleMargin] = this.sliderElem.offsetWidth / 2 * -1 + 'px';
                            }
                        }
                    }
                }
                var formattedTooltipVal;
                if (this.options.range) {
                    formattedTooltipVal = this.options.formatter(this._state.value);
                    this._setText(this.tooltipInner, formattedTooltipVal);
                    this.tooltip.style[this.stylePos] = (positionPercentages[1] + positionPercentages[0]) / 2 + "%";
                    if (this.options.orientation === 'vertical') {
                        this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px");
                    } else {
                        this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
                    }
                    var innerTooltipMinText = this.options.formatter(this._state.value[0]);
                    this._setText(this.tooltipInner_min, innerTooltipMinText);
                    var innerTooltipMaxText = this.options.formatter(this._state.value[1]);
                    this._setText(this.tooltipInner_max, innerTooltipMaxText);
                    this.tooltip_min.style[this.stylePos] = positionPercentages[0] + "%";
                    if (this.options.orientation === 'vertical') {
                        this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetHeight / 2 + "px");
                    } else {
                        this._css(this.tooltip_min, "margin-" + this.stylePos, -this.tooltip_min.offsetWidth / 2 + "px");
                    }
                    this.tooltip_max.style[this.stylePos] = positionPercentages[1] + "%";
                    if (this.options.orientation === 'vertical') {
                        this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetHeight / 2 + "px");
                    } else {
                        this._css(this.tooltip_max, "margin-" + this.stylePos, -this.tooltip_max.offsetWidth / 2 + "px");
                    }
                } else {
                    formattedTooltipVal = this.options.formatter(this._state.value[0]);
                    this._setText(this.tooltipInner, formattedTooltipVal);
                    this.tooltip.style[this.stylePos] = positionPercentages[0] + "%";
                    if (this.options.orientation === 'vertical') {
                        this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetHeight / 2 + "px");
                    } else {
                        this._css(this.tooltip, "margin-" + this.stylePos, -this.tooltip.offsetWidth / 2 + "px");
                    }
                }
                if (this.options.orientation === 'vertical') {
                    this.trackLow.style.top = '0';
                    this.trackLow.style.height = Math.min(positionPercentages[0], positionPercentages[1]) + '%';
                    this.trackSelection.style.top = Math.min(positionPercentages[0], positionPercentages[1]) + '%';
                    this.trackSelection.style.height = Math.abs(positionPercentages[0] - positionPercentages[1]) + '%';
                    this.trackHigh.style.bottom = '0';
                    this.trackHigh.style.height = 100 - Math.min(positionPercentages[0], positionPercentages[1]) - Math.abs(positionPercentages[0] - positionPercentages[1]) + '%';
                } else {
                    if (this.stylePos === 'right') {
                        this.trackLow.style.right = '0';
                    } else {
                        this.trackLow.style.left = '0';
                    }
                    this.trackLow.style.width = Math.min(positionPercentages[0], positionPercentages[1]) + '%';
                    if (this.stylePos === 'right') {
                        this.trackSelection.style.right = Math.min(positionPercentages[0], positionPercentages[1]) + '%';
                    } else {
                        this.trackSelection.style.left = Math.min(positionPercentages[0], positionPercentages[1]) + '%';
                    }
                    this.trackSelection.style.width = Math.abs(positionPercentages[0] - positionPercentages[1]) + '%';
                    if (this.stylePos === 'right') {
                        this.trackHigh.style.left = '0';
                    } else {
                        this.trackHigh.style.right = '0';
                    }
                    this.trackHigh.style.width = 100 - Math.min(positionPercentages[0], positionPercentages[1]) - Math.abs(positionPercentages[0] - positionPercentages[1]) + '%';
                    var offset_min = this.tooltip_min.getBoundingClientRect();
                    var offset_max = this.tooltip_max.getBoundingClientRect();
                    if (this.options.tooltip_position === 'bottom') {
                        if (offset_min.right > offset_max.left) {
                            this._removeClass(this.tooltip_max, 'bottom');
                            this._addClass(this.tooltip_max, 'top');
                            this.tooltip_max.style.top = '';
                            this.tooltip_max.style.bottom = 22 + 'px';
                        } else {
                            this._removeClass(this.tooltip_max, 'top');
                            this._addClass(this.tooltip_max, 'bottom');
                            this.tooltip_max.style.top = this.tooltip_min.style.top;
                            this.tooltip_max.style.bottom = '';
                        }
                    } else {
                        if (offset_min.right > offset_max.left) {
                            this._removeClass(this.tooltip_max, 'top');
                            this._addClass(this.tooltip_max, 'bottom');
                            this.tooltip_max.style.top = 18 + 'px';
                        } else {
                            this._removeClass(this.tooltip_max, 'bottom');
                            this._addClass(this.tooltip_max, 'top');
                            this.tooltip_max.style.top = this.tooltip_min.style.top;
                        }
                    }
                }
            },
            _createHighlightRange: function _createHighlightRange(start, end) {
                if (this._isHighlightRange(start, end)) {
                    if (start > end) {
                        return {
                            'start': end,
                            'size': start - end
                        };
                    }
                    return {
                        'start': start,
                        'size': end - start
                    };
                }
                return null;
            },
            _isHighlightRange: function _isHighlightRange(start, end) {
                if (0 <= start && start <= 100 && 0 <= end && end <= 100) {
                    return true;
                } else {
                    return false;
                }
            },
            _resize: function _resize(ev) {
                this._state.offset = this._offset(this.sliderElem);
                this._state.size = this.sliderElem[this.sizePos];
                this._layout();
            },
            _removeProperty: function _removeProperty(element, prop) {
                if (element.style.removeProperty) {
                    element.style.removeProperty(prop);
                } else {
                    element.style.removeAttribute(prop);
                }
            },
            _mousedown: function _mousedown(ev) {
                if (!this._state.enabled) {
                    return false;
                }
                this._state.offset = this._offset(this.sliderElem);
                this._state.size = this.sliderElem[this.sizePos];
                var percentage = this._getPercentage(ev);
                if (this.options.range) {
                    var diff1 = Math.abs(this._state.percentage[0] - percentage);
                    var diff2 = Math.abs(this._state.percentage[1] - percentage);
                    this._state.dragged = diff1 < diff2 ? 0 : 1;
                    this._adjustPercentageForRangeSliders(percentage);
                } else {
                    this._state.dragged = 0;
                }
                this._state.percentage[this._state.dragged] = percentage;
                this._layout();
                if (this.touchCapable) {
                    document.removeEventListener("touchmove", this.mousemove, false);
                    document.removeEventListener("touchend", this.mouseup, false);
                }
                if (this.mousemove) {
                    document.removeEventListener("mousemove", this.mousemove, false);
                }
                if (this.mouseup) {
                    document.removeEventListener("mouseup", this.mouseup, false);
                }
                this.mousemove = this._mousemove.bind(this);
                this.mouseup = this._mouseup.bind(this);
                if (this.touchCapable) {
                    document.addEventListener("touchmove", this.mousemove, false);
                    document.addEventListener("touchend", this.mouseup, false);
                }
                document.addEventListener("mousemove", this.mousemove, false);
                document.addEventListener("mouseup", this.mouseup, false);
                this._state.inDrag = true;
                var newValue = this._calculateValue();
                this._trigger('slideStart', newValue);
                this._setDataVal(newValue);
                this.setValue(newValue, false, true);
                ev.returnValue = false;
                if (this.options.focus) {
                    this._triggerFocusOnHandle(this._state.dragged);
                }
                return true;
            },
            _touchstart: function _touchstart(ev) {
                if (ev.changedTouches === undefined) {
                    this._mousedown(ev);
                    return;
                }
                var touch = ev.changedTouches[0];
                this.touchX = touch.pageX;
                this.touchY = touch.pageY;
            },
            _triggerFocusOnHandle: function _triggerFocusOnHandle(handleIdx) {
                if (handleIdx === 0) {
                    this.handle1.focus();
                }
                if (handleIdx === 1) {
                    this.handle2.focus();
                }
            },
            _keydown: function _keydown(handleIdx, ev) {
                if (!this._state.enabled) {
                    return false;
                }
                var dir;
                switch (ev.keyCode) {
                case 37:
                case 40:
                    dir = -1;
                    break;
                case 39:
                case 38:
                    dir = 1;
                    break;
                }
                if (!dir) {
                    return;
                }
                if (this.options.natural_arrow_keys) {
                    var ifVerticalAndNotReversed = this.options.orientation === 'vertical' && !this.options.reversed;
                    var ifHorizontalAndReversed = this.options.orientation === 'horizontal' && this.options.reversed;
                    if (ifVerticalAndNotReversed || ifHorizontalAndReversed) {
                        dir = -dir;
                    }
                }
                var val = this._state.value[handleIdx] + dir * this.options.step;
                var percentage = val / this.options.max * 100;
                this._state.keyCtrl = handleIdx;
                if (this.options.range) {
                    this._adjustPercentageForRangeSliders(percentage);
                    var val1 = !this._state.keyCtrl ? val : this._state.value[0];
                    var val2 = this._state.keyCtrl ? val : this._state.value[1];
                    val = [val1, val2];
                }
                this._trigger('slideStart', val);
                this._setDataVal(val);
                this.setValue(val, true, true);
                this._setDataVal(val);
                this._trigger('slideStop', val);
                this._layout();
                this._pauseEvent(ev);
                delete this._state.keyCtrl;
                return false;
            },
            _pauseEvent: function _pauseEvent(ev) {
                if (ev.stopPropagation) {
                    ev.stopPropagation();
                }
                if (ev.preventDefault) {
                    ev.preventDefault();
                }
                ev.cancelBubble = true;
                ev.returnValue = false;
            },
            _mousemove: function _mousemove(ev) {
                if (!this._state.enabled) {
                    return false;
                }
                var percentage = this._getPercentage(ev);
                this._adjustPercentageForRangeSliders(percentage);
                this._state.percentage[this._state.dragged] = percentage;
                this._layout();
                var val = this._calculateValue(true);
                this.setValue(val, true, true);
                return false;
            },
            _touchmove: function _touchmove(ev) {
                if (ev.changedTouches === undefined) {
                    return;
                }
                var touch = ev.changedTouches[0];
                var xDiff = touch.pageX - this.touchX;
                var yDiff = touch.pageY - this.touchY;
                if (!this._state.inDrag) {
                    if (this.options.orientation === 'vertical' && xDiff <= 5 && xDiff >= -5 && (yDiff >= 15 || yDiff <= -15)) {
                        this._mousedown(ev);
                    } else if (yDiff <= 5 && yDiff >= -5 && (xDiff >= 15 || xDiff <= -15)) {
                        this._mousedown(ev);
                    }
                }
            },
            _adjustPercentageForRangeSliders: function _adjustPercentageForRangeSliders(percentage) {
                if (this.options.range) {
                    var precision = this._getNumDigitsAfterDecimalPlace(percentage);
                    precision = precision ? precision - 1 : 0;
                    var percentageWithAdjustedPrecision = this._applyToFixedAndParseFloat(percentage, precision);
                    if (this._state.dragged === 0 && this._applyToFixedAndParseFloat(this._state.percentage[1], precision) < percentageWithAdjustedPrecision) {
                        this._state.percentage[0] = this._state.percentage[1];
                        this._state.dragged = 1;
                    } else if (this._state.dragged === 1 && this._applyToFixedAndParseFloat(this._state.percentage[0], precision) > percentageWithAdjustedPrecision) {
                        this._state.percentage[1] = this._state.percentage[0];
                        this._state.dragged = 0;
                    } else if (this._state.keyCtrl === 0 && this._state.value[1] / this.options.max * 100 < percentage) {
                        this._state.percentage[0] = this._state.percentage[1];
                        this._state.keyCtrl = 1;
                        this.handle2.focus();
                    } else if (this._state.keyCtrl === 1 && this._state.value[0] / this.options.max * 100 > percentage) {
                        this._state.percentage[1] = this._state.percentage[0];
                        this._state.keyCtrl = 0;
                        this.handle1.focus();
                    }
                }
            },
            _mouseup: function _mouseup() {
                if (!this._state.enabled) {
                    return false;
                }
                if (this.touchCapable) {
                    document.removeEventListener("touchmove", this.mousemove, false);
                    document.removeEventListener("touchend", this.mouseup, false);
                }
                document.removeEventListener("mousemove", this.mousemove, false);
                document.removeEventListener("mouseup", this.mouseup, false);
                this._state.inDrag = false;
                if (this._state.over === false) {
                    this._hideTooltip();
                }
                var val = this._calculateValue(true);
                this._layout();
                this._setDataVal(val);
                this._trigger('slideStop', val);
                return false;
            },
            _calculateValue: function _calculateValue(snapToClosestTick) {
                var val;
                if (this.options.range) {
                    val = [this.options.min, this.options.max];
                    if (this._state.percentage[0] !== 0) {
                        val[0] = this._toValue(this._state.percentage[0]);
                        val[0] = this._applyPrecision(val[0]);
                    }
                    if (this._state.percentage[1] !== 100) {
                        val[1] = this._toValue(this._state.percentage[1]);
                        val[1] = this._applyPrecision(val[1]);
                    }
                } else {
                    val = this._toValue(this._state.percentage[0]);
                    val = parseFloat(val);
                    val = this._applyPrecision(val);
                }
                if (snapToClosestTick) {
                    var min = [val, Infinity];
                    for (var i = 0; i < this.options.ticks.length; i++) {
                        var diff = Math.abs(this.options.ticks[i] - val);
                        if (diff <= min[1]) {
                            min = [this.options.ticks[i], diff];
                        }
                    }
                    if (min[1] <= this.options.ticks_snap_bounds) {
                        return min[0];
                    }
                }
                return val;
            },
            _applyPrecision: function _applyPrecision(val) {
                var precision = this.options.precision || this._getNumDigitsAfterDecimalPlace(this.options.step);
                return this._applyToFixedAndParseFloat(val, precision);
            },
            _getNumDigitsAfterDecimalPlace: function _getNumDigitsAfterDecimalPlace(num) {
                var match = ('' + num).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
                if (!match) {
                    return 0;
                }
                return Math.max(0, (match[1] ? match[1].length : 0) - (match[2] ? +match[2] : 0));
            },
            _applyToFixedAndParseFloat: function _applyToFixedAndParseFloat(num, toFixedInput) {
                var truncatedNum = num.toFixed(toFixedInput);
                return parseFloat(truncatedNum);
            },
            _getPercentage: function _getPercentage(ev) {
                if (this.touchCapable && (ev.type === 'touchstart' || ev.type === 'touchmove')) {
                    ev = ev.touches[0];
                }
                var eventPosition = ev[this.mousePos];
                var sliderOffset = this._state.offset[this.stylePos];
                var distanceToSlide = eventPosition - sliderOffset;
                if (this.stylePos === 'right') {
                    distanceToSlide = -distanceToSlide;
                }
                var percentage = distanceToSlide / this._state.size * 100;
                percentage = Math.round(percentage / this._state.percentage[2]) * this._state.percentage[2];
                if (this.options.reversed) {
                    percentage = 100 - percentage;
                }
                return Math.max(0, Math.min(100, percentage));
            },
            _validateInputValue: function _validateInputValue(val) {
                if (!isNaN(+val)) {
                    return +val;
                } else if (Array.isArray(val)) {
                    this._validateArray(val);
                    return val;
                } else {
                    throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(val));
                }
            },
            _validateArray: function _validateArray(val) {
                for (var i = 0; i < val.length; i++) {
                    var input = val[i];
                    if (typeof input !== 'number') {
                        throw new Error(ErrorMsgs.formatInvalidInputErrorMsg(input));
                    }
                }
            },
            _setDataVal: function _setDataVal(val) {
                this.element.setAttribute('data-value', val);
                this.element.setAttribute('value', val);
                this.element.value = val;
            },
            _trigger: function _trigger(evt, val) {
                val = val || val === 0 ? val : undefined;
                var callbackFnArray = this.eventToCallbackMap[evt];
                if (callbackFnArray && callbackFnArray.length) {
                    for (var i = 0; i < callbackFnArray.length; i++) {
                        var callbackFn = callbackFnArray[i];
                        callbackFn(val);
                    }
                }
                if ($) {
                    this._triggerJQueryEvent(evt, val);
                }
            },
            _triggerJQueryEvent: function _triggerJQueryEvent(evt, val) {
                var eventData = {
                    type: evt,
                    value: val
                };
                this.$element.trigger(eventData);
                this.$sliderElem.trigger(eventData);
            },
            _unbindJQueryEventHandlers: function _unbindJQueryEventHandlers() {
                this.$element.off();
                this.$sliderElem.off();
            },
            _setText: function _setText(element, text) {
                if (typeof element.textContent !== "undefined") {
                    element.textContent = text;
                } else if (typeof element.innerText !== "undefined") {
                    element.innerText = text;
                }
            },
            _removeClass: function _removeClass(element, classString) {
                var classes = classString.split(" ");
                var newClasses = element.className;
                for (var i = 0; i < classes.length; i++) {
                    var classTag = classes[i];
                    var regex = new RegExp("(?:\\s|^)" + classTag + "(?:\\s|$)");
                    newClasses = newClasses.replace(regex, " ");
                }
                element.className = newClasses.trim();
            },
            _addClass: function _addClass(element, classString) {
                var classes = classString.split(" ");
                var newClasses = element.className;
                for (var i = 0; i < classes.length; i++) {
                    var classTag = classes[i];
                    var regex = new RegExp("(?:\\s|^)" + classTag + "(?:\\s|$)");
                    var ifClassExists = regex.test(newClasses);
                    if (!ifClassExists) {
                        newClasses += " " + classTag;
                    }
                }
                element.className = newClasses.trim();
            },
            _offsetLeft: function _offsetLeft(obj) {
                return obj.getBoundingClientRect().left;
            },
            _offsetRight: function _offsetRight(obj) {
                return obj.getBoundingClientRect().right;
            },
            _offsetTop: function _offsetTop(obj) {
                var offsetTop = obj.offsetTop;
                while ((obj = obj.offsetParent) && !isNaN(obj.offsetTop)) {
                    offsetTop += obj.offsetTop;
                    if (obj.tagName !== 'BODY') {
                        offsetTop -= obj.scrollTop;
                    }
                }
                return offsetTop;
            },
            _offset: function _offset(obj) {
                return {
                    left: this._offsetLeft(obj),
                    right: this._offsetRight(obj),
                    top: this._offsetTop(obj)
                };
            },
            _css: function _css(elementRef, styleName, value) {
                if ($) {
                    $.style(elementRef, styleName, value);
                } else {
                    var style = styleName.replace(/^-ms-/, "ms-").replace(/-([\da-z])/gi, function(all, letter) {
                        return letter.toUpperCase();
                    });
                    elementRef.style[style] = value;
                }
            },
            _toValue: function _toValue(percentage) {
                return this.options.scale.toValue.apply(this, [percentage]);
            },
            _toPercentage: function _toPercentage(value) {
                return this.options.scale.toPercentage.apply(this, [value]);
            },
            _setTooltipPosition: function _setTooltipPosition() {
                var tooltips = [this.tooltip, this.tooltip_min, this.tooltip_max];
                if (this.options.orientation === 'vertical') {
                    var tooltipPos;
                    if (this.options.tooltip_position) {
                        tooltipPos = this.options.tooltip_position;
                    } else {
                        if (this.options.rtl) {
                            tooltipPos = 'left';
                        } else {
                            tooltipPos = 'right';
                        }
                    }
                    var oppositeSide = tooltipPos === 'left' ? 'right' : 'left';
                    tooltips.forEach(function(tooltip) {
                        this._addClass(tooltip, tooltipPos);
                        tooltip.style[oppositeSide] = '100%';
                    }
                    .bind(this));
                } else if (this.options.tooltip_position === 'bottom') {
                    tooltips.forEach(function(tooltip) {
                        this._addClass(tooltip, 'bottom');
                        tooltip.style.top = 22 + 'px';
                    }
                    .bind(this));
                } else {
                    tooltips.forEach(function(tooltip) {
                        this._addClass(tooltip, 'top');
                        tooltip.style.top = -this.tooltip.outerHeight - 14 + 'px';
                    }
                    .bind(this));
                }
            }
        };
        if ($ && $.fn) {
            var autoRegisterNamespace = void 0;
            if (!$.fn.slider) {
                $.bridget(NAMESPACE_MAIN, Slider);
                autoRegisterNamespace = NAMESPACE_MAIN;
            } else {
                if (windowIsDefined) {
                    window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead.");
                }
                autoRegisterNamespace = NAMESPACE_ALTERNATE;
            }
            $.bridget(NAMESPACE_ALTERNATE, Slider);
            $(function() {
                $("input[data-provide=slider]")[autoRegisterNamespace]();
            });
        }
    }
    )($);
    return Slider;
});
/*!
 * Datepicker for Bootstrap v1.6.4 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery)
}(function(a, b) {
    function c() {
        return new Date(Date.UTC.apply(Date, arguments))
    }
    function d() {
        var a = new Date;
        return c(a.getFullYear(), a.getMonth(), a.getDate())
    }
    function e(a, b) {
        return a.getUTCFullYear() === b.getUTCFullYear() && a.getUTCMonth() === b.getUTCMonth() && a.getUTCDate() === b.getUTCDate()
    }
    function f(a) {
        return function() {
            return this[a].apply(this, arguments)
        }
    }
    function g(a) {
        return a && !isNaN(a.getTime())
    }
    function h(b, c) {
        function d(a, b) {
            return b.toLowerCase()
        }
        var e, f = a(b).data(), g = {}, h = new RegExp("^" + c.toLowerCase() + "([A-Z])");
        c = new RegExp("^" + c.toLowerCase());
        for (var i in f)
            c.test(i) && (e = i.replace(h, d),
            g[e] = f[i]);
        return g
    }
    function i(b) {
        var c = {};
        if (q[b] || (b = b.split("-")[0],
        q[b])) {
            var d = q[b];
            return a.each(p, function(a, b) {
                b in d && (c[b] = d[b])
            }),
            c
        }
    }
    var j = function() {
        var b = {
            get: function(a) {
                return this.slice(a)[0]
            },
            contains: function(a) {
                for (var b = a && a.valueOf(), c = 0, d = this.length; d > c; c++)
                    if (this[c].valueOf() === b)
                        return c;
                return -1
            },
            remove: function(a) {
                this.splice(a, 1)
            },
            replace: function(b) {
                b && (a.isArray(b) || (b = [b]),
                this.clear(),
                this.push.apply(this, b))
            },
            clear: function() {
                this.length = 0
            },
            copy: function() {
                var a = new j;
                return a.replace(this),
                a
            }
        };
        return function() {
            var c = [];
            return c.push.apply(c, arguments),
            a.extend(c, b),
            c
        }
    }()
      , k = function(b, c) {
        a(b).data("datepicker", this),
        this._process_options(c),
        this.dates = new j,
        this.viewDate = this.o.defaultViewDate,
        this.focusDate = null,
        this.element = a(b),
        this.isInput = this.element.is("input"),
        this.inputField = this.isInput ? this.element : this.element.find("input"),
        this.component = this.element.hasClass("date") ? this.element.find(".add-on, .input-group-addon, .btn") : !1,
        this.hasInput = this.component && this.inputField.length,
        this.component && 0 === this.component.length && (this.component = !1),
        this.isInline = !this.component && this.element.is("div"),
        this.picker = a(r.template),
        this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow),
        this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow),
        this._buildEvents(),
        this._attachEvents(),
        this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"),
        this.o.rtl && this.picker.addClass("datepicker-rtl"),
        this.viewMode = this.o.startView,
        this.o.calendarWeeks && this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function(a, b) {
            return parseInt(b) + 1
        }),
        this._allow_update = !1,
        this.setStartDate(this._o.startDate),
        this.setEndDate(this._o.endDate),
        this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),
        this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),
        this.setDatesDisabled(this.o.datesDisabled),
        this.fillDow(),
        this.fillMonths(),
        this._allow_update = !0,
        this.update(),
        this.showMode(),
        this.isInline && this.show()
    };
    k.prototype = {
        constructor: k,
        _resolveViewName: function(a, c) {
            return 0 === a || "days" === a || "month" === a ? 0 : 1 === a || "months" === a || "year" === a ? 1 : 2 === a || "years" === a || "decade" === a ? 2 : 3 === a || "decades" === a || "century" === a ? 3 : 4 === a || "centuries" === a || "millennium" === a ? 4 : c === b ? !1 : c
        },
        _check_template: function(c) {
            try {
                if (c === b || "" === c)
                    return !1;
                if ((c.match(/[<>]/g) || []).length <= 0)
                    return !0;
                var d = a(c);
                return d.length > 0
            } catch (e) {
                return !1
            }
        },
        _process_options: function(b) {
            this._o = a.extend({}, this._o, b);
            var e = this.o = a.extend({}, this._o)
              , f = e.language;
            q[f] || (f = f.split("-")[0],
            q[f] || (f = o.language)),
            e.language = f,
            e.startView = this._resolveViewName(e.startView, 0),
            e.minViewMode = this._resolveViewName(e.minViewMode, 0),
            e.maxViewMode = this._resolveViewName(e.maxViewMode, 4),
            e.startView = Math.min(e.startView, e.maxViewMode),
            e.startView = Math.max(e.startView, e.minViewMode),
            e.multidate !== !0 && (e.multidate = Number(e.multidate) || !1,
            e.multidate !== !1 && (e.multidate = Math.max(0, e.multidate))),
            e.multidateSeparator = String(e.multidateSeparator),
            e.weekStart %= 7,
            e.weekEnd = (e.weekStart + 6) % 7;
            var g = r.parseFormat(e.format);
            e.startDate !== -(1 / 0) && (e.startDate ? e.startDate instanceof Date ? e.startDate = this._local_to_utc(this._zero_time(e.startDate)) : e.startDate = r.parseDate(e.startDate, g, e.language, e.assumeNearbyYear) : e.startDate = -(1 / 0)),
            e.endDate !== 1 / 0 && (e.endDate ? e.endDate instanceof Date ? e.endDate = this._local_to_utc(this._zero_time(e.endDate)) : e.endDate = r.parseDate(e.endDate, g, e.language, e.assumeNearbyYear) : e.endDate = 1 / 0),
            e.daysOfWeekDisabled = e.daysOfWeekDisabled || [],
            a.isArray(e.daysOfWeekDisabled) || (e.daysOfWeekDisabled = e.daysOfWeekDisabled.split(/[,\s]*/)),
            e.daysOfWeekDisabled = a.map(e.daysOfWeekDisabled, function(a) {
                return parseInt(a, 10)
            }),
            e.daysOfWeekHighlighted = e.daysOfWeekHighlighted || [],
            a.isArray(e.daysOfWeekHighlighted) || (e.daysOfWeekHighlighted = e.daysOfWeekHighlighted.split(/[,\s]*/)),
            e.daysOfWeekHighlighted = a.map(e.daysOfWeekHighlighted, function(a) {
                return parseInt(a, 10)
            }),
            e.datesDisabled = e.datesDisabled || [],
            a.isArray(e.datesDisabled) || (e.datesDisabled = [e.datesDisabled]),
            e.datesDisabled = a.map(e.datesDisabled, function(a) {
                return r.parseDate(a, g, e.language, e.assumeNearbyYear)
            });
            var h = String(e.orientation).toLowerCase().split(/\s+/g)
              , i = e.orientation.toLowerCase();
            if (h = a.grep(h, function(a) {
                return /^auto|left|right|top|bottom$/.test(a)
            }),
            e.orientation = {
                x: "auto",
                y: "auto"
            },
            i && "auto" !== i)
                if (1 === h.length)
                    switch (h[0]) {
                    case "top":
                    case "bottom":
                        e.orientation.y = h[0];
                        break;
                    case "left":
                    case "right":
                        e.orientation.x = h[0]
                    }
                else
                    i = a.grep(h, function(a) {
                        return /^left|right$/.test(a)
                    }),
                    e.orientation.x = i[0] || "auto",
                    i = a.grep(h, function(a) {
                        return /^top|bottom$/.test(a)
                    }),
                    e.orientation.y = i[0] || "auto";
            else
                ;if (e.defaultViewDate) {
                var j = e.defaultViewDate.year || (new Date).getFullYear()
                  , k = e.defaultViewDate.month || 0
                  , l = e.defaultViewDate.day || 1;
                e.defaultViewDate = c(j, k, l)
            } else
                e.defaultViewDate = d()
        },
        _events: [],
        _secondaryEvents: [],
        _applyEvents: function(a) {
            for (var c, d, e, f = 0; f < a.length; f++)
                c = a[f][0],
                2 === a[f].length ? (d = b,
                e = a[f][1]) : 3 === a[f].length && (d = a[f][1],
                e = a[f][2]),
                c.on(e, d)
        },
        _unapplyEvents: function(a) {
            for (var c, d, e, f = 0; f < a.length; f++)
                c = a[f][0],
                2 === a[f].length ? (e = b,
                d = a[f][1]) : 3 === a[f].length && (e = a[f][1],
                d = a[f][2]),
                c.off(d, e)
        },
        _buildEvents: function() {
            var b = {
                keyup: a.proxy(function(b) {
                    -1 === a.inArray(b.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update()
                }, this),
                keydown: a.proxy(this.keydown, this),
                paste: a.proxy(this.paste, this)
            };
            this.o.showOnFocus === !0 && (b.focus = a.proxy(this.show, this)),
            this.isInput ? this._events = [[this.element, b]] : this.component && this.hasInput ? this._events = [[this.inputField, b], [this.component, {
                click: a.proxy(this.show, this)
            }]] : this._events = [[this.element, {
                click: a.proxy(this.show, this),
                keydown: a.proxy(this.keydown, this)
            }]],
            this._events.push([this.element, "*", {
                blur: a.proxy(function(a) {
                    this._focused_from = a.target
                }, this)
            }], [this.element, {
                blur: a.proxy(function(a) {
                    this._focused_from = a.target
                }, this)
            }]),
            this.o.immediateUpdates && this._events.push([this.element, {
                "changeYear changeMonth": a.proxy(function(a) {
                    this.update(a.date)
                }, this)
            }]),
            this._secondaryEvents = [[this.picker, {
                click: a.proxy(this.click, this)
            }], [a(window), {
                resize: a.proxy(this.place, this)
            }], [a(document), {
                mousedown: a.proxy(function(a) {
                    this.element.is(a.target) || this.element.find(a.target).length || this.picker.is(a.target) || this.picker.find(a.target).length || this.isInline || this.hide()
                }, this)
            }]]
        },
        _attachEvents: function() {
            this._detachEvents(),
            this._applyEvents(this._events)
        },
        _detachEvents: function() {
            this._unapplyEvents(this._events)
        },
        _attachSecondaryEvents: function() {
            this._detachSecondaryEvents(),
            this._applyEvents(this._secondaryEvents)
        },
        _detachSecondaryEvents: function() {
            this._unapplyEvents(this._secondaryEvents)
        },
        _trigger: function(b, c) {
            var d = c || this.dates.get(-1)
              , e = this._utc_to_local(d);
            this.element.trigger({
                type: b,
                date: e,
                dates: a.map(this.dates, this._utc_to_local),
                format: a.proxy(function(a, b) {
                    0 === arguments.length ? (a = this.dates.length - 1,
                    b = this.o.format) : "string" == typeof a && (b = a,
                    a = this.dates.length - 1),
                    b = b || this.o.format;
                    var c = this.dates.get(a);
                    return r.formatDate(c, b, this.o.language)
                }, this)
            })
        },
        show: function() {
            return this.inputField.prop("disabled") || this.inputField.prop("readonly") && this.o.enableOnReadonly === !1 ? void 0 : (this.isInline || this.picker.appendTo(this.o.container),
            this.place(),
            this.picker.show(),
            this._attachSecondaryEvents(),
            this._trigger("show"),
            (window.navigator.msMaxTouchPoints || "ontouchstart"in document) && this.o.disableTouchKeyboard && a(this.element).blur(),
            this)
        },
        hide: function() {
            return this.isInline || !this.picker.is(":visible") ? this : (this.focusDate = null,
            this.picker.hide().detach(),
            this._detachSecondaryEvents(),
            this.viewMode = this.o.startView,
            this.showMode(),
            this.o.forceParse && this.inputField.val() && this.setValue(),
            this._trigger("hide"),
            this)
        },
        destroy: function() {
            return this.hide(),
            this._detachEvents(),
            this._detachSecondaryEvents(),
            this.picker.remove(),
            delete this.element.data().datepicker,
            this.isInput || delete this.element.data().date,
            this
        },
        paste: function(b) {
            var c;
            if (b.originalEvent.clipboardData && b.originalEvent.clipboardData.types && -1 !== a.inArray("text/plain", b.originalEvent.clipboardData.types))
                c = b.originalEvent.clipboardData.getData("text/plain");
            else {
                if (!window.clipboardData)
                    return;
                c = window.clipboardData.getData("Text")
            }
            this.setDate(c),
            this.update(),
            b.preventDefault()
        },
        _utc_to_local: function(a) {
            return a && new Date(a.getTime() + 6e4 * a.getTimezoneOffset())
        },
        _local_to_utc: function(a) {
            return a && new Date(a.getTime() - 6e4 * a.getTimezoneOffset())
        },
        _zero_time: function(a) {
            return a && new Date(a.getFullYear(),a.getMonth(),a.getDate())
        },
        _zero_utc_time: function(a) {
            return a && new Date(Date.UTC(a.getUTCFullYear(), a.getUTCMonth(), a.getUTCDate()))
        },
        getDates: function() {
            return a.map(this.dates, this._utc_to_local)
        },
        getUTCDates: function() {
            return a.map(this.dates, function(a) {
                return new Date(a)
            })
        },
        getDate: function() {
            return this._utc_to_local(this.getUTCDate())
        },
        getUTCDate: function() {
            var a = this.dates.get(-1);
            return "undefined" != typeof a ? new Date(a) : null
        },
        clearDates: function() {
            this.inputField && this.inputField.val(""),
            this.update(),
            this._trigger("changeDate"),
            this.o.autoclose && this.hide()
        },
        setDates: function() {
            var b = a.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, b),
            this._trigger("changeDate"),
            this.setValue(),
            this
        },
        setUTCDates: function() {
            var b = a.isArray(arguments[0]) ? arguments[0] : arguments;
            return this.update.apply(this, a.map(b, this._utc_to_local)),
            this._trigger("changeDate"),
            this.setValue(),
            this
        },
        setDate: f("setDates"),
        setUTCDate: f("setUTCDates"),
        remove: f("destroy"),
        setValue: function() {
            var a = this.getFormattedDate();
            return this.inputField.val(a),
            this
        },
        getFormattedDate: function(c) {
            c === b && (c = this.o.format);
            var d = this.o.language;
            return a.map(this.dates, function(a) {
                return r.formatDate(a, c, d)
            }).join(this.o.multidateSeparator)
        },
        getStartDate: function() {
            return this.o.startDate
        },
        setStartDate: function(a) {
            return this._process_options({
                startDate: a
            }),
            this.update(),
            this.updateNavArrows(),
            this
        },
        getEndDate: function() {
            return this.o.endDate
        },
        setEndDate: function(a) {
            return this._process_options({
                endDate: a
            }),
            this.update(),
            this.updateNavArrows(),
            this
        },
        setDaysOfWeekDisabled: function(a) {
            return this._process_options({
                daysOfWeekDisabled: a
            }),
            this.update(),
            this.updateNavArrows(),
            this
        },
        setDaysOfWeekHighlighted: function(a) {
            return this._process_options({
                daysOfWeekHighlighted: a
            }),
            this.update(),
            this
        },
        setDatesDisabled: function(a) {
            this._process_options({
                datesDisabled: a
            }),
            this.update(),
            this.updateNavArrows()
        },
        place: function() {
            if (this.isInline)
                return this;
            var b = this.picker.outerWidth()
              , c = this.picker.outerHeight()
              , d = 10
              , e = a(this.o.container)
              , f = e.width()
              , g = "body" === this.o.container ? a(document).scrollTop() : e.scrollTop()
              , h = e.offset()
              , i = [];
            this.element.parents().each(function() {
                var b = a(this).css("z-index");
                "auto" !== b && 0 !== b && i.push(parseInt(b))
            });
            var j = Math.max.apply(Math, i) + this.o.zIndexOffset
              , k = this.component ? this.component.parent().offset() : this.element.offset()
              , l = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1)
              , m = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1)
              , n = k.left - h.left
              , o = k.top - h.top;
            "body" !== this.o.container && (o += g),
            this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),
            "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x),
            "right" === this.o.orientation.x && (n -= b - m)) : k.left < 0 ? (this.picker.addClass("datepicker-orient-left"),
            n -= k.left - d) : n + b > f ? (this.picker.addClass("datepicker-orient-right"),
            n += m - b) : this.picker.addClass("datepicker-orient-left");
            var p, q = this.o.orientation.y;
            if ("auto" === q && (p = -g + o - c,
            q = 0 > p ? "bottom" : "top"),
            this.picker.addClass("datepicker-orient-" + q),
            "top" === q ? o -= c + parseInt(this.picker.css("padding-top")) : o += l,
            this.o.rtl) {
                var r = f - (n + m);
                this.picker.css({
                    top: o,
                    right: r,
                    zIndex: j
                })
            } else
                this.picker.css({
                    top: o,
                    left: n,
                    zIndex: j
                });
            return this
        },
        _allow_update: !0,
        update: function() {
            if (!this._allow_update)
                return this;
            var b = this.dates.copy()
              , c = []
              , d = !1;
            return arguments.length ? (a.each(arguments, a.proxy(function(a, b) {
                b instanceof Date && (b = this._local_to_utc(b)),
                c.push(b)
            }, this)),
            d = !0) : (c = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val(),
            c = c && this.o.multidate ? c.split(this.o.multidateSeparator) : [c],
            delete this.element.data().date),
            c = a.map(c, a.proxy(function(a) {
                return r.parseDate(a, this.o.format, this.o.language, this.o.assumeNearbyYear)
            }, this)),
            c = a.grep(c, a.proxy(function(a) {
                return !this.dateWithinRange(a) || !a
            }, this), !0),
            this.dates.replace(c),
            this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate,
            d ? this.setValue() : c.length && String(b) !== String(this.dates) && this._trigger("changeDate"),
            !this.dates.length && b.length && this._trigger("clearDate"),
            this.fill(),
            this.element.change(),
            this
        },
        fillDow: function() {
            var b = this.o.weekStart
              , c = "<tr>";
            for (this.o.calendarWeeks && (this.picker.find(".datepicker-days .datepicker-switch").attr("colspan", function(a, b) {
                return parseInt(b) + 1
            }),
            c += '<th class="cw">&#160;</th>'); b < this.o.weekStart + 7; )
                c += '<th class="dow',
                a.inArray(b, this.o.daysOfWeekDisabled) > -1 && (c += " disabled"),
                c += '">' + q[this.o.language].daysMin[b++ % 7] + "</th>";
            c += "</tr>",
            this.picker.find(".datepicker-days thead").append(c)
        },
        fillMonths: function() {
            for (var a = this._utc_to_local(this.viewDate), b = "", c = 0; 12 > c; ) {
                var d = a && a.getMonth() === c ? " focused" : "";
                b += '<span class="month' + d + '">' + q[this.o.language].monthsShort[c++] + "</span>"
            }
            this.picker.find(".datepicker-months td").html(b)
        },
        setRange: function(b) {
            b && b.length ? this.range = a.map(b, function(a) {
                return a.valueOf()
            }) : delete this.range,
            this.fill()
        },
        getClassNames: function(b) {
            var c = []
              , d = this.viewDate.getUTCFullYear()
              , e = this.viewDate.getUTCMonth()
              , f = new Date;
            return b.getUTCFullYear() < d || b.getUTCFullYear() === d && b.getUTCMonth() < e ? c.push("old") : (b.getUTCFullYear() > d || b.getUTCFullYear() === d && b.getUTCMonth() > e) && c.push("new"),
            this.focusDate && b.valueOf() === this.focusDate.valueOf() && c.push("focused"),
            this.o.todayHighlight && b.getUTCFullYear() === f.getFullYear() && b.getUTCMonth() === f.getMonth() && b.getUTCDate() === f.getDate() && c.push("today"),
            -1 !== this.dates.contains(b) && c.push("active"),
            this.dateWithinRange(b) || c.push("disabled"),
            this.dateIsDisabled(b) && c.push("disabled", "disabled-date"),
            -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekHighlighted) && c.push("highlighted"),
            this.range && (b > this.range[0] && b < this.range[this.range.length - 1] && c.push("range"),
            -1 !== a.inArray(b.valueOf(), this.range) && c.push("selected"),
            b.valueOf() === this.range[0] && c.push("range-start"),
            b.valueOf() === this.range[this.range.length - 1] && c.push("range-end")),
            c
        },
        _fill_yearsView: function(c, d, e, f, g, h, i, j) {
            var k, l, m, n, o, p, q, r, s, t, u;
            for (k = "",
            l = this.picker.find(c),
            m = parseInt(g / e, 10) * e,
            o = parseInt(h / f, 10) * f,
            p = parseInt(i / f, 10) * f,
            n = a.map(this.dates, function(a) {
                return parseInt(a.getUTCFullYear() / f, 10) * f
            }),
            l.find(".datepicker-switch").text(m + "-" + (m + 9 * f)),
            q = m - f,
            r = -1; 11 > r; r += 1)
                s = [d],
                t = null,
                -1 === r ? s.push("old") : 10 === r && s.push("new"),
                -1 !== a.inArray(q, n) && s.push("active"),
                (o > q || q > p) && s.push("disabled"),
                q === this.viewDate.getFullYear() && s.push("focused"),
                j !== a.noop && (u = j(new Date(q,0,1)),
                u === b ? u = {} : "boolean" == typeof u ? u = {
                    enabled: u
                } : "string" == typeof u && (u = {
                    classes: u
                }),
                u.enabled === !1 && s.push("disabled"),
                u.classes && (s = s.concat(u.classes.split(/\s+/))),
                u.tooltip && (t = u.tooltip)),
                k += '<span class="' + s.join(" ") + '"' + (t ? ' title="' + t + '"' : "") + ">" + q + "</span>",
                q += f;
            l.find("td").html(k)
        },
        fill: function() {
            var d, e, f = new Date(this.viewDate), g = f.getUTCFullYear(), h = f.getUTCMonth(), i = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCFullYear() : -(1 / 0), j = this.o.startDate !== -(1 / 0) ? this.o.startDate.getUTCMonth() : -(1 / 0), k = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, l = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, m = q[this.o.language].today || q.en.today || "", n = q[this.o.language].clear || q.en.clear || "", o = q[this.o.language].titleFormat || q.en.titleFormat;
            if (!isNaN(g) && !isNaN(h)) {
                this.picker.find(".datepicker-days .datepicker-switch").text(r.formatDate(f, o, this.o.language)),
                this.picker.find("tfoot .today").text(m).toggle(this.o.todayBtn !== !1),
                this.picker.find("tfoot .clear").text(n).toggle(this.o.clearBtn !== !1),
                this.picker.find("thead .datepicker-title").text(this.o.title).toggle("" !== this.o.title),
                this.updateNavArrows(),
                this.fillMonths();
                var p = c(g, h - 1, 28)
                  , s = r.getDaysInMonth(p.getUTCFullYear(), p.getUTCMonth());
                p.setUTCDate(s),
                p.setUTCDate(s - (p.getUTCDay() - this.o.weekStart + 7) % 7);
                var t = new Date(p);
                p.getUTCFullYear() < 100 && t.setUTCFullYear(p.getUTCFullYear()),
                t.setUTCDate(t.getUTCDate() + 42),
                t = t.valueOf();
                for (var u, v = []; p.valueOf() < t; ) {
                    if (p.getUTCDay() === this.o.weekStart && (v.push("<tr>"),
                    this.o.calendarWeeks)) {
                        var w = new Date(+p + (this.o.weekStart - p.getUTCDay() - 7) % 7 * 864e5)
                          , x = new Date(Number(w) + (11 - w.getUTCDay()) % 7 * 864e5)
                          , y = new Date(Number(y = c(x.getUTCFullYear(), 0, 1)) + (11 - y.getUTCDay()) % 7 * 864e5)
                          , z = (x - y) / 864e5 / 7 + 1;
                        v.push('<td class="cw">' + z + "</td>")
                    }
                    u = this.getClassNames(p),
                    u.push("day"),
                    this.o.beforeShowDay !== a.noop && (e = this.o.beforeShowDay(this._utc_to_local(p)),
                    e === b ? e = {} : "boolean" == typeof e ? e = {
                        enabled: e
                    } : "string" == typeof e && (e = {
                        classes: e
                    }),
                    e.enabled === !1 && u.push("disabled"),
                    e.classes && (u = u.concat(e.classes.split(/\s+/))),
                    e.tooltip && (d = e.tooltip)),
                    u = a.isFunction(a.uniqueSort) ? a.uniqueSort(u) : a.unique(u),
                    v.push('<td class="' + u.join(" ") + '"' + (d ? ' title="' + d + '"' : "") + ">" + p.getUTCDate() + "</td>"),
                    d = null,
                    p.getUTCDay() === this.o.weekEnd && v.push("</tr>"),
                    p.setUTCDate(p.getUTCDate() + 1)
                }
                this.picker.find(".datepicker-days tbody").empty().append(v.join(""));
                var A = q[this.o.language].monthsTitle || q.en.monthsTitle || "Months"
                  , B = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? A : g).end().find("span").removeClass("active");
                if (a.each(this.dates, function(a, b) {
                    b.getUTCFullYear() === g && B.eq(b.getUTCMonth()).addClass("active")
                }),
                (i > g || g > k) && B.addClass("disabled"),
                g === i && B.slice(0, j).addClass("disabled"),
                g === k && B.slice(l + 1).addClass("disabled"),
                this.o.beforeShowMonth !== a.noop) {
                    var C = this;
                    a.each(B, function(c, d) {
                        var e = new Date(g,c,1)
                          , f = C.o.beforeShowMonth(e);
                        f === b ? f = {} : "boolean" == typeof f ? f = {
                            enabled: f
                        } : "string" == typeof f && (f = {
                            classes: f
                        }),
                        f.enabled !== !1 || a(d).hasClass("disabled") || a(d).addClass("disabled"),
                        f.classes && a(d).addClass(f.classes),
                        f.tooltip && a(d).prop("title", f.tooltip)
                    })
                }
                this._fill_yearsView(".datepicker-years", "year", 10, 1, g, i, k, this.o.beforeShowYear),
                this._fill_yearsView(".datepicker-decades", "decade", 100, 10, g, i, k, this.o.beforeShowDecade),
                this._fill_yearsView(".datepicker-centuries", "century", 1e3, 100, g, i, k, this.o.beforeShowCentury)
            }
        },
        updateNavArrows: function() {
            if (this._allow_update) {
                var a = new Date(this.viewDate)
                  , b = a.getUTCFullYear()
                  , c = a.getUTCMonth();
                switch (this.viewMode) {
                case 0:
                    this.o.startDate !== -(1 / 0) && b <= this.o.startDate.getUTCFullYear() && c <= this.o.startDate.getUTCMonth() ? this.picker.find(".prev").css({
                        visibility: "hidden"
                    }) : this.picker.find(".prev").css({
                        visibility: "visible"
                    }),
                    this.o.endDate !== 1 / 0 && b >= this.o.endDate.getUTCFullYear() && c >= this.o.endDate.getUTCMonth() ? this.picker.find(".next").css({
                        visibility: "hidden"
                    }) : this.picker.find(".next").css({
                        visibility: "visible"
                    });
                    break;
                case 1:
                case 2:
                case 3:
                case 4:
                    this.o.startDate !== -(1 / 0) && b <= this.o.startDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".prev").css({
                        visibility: "hidden"
                    }) : this.picker.find(".prev").css({
                        visibility: "visible"
                    }),
                    this.o.endDate !== 1 / 0 && b >= this.o.endDate.getUTCFullYear() || this.o.maxViewMode < 2 ? this.picker.find(".next").css({
                        visibility: "hidden"
                    }) : this.picker.find(".next").css({
                        visibility: "visible"
                    })
                }
            }
        },
        click: function(b) {
            b.preventDefault(),
            b.stopPropagation();
            var e, f, g, h, i, j, k;
            e = a(b.target),
            e.hasClass("datepicker-switch") && this.showMode(1);
            var l = e.closest(".prev, .next");
            l.length > 0 && (f = r.modes[this.viewMode].navStep * (l.hasClass("prev") ? -1 : 1),
            0 === this.viewMode ? (this.viewDate = this.moveMonth(this.viewDate, f),
            this._trigger("changeMonth", this.viewDate)) : (this.viewDate = this.moveYear(this.viewDate, f),
            1 === this.viewMode && this._trigger("changeYear", this.viewDate)),
            this.fill()),
            e.hasClass("today") && !e.hasClass("day") && (this.showMode(-2),
            this._setDate(d(), "linked" === this.o.todayBtn ? null : "view")),
            e.hasClass("clear") && this.clearDates(),
            e.hasClass("disabled") || (e.hasClass("day") && (g = parseInt(e.text(), 10) || 1,
            h = this.viewDate.getUTCFullYear(),
            i = this.viewDate.getUTCMonth(),
            e.hasClass("old") && (0 === i ? (i = 11,
            h -= 1,
            j = !0,
            k = !0) : (i -= 1,
            j = !0)),
            e.hasClass("new") && (11 === i ? (i = 0,
            h += 1,
            j = !0,
            k = !0) : (i += 1,
            j = !0)),
            this._setDate(c(h, i, g)),
            k && this._trigger("changeYear", this.viewDate),
            j && this._trigger("changeMonth", this.viewDate)),
            e.hasClass("month") && (this.viewDate.setUTCDate(1),
            g = 1,
            i = e.parent().find("span").index(e),
            h = this.viewDate.getUTCFullYear(),
            this.viewDate.setUTCMonth(i),
            this._trigger("changeMonth", this.viewDate),
            1 === this.o.minViewMode ? (this._setDate(c(h, i, g)),
            this.showMode()) : this.showMode(-1),
            this.fill()),
            (e.hasClass("year") || e.hasClass("decade") || e.hasClass("century")) && (this.viewDate.setUTCDate(1),
            g = 1,
            i = 0,
            h = parseInt(e.text(), 10) || 0,
            this.viewDate.setUTCFullYear(h),
            e.hasClass("year") && (this._trigger("changeYear", this.viewDate),
            2 === this.o.minViewMode && this._setDate(c(h, i, g))),
            e.hasClass("decade") && (this._trigger("changeDecade", this.viewDate),
            3 === this.o.minViewMode && this._setDate(c(h, i, g))),
            e.hasClass("century") && (this._trigger("changeCentury", this.viewDate),
            4 === this.o.minViewMode && this._setDate(c(h, i, g))),
            this.showMode(-1),
            this.fill())),
            this.picker.is(":visible") && this._focused_from && a(this._focused_from).focus(),
            delete this._focused_from
        },
        _toggle_multidate: function(a) {
            var b = this.dates.contains(a);
            if (a || this.dates.clear(),
            -1 !== b ? (this.o.multidate === !0 || this.o.multidate > 1 || this.o.toggleActive) && this.dates.remove(b) : this.o.multidate === !1 ? (this.dates.clear(),
            this.dates.push(a)) : this.dates.push(a),
            "number" == typeof this.o.multidate)
                for (; this.dates.length > this.o.multidate; )
                    this.dates.remove(0)
        },
        _setDate: function(a, b) {
            b && "date" !== b || this._toggle_multidate(a && new Date(a)),
            b && "view" !== b || (this.viewDate = a && new Date(a)),
            this.fill(),
            this.setValue(),
            b && "view" === b || this._trigger("changeDate"),
            this.inputField && this.inputField.change(),
            !this.o.autoclose || b && "date" !== b || this.hide()
        },
        moveDay: function(a, b) {
            var c = new Date(a);
            return c.setUTCDate(a.getUTCDate() + b),
            c
        },
        moveWeek: function(a, b) {
            return this.moveDay(a, 7 * b)
        },
        moveMonth: function(a, b) {
            if (!g(a))
                return this.o.defaultViewDate;
            if (!b)
                return a;
            var c, d, e = new Date(a.valueOf()), f = e.getUTCDate(), h = e.getUTCMonth(), i = Math.abs(b);
            if (b = b > 0 ? 1 : -1,
            1 === i)
                d = -1 === b ? function() {
                    return e.getUTCMonth() === h
                }
                : function() {
                    return e.getUTCMonth() !== c
                }
                ,
                c = h + b,
                e.setUTCMonth(c),
                (0 > c || c > 11) && (c = (c + 12) % 12);
            else {
                for (var j = 0; i > j; j++)
                    e = this.moveMonth(e, b);
                c = e.getUTCMonth(),
                e.setUTCDate(f),
                d = function() {
                    return c !== e.getUTCMonth()
                }
            }
            for (; d(); )
                e.setUTCDate(--f),
                e.setUTCMonth(c);
            return e
        },
        moveYear: function(a, b) {
            return this.moveMonth(a, 12 * b)
        },
        moveAvailableDate: function(a, b, c) {
            do {
                if (a = this[c](a, b),
                !this.dateWithinRange(a))
                    return !1;
                c = "moveDay"
            } while (this.dateIsDisabled(a));return a
        },
        weekOfDateIsDisabled: function(b) {
            return -1 !== a.inArray(b.getUTCDay(), this.o.daysOfWeekDisabled)
        },
        dateIsDisabled: function(b) {
            return this.weekOfDateIsDisabled(b) || a.grep(this.o.datesDisabled, function(a) {
                return e(b, a)
            }).length > 0
        },
        dateWithinRange: function(a) {
            return a >= this.o.startDate && a <= this.o.endDate
        },
        keydown: function(a) {
            if (!this.picker.is(":visible"))
                return void ((40 === a.keyCode || 27 === a.keyCode) && (this.show(),
                a.stopPropagation()));
            var b, c, d = !1, e = this.focusDate || this.viewDate;
            switch (a.keyCode) {
            case 27:
                this.focusDate ? (this.focusDate = null,
                this.viewDate = this.dates.get(-1) || this.viewDate,
                this.fill()) : this.hide(),
                a.preventDefault(),
                a.stopPropagation();
                break;
            case 37:
            case 38:
            case 39:
            case 40:
                if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length)
                    break;
                b = 37 === a.keyCode || 38 === a.keyCode ? -1 : 1,
                0 === this.viewMode ? a.ctrlKey ? (c = this.moveAvailableDate(e, b, "moveYear"),
                c && this._trigger("changeYear", this.viewDate)) : a.shiftKey ? (c = this.moveAvailableDate(e, b, "moveMonth"),
                c && this._trigger("changeMonth", this.viewDate)) : 37 === a.keyCode || 39 === a.keyCode ? c = this.moveAvailableDate(e, b, "moveDay") : this.weekOfDateIsDisabled(e) || (c = this.moveAvailableDate(e, b, "moveWeek")) : 1 === this.viewMode ? ((38 === a.keyCode || 40 === a.keyCode) && (b = 4 * b),
                c = this.moveAvailableDate(e, b, "moveMonth")) : 2 === this.viewMode && ((38 === a.keyCode || 40 === a.keyCode) && (b = 4 * b),
                c = this.moveAvailableDate(e, b, "moveYear")),
                c && (this.focusDate = this.viewDate = c,
                this.setValue(),
                this.fill(),
                a.preventDefault());
                break;
            case 13:
                if (!this.o.forceParse)
                    break;
                e = this.focusDate || this.dates.get(-1) || this.viewDate,
                this.o.keyboardNavigation && (this._toggle_multidate(e),
                d = !0),
                this.focusDate = null,
                this.viewDate = this.dates.get(-1) || this.viewDate,
                this.setValue(),
                this.fill(),
                this.picker.is(":visible") && (a.preventDefault(),
                a.stopPropagation(),
                this.o.autoclose && this.hide());
                break;
            case 9:
                this.focusDate = null,
                this.viewDate = this.dates.get(-1) || this.viewDate,
                this.fill(),
                this.hide()
            }
            d && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"),
            this.inputField && this.inputField.change())
        },
        showMode: function(a) {
            a && (this.viewMode = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, this.viewMode + a))),
            this.picker.children("div").hide().filter(".datepicker-" + r.modes[this.viewMode].clsName).show(),
            this.updateNavArrows()
        }
    };
    var l = function(b, c) {
        a(b).data("datepicker", this),
        this.element = a(b),
        this.inputs = a.map(c.inputs, function(a) {
            return a.jquery ? a[0] : a
        }),
        delete c.inputs,
        n.call(a(this.inputs), c).on("changeDate", a.proxy(this.dateUpdated, this)),
        this.pickers = a.map(this.inputs, function(b) {
            return a(b).data("datepicker")
        }),
        this.updateDates()
    };
    l.prototype = {
        updateDates: function() {
            this.dates = a.map(this.pickers, function(a) {
                return a.getUTCDate()
            }),
            this.updateRanges()
        },
        updateRanges: function() {
            var b = a.map(this.dates, function(a) {
                return a.valueOf()
            });
            a.each(this.pickers, function(a, c) {
                c.setRange(b)
            })
        },
        dateUpdated: function(b) {
            if (!this.updating) {
                this.updating = !0;
                var c = a(b.target).data("datepicker");
                if ("undefined" != typeof c) {
                    var d = c.getUTCDate()
                      , e = a.inArray(b.target, this.inputs)
                      , f = e - 1
                      , g = e + 1
                      , h = this.inputs.length;
                    if (-1 !== e) {
                        if (a.each(this.pickers, function(a, b) {
                            b.getUTCDate() || b.setUTCDate(d)
                        }),
                        d < this.dates[f])
                            for (; f >= 0 && d < this.dates[f]; )
                                this.pickers[f--].setUTCDate(d);
                        else if (d > this.dates[g])
                            for (; h > g && d > this.dates[g]; )
                                this.pickers[g++].setUTCDate(d);
                        this.updateDates(),
                        delete this.updating
                    }
                }
            }
        },
        remove: function() {
            a.map(this.pickers, function(a) {
                a.remove()
            }),
            delete this.element.data().datepicker
        }
    };
    var m = a.fn.datepicker
      , n = function(c) {
        var d = Array.apply(null, arguments);
        d.shift();
        var e;
        if (this.each(function() {
            var b = a(this)
              , f = b.data("datepicker")
              , g = "object" == typeof c && c;
            if (!f) {
                var j = h(this, "date")
                  , m = a.extend({}, o, j, g)
                  , n = i(m.language)
                  , p = a.extend({}, o, n, j, g);
                b.hasClass("input-daterange") || p.inputs ? (a.extend(p, {
                    inputs: p.inputs || b.find("input").toArray()
                }),
                f = new l(this,p)) : f = new k(this,p),
                b.data("datepicker", f)
            }
            "string" == typeof c && "function" == typeof f[c] && (e = f[c].apply(f, d))
        }),
        e === b || e instanceof k || e instanceof l)
            return this;
        if (this.length > 1)
            throw new Error("Using only allowed for the collection of a single element (" + c + " function)");
        return e
    };
    a.fn.datepicker = n;
    var o = a.fn.datepicker.defaults = {
        assumeNearbyYear: !1,
        autoclose: !1,
        beforeShowDay: a.noop,
        beforeShowMonth: a.noop,
        beforeShowYear: a.noop,
        beforeShowDecade: a.noop,
        beforeShowCentury: a.noop,
        calendarWeeks: !1,
        clearBtn: !1,
        toggleActive: !1,
        daysOfWeekDisabled: [],
        daysOfWeekHighlighted: [],
        datesDisabled: [],
        endDate: 1 / 0,
        forceParse: !0,
        format: "mm/dd/yyyy",
        keyboardNavigation: !0,
        language: "en",
        minViewMode: 0,
        maxViewMode: 4,
        multidate: !1,
        multidateSeparator: ",",
        orientation: "auto",
        rtl: !1,
        startDate: -(1 / 0),
        startView: 0,
        todayBtn: !1,
        todayHighlight: !1,
        weekStart: 0,
        disableTouchKeyboard: !1,
        enableOnReadonly: !0,
        showOnFocus: !0,
        zIndexOffset: 10,
        container: "body",
        immediateUpdates: !1,
        title: "",
        templates: {
            leftArrow: "&laquo;",
            rightArrow: "&raquo;"
        }
    }
      , p = a.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"];
    a.fn.datepicker.Constructor = k;
    var q = a.fn.datepicker.dates = {
        en: {
            days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            today: "Today",
            clear: "Clear",
            titleFormat: "MM yyyy"
        }
    }
      , r = {
        modes: [{
            clsName: "days",
            navFnc: "Month",
            navStep: 1
        }, {
            clsName: "months",
            navFnc: "FullYear",
            navStep: 1
        }, {
            clsName: "years",
            navFnc: "FullYear",
            navStep: 10
        }, {
            clsName: "decades",
            navFnc: "FullDecade",
            navStep: 100
        }, {
            clsName: "centuries",
            navFnc: "FullCentury",
            navStep: 1e3
        }],
        isLeapYear: function(a) {
            return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0
        },
        getDaysInMonth: function(a, b) {
            return [31, r.isLeapYear(a) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][b]
        },
        validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,
        nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,
        parseFormat: function(a) {
            if ("function" == typeof a.toValue && "function" == typeof a.toDisplay)
                return a;
            var b = a.replace(this.validParts, "\x00").split("\x00")
              , c = a.match(this.validParts);
            if (!b || !b.length || !c || 0 === c.length)
                throw new Error("Invalid date format.");
            return {
                separators: b,
                parts: c
            }
        },
        parseDate: function(e, f, g, h) {
            function i(a, b) {
                return b === !0 && (b = 10),
                100 > a && (a += 2e3,
                a > (new Date).getFullYear() + b && (a -= 100)),
                a
            }
            function j() {
                var a = this.slice(0, s[n].length)
                  , b = s[n].slice(0, a.length);
                return a.toLowerCase() === b.toLowerCase()
            }
            if (!e)
                return b;
            if (e instanceof Date)
                return e;
            if ("string" == typeof f && (f = r.parseFormat(f)),
            f.toValue)
                return f.toValue(e, f, g);
            var l, m, n, o, p = /([\-+]\d+)([dmwy])/, s = e.match(/([\-+]\d+)([dmwy])/g), t = {
                d: "moveDay",
                m: "moveMonth",
                w: "moveWeek",
                y: "moveYear"
            }, u = {
                yesterday: "-1d",
                today: "+0d",
                tomorrow: "+1d"
            };
            if (/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)) {
                for (e = new Date,
                n = 0; n < s.length; n++)
                    l = p.exec(s[n]),
                    m = parseInt(l[1]),
                    o = t[l[2]],
                    e = k.prototype[o](e, m);
                return c(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate())
            }
            if ("undefined" != typeof u[e] && (e = u[e],
            s = e.match(/([\-+]\d+)([dmwy])/g),
            /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))) {
                for (e = new Date,
                n = 0; n < s.length; n++)
                    l = p.exec(s[n]),
                    m = parseInt(l[1]),
                    o = t[l[2]],
                    e = k.prototype[o](e, m);
                return c(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate())
            }
            s = e && e.match(this.nonpunctuation) || [],
            e = new Date;
            var v, w, x = {}, y = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"], z = {
                yyyy: function(a, b) {
                    return a.setUTCFullYear(h ? i(b, h) : b)
                },
                yy: function(a, b) {
                    return a.setUTCFullYear(h ? i(b, h) : b)
                },
                m: function(a, b) {
                    if (isNaN(a))
                        return a;
                    for (b -= 1; 0 > b; )
                        b += 12;
                    for (b %= 12,
                    a.setUTCMonth(b); a.getUTCMonth() !== b; )
                        a.setUTCDate(a.getUTCDate() - 1);
                    return a
                },
                d: function(a, b) {
                    return a.setUTCDate(b)
                }
            };
            z.M = z.MM = z.mm = z.m,
            z.dd = z.d,
            e = d();
            var A = f.parts.slice();
            if (s.length !== A.length && (A = a(A).filter(function(b, c) {
                return -1 !== a.inArray(c, y)
            }).toArray()),
            s.length === A.length) {
                var B;
                for (n = 0,
                B = A.length; B > n; n++) {
                    if (v = parseInt(s[n], 10),
                    l = A[n],
                    isNaN(v))
                        switch (l) {
                        case "MM":
                            w = a(q[g].months).filter(j),
                            v = a.inArray(w[0], q[g].months) + 1;
                            break;
                        case "M":
                            w = a(q[g].monthsShort).filter(j),
                            v = a.inArray(w[0], q[g].monthsShort) + 1
                        }
                    x[l] = v
                }
                var C, D;
                for (n = 0; n < y.length; n++)
                    D = y[n],
                    D in x && !isNaN(x[D]) && (C = new Date(e),
                    z[D](C, x[D]),
                    isNaN(C) || (e = C))
            }
            return e
        },
        formatDate: function(b, c, d) {
            if (!b)
                return "";
            if ("string" == typeof c && (c = r.parseFormat(c)),
            c.toDisplay)
                return c.toDisplay(b, c, d);
            var e = {
                d: b.getUTCDate(),
                D: q[d].daysShort[b.getUTCDay()],
                DD: q[d].days[b.getUTCDay()],
                m: b.getUTCMonth() + 1,
                M: q[d].monthsShort[b.getUTCMonth()],
                MM: q[d].months[b.getUTCMonth()],
                yy: b.getUTCFullYear().toString().substring(2),
                yyyy: b.getUTCFullYear()
            };
            e.dd = (e.d < 10 ? "0" : "") + e.d,
            e.mm = (e.m < 10 ? "0" : "") + e.m,
            b = [];
            for (var f = a.extend([], c.separators), g = 0, h = c.parts.length; h >= g; g++)
                f.length && b.push(f.shift()),
                b.push(e[c.parts[g]]);
            return b.join("")
        },
        headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',
        contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>',
        footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'
    };
    r.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + r.headTemplate + "<tbody></tbody>" + r.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + "</table></div></div>",
    a.fn.datepicker.DPGlobal = r,
    a.fn.datepicker.noConflict = function() {
        return a.fn.datepicker = m,
        this
    }
    ,
    a.fn.datepicker.version = "1.6.4",
    a(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function(b) {
        var c = a(this);
        c.data("datepicker") || (b.preventDefault(),
        n.call(c, "show"))
    }),
    a(function() {
        n.call(a('[data-provide="datepicker-inline"]'))
    })
});

ACC.addtocartaction = {}
$(document).ready(function() {
    with (ACC.addtocartaction) {}
});

ACC.backinstockaction = {
    _autoload: ["enableOutOfStockForm", "bindToOutOfStockForm"],
    enableOutOfStockForm: function() {
        if ($('#js-out-of-stock-email').length) {
            $('#js-back-in-stock-form').show();
        }
    },
    bindToOutOfStockForm: function() {
        var $backInStockForm = $('#js-back-in-stock-form');
        $backInStockForm.blockAjaxForm({
            blockSelector: ':find(.js-button)',
            success: ACC.backinstockaction.showAjaxMessage
        });
    },
    showAjaxMessage: function(response) {
        var data = JSON.parse(response);
        var globalMessageSel = '#globalMessagesHolder';
        $(globalMessageSel).empty().append(data.messages);
        ACC.common.scrollToElement(globalMessageSel, 200, 500);
        ACC.tracking.trackGeneralFormErrors();
    }
};

ACC.listaddtocartaction = {}
$(document).ready(function() {
    with (ACC.listaddtocartaction) {}
});

ACC.listorderformaction = {}
$(document).ready(function() {
    with (ACC.listorderformaction) {}
});

ACC.listpickupinstoreaction = {}
$(document).ready(function() {
    with (ACC.listpickupinstoreaction) {}
});

ACC.pickupinstoreaction = {}
$(document).ready(function() {
    with (ACC.pickupinstoreaction) {}
});

ACC.shareonsocialnetworkaction = {}
$(document).ready(function() {
    with (ACC.shareonsocialnetworkaction) {}
});

ACC.viewstoreaction = {}
$(document).ready(function() {
    with (ACC.viewstoreaction) {}
});

ACC.captcha = {
    bindAll: function() {
        this.renderWidget();
    },
    renderWidget: function() {
        $.ajax({
            url: ACC.config.encodedContextPath + "/register/captcha/widget/recaptcha",
            type: 'GET',
            cache: false,
            success: function(html) {
                if ($(html) != []) {
                    $(html).appendTo('.js-recaptcha-captchaaddon');
                    $.getScript('https://www.google.com/recaptcha/api.js?hl=' + document.documentElement.lang, function() {
                        if ($('#recaptchaChallangeAnswered').val() == 'false') {
                            $('#g-recaptcha_incorrect').show();
                        }
                    });
                }
            }
        });
    }
};
$(document).ready(function() {
    if ($('#registerForm').html() != null || $('#updateEmailForm').html() != null) {
        ACC.captcha.bindAll();
    }
});

ACC.storefindersw = {
    _autoload: [["init", $("#storeFinder").length != 0], ["bindSearch", $("#storeFinder").length != 0]],
    storeData: "",
    storeId: "",
    storeSearchData: {},
    autocomplete: undefined,
    currentBaseStore: ACC.env.currentBaseStore,
    allBaseStores: undefined,
    storefinderAddonLocation: undefined,
    defaultDistanceUnit: "",
    localizedDistanceUnit: "",
    searchCounter: 0,
    selectedRadius: 0,
    sentCoords: {
        lat: null,
        lng: null
    },
    coords: {
        latitude: null,
        longitude: null
    },
    placesCoords: {
        latitude: null,
        longitude: null
    },
    minZoomLevel: parseInt(ACC.addons.slstorefrontaddon["map.minZoomLevel"]),
    defaultZoomLevel: parseInt(ACC.addons.slstorefrontaddon["map.defaultZoomLevel"]),
    selectedZoomLevel: undefined,
    startLatitude: 0,
    startLongitude: 0,
    markers: [],
    currentInfoBox: undefined,
    isChinaStorefinder: false,
    loaderTimeout: null,
    searchInProgress: false,
    createListItemHtml: function(data, id) {
        var today = new Date();
        var item = "";
        var sourceAddress = "";
        var storeIsOpen = false;
        if (ACC.storefindersw.isChinaStorefinder) {
            if ($("#storelocator-query").val()) {
                sourceAddress = "latlng:" + ACC.storefindersw.placesCoords.latitude + ',' + ACC.storefindersw.placesCoords.longitude
            } else {
                sourceAddress = "latlng:" + ACC.storefindersw.coords.latitude + ',' + ACC.storefindersw.coords.longitude;
            }
        } else {
            sourceAddress = $("#storelocator-query").val() ? $("#storelocator-query").val() : "Current Location";
        }
        for (var i = 0; i < data.openingHours.weekDayOpeningList.length; i++) {
            if (data.openingHours.weekDayOpeningList[i].closed === false) {
                storeIsOpen = true;
                break;
            }
        }
        item += '<div class="js-store-list-details">';
        item += '<div class="information">';
        item += '<div class="information__cell">';
        item += '<div class="headline headline--hl15 information__headline">';
        item += data.displayName;
        item += '</div>';
        item += '<div class="text text--copy17">';
        item += data.distributionType;
        item += '</div>';
        item += '<div class="text text--copy17">';
        item += data.formattedDistance;
        item += '</div>';
        item += '</div>';
        item += '<div class="row">';
        item += '<div class="col-xs-12 information__cell">';
        item += '<div class="headline headline--hl16">';
        item += ACC.storefindersw.translationText["storefinder.storelist.address"];
        item += '</div>';
        item += '<div class="text text--copy17">';
        item += data.address.formattedAddress;
        item += '</div>';
        item += '</div>';
        if (storeIsOpen) {
            item += '<div class="col-xs-12 information__cell">';
            item += '<div class="link-wrapper">';
            item += '<a class="link link--link3 text-uppercase" data-text-content="opening hours" data-toggle="collapse" href="#store-finder-schedule__entry-' + id + '">';
            item += '<span class="link__text">' + ACC.storefindersw.translationText["storefinder.storelist.opening_hours"] + '</span>';
            item += '<span class="link__icon link__icon--right"></span>';
            item += '</a>';
            item += '</div>';
            item += '<div class="collapse" id="store-finder-schedule__entry-' + id + '">';
            for (var i = 0; i < data.openingHours.weekDayOpeningList.length; i++) {
                var dailySchedule = "";
                var highlightDay = "";
                if (data.openingHours.weekDayOpeningList[i].closed === false) {
                    var language = ACC.config.encodedContextPath.substr(1);
                    var locale = ACC.common.getJSLocaleFromLanguage(language);
                    if (data.openingHours.weekDayOpeningList[i].weekDay == today.toLocaleString(locale, {
                        weekday: 'short'
                    })) {
                        highlightDay = "highlighted";
                    }
                    item += '<div class="openingRow text text--copy17 ' + highlightDay + ' ' + (ACC.storefindersw.storefinderAddonLocation == 'CLICK_AND_RESERVE' ? "openingRow---click-and-reserve" : "") + '">';
                    item += '<span class="openingCell">';
                    item += data.openingHours.weekDayOpeningList[i].weekDay + ": ";
                    item += '</span>';
                    for (var j = 0; j < data.openingHours.weekDayOpeningList[i].openingHoursList.length; j++) {
                        item += j ? '<span class="openingCell">&nbsp & &nbsp</span>' : '';
                        item += '<span class="openingCell">';
                        item += (data.openingHours.weekDayOpeningList[i].openingHoursList[j].openingTime.formattedHour);
                        item += '-';
                        item += (data.openingHours.weekDayOpeningList[i].openingHoursList[j].closingTime.formattedHour);
                        item += '</span>';
                    }
                    item += '</div>';
                }
            }
            item += '</div>';
            item += '</div>';
        }
        item += '<div class="col-xs-12 information__cell">';
        item += '<div class="headline headline--hl16">';
        item += ACC.storefindersw.translationText["storefinder.storelist.phone"];
        item += '</div>';
        item += '<div class="text text--copy17">';
        item += '<a class="js-storelocator-store-phone" data-store-id="' + data.name + '" href="tel:' + data.address.phone + '">' + data.address.phone + '</a>';
        item += '</div>';
        item += '</div>';
        if (ACC.storefindersw.isChinaStorefinder) {
            var destination = "latlng:" + data.geoPoint.latitude + ',' + data.geoPoint.longitude;
            item += ACC.storefinderbaidu.createDirectionLink(sourceAddress, destination, data.name);
        } else {
            var destination = data.address.formattedAddress.split('<br>');
            destination.shift();
            destination.join();
            item += ACC.storefindergoogle.createDirectionLink(sourceAddress, destination, data.name);
        }
        item += '<div class="col-xs-12 information__cell">';
        item += '<div class="link-wrapper">';
        if (ACC.storefindersw.storefinderAddonLocation === 'STORE_FINDER_PAGE') {
            item += '<a class="js-storelocator-store-details link link--link3 text-uppercase" data-store-id="' + data.name + '" data-text-content="Store details" href="' + ACC.config.encodedContextPath + '/store/' + data.name + '">';
        } else {
            item += '<a target="_blank" class="js-storelocator-store-details link link--link3 text-uppercase" data-store-id="' + data.name + '" data-text-content="Store details" href="' + ACC.config.encodedContextPath + '/store/' + data.name + '">';
        }
        item += '<span class="link__text">' + ACC.storefindersw.translationText["storefinder.storelist.storedetails"] + '</span>';
        item += '<span class="link__icon link__icon--right"></span>';
        item += '</a>';
        item += '</div>';
        item += '</div>';
        item += '</div>';
        if (ACC.storefindersw.storefinderAddonLocation == 'CLICK_AND_COLLECT') {
            item += ACC.clickandcollect.addStoreSelectButton(id);
        }
        if (ACC.storefindersw.storefinderAddonLocation == 'CLICK_AND_RESERVE') {
            if (data.productAvailable) {
                item += ACC.clickandreserve.addStoreSelectButton(id);
            } else {
                item += ACC.clickandreserve.addShopOnlineButton(id);
            }
        }
        if (ACC.storefindersw.storefinderAddonLocation == 'BE_SWAROVSKI_HOME' || ACC.storefindersw.storefinderAddonLocation == 'SCS_HOME') {
            item += ACC.homestoresw.addStoreSelectButton(id);
        }
        item += '</div>';
        item += '</div>';
        item += '<hr class="line-line-tide store-locator__information--line">';
        return item;
    },
    showSearchResults: function() {
        var listitems = "";
        var resizeEvt;
        ACC.storefindersw.showMapIfHidden();
        ACC.storefindersw.clearMarkersAndList();
        data = ACC.storefindersw.storeData;
        ACC.storefindersw.storesfoundmessage = ACC.storefindersw.storesfoundmessage.replace("(number_placeholder)", data.results.length);
        if (data.results.length == 0) {
            $(".js-no-stores-found-text").text(ACC.storefindersw.storesfoundmessage);
            $(".js-stores-found-text").addClass("hidden");
        } else {
            $(".js-stores-found-text").text(ACC.storefindersw.storesfoundmessage);
            $(".js-stores-found-text").removeClass("hidden");
        }
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.createCircle(data.sourceLatitude, data.sourceLongitude);
        } else {
            ACC.storefindergoogle.createCircle(data.sourceLatitude, data.sourceLongitude);
        }
        ACC.storefindersw.sentCoords = {
            lat: data.sourceLatitude,
            lng: data.sourceLongitude
        };
        if (data.results.length) {
            if (ACC.storefindersw.storefinderAddonLocation === 'CLICK_AND_COLLECT') {
                ACC.tracking.pushClickAndCollectStoreSearch($('.js-storelocator-query').val().trim());
            }
            if (ACC.storefindersw.storefinderAddonLocation === 'CLICK_AND_RESERVE') {
                ACC.tracking.pushClickAndReserveStoreSearch($('.js-storelocator-query').val().trim());
                $('.js-clickreserve-priceinfo').removeClass('hidden');
            }
            for (i = 0; i < data.results.length; i++) {
                data.results[i].location = {
                    "lat": data.results[i].geoPoint.latitude,
                    "lng": data.results[i].geoPoint.longitude
                };
                listitems += ACC.storefindersw.createListItemHtml(data.results[i], i)
            }
            $(".store-locator__information").html(listitems);
            if (ACC.storefindersw.isChinaStorefinder) {
                ACC.storefinderbaidu.createMarkers(data);
            } else {
                ACC.storefindergoogle.createMarkers(data);
            }
        }
        if ($(".map").css("left") == "0px" || $(".map").css("left") == "auto" || $(".map").width() === 0) {
            ACC.storefindersw.resizeMapAndList();
        }
        ACC.storefindersw.unblockSearch();
        $(window).on("resize", function() {
            clearTimeout(resizeEvt);
            resizeEvt = setTimeout(function() {
                ACC.storefindersw.resizeMapAndList();
            }, 250);
        })
    },
    resizeMapAndList: function() {
        var left = 0;
        var width = "100%";
        if ($(".js-storefinder-list-arrow").hasClass("store-locator__listview-arrow--active") && ($(".map").css("left") == "0px" || $(".map").css("left") == "auto") || $(".map").width() === 0) {
            var listviewWidth = $(".js-storefinder-list").width();
            var mapWidth = $(".map").width();
            left = listviewWidth + "px";
            width = mapWidth ? mapWidth - listviewWidth + "px" : $(".store-locator__viewer").width() - listviewWidth + "px";
        }
        $(".map").css("width", width).css("left", left);
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.resizeAndCenterMap(ACC.storefindersw.sentCoords);
        } else {
            ACC.storefindergoogle.resizeAndCenterMap(ACC.storefindersw.sentCoords);
        }
    },
    initMap: function() {
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.initBaiduMap();
        } else {
            ACC.storefindergoogle.initGoogleMap();
        }
    },
    searchStores: function() {
        if (ACC.storefindersw.searchInProgress) {
            return false;
        }
        if (ACC.storefindersw.storefinderAddonLocation === 'STORE_FINDER_PAGE') {
            ACC.storefindertracking.pushDataLayerInteraction('storeSearchSend', $('#storelocator-query').val().trim());
        }
        ACC.storefindersw.storesfoundmessage = ACC.storefindersw.translationText["storefinder.storescount.nearlocation"];
        ACC.storefindersw.storesfoundmessage = ACC.storefindersw.storesfoundmessage.replace("(location_placeholder)", $("#storelocator-query").val());
        window.sessionStorage.setItem("storesfoundmessage", ACC.storefindersw.storesfoundmessage);
        var coordinates = {};
        var zoomLevel = ACC.storefindersw.selectedZoomLevel ? ACC.storefindersw.selectedZoomLevel : ACC.storefindersw.defaultZoomLevel;
        if (ACC.storefindersw.placesCoords.latitude !== null) {
            ACC.storefindersw.getStoreData(ACC.storefindersw.placesCoords.latitude, ACC.storefindersw.placesCoords.longitude);
            coordinates = {
                "lat": ACC.storefindersw.placesCoords.latitude,
                "lng": ACC.storefindersw.placesCoords.longitude
            };
        } else {
            ACC.storefindersw.getStoreData(ACC.storefindersw.coords.latitude, ACC.storefindersw.coords.longitude);
            coordinates = {
                "lat": ACC.storefindersw.coords.latitude,
                "lng": ACC.storefindersw.coords.longitude
            }
        }
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.resizeAndCenterMap(coordinates);
            ACC.storefinderbaidu.setZoom(zoomLevel);
        } else {
            ACC.storefindergoogle.resizeAndCenterMap(coordinates);
            ACC.storefindergoogle.setZoom(zoomLevel);
        }
    },
    blockSearch: function() {
        var spinner = ACC.blockUI.spinner_small;
        var spinnerAlign = 'center';
        var background = 'rgba(255,255,255,0.5)';
        var position = 'absolute';
        var height = 'auto';
        var defaultOptions = {
            message: spinner,
            css: {
                background: background,
                height: height,
                border: 'none',
                width: '100%',
                'text-align': spinnerAlign,
                position: position,
                opacity: 1
            },
            overlayCSS: {
                background: background,
                opacity: 1
            },
            baseZ: 10000,
            fadeIn: 0
        };
        ACC.storefindersw.loaderTimeout = setTimeout(function() {
            $(".js-use-my-location").block(defaultOptions);
            $(".js-use-my-location").addClass("button-location-img");
        }, 1000);
        ACC.storefindersw.searchInProgress = true
    },
    unblockSearch: function() {
        if (ACC.storefindersw.loaderTimeout) {
            clearTimeout(ACC.storefindersw.loaderTimeout);
            ACC.storefindersw.loaderTimeout = null;
        }
        $(".js-use-my-location").unblock();
        ACC.storefindersw.searchInProgress = false;
        $(".js-use-my-location").removeClass("button-location-img");
    },
    getLocationStores: function() {
        ACC.storefindersw.getStoreData(ACC.storefindersw.coords.latitude, ACC.storefindersw.coords.longitude);
        var coordinates = {
            "lat": ACC.storefindersw.coords.latitude,
            "lng": ACC.storefindersw.coords.longitude
        };
        var zoomLevel = ACC.storefindersw.selectedZoomLevel ? ACC.storefindersw.selectedZoomLevel : ACC.storefindersw.defaultZoomLevel;
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.resizeAndCenterMap(coordinates);
            ACC.storefinderbaidu.setZoom(zoomLevel);
        } else {
            ACC.storefindergoogle.resizeAndCenterMap(coordinates);
            ACC.storefindergoogle.setZoom(zoomLevel);
        }
    },
    bindSearch: function() {
        $(document).on("click", '.js-use-my-location', function(e) {
            e.preventDefault();
            if (ACC.storefindersw.searchInProgress) {
                return false;
            }
            ACC.storefindersw.clearSearchAndResults();
            ACC.storefindersw.storesfoundmessage = ACC.storefindersw.translationText["storefinder.storescount.nearyou"];
            window.sessionStorage.setItem("storesfoundmessage", ACC.storefindersw.storesfoundmessage);
            if (ACC.storefindersw.coords.latitude == undefined && ACC.storefindersw.coords.longitude == undefined) {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(function(position) {
                        ACC.storefindersw.coords = position.coords;
                        ACC.storefindersw.getLocationStores();
                    }, function(error) {
                        switch (error.code) {
                        case error.PERMISSION_DENIED:
                            alert(ACC.storefindersw.translationText["storefinder.geolocation.permission"])
                            break;
                        case error.POSITION_UNAVAILABLE:
                            alert(ACC.storefindersw.translationText["storefinder.geolocation.position"])
                            break;
                        case error.TIMEOUT:
                            alert(ACC.storefindersw.translationText["storefinder.geolocation.timeout"])
                            break;
                        case error.UNKNOWN_ERROR:
                            alert(ACC.storefindersw.translationText["storefinder.geolocation.unknown"])
                            break;
                        }
                    });
                }
            } else {
                $("#storelocator-query").val("");
                ACC.storefindersw.getLocationStores();
            }
        });
        $(document).on("click", ".store-locator__filter-apply", function(e) {
            if (ACC.storefindersw.searchInProgress) {
                return false;
            }
            $('.button--filter.fold-out-trigger').trigger("click");
            if (!$(".js-store-locator-country").hasClass("hidden")) {
                return;
            }
            if (ACC.storefindersw.placesCoords.latitude !== null) {
                ACC.storefindersw.storesfoundmessage = ACC.storefindersw.translationText["storefinder.storescount.nearlocation"];
                ACC.storefindersw.storesfoundmessage = ACC.storefindersw.storesfoundmessage.replace("(location_placeholder)", $("#storelocator-query").val());
                ACC.storefindersw.getStoreData(ACC.storefindersw.placesCoords.latitude, ACC.storefindersw.placesCoords.longitude);
            } else if (ACC.storefindersw.coords.latitude !== null) {
                ACC.storefindersw.storesfoundmessage = ACC.storefindersw.translationText["storefinder.storescount.nearyou"];
                ACC.storefindersw.getStoreData(ACC.storefindersw.coords.latitude, ACC.storefindersw.coords.longitude);
            }
            window.sessionStorage.setItem("storesfoundmessage", ACC.storefindersw.storesfoundmessage);
            ACC.storefindersw.clearMarkersAndList();
            $(this).parents('.dropdown').find('button.dropdown-toggle').dropdown('toggle');
        })
    },
    getStoreData: function(latitude, longitude, prefilledSearch) {
        if (ACC.storefindersw.searchInProgress) {
            return false;
        }
        ACC.storefindersw.blockSearch();
        var url = $(".store-locator__information").data("url");
        if (!prefilledSearch) {
            ACC.storefindersw.startLatitude = latitude;
            ACC.storefindersw.startLongitude = longitude;
            var featureCodes = '';
            var selectedFilters = $(".js-store-finder-search input[name='featureCodes[]']:checked");
            for (var i = 0; i < selectedFilters.length; i++) {
                featureCodes += "&featureCodes=" + $(selectedFilters[i]).val();
            }
            var getParams = "&latitude=" + latitude + "&longitude=" + longitude;
            if (ACC.storefindersw.selectedRadius) {
                var radius = ACC.storefindersw.selectedRadius;
                if (ACC.storefindersw.defaultDistanceUnit == "miles") {
                    radius /= 1.6;
                }
                getParams += "&radius=" + radius;
            }
            if (ACC.storefindersw.storefinderAddonLocation == 'CLICK_AND_RESERVE') {
                getParams += "&productCode=" + $(".js-click-and-reserve-data").data("productCode");
            }
            if (featureCodes) {
                getParams += featureCodes;
            }
            sessionStorage.setItem("lastStoreFinderSearch", getParams);
        } else {
            getParams = prefilledSearch;
        }
        $.ajax({
            url: url + getParams,
            type: "get",
            success: function(response) {
                ACC.storefindersw.storeData = response;
                if (ACC.storefindersw.searchCounter === 0 && ACC.storefindersw.storefinderAddonLocation === "STORE_FINDER_PAGE") {
                    $($(".js-storefinder-search-source .form-input-text").children().detach()).appendTo(".js-storefinder-search-destination .form-input-text");
                    $($($(".js-storefinder-search-source").children()[1]).detach()).appendTo(".js-storefinder-search-destination");
                    $(".js-store-finder-search").removeClass("hidden");
                    $(".js-store-locator-start-page").addClass("hidden");
                }
                ACC.storefindersw.showSearchResults();
                ACC.storefindersw.searchCounter++;
            }
        });
    },
    clearSearchAndResults: function() {
        $(".js-storefinder-alert").remove();
        ACC.storefindersw.placesCoords.latitude = null;
        ACC.storefindersw.placesCoords.longitude = null;
        ACC.storefindersw.clearMarkersAndList();
    },
    clearMarkersAndList: function() {
        if (ACC.storefindersw.isChinaStorefinder) {
            ACC.storefinderbaidu.clearMarkersAndCircle();
        } else {
            ACC.storefindergoogle.clearMarkersAndCircle();
        }
        ACC.storefindersw.markers.length = 0;
        $(".store-locator__information").html('');
    },
    getFilters: function() {
        var url = $(".js-filters-url").data("filter-url");
        $.ajax({
            url: url,
            type: "get",
            success: function(response) {
                var filters = response.storeLocatorFeatures;
                var distances = response.radiusVariants;
                ACC.storefindersw.localizedDistanceUnit = response.localizedDistanceUnit;
                ACC.storefindersw.defaultDistanceUnit = response.distanceUnit;
                var filterItems = '<div class="row">';
                ACC.storefindersw.filterList = filters;
                for (var i = 0; i < filters.length; i++) {
                    filterItems += ACC.storefindersw.createFilterListItem(filters[i], i)
                }
                filterItems += '</div>';
                filterItems += '<div class="row">';
                filterItems += '<div class="col-xs-12 col-sm-5">';
                filterItems += '<div class="spacer"></div>';
                filterItems += '<div class="form-submit store-locator__filter-apply">';
                filterItems += '<input class="form-submit__submit" type="submit" value="' + ACC.storefindersw.translationText["storefinder.filterbutton.apply"] + '" />';
                filterItems += '</div>';
                filterItems += '</div>';
                filterItems += '</div>';
                $(".js-filter-options-content").html(filterItems);
                var distanceItems = '';
                for (var i = 0; i < distances.length; i++) {
                    distanceItems += ACC.storefindersw.createRadiusListItem(distances[i], ACC.storefindersw.localizedDistanceUnit);
                }
                $(".js-radius-dropdown-container").html(distanceItems);
                ACC.storefindersw.selectedRadius = response.defaultRadius;
                if (ACC.storefindersw.defaultDistanceUnit == "miles") {
                    ACC.storefindersw.selectedRadius *= 1.6;
                }
                $(".js-selected-radius").html(parseInt(response.defaultRadius) + ACC.storefindersw.localizedDistanceUnit);
                $(document).on("click", ".js-radius-dropdown-container>.dropdown-item", function() {
                    var selectedRadius = $(this).find(".dropdown-item__text").data("distance");
                    var selectedZoomLevel = $(this).find(".dropdown-item__text").data("zoom-level");
                    $(".js-selected-radius").html(selectedRadius + ACC.storefindersw.localizedDistanceUnit);
                    ACC.storefindersw.selectedRadius = selectedRadius;
                    ACC.storefindersw.selectedZoomLevel = selectedZoomLevel;
                    if (ACC.storefindersw.defaultDistanceUnit == "miles") {
                        ACC.storefindersw.selectedRadius *= 1.6;
                    }
                    if ($(".js-store-locator-country").hasClass("hidden")) {
                        ACC.storefindersw.searchStores();
                    }
                })
            }
        });
    },
    createFilterListItem: function(filterModel, index) {
        var item = "";
        item += '<div class="dropdown-item">';
        item += '<input class="form-checkbox fold-out-trigger dropdown-item__dropdown-item__checkbox" data-defaultName="' + filterModel.defaultName + '" id="' + filterModel.name.replace(/\ /g, '_') + '" name="featureCodes[]" type="checkbox" value="' + filterModel.code + '"/>';
        item += '<label for="' + filterModel.name.replace(/\ /g, '_') + '" class="dropdown-item__label">';
        item += '<i class="dropdown-item__icon dropdown-item__icon--' + filterModel.code + '"></i>';
        item += '<span class="form-text form-text--fe04">';
        item += filterModel.name;
        item += '</span>';
        item += '</label>';
        item += '</div>';
        return item;
    },
    createRadiusListItem: function(distanceAndZoom, unit) {
        var item = "";
        item += '<div class="dropdown-item">';
        item += '<div class="form-text form-text--fe04 dropdown-item__text" data-distance="' + distanceAndZoom.radius + '" data-zoom-level="' + distanceAndZoom.zoomLevel + '">';
        item += distanceAndZoom.radius + unit;
        item += '</div>';
        item += '</div>';
        return item;
    },
    initStoreListSidebar: function() {
        $(document).on('click', '.store-locator__listview-arrow .link-wrapper', function(e) {
            e.preventDefault();
            e.stopPropagation();
            var storeListviewContainer = $('.store-locator__listview');
            var storeListviewArrow = $('.store-locator__listview-arrow');
            var storeListviewContent = $('.store-locator__information');
            if ($('.store-locator__listview').hasClass('store-locator__listview--active')) {
                $('.link--arrow-left').addClass('link--arrow-right').removeClass('link--arrow-left');
                storeListviewContent.toggleClass('store-locator__information--active');
                setTimeout(function() {
                    storeListviewContainer.toggleClass('store-locator__listview--active');
                    storeListviewArrow.toggleClass('store-locator__listview-arrow--active');
                    ACC.storefindersw.resizeMapAndList();
                }, 250);
            } else {
                $('.link--arrow-right').addClass('link--arrow-left').removeClass('link--arrow-right');
                storeListviewContainer.toggleClass('store-locator__listview--active');
                storeListviewArrow.toggleClass('store-locator__listview-arrow--active');
                setTimeout(function() {
                    storeListviewContent.toggleClass('store-locator__information--active');
                    ACC.storefindersw.resizeMapAndList();
                }, 300);
                $('.store-locator__information').css('display', 'block');
            }
        });
    },
    showMapIfHidden: function() {
        var mapContainer = $(".js-store-locator-map-page");
        var noResultsContainer = $(".js-store-locator-no-results");
        var countryContainer = $(".js-store-locator-country");
        if (!ACC.storefindersw.storeData) {
            return;
        }
        if (ACC.storefindersw.storeData.results.length) {
            mapContainer.removeClass("hidden");
            if (ACC.storefindersw.isChinaStorefinder) {
                ACC.storefinderbaidu.resizeAndCenterMap();
            } else {
                ACC.storefindergoogle.resizeAndCenterMap();
            }
            noResultsContainer.addClass("hidden");
            countryContainer.addClass("hidden");
        } else {
            mapContainer.addClass("hidden");
            noResultsContainer.removeClass("hidden");
            countryContainer.addClass("hidden");
        }
    },
    showCountrySelected: function() {
        if (ACC.storefindersw.searchCounter === 0 && ACC.storefindersw.storefinderAddonLocation === "STORE_FINDER_PAGE") {
            $($(".js-storefinder-search-source .form-input-text").children().detach()).appendTo(".js-storefinder-search-destination .form-input-text");
            $($($(".js-storefinder-search-source").children()[1]).detach()).appendTo(".js-storefinder-search-destination");
            $(".js-store-finder-search").removeClass("hidden");
            $(".js-store-locator-start-page").addClass("hidden");
        }
        ACC.storefindersw.searchCounter++;
        var mapContainer = $(".js-store-locator-map-page");
        var noResultsContainer = $(".js-store-locator-no-results");
        var countryContainer = $(".js-store-locator-country");
        mapContainer.addClass("hidden");
        noResultsContainer.addClass("hidden");
        countryContainer.removeClass("hidden");
    },
    resetStoreFinder: function() {
        ACC.storefindersw.clearSearchAndResults();
        $(".js-stores-found-text").text("");
        $(".js-no-stores-found-text").text("");
        $("#storelocator-query").val("");
    },
    init: function() {
        ACC.storefindersw.storefinderAddonLocation = $(".js-storefinder-location").data("storefinder-location");
        if (ACC.storefindersw.storefinderAddonLocation == "STORE_FINDER_PAGE") {
            ACC.storefindersw.allBaseStores = true;
            ACC.storefindertracking.bindStoreFinderInteraction();
        } else {
            ACC.storefindersw.allBaseStores = false;
        }
        if (ACC.storefindersw.currentBaseStore == "CN") {
            ACC.storefindersw.isChinaStorefinder = true;
        }
        $(document).on('focus', ".js-storelocator-query", function() {
            $(".js-storelocator-query").val("");
        })
        ACC.storefindersw.initMap();
        ACC.storefindersw.getFilters();
        ACC.storefindersw.initStoreListSidebar();
        ACC.storefindersw.translationText = $(".storefinder-translations").html();
        ACC.storefindersw.translationText = JSON.parse(ACC.storefindersw.translationText);
    }
};

ACC.homestoresw = {
    _autoload: [["init", $(".homestore-translations").length != 0]],
    isMyBoutiqueOpen: false,
    selectNewStoreButton: $(".js-homestore-select-store"),
    cancelStoreSelectButton: $(".js-homestore-cancel-select-store"),
    storeListContainer: $(".js-storefinder-list"),
    storeListArrow: $(".js-storefinder-list-arrow"),
    storeSearchContainer: $(".js-store-finder-search"),
    addStoreSelectButton: function(storeIndex) {
        var item = "";
        item += '<div class="information__link">';
        item += '<div class="link-wrapper">';
        item += '<a class="link link--cta link--cta-medium-shopable text-uppercase" onClick="ACC.homestoresw.selectStore(' + storeIndex + ')">';
        item += '<span class="link__text">' + ACC.homestoresw.translationText["homestore.storelist.selectStore"] + '</span>';
        item += '</a>';
        item += '</div>';
        item += '</div>';
        return item;
    },
    selectStore: function(storeIndex) {
        var url = $(".js-home-store-details").data("save-home-store-url");
        var selectedStore = ACC.storefindersw.storeData.results[storeIndex];
        $.ajax({
            url: url,
            type: "post",
            data: {
                storeName: selectedStore.name
            },
            success: function(response) {
                $(".js-home-store-details-component").html(response);
                ACC.storedetailssw.initDirectionLinks();
                $(".js-homestore-cancel-select-store").trigger("click");
            }
        });
        return false;
    },
    init: function() {
        ACC.homestoresw.translationText = $(".homestore-translations").html();
        ACC.homestoresw.translationText = JSON.parse(ACC.homestoresw.translationText);
        $(document).on("click", ".js-homestore-select-store", function() {
            if (!$(".js-storeFinderSection").data("has-selected-store")) {
                $(".js-storeFinderSection").removeClass("hidden");
            }
            ACC.homestoresw.selectNewStoreButton.addClass("hidden");
            ACC.homestoresw.cancelStoreSelectButton.removeClass("hidden");
            ACC.storefindersw.resetStoreFinder();
            ACC.homestoresw.storeSearchContainer.removeClass('hidden');
            $(".js-store-locator-map-page").addClass("hidden");
            if (ACC.homestoresw.selectedStoreMarker) {
                if (ACC.storefindersw.isChinaStorefinder) {
                    ACC.storefindersw.map.clearOverlays();
                } else {
                    ACC.homestoresw.selectedStoreMarker.setMap(null);
                }
            }
            ACC.homestoresw.storeListContainer.removeClass("hidden-custom");
            ACC.homestoresw.storeListArrow.removeClass("hidden-custom");
        });
        $(document).on("click", ".js-homestore-cancel-select-store", function() {
            if (!$(".js-storeFinderSection").data("has-selected-store")) {
                $(".js-storeFinderSection").addClass("hidden");
            }
            ACC.homestoresw.selectNewStoreButton.removeClass("hidden");
            ACC.homestoresw.cancelStoreSelectButton.addClass("hidden");
            ACC.homestoresw.showMapIfSelectedStore();
            ACC.storefindersw.resetStoreFinder();
            ACC.homestoresw.showSingleStoreOnMap();
            ACC.homestoresw.storeListContainer.addClass("hidden-custom");
            ACC.homestoresw.storeListArrow.addClass("hidden-custom");
            $(".js-store-locator-map-page").addClass("hidden");
        });
        $(document).on("click", ".js-my-store-trigger", function() {
            if (ACC.homestoresw.isMyBoutiqueOpen === false) {
                ACC.homestoresw.showSingleStoreOnMap();
            }
            ACC.homestoresw.isMyBoutiqueOpen = !ACC.homestoresw.isMyBoutiqueOpen;
        });
    },
    showSingleStoreOnMap: function() {
        ACC.homestoresw.storeListContainer.addClass("hidden-custom");
        ACC.homestoresw.storeListArrow.addClass("hidden-custom");
        if (ACC.homestoresw.selectedStoreMarker) {
            if (ACC.storefindersw.isChinaStorefinder) {
                ACC.storefindersw.map.clearOverlays();
            } else {
                ACC.homestoresw.selectedStoreMarker.setMap(null);
            }
        }
        ACC.homestoresw.showMapIfSelectedStore();
        var coordinatesContainer = $(".js-pos-coordinates");
        var lat = coordinatesContainer.data('lat');
        var lng = coordinatesContainer.data('lng');
        if ($.isNumeric(lat) && $.isNumeric(lng)) {
            var location = {
                "lat": lat,
                "lng": lng
            };
            if (ACC.storefindersw.isChinaStorefinder) {
                ACC.homestoresw.selectedStoreMarker = ACC.storefinderbaidu.createMarker(location, true);
                ACC.storedetailssw.map.addOverlay(ACC.homestoresw.selectedStoreMarker);
                ACC.storefinderbaidu.resizeAndCenterMap(location);
            } else {
                ACC.homestoresw.selectedStoreMarker = ACC.storefindergoogle.createMarker(location, true);
                ACC.storefindergoogle.resizeAndCenterMap(location);
            }
        }
    },
    showMapIfSelectedStore: function() {
        if ($(".js-storeFinderSection").data("has-selected-store")) {
            ACC.homestoresw.storeSearchContainer.addClass('hidden');
            ACC.storefindersw.showMapIfHidden();
        }
    }
};

ACC.storedetailssw = {
    _autoload: [["initMap", $(".js-store-details-map").length != 0], "initDirectionLinks"],
    markers: [],
    isChinaStorefinder: ACC.env.currentBaseStore == "CN" ? true : false,
    defaultZoomLevel: parseInt(ACC.addons.slstorefrontaddon["detailsmap.defaultZoomLevel"]),
    initMap: function() {
        if (ACC.storedetailssw.isChinaStorefinder) {
            ACC.storefinderbaidu.initBaiduDetailsMap();
        } else {
            ACC.storefindergoogle.initGoogleDetailsMap();
        }
    },
    initDirectionLinks: function() {
        if ($(".js-pos-coordinates").length != 0) {
            if (ACC.storedetailssw.isChinaStorefinder) {
                ACC.storefinderbaidu.createDirectionDetailsLink();
            } else {
                ACC.storefindergoogle.createDirectionDetailsLink();
            }
        }
    },
    setupMap: function() {
        if (ACC.storedetailssw.isChinaStorefinder) {
            ACC.storefinderbaidu.setupMap();
        } else {
            ACC.storefindergoogle.setupMap();
        }
        ACC.storedetailssw.highlightDay();
    },
    highlightDay: function() {
        var today = new Date();
        var language = ACC.config.encodedContextPath.substr(1);
        var locale = ACC.common.getJSLocaleFromLanguage(language);
        today = today.toLocaleString(locale, {
            weekday: 'short'
        });
        $(".weekday").each(function(index, elem) {
            if ($(elem).data("weekday") == today) {
                $(elem).addClass("highlighted")
            }
        })
    }
};

ACC.storefindergoogle = {
    mapStyles: [{
        "elementType": "geometry",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "elementType": "labels.text.stroke",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "featureType": "administrative.land_parcel",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#bdbdbd"
        }]
    }, {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "poi",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "road",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffffff"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [{
            "color": "#dadada"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "transit.station",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c9c9c9"
        }]
    }, {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }],
    mapsLanguageParam: ACC.env.currentLanguage != 'en' && ACC.env.currentLanguage != 'en_GB' ? "&language=" + ACC.env.currentLanguage : "",
    keyAvailable: true,
    initGoogleDetailsMap: function() {
        var googleKey = ACC.addons.slstorefrontaddon.googleApiBusinessKey ? "client=" + ACC.addons.slstorefrontaddon.googleApiBusinessKey : "key=" + ACC.config.googleApiKey;
        if (googleKey == "key=") {
            ACC.storefindergoogle.keyAvailable = false;
            console.error("No Google API Key available");
            return;
        }
        $('head').append('<script class="js-googleMapsApi" type="text/javascript" src="//maps.googleapis.com/maps/api/js?' + googleKey + ACC.storefindergoogle.mapsLanguageParam + '&v=' + ACC.config.googleApiVersion + '&libraries=places&callback=ACC.storedetailssw.setupMap' + '"></script>');
    },
    initGoogleMap: function() {
        var googleKey = ACC.addons.slstorefrontaddon.googleApiBusinessKey ? "client=" + ACC.addons.slstorefrontaddon.googleApiBusinessKey : "key=" + ACC.config.googleApiKey;
        if (googleKey == "key=") {
            ACC.storefindergoogle.keyAvailable = false;
            console.error("No Google API Key available");
            return;
        }
        var callback = ACC.storefindersw.storefinderAddonLocation != 'CLICK_AND_RESERVE' ? "&callback=ACC.storefindergoogle.initGooglePlaces" : "";
        $('head').append('<script class="js-googleMapsApi" type="text/javascript" src="//maps.googleapis.com/maps/api/js?' + googleKey + ACC.storefindergoogle.mapsLanguageParam + '&v=' + ACC.config.googleApiVersion + '&libraries=places' + callback + '"></script>');
    },
    setupMap: function(lat, lng) {
        ACC.storedetailssw.map = new google.maps.Map(document.getElementsByClassName('js-store-details-map')[0],{
            center: {
                lat: $(".storeDetailsMap").data("lat"),
                lng: $(".storeDetailsMap").data("lng")
            },
            zoom: ACC.storedetailssw.defaultZoomLevel,
            styles: ACC.storefindergoogle.mapStyles,
            draggableCursor: "pointer",
            streetViewControl: false,
            scrollwheel: true,
        });
        var image = new google.maps.MarkerImage('/_ui/responsive/common/images/maps-pin_swan.png',new google.maps.Size(31,31));
        var marker = new google.maps.Marker({
            position: {
                lat: $(".storeDetailsMap").data("lat"),
                lng: $(".storeDetailsMap").data("lng")
            },
            map: ACC.storedetailssw.map,
            icon: image,
        });
    },
    createDirectionLink: function(sourceAddress, destinationAddress, storeName) {
        var item = "";
        item += '<div class="col-xs-12 information__cell">';
        item += '<div class="link-wrapper">';
        item += '<a class="js-storelocator-store-directions link link--link3 text-uppercase" data-store-id="' + storeName + '" data-text-content="directions" target="_blank" ';
        item += 'href="https://maps.google.com?saddr=' + sourceAddress + '&daddr=' + destinationAddress + '">';
        item += '<span class="link__text">' + ACC.storefindersw.translationText["storefinder.storelist.directions"] + '</span>';
        item += '<span class="link__icon link__icon--right"></span>';
        item += '</a>';
        item += '</div>';
        item += '</div>';
        return item;
    },
    createDirectionDetailsLink: function() {
        var destination = $(".js-pos-coordinates").data("address");
        destination = destination.split('<br>');
        destination.shift();
        destination.join();
        var link = "https://maps.google.com?saddr=Current Location&daddr=" + destination;
        $(".js-pos-coordinates").attr("href", link);
    },
    createCircle: function(latitude, longitude) {
        if (ACC.storefindersw.circle) {
            ACC.storefindersw.circle.setMap(null);
        }
        ACC.storefindersw.circle = new google.maps.Circle({
            strokeColor: '#c9c9c9',
            strokeOpacity: 0.9,
            strokeWeight: 1.3,
            fillColor: '#c9c9c9',
            fillOpacity: 0.35,
            map: ACC.storefindersw.map,
            center: {
                lat: latitude,
                lng: longitude
            },
            radius: ACC.storefindersw.selectedRadius * 1000
        });
        var targetTide = {
            url: "/_ui/addons/slstorefrontaddon/responsive/common/images/circumcircle_maps.svg",
            origin: new google.maps.Point(0,0),
            anchor: new google.maps.Point(16,16)
        };
        ACC.storefindersw.mapCenterIcon = new google.maps.Marker({
            position: {
                lat: latitude,
                lng: longitude
            },
            map: ACC.storefindersw.map,
            icon: targetTide
        });
        google.maps.event.addListener(ACC.storefindersw.circle, "click", function(e) {
            if (ACC.storefindersw.currentInfoBox) {
                ACC.storefindersw.currentInfoBox.close();
            }
        });
    },
    createMarkers: function() {
        var markers = data.results.map(function(store, i) {
            var marker = ACC.storefindergoogle.createMarker(store.location);
            var info = $('.js-store-list-details:nth-child(' + (2 * i + 1) + ')');
            var myOptions = {
                content: '<div class="store-locator__map-information">' + info.html() + '</div>',
                disableAutoPan: false,
                maxWidth: 0,
                pixelOffset: new google.maps.Size(-12,10),
                zIndex: null,
                closeBoxMargin: "10px 2px 2px 2px",
                closeBoxURL: "",
                infoBoxClearance: new google.maps.Size(1,1),
                isHidden: false,
                pane: "floatPane",
                enableEventPropagation: false
            };
            var ib = new InfoBox(myOptions);
            marker.addListener('click', function(e) {
                if (ACC.storefindersw.currentInfoBox) {
                    ACC.storefindersw.currentInfoBox.close();
                }
                ib.open(ACC.storefindersw.map, marker);
                ACC.storefindersw.currentInfoBox = ib;
            });
            ACC.storefindersw.markers.push(marker);
            google.maps.event.addListener(ACC.storefindersw.map, "click", function(e) {
                if (ACC.storefindersw.currentInfoBox) {
                    ACC.storefindersw.currentInfoBox.close();
                }
            });
            return marker;
        });
        var clusterStyle = [{
            textColor: 'black',
            url: '/_ui/responsive/common/images/maps-pin_empty.png',
            height: 31,
            width: 31,
        }];
        var markerClusterOption = {
            gridSize: 50,
            styles: clusterStyle,
            maxZoom: 15
        };
        ACC.storefindersw.markerCluster = new MarkerClusterer(ACC.storefindersw.map,markers,markerClusterOption);
    },
    createMarker: function(location, addToMap) {
        var image = new google.maps.MarkerImage('/_ui/responsive/common/images/maps-pin_swan.png',new google.maps.Size(31,31));
        if (addToMap) {
            var marker = new google.maps.Marker({
                position: location,
                map: ACC.storefindersw.map,
                icon: image,
            });
        } else {
            var marker = new google.maps.Marker({
                position: location,
                icon: image,
            });
        }
        return marker;
    },
    resizeAndCenterMap: function(coordinates) {
        google.maps.event.trigger(ACC.storefindersw.map, 'resize');
        if (coordinates) {
            ACC.storefindersw.map.panTo(coordinates);
        }
    },
    setZoom: function(zoomLevel) {
        ACC.storefindersw.map.setZoom(zoomLevel);
    },
    initGooglePlaces: function() {
        if (!ACC.storefindergoogle.keyAvailable) {
            return;
        }
        $('head').append('<script src="/_ui/addons/slstorefrontaddon/responsive/common/js/infobox.js"></script>');
        $('head').append('<script src="/_ui/addons/slstorefrontaddon/responsive/common/js/markerclusterer.js"></script>');
        ACC.storefindersw.map = new google.maps.Map(document.getElementsByClassName('map__container')[0],{
            center: {
                lat: 47.293803,
                lng: 11.573407
            },
            zoom: ACC.storefindersw.defaultZoomLevel,
            minZoom: ACC.storefindersw.minZoomLevel,
            styles: ACC.storefindergoogle.mapStyles,
            gestureHandling: "auto",
            streetViewControl: false
        });
        google.maps.event.addListener(ACC.storefindersw.map, 'zoom_changed', function() {
            if (this.zoom == ACC.storefindersw.minZoomLevel) {
                var mapOverlay = '<div class="store-locator__viewer--overlay">';
                mapOverlay += ACC.storefindersw.translationText["storefinder.overlay.zoomin"];
                mapOverlay += '</div>';
                $(".js-map-container>div>div>div:nth-child(1)").append(mapOverlay);
                $(".store-locator__listview").addClass("hidden");
                $(".store-locator__listview-arrow").addClass("hidden");
            } else {
                $(".js-map-container .store-locator__viewer--overlay").remove();
                $(".store-locator__listview").removeClass("hidden");
                $(".store-locator__listview-arrow").removeClass("hidden");
            }
        });
        if (ACC.storefindersw.allBaseStores === true) {
            ACC.storefindersw.autocomplete = new google.maps.places.Autocomplete((document.getElementById('storelocator-query')),{
                types: ['(regions)']
            });
        } else if (ACC.storefindersw.allBaseStores === false) {
            ACC.storefindersw.autocomplete = new google.maps.places.Autocomplete((document.getElementById('storelocator-query')),{
                types: ['(regions)'],
                componentRestrictions: {
                    country: ACC.storefindersw.currentBaseStore
                }
            });
        }
        function onPlaceChanged() {
            var place = ACC.storefindersw.autocomplete.getPlace();
            if (place.geometry) {
                if (place.types.indexOf("country") !== -1) {
                    ACC.storefindersw.showCountrySelected();
                } else {
                    ACC.storefindersw.placesCoords.latitude = place.geometry.location.lat();
                    ACC.storefindersw.placesCoords.longitude = place.geometry.location.lng();
                    ACC.storefindersw.searchStores();
                }
            } else {
                var service = new google.maps.places.AutocompleteService();
                if (ACC.storefindersw.allBaseStores === true) {
                    service.getPredictions({
                        input: $("#storelocator-query").val(),
                        types: ['(regions)']
                    }, ACC.storefindergoogle.getFirstSuggestion);
                } else if (ACC.storefindersw.allBaseStores === false) {
                    service.getPredictions({
                        input: $("#storelocator-query").val(),
                        types: ['(regions)'],
                        componentRestrictions: {
                            country: ACC.storefindersw.currentBaseStore
                        }
                    }, ACC.storefindergoogle.getFirstSuggestion);
                }
            }
        }
        ACC.storefindersw.autocomplete.addListener('place_changed', onPlaceChanged);
        $("#storelocator-query").keydown(function(e) {
            e.stopPropagation();
            if (e.keyCode !== 13) {
                ACC.storefindersw.placesCoords.latitude = null;
                ACC.storefindersw.placesCoords.longitude = null;
            } else {
                return false;
            }
        });
        $("#storelocator-query").keyup(function(e) {
            if (e.keyCode == 13) {
                e.stopPropagation();
                return false;
            }
        });
    },
    getFirstSuggestion: function(predictions, status) {
        if (status != google.maps.places.PlacesServiceStatus.OK) {
            return;
        }
        var service = new google.maps.places.PlacesService(ACC.storefindersw.map);
        service.getDetails(predictions[0], ACC.storefindergoogle.getcoords);
        $("#storelocator-query").val(predictions[0].description);
    },
    getcoords: function(place, status) {
        $("#storelocator-query").val(place.formatted_address);
        if (place.types.indexOf("country") !== -1) {
            ACC.storefindersw.showCountrySelected();
        } else {
            ACC.storefindersw.placesCoords.latitude = place.geometry.location.lat();
            ACC.storefindersw.placesCoords.longitude = place.geometry.location.lng();
            ACC.storefindersw.searchStores();
        }
    },
    clearMarkersAndCircle: function() {
        for (var i = 0; i < ACC.storefindersw.markers.length; i++) {
            ACC.storefindersw.markers[i].setMap(null);
        }
        if (ACC.storefindersw.markerCluster) {
            ACC.storefindersw.markerCluster.clearMarkers();
        }
        if (ACC.storefindersw.circle) {
            ACC.storefindersw.circle.setMap(null);
            ACC.storefindersw.mapCenterIcon.setMap(null);
        }
    }
};

ACC.storefinderbaidu = {
    mapStyles: [{
        "elementType": "geometry",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "elementType": "labels.icon",
        "stylers": [{
            "visibility": "off"
        }]
    }, {
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "elementType": "labels.text.stroke",
        "stylers": [{
            "color": "#f5f5f5"
        }]
    }, {
        "featureType": "administrative.land_parcel",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#bdbdbd"
        }]
    }, {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "poi",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "poi.park",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "road",
        "elementType": "geometry",
        "stylers": [{
            "color": "#ffffff"
        }]
    }, {
        "featureType": "road.arterial",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#757575"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "geometry",
        "stylers": [{
            "color": "#dadada"
        }]
    }, {
        "featureType": "road.highway",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#616161"
        }]
    }, {
        "featureType": "road.local",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }, {
        "featureType": "transit.line",
        "elementType": "geometry",
        "stylers": [{
            "color": "#e5e5e5"
        }]
    }, {
        "featureType": "transit.station",
        "elementType": "geometry",
        "stylers": [{
            "color": "#eeeeee"
        }]
    }, {
        "featureType": "water",
        "elementType": "geometry",
        "stylers": [{
            "color": "#c9c9c9"
        }]
    }, {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [{
            "color": "#9e9e9e"
        }]
    }],
    geocoder: null,
    initBaiduDetailsMap: function() {
        var baiduKey = ACC.addons.slstorefrontaddon.baiduApiBusinessKey ? ACC.addons.slstorefrontaddon.baiduApiBusinessKey : ACC.addons.slstorefrontaddon.baiduApiKey;
        $('head').append('<script class="js-baiduMapsApi" type="text/javascript" src="https://api.map.baidu.com/api?ak=' + baiduKey + '&v=' + ACC.addons.slstorefrontaddon.baiduApiVersion + '&callback=ACC.storedetailssw.setupMap"></script>');
    },
    initBaiduMap: function() {
        var baiduKey = ACC.addons.slstorefrontaddon.baiduApiBusinessKey ? ACC.addons.slstorefrontaddon.baiduApiBusinessKey : ACC.addons.slstorefrontaddon.baiduApiKey;
        var callback = (ACC.storefindersw.storefinderAddonLocation != 'CLICK_AND_RESERVE') ? "&callback=ACC.storefinderbaidu.initBaiduPlaces" : "";
        $('head').append('<script class="js-baiduMapsApi" type="text/javascript" src="https://api.map.baidu.com/api?ak=' + baiduKey + '&v=' + ACC.addons.slstorefrontaddon.baiduApiVersion + callback + '"></script>');
    },
    setupMap: function() {
        var baiduMapContainer = $(".js-store-details-map")[0];
        ACC.storedetailssw.map = new BMap.Map(baiduMapContainer);
        var location = {
            lat: $(".storeDetailsMap").data("lat"),
            lng: $(".storeDetailsMap").data("lng")
        };
        var initialMapCenter = new BMap.Point(location.lng,location.lat);
        ACC.storedetailssw.map.centerAndZoom(initialMapCenter, ACC.storedetailssw.defaultZoomLevel);
        ACC.storedetailssw.map.addControl(new BMap.NavigationControl());
        ACC.storedetailssw.map.enablePinchToZoom();
        ACC.storedetailssw.map.enableScrollWheelZoom();
        var marker = ACC.storefinderbaidu.createMarker(location);
        ACC.storedetailssw.map.addOverlay(marker);
    },
    createDirectionLink: function(sourceAddress, destinationAddress, storeName) {
        var item = "";
        item += '<div class="col-xs-12 information__cell">';
        item += '<div class="link-wrapper">';
        item += '<a class="js-storelocator-store-directions link link--link3 text-uppercase" data-store-id="' + storeName + '" data-text-content="directions" target="_blank" ';
        item += 'href="http://api.map.baidu.com/direction?origin=' + sourceAddress + '|name:开始&destination=' + destinationAddress + '|name:结束&mode=driving&region=西安&output=html"';
        item += '<span class="link__text">' + ACC.storefindersw.translationText["storefinder.storelist.directions"] + '</span>';
        item += '<span class="link__icon link__icon--right"></span>';
        item += '</a>';
        item += '</div>';
        item += '</div>';
        return item;
    },
    createDirectionDetailsLink: function() {
        var lat = $(".js-pos-coordinates").data("lat");
        var lng = $(".js-pos-coordinates").data("lng");
        var destination = "latlng:" + lat + ',' + lng;
        var source = "latlng:" + ACC.storefindersw.coords.latitude + ',' + ACC.storefindersw.coords.longitude;
        var link = "http://api.map.baidu.com/direction?origin=' + source +'|name:开始&destination=' + destination + '|name:结束&mode=driving&region=西安&output=html";
        $(".js-pos-coordinates").attr("href", link);
    },
    createCircle: function(latitude, longitude) {
        var circleCenter = new BMap.Point(longitude,latitude);
        var circleRadius = ACC.storefindersw.selectedRadius * 1000;
        var circleOptions = {
            strokeColor: '#c9c9c9',
            strokeOpacity: 0.9,
            strokeWeight: 1.3,
            fillColor: '#c9c9c9',
            fillOpacity: 0.35
        };
        ACC.storefindersw.circle = new BMap.Circle(circleCenter,circleRadius,circleOptions);
        ACC.storefindersw.map.addOverlay(ACC.storefindersw.circle);
        var targetTide = new BMap.Icon("/_ui/addons/slstorefrontaddon/responsive/common/images/circumcircle_maps.svg",new BMap.Size(16,16));
        ACC.storefindersw.mapCenterIcon = new BMap.Marker(circleCenter);
        ACC.storefindersw.mapCenterIcon.setOffset(new BMap.Size(-12,10));
        ACC.storefindersw.mapCenterIcon.setIcon(targetTide);
        ACC.storefindersw.map.addOverlay(ACC.storefindersw.mapCenterIcon);
    },
    createMarkers: function(data) {
        var markers = data.results.map(function(store, i) {
            var marker = ACC.storefinderbaidu.createMarker(store.location);
            var info = $('.js-store-list-details:nth-child(' + (2 * i + 1) + ')');
            var infoboxContent = '<div class="store-locator__map-information">' + info.html() + '</div>'
            var ib = new BMap.InfoWindow(infoboxContent);
            marker.addEventListener('click', function(e) {
                marker.openInfoWindow(ib);
            });
            ACC.storefindersw.markers.push(marker);
            ACC.storefindersw.map.addOverlay(marker);
        });
    },
    createMarker: function(location) {
        var image = new BMap.Icon('/_ui/responsive/common/images/maps-pin_swan.png',new BMap.Size(31,31));
        var point = new BMap.Point(location.lng,location.lat);
        var marker = new BMap.Marker(point);
        marker.setOffset(new BMap.Size(-12,10));
        marker.setIcon(image);
        return marker;
    },
    resizeAndCenterMap: function(coordinates) {
        setTimeout(function() {
            if (coordinates) {
                var point = new BMap.Point(coordinates.lng,coordinates.lat);
                ACC.storefindersw.map.setCenter(point);
            }
        }, 100);
    },
    setZoom: function(zoomLevel) {
        ACC.storefindersw.map.setZoom(zoomLevel);
    },
    initBaiduPlaces: function() {
        var baiduMapContainer = $(".map__container")[0];
        ACC.storefindersw.map = new BMap.Map(baiduMapContainer)
        ACC.storefindersw.map.setMinZoom(ACC.storefindersw.minZoomLevel);
        var initialMapCenter = new BMap.Point(47.293803,11.573407);
        ACC.storefindersw.map.centerAndZoom(initialMapCenter, ACC.storefindersw.defaultZoomLevel);
        ACC.storefindersw.map.addControl(new BMap.NavigationControl());
        ACC.storefindersw.map.enablePinchToZoom();
        ACC.storefindersw.map.enableScrollWheelZoom();
        ACC.storefinderbaidu.geocoder = new BMap.Geocoder();
        ACC.storefindersw.autocomplete = new BMap.Autocomplete({
            "input": "storelocator-query",
            "types": "city"
        });
        ACC.storefindersw.autocomplete.addEventListener('onconfirm', function(selectedItem) {
            var place = selectedItem.item.value;
            ACC.storefinderbaidu.geocoder.getPoint(place.city, function(point) {
                ACC.storefindersw.placesCoords.latitude = point.lat;
                ACC.storefindersw.placesCoords.longitude = point.lng;
                $("#storelocator-query").val(place.city);
                ACC.storefindersw.searchStores();
            });
        });
        $("#storelocator-query").keydown(function(e) {
            e.stopPropagation();
            if (e.keyCode !== 13) {
                ACC.storefindersw.placesCoords.latitude = null;
                ACC.storefindersw.placesCoords.longitude = null;
            } else {
                return false;
            }
        });
        $("#storelocator-query").keyup(function(e) {
            if (e.keyCode == 13) {
                e.stopPropagation();
                var results = ACC.storefindersw.autocomplete.getResults();
                if (results.zr.length) {
                    var place = results.zr[0];
                    ACC.storefinderbaidu.geocoder.getPoint(place.city, function(point) {
                        ACC.storefindersw.placesCoords.latitude = point.lat;
                        ACC.storefindersw.placesCoords.longitude = point.lng;
                        $("#storelocator-query").val(place.city);
                        ACC.storefindersw.searchStores();
                    });
                }
                return false;
            }
        });
    },
    clearMarkersAndCircle: function() {
        ACC.storefindersw.map.clearOverlays();
        ACC.storefindersw.markers = [];
    }
};

ACC.beswarovski = {
    _autoload: ['bindHideShowBesNewsletterRequest', 'bindHideShowBesNewsletterRequestAction', 'bindBesLoginButton', 'applyReward', 'redeemInStoreReward', 'clickBesMyStoreLink', 'openRedeemRewardByLinkOverlay', 'bindBesRedeemRewardByLinkLogin', 'bindBesCreateAccountForm', 'bindBesRegisterWithMembershipNumberComponent', 'removeBtnClass'],
    registerBesMembershipRequestToggle: $('#longRegistrationFormDefinition_besMembershipRequest'),
    registerBesNewsletterRequestField: 'longRegistrationFormDefinition_besNewsletterRequest',
    bindBesLoginButton: function() {
        $(document).on('click', ".js-bes-login-form .js-button[type='submit']", function(e) {
            e.preventDefault();
            e.stopPropagation();
            var loginForm = $(e.target).closest("form");
            ACC.beswarovski.besLoginFormSubmit(loginForm);
            return false;
        });
        $(document).keydown(function(e) {
            if (e.keyCode == 13 && $(e.target).closest(".js-bes-login-form").length) {
                e.preventDefault();
                e.stopPropagation();
                var loginForm = $(e.target).closest("form");
                ACC.beswarovski.besLoginFormSubmit(loginForm);
                return false;
            }
        })
    },
    besLoginFormSubmit: function($form) {
        $form.on("recaptchaForAjaxDone", function() {
            var formUrl = $($form).attr('action');
            var formData = $($form).serialize();
            var elementToReplace = $($form).closest(".js-bes-login-form");
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    if (typeof response === typeof {}) {
                        window.location.href = response.redirectUrl;
                    } else {
                        $(elementToReplace).html(response);
                    }
                }
            });
        });
        bindReCaptchaAjaxForm($form);
    },
    bindHideShowBesNewsletterRequest: function() {
        var $besMembershipRequestToggle = ACC.beswarovski.registerBesMembershipRequestToggle;
        var $besNewsletterRequestField = ACC.beswarovski.registerBesNewsletterRequestField;
        if (!$besMembershipRequestToggle.is(':checked')) {
            $('label[for=' + $besNewsletterRequestField + '], select#' + $besNewsletterRequestField).hide();
        } else {
            $('label[for=' + $besNewsletterRequestField + '], select#' + $besNewsletterRequestField).show();
        }
    },
    bindHideShowBesNewsletterRequestAction: function() {
        var $besMembershipRequestToggle = ACC.beswarovski.registerBesMembershipRequestToggle;
        $($besMembershipRequestToggle).on('click', function() {
            ACC.beswarovski.bindHideShowBesNewsletterRequest();
        });
    },
    applyReward: function() {
        $(document).on("click", ".js-bes-apply-reward", function(e) {
            e.preventDefault();
            var $this = $(this);
            var rewardType = $this.data("reward-type");
            var url = $this.data("url");
            $.post(url, {
                "rewardType": rewardType
            }, function(response) {
                var data = jQuery.parseJSON(response);
                if (data.success) {
                    var $besRewardComponent = $(".js-bes-rewards-component");
                    $besRewardComponent.replaceWith(data.html);
                    ACC.global.initImager();
                    customComponents();
                } else {
                    ACC.beswarovski.openApplyRewardOverlay(data.html);
                }
            });
        });
    },
    redeemInStoreReward: function() {
        $(document).on("click", ".js-bes-redeem-in-store-reward", function(e) {
            e.preventDefault();
            var $this = $(this);
            var rewardType = $this.data("reward-type");
            var url = $this.data("url");
            $.post(url, {
                "rewardType": rewardType
            }, function(response) {
                var data = jQuery.parseJSON(response);
                ACC.beswarovski.openApplyRewardOverlay(data.html);
            });
        });
    },
    clickBesMyStoreLink: function() {
        $(document).on("click", ".js-bes-my-store", function(e) {
            e.preventDefault();
            swal.closeModal();
            $(".js-my-store-trigger").click();
        });
    },
    openApplyRewardOverlay: function(html) {
        swal({
            html: html,
            showConfirmButton: false,
            showCloseButton: true,
            width: ACC.overlay.overlaySize.full,
            customClass: ACC.overlay.overlayCustomClass.fullOverlayAutoHeight
        });
    },
    openRedeemRewardByLinkOverlay: function() {
        if ($(".js-bes-redeem-reward-by-link-overlay-trigger").length == 1) {
            setTimeout(function() {
                swal.closeModal();
                $(".js-bes-redeem-reward-by-link-overlay-trigger").trigger("click");
            }, 200)
        }
    },
    bindBesRedeemRewardByLinkLogin: function() {
        var besLandingPageLoginComponentSelector = '.js-bes-redeem-reward-by-link-content .js-besLandingPageLoginComponent';
        $(document).on('submit', besLandingPageLoginComponentSelector + ' form', function(e) {
            e.preventDefault();
            e.stopPropagation();
            var form = this;
            var formUrl = $(form).attr('action');
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    if (typeof response === typeof {} && response.loginSuccessful) {
                        var originalReferer = $(besLandingPageLoginComponentSelector).data('original-referer');
                        window.location.href = originalReferer != '' ? originalReferer : response.redirectUrl;
                    } else {
                        $(besLandingPageLoginComponentSelector).html(response);
                    }
                }
            });
            return false;
        });
    },
    bindBesCreateAccountForm: function() {
        $(document).on("click", ".js-sacGuestRegisterForm .js-button", function(e) {
            if ($(".js-besSignupCheckbox:checked").length > 0) {
                $(".js-besTermsAcceptedCheckbox").prop('required', true);
            } else {
                $(".js-besTermsAcceptedCheckbox").prop('required', false);
            }
        });
    },
    bindBesRegisterWithMembershipNumberComponent: function() {
        $(document).on("click", ".js-registerwithmembershipnumbercomponent .js-button", function(event) {
            event.preventDefault();
            var container = $(this).closest(".js-registerwithmembershipnumbercomponent");
            var componentUid = container.attr("data-componentuid");
            var form = $(this).closest("form");
            var formUrl = $(form).find(".js-registerWithMembershipNumberButton").attr("data-action");
            $(form).append($($("<input>").attr("type", "hidden").attr("name", "ajaxParam").val(true)));
            $(form).append($($("<input>").attr("type", "hidden").attr("name", "componentUid").val(componentUid)));
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    var ajaxRedirectUrl = $(response).attr("data-ajaxRedirectUrl");
                    if (ajaxRedirectUrl != undefined && ajaxRedirectUrl) {
                        window.location.href = ajaxRedirectUrl;
                    } else {
                        $(container).replaceWith(response);
                    }
                }
            });
        })
    },
    removeBtnClass: function() {
        $(document).on("click", ".js-upgrade-beswarovski", function() {
            setTimeout(function() {
                $('.swal2-content').find('.hiddenSaveButtonAddressForm').removeClass('col-sm-6 .col-sm-push-3');
            }, 300);
        });
    }
};

ACC.clickandcollect = {
    _autoload: [["init", $(".clickandcollect-translations").length != 0], "setupCheckoutShippingAddressChoiceDeselectEvent", "bindClickAndCollectSelectedOrDeselectedAction"],
    addStoreSelectButton: function(storeIndex) {
        var item = "";
        item += '<div class="information__link">';
        item += '<div class="link-wrapper">';
        item += '<a class="link link--cta link--cta-medium-shopable text-uppercase" onClick="ACC.clickandcollect.selectStore(' + storeIndex + ')">';
        item += '<span class="link__text">' + ACC.clickandcollect.translationText["clickandcollect.storelist.selectStore"] + '</span>';
        item += '</a>';
        item += '</div>';
        item += '</div>';
        return item;
    },
    selectStore: function(storeIndex) {
        var url = $(".ccStoreUrl").data("url");
        var selectedStore = ACC.storefindersw.storeData.results[storeIndex];
        $.ajax({
            url: url,
            type: "post",
            data: {
                storeName: selectedStore.name
            },
            success: function(response) {
                if (ACC.clickandcollect.isCheckoutSummary) {
                    location.reload();
                } else {
                    $(".js-selected-store-info .js-store-name").html(selectedStore.displayName);
                    if (selectedStore.address.formattedAddress) {
                        $(".js-selected-store-info .js-address-line").html(selectedStore.address.formattedAddress);
                    }
                    if (selectedStore.distributionType) {
                        $(".js-selected-store-info .js-distribution-type").html(selectedStore.distributionType);
                    }
                    $("#selectedStoreDetails").removeClass("hidden");
                    $("#storeFinder").addClass("hidden");
                }
                ACC.tracking.pushClickAndCollectSelectedStore(selectedStore.displayName);
            }
        });
        return false;
    },
    bindClickAndCollectSelectedOrDeselectedAction: function() {
        var url = ACC.config.encodedContextPath + "/clickAndCollect/cart/refreshTotals";
        $('input[value="CLICK_AND_COLLECT"].js-checkoutShippingAddressChoice').on('deselect', function() {
            $.postJSON(url, {
                ccSelected: false
            }, ACC.clickandcollect.replaceCartTotals);
        }).on('change', function() {
            $.postJSON(url, {
                ccSelected: true
            }, ACC.clickandcollect.replaceCartTotals);
        });
    },
    replaceCartTotals: function(data) {
        if (data.isCartTotalsRefreshed) {
            $('.js-cart-totals').html(data.cartTotals);
        }
    },
    setupCheckoutShippingAddressChoiceDeselectEvent: function() {
        var selected = {};
        setTimeout(function() {
            $('input[type="radio"].js-checkoutShippingAddressChoice').on('click', function() {
                if (this.name in selected && this != selected[this.name]) {
                    $(selected[this.name]).trigger("deselect");
                }
                selected[this.name] = this;
            }).filter(':checked').each(function() {
                selected[this.name] = this;
            });
        }, 0);
    },
    removeStoreEvent: function() {
        $(document).on("click", ".remove-selected-store", function() {
            $("#selectedStoreDetails").addClass("hidden");
            $("#storeFinder").removeClass("hidden");
            return false;
        });
    },
    loadStoreFinder: function(element) {
        $.ajax({
            url: $(element).data("store-finder-link"),
            type: "get",
            success: function(response) {
                var $checkoutAddress = $(element).closest('.js-checkout-address');
                $checkoutAddress.find('.js-checkout-address-container').html(response);
                $('.js-checkout-address').removeClass('is-open');
                $checkoutAddress.addClass('is-open');
                $checkoutAddress.find(".checkout-address-container>.form-text").addClass("hidden");
                $checkoutAddress.find(".checkout-address-container>.spacer").addClass("hidden");
                $checkoutAddress.find(".js-edit-address-close").on("click", function() {
                    $checkoutAddress.find(".checkout-address-container>.form-text").removeClass("hidden");
                    $checkoutAddress.find(".checkout-address-container>.spacer").removeClass("hidden");
                });
                ACC.storefindersw.init();
                ACC.storefindersw.bindSearch();
                ACC.clickandcollect.init();
            }
        });
        return false;
    },
    init: function() {
        ACC.clickandcollect.isCheckoutSummary = $(".js-storefinder-location").data("is-checkout-summary");
        ACC.clickandcollect.translationText = $(".clickandcollect-translations").html();
        ACC.clickandcollect.translationText = JSON.parse(ACC.clickandcollect.translationText);
        ACC.clickandcollect.removeStoreEvent();
        ACC.register.bindHideShowShippingAddress = function() {
            var $shippingToggle = $("input[name='values[longRegistrationFormDefinition_shippingAddress]']");
            var $hideFields = $('[id^=longRegistrationFormDefinition_shipping]');
            if ($shippingToggle.filter(":checked").val() != 'NEW_ADDRESS') {
                $(".js-storefinder-location").closest(".tab-out-target").removeClass("active");
                for (var i = 0; i < $hideFields.length; i++) {
                    $($hideFields[i]).closest(".row").addClass("hidden");
                }
            } else {
                $(".js-storefinder-location").closest(".tab-out-target").removeClass("active");
                for (var i = 0; i < $hideFields.length; i++) {
                    $($hideFields[i]).closest(".row").removeClass("hidden");
                }
            }
            if ($shippingToggle.filter(":checked").val() == 'CLICK_AND_COLLECT') {
                $(".js-storefinder-location").closest(".tab-out-target").addClass("active");
                ACC.storefindersw.resetStoreFinder();
            }
        }
        ,
        $(document).on("click", "input[value='CLICK_AND_COLLECT']", function() {
            $("#selectedStoreDetails").addClass("hidden");
            $("#storeFinder").removeClass("hidden");
            ACC.storefindersw.resetStoreFinder();
            $(".js-store-locator-map-page").addClass("hidden");
        })
    }
};

ACC.clickandreserve = {
    _autoload: [['init', $('.click-and-reserve-popup').length !== 0], 'bindReserveButton'],
    bindReserveButton: function() {
        $(document).on("click", '.form-clickreserve-noaddress_action .form-submit button[type="button"]', function(event) {
            event.preventDefault();
            var reserveButton = $(this);
            reserveButton.prop('disabled', true);
            var form = $(".cr-userFormContainer .js-configurable-form");
            form.formValidation('validate');
            if (ACC.forms.hasValidationErrors(form)) {
                reserveButton.prop('disabled', false);
                return false;
            }
            var formUrl = $(reserveButton).data('action');
            var formData = $(form).serialize();
            $.post({
                url: formUrl,
                data: formData,
                success: function(response) {
                    reserveButton.prop('disabled', false);
                    $(".cr-userFormContainer").html(response);
                    if (response.indexOf("<form") === -1) {
                        $(".cr-selectedStoreContainer").addClass("hidden");
                        ACC.storedetailssw.setupMap();
                        ACC.storedetailssw.highlightDay();
                    } else {
                        ACC.configurableForm.init();
                    }
                    ACC.clickandreserve.scrollLayerToTop();
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    reserveButton.prop('disabled', false);
                }
            });
            ACC.tracking.pushClickAndReserveConfirmReservation($('.js-storelocator-store-details').data('store-id'));
        });
    },
    scrollLayerToTop: function() {
        $('.swal2-popup .swal2-content').animate({
            scrollTop: ($('.click-reserve_overview').first().offset().top)
        }, 500);
    },
    addStoreSelectButton: function(storeIndex) {
        var item = "";
        item += '<div class="link-wrapper">';
        item += '<a class="link link--cta link--cta-medium-shopable text-uppercase ccselectstore" data-text-content="Store Select" onClick="ACC.clickandreserve.selectStore(' + storeIndex + ')">';
        item += '<span class="link__text">' + ACC.clickandreserve.translationText["clickandreserve.storelist.selectStore"] + '</span>';
        item += '</a>';
        item += '</div>';
        return item;
    },
    addShopOnlineButton: function(storeIndex) {
        var item = "";
        item += '<div class="link-wrapper">';
        item += '<a class="link link--cta link--cta-medium-shopable text-uppercase ccselectstore" data-text-content="Purchase Online" onClick="ACC.clickandreserve.purchaseOnline()">';
        item += '<span class="link__text">' + ACC.clickandreserve.translationText["clickandreserve.storelist.purchaseonline"] + '</span>';
        item += '</a>';
        item += '</div>';
        return item;
    },
    purchaseOnline: function() {
        $("#swal2-content").find(".js-form-popup-close").trigger("click");
    },
    selectStore: function(storeIndex) {
        var selectedStore = ACC.storefindersw.storeData.results[storeIndex];
        $("#storeFinder").addClass("hidden");
        $(".cr-selectedStoreContainer").removeClass("hidden");
        $(".cr-userFormContainer").removeClass("hidden");
        $(".cr-selectedStoreContainer .js-store-name").html(selectedStore.displayName);
        $(".cr-selectedStoreContainer .js-store-type").html(selectedStore.distributionType);
        $(".cr-selectedStoreContainer .js-store-address").html(selectedStore.address.formattedAddress);
        var today = new Date();
        var openingHoursObject = "";
        openingHoursObject += '<div class="headline headline--hl16">';
        openingHoursObject += ACC.storefindersw.translationText["storefinder.storelist.opening_hours"];
        openingHoursObject += '</div>';
        if (selectedStore.openingHours) {
            for (var i = 0; i < selectedStore.openingHours.weekDayOpeningList.length; i++) {
                var dailySchedule = "";
                var highlightDay = "";
                if (selectedStore.openingHours.weekDayOpeningList[i].closed === false) {
                    var language = ACC.config.encodedContextPath.substr(1);
                    var locale = ACC.common.getJSLocaleFromLanguage(language);
                    if (selectedStore.openingHours.weekDayOpeningList[i].weekDay === today.toLocaleString(locale, {
                        weekday: 'short'
                    })) {
                        highlightDay = "highlighted";
                    }
                    dailySchedule = '<span class="openingCell ' + highlightDay + '">';
                    dailySchedule += selectedStore.openingHours.weekDayOpeningList[i].weekDay + ":";
                    dailySchedule += '</span>';
                    for (var j = 0; j < selectedStore.openingHours.weekDayOpeningList[i].openingHoursList.length; j++) {
                        dailySchedule += j ? '<span class="openingCell ' + highlightDay + '">, </span>' : "";
                        dailySchedule += '<span class="openingCell ' + highlightDay + '">' + selectedStore.openingHours.weekDayOpeningList[i].openingHoursList[j].openingTime.formattedHour + '-' + selectedStore.openingHours.weekDayOpeningList[i].openingHoursList[j].closingTime.formattedHour + '</span>';
                    }
                    openingHoursObject += '<div class="openingRow openingRow--click-and-reserve text text--copy17">' + dailySchedule + '</div>';
                }
            }
        }
        $(".cr-selectedStoreContainer .js-store-opening-hours").html(openingHoursObject);
        $(".cr-selectedStoreContainer .js-store-phone").html(selectedStore.address.phone);
        $("#reservationFormDefinition_store").val(selectedStore.name);
        ACC.tracking.pushClickAndReserveSelectedStore(selectedStore.name);
        ACC.clickandreserve.scrollLayerToTop();
        ACC.clickandreserve.addTaboutEvents();
    },
    addTaboutEvents: function() {
        $(document).on("change", "input[name=personalData]", function() {
            if ($(this).val() == "anonymous") {
                $(".tab-out-target:not(.cr-login-form)").addClass("active");
                $(".tab-out-target.cr-login-form").removeClass("active");
            } else {
                $(".tab-out-target:not(.cr-login-form)").removeClass("active");
                $(".tab-out-target.cr-login-form").addClass("active");
            }
        });
    },
    removeStoreEvent: function() {
        $(document).on("click", ".js-remove-selected-store", function() {
            $("#storeFinder").removeClass("hidden");
            $(".cr-selectedStoreContainer").addClass("hidden");
            $(".cr-userFormContainer").addClass("hidden");
            return false;
        });
    },
    getLoginAndRegister: function() {
        $(document).on("click", ".js-click-and-reserve-popup-button", function() {
            setTimeout(function() {
                if (ACC.storefindersw.isChinaStorefinder) {
                    ACC.storefinderbaidu.initBaiduPlaces();
                } else {
                    ACC.storefindergoogle.initGooglePlaces();
                }
                $(".js-store-locator-map-page").addClass("hidden");
                $("#storeFinder").removeClass("hidden");
                $(".cr-selectedStoreContainer").addClass("hidden");
                $(".cr-userFormContainer").addClass("hidden");
                ACC.storefindersw.resetStoreFinder();
                $.ajax({
                    url: ACC.config.encodedContextPath + "/cr/getReservationForm/",
                    method: "get",
                    data: {
                        productCode: $(".js-click-and-reserve-popup-button").data("product-code")
                    },
                    success: function(response) {
                        $(".cr-userFormContainer").html(response);
                        ACC.configurableForm.init();
                        $(".tab-out.js-tab-out").each(function() {
                            new TabOut({
                                container: this
                            });
                        });
                        $(document).off('submit', ".cr-login-form");
                        $(document).on('submit', ".cr-login-form", function(e) {
                            e.preventDefault();
                            e.stopPropagation();
                            var form = $("#loginForm");
                            var loginForm = $("#loginForm");
                            ACC.clickandreserve.crLoginFormSubmit(loginForm);
                            return false;
                        });
                    }
                });
                $(".swal2-popup").css("height", "95%");
                $('body').css("top", "0");
            }, 200);
        });
    },
    crLoginFormSubmit: function($form) {
        $form.on("recaptchaForAjaxDone", function() {
            var formUrl = $($form).attr('action');
            var formData = $($form).serialize();
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    if (typeof response === typeof {}) {
                        ACC.clickandreserve.autocompleteUserLoggedIn(response);
                    } else {
                        $(".cr-login-form").html(response);
                    }
                }
            });
        });
        bindReCaptchaAjaxForm($form);
    },
    autocompleteUserLoggedIn: function(userData) {
        $("input[name='values[reservationFormDefinition_firstName]']").val(userData.firstName);
        $("input[name='values[reservationFormDefinition_lastName]']").val(userData.lastName);
        $("input[name='values[reservationFormDefinition_email]']").val(userData.email);
        $("input[name='values[reservationFormDefinition_phoneCountry]").val(userData.phoneCountry);
        $("#reservationFormDefinition_phone").intlTelInput("setNumber", "+" + userData.callingCode + userData.phone);
        var userDetails = "";
        userDetails += '<div class="text text--copy2">';
        userDetails += userData.title;
        userDetails += '</div>';
        userDetails += '<div class="text text--copy2">';
        userDetails += userData.firstName + ' ' + userData.lastName;
        userDetails += '</div>';
        userDetails += '<div class="text text--copy2">';
        userDetails += userData.email;
        userDetails += '</div>';
        userDetails += '<div class="text text--copy2">';
        userDetails += "+" + userData.callingCode + userData.phone;
        userDetails += '</div>';
        $(".cr-login-form").html(userDetails);
        $(".requestReservationButton").clone().appendTo(".cr-login-form");
    },
    init: function() {
        var popup = $(".click-and-reserve-popup").detach();
        $("main").append(popup);
        $(".click-and-reserve-popup .js-lazyload").addClass("article-img");
        $(document).on("click", ".js-continueShopping", function() {
            ACC.clickandreserve.purchaseOnline();
        });
        ACC.clickandreserve.translationText = $(".clickandreserve-translations").html();
        ACC.clickandreserve.translationText = JSON.parse(ACC.clickandreserve.translationText);
        ACC.clickandreserve.removeStoreEvent();
        ACC.clickandreserve.getLoginAndRegister();
    }
};

ACC.scs = {
    _autoload: [['bindScsLoginButton', $('.js-add-to-cart').length != 0 || $('.js-scs-configurator-container').length != 0], ['bindScsMemberWithoutOnlineAccountCheckbox', $('.js-add-to-cart').length != 0], ['bindScsConfigurator', $('.js-scs-configurator-container').length != 0], ['bindScsLoginConfigurator', $('.js-scs-configurator-container').length != 0], ['bindScsConfiguratorInit', $('.js-scs-configurator-init-flow').length != 0], ['bindAjaxEnrichmentForm', $('.js-add-to-cart').length != 0 || $('.js-scs-enrichment-ajax').length != 0], 'bindScsGiftMembershipReceiverDetailsForm', 'bindscsGiftMembershipReceiverDetailsFormSubmitButton', 'bindScsRegisterCustomerFormSubmitButton', 'bindScsMemberLoginFirstTimeOnlineCheckbox', 'bindScsMemberAreaTeaserLoadMoreButton', 'maxLengthInputLimit'],
    bindScsLoginButton: function() {
        $(document).on('click', ".js-scs-login-form .js-button[type='submit']", function(e) {
            e.preventDefault();
            e.stopPropagation();
            var loginForm = $("#loginForm");
            ACC.scs.scsLoginFormSubmit(loginForm);
            return false;
        });
        $(document).keydown(function(e) {
            if (e.keyCode == 13 && $(e.target).closest(".js-scs-login-form").length) {
                e.preventDefault();
                e.stopPropagation();
                var loginForm = $(e.target).closest("form");
                ACC.scs.scsLoginFormSubmit(loginForm);
                return false;
            }
        });
    },
    scsLoginFormSubmit: function($form) {
        $form.on("recaptchaForAjaxDone", function() {
            var formUrl = $($form).attr('action');
            var formData = $($form).serialize();
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    if (typeof response === typeof {}) {
                        if (($scConfiguratorForm = $('.js-scs-login-configurator-form')).length > 0) {
                            $scConfiguratorForm.submit();
                        } else {
                            $(".js-overlay-addToCart").find(".js-form-popup-close").click();
                            $('.add_to_cart_form').submit();
                        }
                    } else {
                        $(".js-scs-login-form").html(response);
                    }
                }
            });
        });
        bindReCaptchaAjaxForm($form);
    },
    bindScsMemberAreaTeaserLoadMoreButton: function() {
        $(document).on('click', '.js-teaser-small-load-more', function() {
            var url = $('.js-teaser-small-load-more').attr('data-url');
            $.ajax({
                url: url,
                method: "GET",
                success: function(response) {
                    $(".js-teaser-small-load-more-enabled-items").html(response);
                    var target = $(".js-teaser-load-more-scroll-to");
                    if (target.length) {
                        $('html, body').animate({
                            scrollTop: target.offset().top
                        }, 0);
                    }
                }
            });
            return false;
        })
    },
    bindScsMemberWithoutOnlineAccountCheckbox: function() {
        $(document).on('change', ".scs-member-without-account input[type='checkbox'][name=scsOfflineMember]", function() {
            if (this.checked) {
                $('.js-scs-login-form').fadeOut('slow');
            } else {
                $('.js-scs-login-form').fadeIn('slow');
            }
        });
    },
    bindScsLoginConfigurator: function() {
        ACC.scs.bindConfigurator(".js-scs-login-configurator-form");
    },
    bindScsConfigurator: function() {
        ACC.scs.bindConfigurator(".js-scs-configurator-form");
    },
    bindConfigurator: function(cssClass) {
        $(document).on('submit', cssClass, function(e) {
            e.preventDefault();
            var form = this;
            var formUrl = $(form).attr('action');
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl,
                method: "post",
                data: formData,
                success: function(response) {
                    if (typeof response !== typeof {}) {
                        $(".js-scs-configurator-container").html(response);
                        if ($(response).find(".js-configurable-form").length > 0) {
                            ACC.configurableForm.init();
                            ACC.scs.bindscsGiftMembershipReceiverDetailsFormSubmitButton();
                            ACC.scs.bindScsGiftMembershipReceiverDetailsForm();
                            ACC.scs.bindScsRegisterCustomerDetailsForm();
                            ACC.scs.bindScsRegisterCustomerFormSubmitButton();
                            ACC.register.init();
                        }
                    }
                }
            });
            return false;
        });
        ACC.scs.bindScsConfiguratorLinks();
    },
    bindScsGiftMembershipReceiverDetailsForm: function() {
        $(document).on('submit', ".js-scsGiftMembershipReceiverDetailsFormDefinition", function(e) {
            e.preventDefault();
            var form = this;
            var formConfig = $(".js-scsGiftMembershipReceiverDetailsFormContainer .js-scsGiftMembershipReceiverDetailsFormConfig");
            var eventId = formConfig.attr("data-eventId");
            var flowExecutionKey = formConfig.attr("data-flowExecutionKey");
            var formUrl = formConfig.attr("data-action");
            ACC.scs.addHiddenInputToForm("eventId", eventId, form);
            ACC.scs.addHiddenInputToForm("flowExecutionKey", flowExecutionKey, form);
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl,
                method: "post",
                data: formData,
                success: function(response) {
                    if (typeof response !== typeof {}) {
                        $(".js-scs-configurator-container").html(response);
                        if ($(response).find(".js-configurable-form").length > 0) {
                            ACC.configurableForm.init();
                            ACC.scs.bindscsGiftMembershipReceiverDetailsFormSubmitButton();
                            ACC.scs.bindScsGiftMembershipReceiverDetailsForm();
                        }
                    }
                }
            });
            return false;
        });
    },
    bindScsRegisterCustomerDetailsForm: function() {
        $(document).off('submit', ".js-longRegistrationFormDefinition").on('submit', ".js-longRegistrationFormDefinition", function(e) {
            e.preventDefault();
            e.stopPropagation();
            $('.js-scsRegisterCustomerFormSubmit').click();
            return false;
        });
    },
    bindscsGiftMembershipReceiverDetailsFormSubmitButton: function() {
        $(document).on('click', '.js-scsGiftMembershipReceiverDetailsFormSubmit', function(event) {
            event.preventDefault();
            var submitButton = $(".js-scsGiftMembershipReceiverDetailsFormContainer").find("form .form-submit__submit");
            $(submitButton).trigger("click");
        });
    },
    bindScsRegisterCustomerFormSubmitButton: function() {
        $(document).off('click', '.js-scsRegisterCustomerFormSubmit').on('click', '.js-scsRegisterCustomerFormSubmit', function(e) {
            e.preventDefault();
            e.stopPropagation();
            $(document).off('click', '.js-scsRegisterCustomerFormSubmit');
            var form = $("[id$='-longRegistrationFormConfig']");
            var formUrl = $('.js-scsRegisterCustomerFormContainer').data('registration');
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl,
                method: "POST",
                data: formData,
                success: function(response) {
                    ACC.scs.bindScsRegisterCustomerFormSubmitButton();
                    if (typeof response === typeof {}) {
                        $('.js-scs-configurator-form').submit();
                    } else {
                        $(".js-scsRegisterCustomerFormContainer").html(response);
                        if ($(response).find(".js-configurable-form").length > 0) {
                            ACC.configurableForm.init();
                            ACC.scs.bindScsRegisterCustomerDetailsForm();
                            ACC.register.init();
                        }
                    }
                },
                error: function(request, status, error) {
                    ACC.scs.bindScsRegisterCustomerFormSubmitButton();
                }
            });
            return false;
        });
    },
    addHiddenInputToForm: function(inputName, inputValue, form) {
        $('<input />').attr('type', 'hidden').attr('name', inputName).attr('value', inputValue).appendTo(form);
    },
    bindScsConfiguratorLinks: function() {
        $(document).on('click', 'a.js-link-scs-configurator', function(e) {
            e.preventDefault();
            var url = this.href;
            $(".js-scs-configurator-container").load(url, function(message) {
                if (url.indexOf("addToShoppingBag")) {
                    setTimeout(function() {
                        new fullOverlay($(".js-scs-configurator-overlay"));
                        $($(".js-scs-configurator-overlay")[0]).click();
                    }, 1000);
                }
            });
        });
    },
    bindScsConfiguratorInit: function() {
        var flowUrl = $('.js-scs-configurator-init-flow').data('flow-url');
        $(".js-scs-configurator-container").load(flowUrl);
    },
    bindScsMemberLoginFirstTimeOnlineCheckbox: function() {
        $(document).on("change", ".js-scsMemberLoginFirstTimeOnlineCheckbox", function() {
            $(".js-scsMemberLoginForm").toggleClass("hidden");
            $(".js-scsMemberLoginPageRegisterWithMembershipNumber").toggleClass("hidden");
        });
    },
    maxLengthInputLimit: function() {
        $(document).on('keypress', '.js-form-scs-number__prefix .js-genericFormField ', function() {
            if ($(this).val().length > 2) {
                return false;
            }
        });
    },
    bindAjaxEnrichmentForm: function() {
        $(document).on('click', ".js-scs-enrichment-ajax .js-button[type='submit']", function(e) {
            e.preventDefault();
            e.stopPropagation();
            var form = $('.js-scs-enrichment-ajax').find('.js-configurable-form');
            var formUrl = $(form).find('.js-button').data('action');
            var formData = $(form).serialize();
            $.ajax({
                url: formUrl + "ajax",
                method: "POST",
                data: formData,
                success: function(response) {
                    if (typeof response === typeof {}) {
                        $(".js-overlay-addToCart").find(".js-form-popup-close").click();
                        $('.add_to_cart_form').submit();
                    } else {
                        $(".js-scs-enrichment-ajax .js-configurable-form-wrapper").html(response);
                    }
                }
            });
            return false;
        });
    }
};
;